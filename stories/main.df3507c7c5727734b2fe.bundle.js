(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("ERkP")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"E",(function(){return getRelativeMouse})),__webpack_require__.d(__webpack_exports__,"Z",(function(){return makeSafeForCSS})),__webpack_require__.d(__webpack_exports__,"q",(function(){return entityNameForMap})),__webpack_require__.d(__webpack_exports__,"A",(function(){return formatDay})),__webpack_require__.d(__webpack_exports__,"C",(function(){return formatYear})),__webpack_require__.d(__webpack_exports__,"Ab",(function(){return roundSigFig})),__webpack_require__.d(__webpack_exports__,"B",(function(){return formatValue})),__webpack_require__.d(__webpack_exports__,"l",(function(){return defaultTo})),__webpack_require__.d(__webpack_exports__,"x",(function(){return first})),__webpack_require__.d(__webpack_exports__,"V",(function(){return last})),__webpack_require__.d(__webpack_exports__,"s",(function(){return excludeUndefined})),__webpack_require__.d(__webpack_exports__,"y",(function(){return firstOfNonEmptyArray})),__webpack_require__.d(__webpack_exports__,"W",(function(){return lastOfNonEmptyArray})),__webpack_require__.d(__webpack_exports__,"jb",(function(){return next})),__webpack_require__.d(__webpack_exports__,"ub",(function(){return previous})),__webpack_require__.d(__webpack_exports__,"p",(function(){return domainExtent})),__webpack_require__.d(__webpack_exports__,"b",(function(){return cagr})),__webpack_require__.d(__webpack_exports__,"wb",(function(){return relativeMinAndMax})),__webpack_require__.d(__webpack_exports__,"Db",(function(){return slugify})),__webpack_require__.d(__webpack_exports__,"Eb",(function(){return slugifySameCase})),__webpack_require__.d(__webpack_exports__,"H",(function(){return guid})),__webpack_require__.d(__webpack_exports__,"tb",(function(){return pointsToPath})),__webpack_require__.d(__webpack_exports__,"Ib",(function(){return sortedFindClosestIndex})),__webpack_require__.d(__webpack_exports__,"Q",(function(){return isMobile})),__webpack_require__.d(__webpack_exports__,"T",(function(){return isTouchDevice})),__webpack_require__.d(__webpack_exports__,"i",(function(){return csvEscape})),__webpack_require__.d(__webpack_exports__,"Cb",(function(){return sign})),__webpack_require__.d(__webpack_exports__,"Sb",(function(){return trimObject})),__webpack_require__.d(__webpack_exports__,"v",(function(){return fetchText})),__webpack_require__.d(__webpack_exports__,"u",(function(){return fetchJSON})),__webpack_require__.d(__webpack_exports__,"Lb",(function(){return stripHTML})),__webpack_require__.d(__webpack_exports__,"w",(function(){return findClosestTime})),__webpack_require__.d(__webpack_exports__,"r",(function(){return es6mapValues})),__webpack_require__.d(__webpack_exports__,"Yb",(function(){return valuesByEntityAtTimes})),__webpack_require__.d(__webpack_exports__,"Zb",(function(){return valuesByEntityWithinTimes})),__webpack_require__.d(__webpack_exports__,"F",(function(){return getStartEndValues})),__webpack_require__.d(__webpack_exports__,"j",(function(){return dateDiffInDays})),__webpack_require__.d(__webpack_exports__,"n",(function(){return diffDateISOStringInDays})),__webpack_require__.d(__webpack_exports__,"xb",(function(){return retryPromise})),__webpack_require__.d(__webpack_exports__,"qb",(function(){return parseIntOrUndefined})),__webpack_require__.d(__webpack_exports__,"ob",(function(){return parseDelimited})),__webpack_require__.d(__webpack_exports__,"m",(function(){return detectDelimiter})),__webpack_require__.d(__webpack_exports__,"N",(function(){return isCellEmpty})),__webpack_require__.d(__webpack_exports__,"a",(function(){return anyToString})),__webpack_require__.d(__webpack_exports__,"Rb",(function(){return trimGrid})),__webpack_require__.d(__webpack_exports__,"pb",(function(){return parseFloatOrUndefined})),__webpack_require__.d(__webpack_exports__,"g",(function(){return computeRollingAverage})),__webpack_require__.d(__webpack_exports__,"K",(function(){return insertMissingValuePlaceholders})),__webpack_require__.d(__webpack_exports__,"Bb",(function(){return scrollIntoViewIfNeeded})),__webpack_require__.d(__webpack_exports__,"zb",(function(){return rollingMap})),__webpack_require__.d(__webpack_exports__,"X",(function(){return linkify})),__webpack_require__.d(__webpack_exports__,"mb",(function(){return oneOf})),__webpack_require__.d(__webpack_exports__,"M",(function(){return intersectionOfSets})),__webpack_require__.d(__webpack_exports__,"Gb",(function(){return sortByUndefinedLast})),__webpack_require__.d(__webpack_exports__,"D",(function(){return getErrorMessageRelatedQuestionUrl})),__webpack_require__.d(__webpack_exports__,"gb",(function(){return mergeQueryStr})),__webpack_require__.d(__webpack_exports__,"cb",(function(){return mapNullToUndefined})),__webpack_require__.d(__webpack_exports__,"Y",(function(){return lowerCaseFirstLetterUnlessAbbreviation})),__webpack_require__.d(__webpack_exports__,"Hb",(function(){return sortNumeric}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(97),__webpack_require__(31),__webpack_require__(19),__webpack_require__(30),__webpack_require__(43),__webpack_require__(32),__webpack_require__(14),__webpack_require__(46),__webpack_require__(21),__webpack_require__(26),__webpack_require__(12),__webpack_require__(23),__webpack_require__(60),__webpack_require__(352),__webpack_require__(859),__webpack_require__(11),__webpack_require__(7),__webpack_require__(8),__webpack_require__(75),__webpack_require__(96),__webpack_require__(34),__webpack_require__(16),__webpack_require__(72),__webpack_require__(45),__webpack_require__(13),__webpack_require__(80),__webpack_require__(52),__webpack_require__(53),__webpack_require__(104),__webpack_require__(20),__webpack_require__(15),__webpack_require__(94);var lodash_assign__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(574),lodash_assign__WEBPACK_IMPORTED_MODULE_36___default=__webpack_require__.n(lodash_assign__WEBPACK_IMPORTED_MODULE_36__),lodash_capitalize__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(357),lodash_capitalize__WEBPACK_IMPORTED_MODULE_37___default=__webpack_require__.n(lodash_capitalize__WEBPACK_IMPORTED_MODULE_37__);__webpack_require__.d(__webpack_exports__,"c",(function(){return lodash_capitalize__WEBPACK_IMPORTED_MODULE_37___default.a}));var lodash_clone__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(358),lodash_clone__WEBPACK_IMPORTED_MODULE_38___default=__webpack_require__.n(lodash_clone__WEBPACK_IMPORTED_MODULE_38__);__webpack_require__.d(__webpack_exports__,"d",(function(){return lodash_clone__WEBPACK_IMPORTED_MODULE_38___default.a}));var lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__(360),lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_39___default=__webpack_require__.n(lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_39__);__webpack_require__.d(__webpack_exports__,"e",(function(){return lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_39___default.a}));var lodash_compact__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__(361),lodash_compact__WEBPACK_IMPORTED_MODULE_40___default=__webpack_require__.n(lodash_compact__WEBPACK_IMPORTED_MODULE_40__);__webpack_require__.d(__webpack_exports__,"f",(function(){return lodash_compact__WEBPACK_IMPORTED_MODULE_40___default.a}));var lodash_countBy__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__(362),lodash_countBy__WEBPACK_IMPORTED_MODULE_41___default=__webpack_require__.n(lodash_countBy__WEBPACK_IMPORTED_MODULE_41__);__webpack_require__.d(__webpack_exports__,"h",(function(){return lodash_countBy__WEBPACK_IMPORTED_MODULE_41___default.a}));var lodash_debounce__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__(363),lodash_debounce__WEBPACK_IMPORTED_MODULE_42___default=__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_42__);__webpack_require__.d(__webpack_exports__,"k",(function(){return lodash_debounce__WEBPACK_IMPORTED_MODULE_42___default.a}));var lodash_difference__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__(364),lodash_difference__WEBPACK_IMPORTED_MODULE_43___default=__webpack_require__.n(lodash_difference__WEBPACK_IMPORTED_MODULE_43__);__webpack_require__.d(__webpack_exports__,"o",(function(){return lodash_difference__WEBPACK_IMPORTED_MODULE_43___default.a}));var lodash_extend__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__(369),lodash_extend__WEBPACK_IMPORTED_MODULE_44___default=__webpack_require__.n(lodash_extend__WEBPACK_IMPORTED_MODULE_44__);__webpack_require__.d(__webpack_exports__,"t",(function(){return lodash_extend__WEBPACK_IMPORTED_MODULE_44___default.a}));var lodash_flatten__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__(370),lodash_flatten__WEBPACK_IMPORTED_MODULE_45___default=__webpack_require__.n(lodash_flatten__WEBPACK_IMPORTED_MODULE_45__);__webpack_require__.d(__webpack_exports__,"z",(function(){return lodash_flatten__WEBPACK_IMPORTED_MODULE_45___default.a}));__webpack_require__(371);var lodash_groupBy__WEBPACK_IMPORTED_MODULE_47__=__webpack_require__(372),lodash_groupBy__WEBPACK_IMPORTED_MODULE_47___default=__webpack_require__.n(lodash_groupBy__WEBPACK_IMPORTED_MODULE_47__);__webpack_require__.d(__webpack_exports__,"G",(function(){return lodash_groupBy__WEBPACK_IMPORTED_MODULE_47___default.a}));var lodash_has__WEBPACK_IMPORTED_MODULE_48__=__webpack_require__(373),lodash_has__WEBPACK_IMPORTED_MODULE_48___default=__webpack_require__.n(lodash_has__WEBPACK_IMPORTED_MODULE_48__);__webpack_require__.d(__webpack_exports__,"I",(function(){return lodash_has__WEBPACK_IMPORTED_MODULE_48___default.a}));var lodash_identity__WEBPACK_IMPORTED_MODULE_49__=__webpack_require__(132),lodash_identity__WEBPACK_IMPORTED_MODULE_49___default=__webpack_require__.n(lodash_identity__WEBPACK_IMPORTED_MODULE_49__);__webpack_require__.d(__webpack_exports__,"J",(function(){return lodash_identity__WEBPACK_IMPORTED_MODULE_49___default.a}));var lodash_intersection__WEBPACK_IMPORTED_MODULE_50__=__webpack_require__(374),lodash_intersection__WEBPACK_IMPORTED_MODULE_50___default=__webpack_require__.n(lodash_intersection__WEBPACK_IMPORTED_MODULE_50__);__webpack_require__.d(__webpack_exports__,"L",(function(){return lodash_intersection__WEBPACK_IMPORTED_MODULE_50___default.a}));var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_51__=__webpack_require__(286),lodash_isEmpty__WEBPACK_IMPORTED_MODULE_51___default=__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_51__);__webpack_require__.d(__webpack_exports__,"O",(function(){return lodash_isEmpty__WEBPACK_IMPORTED_MODULE_51___default.a}));var lodash_isEqual__WEBPACK_IMPORTED_MODULE_52__=__webpack_require__(376),lodash_isEqual__WEBPACK_IMPORTED_MODULE_52___default=__webpack_require__.n(lodash_isEqual__WEBPACK_IMPORTED_MODULE_52__);__webpack_require__.d(__webpack_exports__,"P",(function(){return lodash_isEqual__WEBPACK_IMPORTED_MODULE_52___default.a}));var lodash_isNumber__WEBPACK_IMPORTED_MODULE_53__=__webpack_require__(377),lodash_isNumber__WEBPACK_IMPORTED_MODULE_53___default=__webpack_require__.n(lodash_isNumber__WEBPACK_IMPORTED_MODULE_53__);__webpack_require__.d(__webpack_exports__,"R",(function(){return lodash_isNumber__WEBPACK_IMPORTED_MODULE_53___default.a}));var lodash_isString__WEBPACK_IMPORTED_MODULE_54__=__webpack_require__(205),lodash_isString__WEBPACK_IMPORTED_MODULE_54___default=__webpack_require__.n(lodash_isString__WEBPACK_IMPORTED_MODULE_54__);__webpack_require__.d(__webpack_exports__,"S",(function(){return lodash_isString__WEBPACK_IMPORTED_MODULE_54___default.a}));var lodash_keyBy__WEBPACK_IMPORTED_MODULE_55__=__webpack_require__(378),lodash_keyBy__WEBPACK_IMPORTED_MODULE_55___default=__webpack_require__.n(lodash_keyBy__WEBPACK_IMPORTED_MODULE_55__);__webpack_require__.d(__webpack_exports__,"U",(function(){return lodash_keyBy__WEBPACK_IMPORTED_MODULE_55___default.a}));var lodash_map__WEBPACK_IMPORTED_MODULE_56__=__webpack_require__(379),lodash_map__WEBPACK_IMPORTED_MODULE_56___default=__webpack_require__.n(lodash_map__WEBPACK_IMPORTED_MODULE_56__);__webpack_require__.d(__webpack_exports__,"ab",(function(){return lodash_map__WEBPACK_IMPORTED_MODULE_56___default.a}));var lodash_mapKeys__WEBPACK_IMPORTED_MODULE_57__=__webpack_require__(380),lodash_mapKeys__WEBPACK_IMPORTED_MODULE_57___default=__webpack_require__.n(lodash_mapKeys__WEBPACK_IMPORTED_MODULE_57__);__webpack_require__.d(__webpack_exports__,"bb",(function(){return lodash_mapKeys__WEBPACK_IMPORTED_MODULE_57___default.a}));var lodash_max__WEBPACK_IMPORTED_MODULE_58__=__webpack_require__(287),lodash_max__WEBPACK_IMPORTED_MODULE_58___default=__webpack_require__.n(lodash_max__WEBPACK_IMPORTED_MODULE_58__);__webpack_require__.d(__webpack_exports__,"db",(function(){return lodash_max__WEBPACK_IMPORTED_MODULE_58___default.a}));var lodash_maxBy__WEBPACK_IMPORTED_MODULE_59__=__webpack_require__(288),lodash_maxBy__WEBPACK_IMPORTED_MODULE_59___default=__webpack_require__.n(lodash_maxBy__WEBPACK_IMPORTED_MODULE_59__);__webpack_require__.d(__webpack_exports__,"eb",(function(){return lodash_maxBy__WEBPACK_IMPORTED_MODULE_59___default.a}));var lodash_memoize__WEBPACK_IMPORTED_MODULE_60__=__webpack_require__(383),lodash_memoize__WEBPACK_IMPORTED_MODULE_60___default=__webpack_require__.n(lodash_memoize__WEBPACK_IMPORTED_MODULE_60__);__webpack_require__.d(__webpack_exports__,"fb",(function(){return lodash_memoize__WEBPACK_IMPORTED_MODULE_60___default.a}));var lodash_min__WEBPACK_IMPORTED_MODULE_61__=__webpack_require__(289),lodash_min__WEBPACK_IMPORTED_MODULE_61___default=__webpack_require__.n(lodash_min__WEBPACK_IMPORTED_MODULE_61__);__webpack_require__.d(__webpack_exports__,"hb",(function(){return lodash_min__WEBPACK_IMPORTED_MODULE_61___default.a}));var lodash_minBy__WEBPACK_IMPORTED_MODULE_62__=__webpack_require__(290),lodash_minBy__WEBPACK_IMPORTED_MODULE_62___default=__webpack_require__.n(lodash_minBy__WEBPACK_IMPORTED_MODULE_62__);__webpack_require__.d(__webpack_exports__,"ib",(function(){return lodash_minBy__WEBPACK_IMPORTED_MODULE_62___default.a}));var lodash_noop__WEBPACK_IMPORTED_MODULE_63__=__webpack_require__(385),lodash_noop__WEBPACK_IMPORTED_MODULE_63___default=__webpack_require__.n(lodash_noop__WEBPACK_IMPORTED_MODULE_63__);__webpack_require__.d(__webpack_exports__,"kb",(function(){return lodash_noop__WEBPACK_IMPORTED_MODULE_63___default.a}));var lodash_omit__WEBPACK_IMPORTED_MODULE_64__=__webpack_require__(386),lodash_omit__WEBPACK_IMPORTED_MODULE_64___default=__webpack_require__.n(lodash_omit__WEBPACK_IMPORTED_MODULE_64__);__webpack_require__.d(__webpack_exports__,"lb",(function(){return lodash_omit__WEBPACK_IMPORTED_MODULE_64___default.a}));var lodash_orderBy__WEBPACK_IMPORTED_MODULE_65__=__webpack_require__(390),lodash_orderBy__WEBPACK_IMPORTED_MODULE_65___default=__webpack_require__.n(lodash_orderBy__WEBPACK_IMPORTED_MODULE_65__);__webpack_require__.d(__webpack_exports__,"nb",(function(){return lodash_orderBy__WEBPACK_IMPORTED_MODULE_65___default.a}));var lodash_partition__WEBPACK_IMPORTED_MODULE_66__=__webpack_require__(392),lodash_partition__WEBPACK_IMPORTED_MODULE_66___default=__webpack_require__.n(lodash_partition__WEBPACK_IMPORTED_MODULE_66__);__webpack_require__.d(__webpack_exports__,"rb",(function(){return lodash_partition__WEBPACK_IMPORTED_MODULE_66___default.a}));var lodash_pick__WEBPACK_IMPORTED_MODULE_67__=__webpack_require__(243),lodash_pick__WEBPACK_IMPORTED_MODULE_67___default=__webpack_require__.n(lodash_pick__WEBPACK_IMPORTED_MODULE_67__);__webpack_require__.d(__webpack_exports__,"sb",(function(){return lodash_pick__WEBPACK_IMPORTED_MODULE_67___default.a}));var lodash_range__WEBPACK_IMPORTED_MODULE_68__=__webpack_require__(393),lodash_range__WEBPACK_IMPORTED_MODULE_68___default=__webpack_require__.n(lodash_range__WEBPACK_IMPORTED_MODULE_68__);__webpack_require__.d(__webpack_exports__,"vb",(function(){return lodash_range__WEBPACK_IMPORTED_MODULE_68___default.a}));var lodash_reverse__WEBPACK_IMPORTED_MODULE_69__=__webpack_require__(396),lodash_reverse__WEBPACK_IMPORTED_MODULE_69___default=__webpack_require__.n(lodash_reverse__WEBPACK_IMPORTED_MODULE_69__);__webpack_require__.d(__webpack_exports__,"yb",(function(){return lodash_reverse__WEBPACK_IMPORTED_MODULE_69___default.a}));var lodash_round__WEBPACK_IMPORTED_MODULE_70__=__webpack_require__(575),lodash_round__WEBPACK_IMPORTED_MODULE_70___default=__webpack_require__.n(lodash_round__WEBPACK_IMPORTED_MODULE_70__),lodash_sortBy__WEBPACK_IMPORTED_MODULE_73__=(__webpack_require__(398),__webpack_require__(401),__webpack_require__(291)),lodash_sortBy__WEBPACK_IMPORTED_MODULE_73___default=__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_73__);__webpack_require__.d(__webpack_exports__,"Fb",(function(){return lodash_sortBy__WEBPACK_IMPORTED_MODULE_73___default.a}));var lodash_sortedUniq__WEBPACK_IMPORTED_MODULE_74__=__webpack_require__(405),lodash_sortedUniq__WEBPACK_IMPORTED_MODULE_74___default=__webpack_require__.n(lodash_sortedUniq__WEBPACK_IMPORTED_MODULE_74__);__webpack_require__.d(__webpack_exports__,"Jb",(function(){return lodash_sortedUniq__WEBPACK_IMPORTED_MODULE_74___default.a}));var lodash_startCase__WEBPACK_IMPORTED_MODULE_75__=__webpack_require__(406),lodash_startCase__WEBPACK_IMPORTED_MODULE_75___default=__webpack_require__.n(lodash_startCase__WEBPACK_IMPORTED_MODULE_75__);__webpack_require__.d(__webpack_exports__,"Kb",(function(){return lodash_startCase__WEBPACK_IMPORTED_MODULE_75___default.a}));var lodash_sum__WEBPACK_IMPORTED_MODULE_76__=__webpack_require__(407),lodash_sum__WEBPACK_IMPORTED_MODULE_76___default=__webpack_require__.n(lodash_sum__WEBPACK_IMPORTED_MODULE_76__);__webpack_require__.d(__webpack_exports__,"Mb",(function(){return lodash_sum__WEBPACK_IMPORTED_MODULE_76___default.a}));var lodash_sumBy__WEBPACK_IMPORTED_MODULE_77__=__webpack_require__(409),lodash_sumBy__WEBPACK_IMPORTED_MODULE_77___default=__webpack_require__.n(lodash_sumBy__WEBPACK_IMPORTED_MODULE_77__);__webpack_require__.d(__webpack_exports__,"Nb",(function(){return lodash_sumBy__WEBPACK_IMPORTED_MODULE_77___default.a}));var lodash_takeWhile__WEBPACK_IMPORTED_MODULE_78__=__webpack_require__(410),lodash_takeWhile__WEBPACK_IMPORTED_MODULE_78___default=__webpack_require__.n(lodash_takeWhile__WEBPACK_IMPORTED_MODULE_78__);__webpack_require__.d(__webpack_exports__,"Ob",(function(){return lodash_takeWhile__WEBPACK_IMPORTED_MODULE_78___default.a}));var lodash_throttle__WEBPACK_IMPORTED_MODULE_79__=__webpack_require__(411),lodash_throttle__WEBPACK_IMPORTED_MODULE_79___default=__webpack_require__.n(lodash_throttle__WEBPACK_IMPORTED_MODULE_79__);__webpack_require__.d(__webpack_exports__,"Pb",(function(){return lodash_throttle__WEBPACK_IMPORTED_MODULE_79___default.a}));var lodash_toArray__WEBPACK_IMPORTED_MODULE_80__=__webpack_require__(412),lodash_toArray__WEBPACK_IMPORTED_MODULE_80___default=__webpack_require__.n(lodash_toArray__WEBPACK_IMPORTED_MODULE_80__);__webpack_require__.d(__webpack_exports__,"Qb",(function(){return lodash_toArray__WEBPACK_IMPORTED_MODULE_80___default.a}));var lodash_toString__WEBPACK_IMPORTED_MODULE_81__=__webpack_require__(177),lodash_toString__WEBPACK_IMPORTED_MODULE_81___default=__webpack_require__.n(lodash_toString__WEBPACK_IMPORTED_MODULE_81__),lodash_union__WEBPACK_IMPORTED_MODULE_82__=__webpack_require__(413),lodash_union__WEBPACK_IMPORTED_MODULE_82___default=__webpack_require__.n(lodash_union__WEBPACK_IMPORTED_MODULE_82__);__webpack_require__.d(__webpack_exports__,"Tb",(function(){return lodash_union__WEBPACK_IMPORTED_MODULE_82___default.a}));var lodash_uniq__WEBPACK_IMPORTED_MODULE_83__=__webpack_require__(254),lodash_uniq__WEBPACK_IMPORTED_MODULE_83___default=__webpack_require__.n(lodash_uniq__WEBPACK_IMPORTED_MODULE_83__);__webpack_require__.d(__webpack_exports__,"Ub",(function(){return lodash_uniq__WEBPACK_IMPORTED_MODULE_83___default.a}));var lodash_uniqBy__WEBPACK_IMPORTED_MODULE_84__=__webpack_require__(414),lodash_uniqBy__WEBPACK_IMPORTED_MODULE_84___default=__webpack_require__.n(lodash_uniqBy__WEBPACK_IMPORTED_MODULE_84__);__webpack_require__.d(__webpack_exports__,"Vb",(function(){return lodash_uniqBy__WEBPACK_IMPORTED_MODULE_84___default.a}));var lodash_uniqWith__WEBPACK_IMPORTED_MODULE_85__=__webpack_require__(415),lodash_uniqWith__WEBPACK_IMPORTED_MODULE_85___default=__webpack_require__.n(lodash_uniqWith__WEBPACK_IMPORTED_MODULE_85__);__webpack_require__.d(__webpack_exports__,"Wb",(function(){return lodash_uniqWith__WEBPACK_IMPORTED_MODULE_85___default.a}));var lodash_upperFirst__WEBPACK_IMPORTED_MODULE_86__=__webpack_require__(277),lodash_upperFirst__WEBPACK_IMPORTED_MODULE_86___default=__webpack_require__.n(lodash_upperFirst__WEBPACK_IMPORTED_MODULE_86__);__webpack_require__.d(__webpack_exports__,"Xb",(function(){return lodash_upperFirst__WEBPACK_IMPORTED_MODULE_86___default.a}));var lodash_without__WEBPACK_IMPORTED_MODULE_87__=__webpack_require__(416),lodash_without__WEBPACK_IMPORTED_MODULE_87___default=__webpack_require__.n(lodash_without__WEBPACK_IMPORTED_MODULE_87__);__webpack_require__.d(__webpack_exports__,"ac",(function(){return lodash_without__WEBPACK_IMPORTED_MODULE_87___default.a}));var lodash_xor__WEBPACK_IMPORTED_MODULE_88__=__webpack_require__(417),lodash_xor__WEBPACK_IMPORTED_MODULE_88___default=__webpack_require__.n(lodash_xor__WEBPACK_IMPORTED_MODULE_88__);__webpack_require__.d(__webpack_exports__,"bc",(function(){return lodash_xor__WEBPACK_IMPORTED_MODULE_88___default.a}));var moment__WEBPACK_IMPORTED_MODULE_89__=__webpack_require__(6),moment__WEBPACK_IMPORTED_MODULE_89___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_89__),d3_format__WEBPACK_IMPORTED_MODULE_90__=__webpack_require__(296),d3_array__WEBPACK_IMPORTED_MODULE_91__=__webpack_require__(610),striptags__WEBPACK_IMPORTED_MODULE_92__=__webpack_require__(576),striptags__WEBPACK_IMPORTED_MODULE_92___default=__webpack_require__.n(striptags__WEBPACK_IMPORTED_MODULE_92__),linkifyjs_html__WEBPACK_IMPORTED_MODULE_94__=(__webpack_require__(179),__webpack_require__(577)),linkifyjs_html__WEBPACK_IMPORTED_MODULE_94___default=__webpack_require__.n(linkifyjs_html__WEBPACK_IMPORTED_MODULE_94__),_Vector2__WEBPACK_IMPORTED_MODULE_95__=__webpack_require__(38),grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_96__=__webpack_require__(17),_TimeBounds__WEBPACK_IMPORTED_MODULE_97__=__webpack_require__(42),utils_client_url__WEBPACK_IMPORTED_MODULE_98__=__webpack_require__(50),d3_dsv__WEBPACK_IMPORTED_MODULE_99__=__webpack_require__(180),lodash__WEBPACK_IMPORTED_MODULE_100__=__webpack_require__(578);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var d3Format=Object(d3_format__WEBPACK_IMPORTED_MODULE_90__.a)({decimal:".",thousands:",",grouping:[3],minus:"-",currency:["$",""]}).format,getRelativeMouse=function getRelativeMouse(node,event){var eventOwner=!!event.targetTouches?event.targetTouches[0]:event,clientX=eventOwner.clientX,clientY=eventOwner.clientY,svg=node.ownerSVGElement||node;if(svg.createSVGPoint){var svgPoint=svg.createSVGPoint();svgPoint.x=clientX,svgPoint.y=clientY;var point=svgPoint.matrixTransform(node.getScreenCTM().inverse());return new _Vector2__WEBPACK_IMPORTED_MODULE_95__.a(point.x,point.y)}var rect=node.getBoundingClientRect();return new _Vector2__WEBPACK_IMPORTED_MODULE_95__.a(clientX-rect.left-node.clientLeft,clientY-rect.top-node.clientTop)};function makeSafeForCSS(name){return name.replace(/[^a-z0-9]/g,(function(s){var c=s.charCodeAt(0);return 32===c?"-":95===c?"_":c>=65&&c<=90?s:"__"+("000"+c.toString(16)).slice(-4)}))}function entityNameForMap(name){return name}function formatDay(dayAsYear,options){var format=defaultTo(null==options?void 0:options.format,"MMM D, YYYY");return moment__WEBPACK_IMPORTED_MODULE_89___default.a.utc(grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_96__.c).add(dayAsYear,"days").format(format)}function formatYear(year){return isNaN(year)?(console.warn("Invalid year '".concat(year,"'")),""):year<0?"".concat(d3Format(",.0f")(Math.abs(year))," BCE"):year.toString()}function roundSigFig(num){var sigfigs=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(0===num)return 0;var magnitude=Math.floor(Math.log10(Math.abs(num)));return lodash_round__WEBPACK_IMPORTED_MODULE_70___default()(num,-magnitude+sigfigs-1)}function formatValue(value,options){var noTrailingZeroes=defaultTo(options.noTrailingZeroes,!0),numberPrefixes=defaultTo(options.numberPrefixes||options.shortNumberPrefixes,!0),shortNumberPrefixes=defaultTo(options.shortNumberPrefixes,!1),showPlus=defaultTo(options.showPlus,!1),numDecimalPlaces=defaultTo(options.numDecimalPlaces,2),unit=defaultTo(options.unit,""),isNoSpaceUnit=defaultTo(options.noSpaceUnit,"%"===unit[0]),output=value.toString(),absValue=Math.abs(value);if(!isNoSpaceUnit&&numberPrefixes&&absValue>=1e6)isFinite(absValue)?absValue>=1e12?output=formatValue(value/1e12,Object.assign({},options,{unit:shortNumberPrefixes?"T":"trillion",noSpaceUnit:shortNumberPrefixes,numDecimalPlaces:2})):absValue>=1e9?output=formatValue(value/1e9,Object.assign({},options,{unit:shortNumberPrefixes?"B":"billion",noSpaceUnit:shortNumberPrefixes,numDecimalPlaces:2})):absValue>=1e6&&(output=formatValue(value/1e6,Object.assign({},options,{unit:shortNumberPrefixes?"M":"million",noSpaceUnit:shortNumberPrefixes,numDecimalPlaces:2}))):output="Infinity";else{var targetDigits=Math.pow(10,-numDecimalPlaces);if(output=0!==value&&Math.abs(value)<targetDigits?value<0?">-".concat(targetDigits):"<".concat(targetDigits):d3Format("".concat(showPlus?"+":"",",.").concat(numDecimalPlaces,"f"))(value),noTrailingZeroes){var m=output.match(/(.*?[0-9,-]+.[0-9,]*?)0*$/);m&&(output=m[1]),"."===output[output.length-1]&&(output=output.slice(0,output.length-1))}}return"$"===unit||"Â£"===unit?output=unit+output:isNoSpaceUnit?output+=unit:unit.length>0&&(output=output+" "+unit),output}function defaultTo(value,defaultValue){return null==value?defaultValue:value}function first(arr){return arr[0]}function last(arr){return arr[arr.length-1]}function excludeUndefined(arr){return arr.filter((function(x){return void 0!==x}))}function firstOfNonEmptyArray(arr){if(arr.length<1)throw new Error("array is empty");return first(arr)}function lastOfNonEmptyArray(arr){if(arr.length<1)throw new Error("array is empty");return last(arr)}function next(set,current){var nextIndex=set.indexOf(current)+1;return set[(nextIndex=-1===nextIndex?0:nextIndex)===set.length?0:nextIndex]}function previous(set,current){var nextIndex=set.indexOf(current)-1;return set[nextIndex<0?set.length-1:nextIndex]}function domainExtent(numValues,scaleType){var maxValueMultiplierForPadding=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,filterValues=scaleType===grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_96__.d.log?numValues.filter((function(v){return v>0})):numValues,_extent=Object(d3_array__WEBPACK_IMPORTED_MODULE_91__.a)(filterValues),_extent2=_slicedToArray(_extent,2),minValue=_extent2[0],maxValue=_extent2[1];return void 0!==minValue&&void 0!==maxValue&&isFinite(minValue)&&isFinite(maxValue)?minValue!==maxValue?[minValue,maxValue*maxValueMultiplierForPadding]:scaleType===grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_96__.d.log?[minValue/10,10*minValue]:[minValue-1,maxValue+1]:scaleType===grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_96__.d.log?[1,100]:[-1,1]}function cagr(startValue,endValue,property){var elapsed=endValue.year-startValue.year;if(!elapsed)return 0;var frac=endValue[property]/startValue[property];return Math.sign(frac)*(Math.pow(Math.abs(frac),1/elapsed)-1)*100}var relativeMinAndMax=function relativeMinAndMax(points,property){for(var minChange=0,maxChange=0,values=points.filter((function(point){return 0!==point.x&&0!==point.y})),i=0;i<values.length;i++)for(var indexValue=values[i],j=i+1;j<values.length;j++){var targetValue=values[j];if(targetValue.entityName===indexValue.entityName){var change=cagr(indexValue,targetValue,property);change<minChange&&(minChange=change),change>maxChange&&(maxChange=change)}}return[minChange,maxChange]},slugify=function slugify(str){return slugifySameCase(str.toLowerCase())},slugifySameCase=function slugifySameCase(str){return str.replace(/\s*\*.+\*/,"").replace(/[^\w- ]+/g,"").trim().replace(/ +/g,"-")},n=0;function guid(){return n+=1}function pointsToPath(points){for(var path="",i=0;i<points.length;i++)path+=0===i?"M".concat(points[i][0]," ").concat(points[i][1]):"L".concat(points[i][0]," ").concat(points[i][1]);return path}function sortedFindClosestIndex(array,value){if(0===array.length)return-1;if(value<array[0])return 0;if(value>array[array.length-1])return array.length-1;for(var lo=0,hi=array.length-1;lo<=hi;){var mid=Math.round((hi+lo)/2);if(value<array[mid])hi=mid-1;else{if(!(value>array[mid]))return mid;lo=mid+1}}return array[lo]-value<value-array[hi]?lo:hi}function isMobile(){var _window,_window$navigator;return!!(null===(_window=window)||void 0===_window||null===(_window$navigator=_window.navigator)||void 0===_window$navigator?void 0:_window$navigator.userAgent.toLowerCase().includes("mobi"))}function isTouchDevice(){return!!("ontouchstart"in window)}function csvEscape(value){return lodash_toString__WEBPACK_IMPORTED_MODULE_81___default()(value).includes(",")?'"'.concat(value.replace(/\"/g,'""'),'"'):value}function sign(n){return n>0?1:n<0?-1:0}function trimObject(obj){var clone={};return Object.keys(obj).forEach((function(key){var val=obj[key];Object(lodash__WEBPACK_IMPORTED_MODULE_100__.isObject)(val)&&lodash_isEmpty__WEBPACK_IMPORTED_MODULE_51___default()(val)||void 0!==val&&(clone[key]=obj[key])})),clone}function fetchText(_x){return _fetchText.apply(this,arguments)}function _fetchText(){return(_fetchText=_asyncToGenerator(regeneratorRuntime.mark((function _callee(url){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",new Promise((function(resolve,reject){var req=new XMLHttpRequest;req.addEventListener("load",(function(){resolve(this.responseText)})),req.addEventListener("readystatechange",(function(){4===req.readyState&&200!==req.status&&reject(new Error("".concat(req.status," ").concat(req.statusText)))})),req.open("GET",url),req.send()})));case 1:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}function fetchJSON(_x2){return _fetchJSON.apply(this,arguments)}function _fetchJSON(){return(_fetchJSON=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(url){return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",new Promise((function(resolve,reject){var req=new XMLHttpRequest;req.addEventListener("load",(function(){resolve(JSON.parse(this.responseText))})),req.addEventListener("readystatechange",(function(){4===req.readyState&&200!==req.status&&reject(new Error("".concat(req.status," ").concat(req.statusText)))})),req.open("GET",url),req.send()})));case 1:case"end":return _context3.stop()}}),_callee3)})))).apply(this,arguments)}function stripHTML(html){return striptags__WEBPACK_IMPORTED_MODULE_92___default()(html)}function findClosestTime(times,targetTime,tolerance){if(Object(_TimeBounds__WEBPACK_IMPORTED_MODULE_97__.f)(targetTime))return lodash_min__WEBPACK_IMPORTED_MODULE_61___default()(times);if(Object(_TimeBounds__WEBPACK_IMPORTED_MODULE_97__.g)(targetTime))return lodash_max__WEBPACK_IMPORTED_MODULE_58___default()(times);var closest,_step,_iterator=_createForOfIteratorHelper(times);try{for(_iterator.s();!(_step=_iterator.n()).done;){var time=_step.value,currentTimeDist=Math.abs(time-targetTime),closestTimeDist=closest?Math.abs(closest-targetTime):1/0;void 0!==tolerance&&currentTimeDist>tolerance||(void 0===closest||closestTimeDist>currentTimeDist||closestTimeDist===currentTimeDist&&time>closest)&&(closest=time)}}catch(err){_iterator.e(err)}finally{_iterator.f()}return closest}function es6mapValues(input,mapper){return new Map(Array.from(input,(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];return[key,mapper(value,key)]})))}function valuesAtTimes(valueByTime,targetTimes){var tolerance=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,times=Array.from(valueByTime.keys());return targetTimes.map((function(targetTime){var time=findClosestTime(times,targetTime,tolerance);return{time:time,value:void 0===time?void 0:valueByTime.get(time)}}))}var valuesByEntityAtTimes=function valuesByEntityAtTimes(valueByEntityAndTime,targetTimes){var tolerance=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return es6mapValues(valueByEntityAndTime,(function(valueByTime){return valuesAtTimes(valueByTime,targetTimes,tolerance)}))};function valuesByEntityWithinTimes(valueByEntityAndTimes,range){var start=void 0!==range[0]?range[0]:-1/0,end=void 0!==range[1]?range[1]:1/0;return es6mapValues(valueByEntityAndTimes,(function(valueByTime){return Array.from(valueByTime.keys()).filter((function(time){return time>=start&&time<=end})).map((function(time){return{time:time,value:valueByTime.get(time)}}))}))}var getStartEndValues=function getStartEndValues(values){return[lodash_minBy__WEBPACK_IMPORTED_MODULE_62___default()(values,(function(dv){return dv.time})),lodash_maxBy__WEBPACK_IMPORTED_MODULE_59___default()(values,(function(dv){return dv.time}))]};function dateDiffInDays(a,b){var utca=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()),utcb=Date.UTC(b.getFullYear(),b.getMonth(),b.getDate());return Math.floor((utca-utcb)/864e5)}var diffDateISOStringInDays=function diffDateISOStringInDays(a,b){return moment__WEBPACK_IMPORTED_MODULE_89___default.a.utc(a).diff(moment__WEBPACK_IMPORTED_MODULE_89___default.a.utc(b),"days")};function retryPromise(_x3){return _retryPromise.apply(this,arguments)}function _retryPromise(){return(_retryPromise=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(promiseGetter){var maxRetries,retried,lastError,_args4=arguments;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:maxRetries=_args4.length>1&&void 0!==_args4[1]?_args4[1]:3,retried=0;case 2:if(!(retried++<maxRetries)){_context4.next=14;break}return _context4.prev=3,_context4.next=6,promiseGetter();case 6:return _context4.abrupt("return",_context4.sent);case 9:_context4.prev=9,_context4.t0=_context4.catch(3),lastError=_context4.t0;case 12:_context4.next=2;break;case 14:throw lastError;case 15:case"end":return _context4.stop()}}),_callee4,null,[[3,9]])})))).apply(this,arguments)}function parseIntOrUndefined(s){if(void 0!==s){var value=parseInt(s);return isNaN(value)?void 0:value}}var parseDelimited=function parseDelimited(str){return Object(d3_dsv__WEBPACK_IMPORTED_MODULE_99__.a)(detectDelimiter(str)).parse(str)},detectDelimiter=function detectDelimiter(str){return str.includes("\t")?"\t":str.includes(",")?",":" "},isRowEmpty=function isRowEmpty(row){return row.every(isCellEmpty)},isCellEmpty=function isCellEmpty(cell){return null==cell||""===cell},trimArray=function trimArray(arr){var index;for(index=arr.length-1;index>=0&&isCellEmpty(arr[index]);index--);return arr.slice(0,index+1)},anyToString=function anyToString(value){return(null==value?void 0:value.toString)?value.toString():""},trimGrid=function trimGrid(grid){return function trimEmptyColumns(grid){return grid.map(trimArray)}(function trimEmptyRows(grid){for(var trimAt=void 0,index=grid.length-1;index>=0&&isRowEmpty(grid[index]);index--)trimAt=index;return void 0===trimAt?grid:grid.slice(0,trimAt)}(grid))};function parseFloatOrUndefined(s){if(void 0!==s){var value=parseFloat(s);return isNaN(value)?void 0:value}}function computeRollingAverage(numbers,windowSize){for(var align=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"right",result=[],valueIndex=0;valueIndex<numbers.length;valueIndex++){var currentVal=numbers[valueIndex];if(null!=currentVal){for(var expand=windowSize-1,expandLeft="center"===align?Math.ceil(expand/2):expand,expandRight="center"===align?Math.floor(expand/2):0,startIndex=Math.max(valueIndex-expandLeft,0),endIndex=Math.min(valueIndex+expandRight,numbers.length-1),count=0,_sum=0,windowIndex=startIndex;windowIndex<=endIndex;windowIndex++){var _value=numbers[windowIndex];null!=_value&&(_sum+=_value,count++)}result[valueIndex]=_sum/count}else result[valueIndex]=currentVal}return result}function insertMissingValuePlaceholders(values,years){var startYear=years[0],endYear=years[years.length-1],filledRange=[],year=startYear,map=new Map;for(years.forEach((function(year,index){map.set(year,index)}));year<=endYear;)filledRange.push(map.has(year)?values[map.get(year)]:null),year++;return filledRange}function scrollTo(el,top){!function isDocumentElement(el){return[document.documentElement,document.body].indexOf(el)>-1}(el)?el.scrollTop=top:window.scrollTo(0,top)}function scrollIntoViewIfNeeded(containerEl,focusedEl){var menuRect=containerEl.getBoundingClientRect(),focusedRect=focusedEl.getBoundingClientRect(),overScroll=focusedEl.offsetHeight/3;focusedRect.bottom+overScroll>menuRect.bottom?scrollTo(containerEl,Math.min(focusedEl.offsetTop+focusedEl.clientHeight-containerEl.offsetHeight+overScroll,containerEl.scrollHeight)):focusedRect.top-overScroll<menuRect.top&&scrollTo(containerEl,Math.max(focusedEl.offsetTop-overScroll,0))}function rollingMap(array,mapper){var result=[];if(array.length<=1)return result;for(var i=0;i<array.length-1;i++)result.push(mapper(array[i],array[i+1]));return result}function linkify(s){return linkifyjs_html__WEBPACK_IMPORTED_MODULE_94___default()(s)}function oneOf(value,options,defaultOption){var _step2,_iterator2=_createForOfIteratorHelper(options);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var option=_step2.value;if(value===option)return option}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return defaultOption}function intersectionOfSets(sets){if(!sets.length)return new Set;var intersection=new Set(sets[0]);return sets.slice(1).forEach((function(set){var _step3,_iterator3=_createForOfIteratorHelper(intersection);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var elem=_step3.value;set.has(elem)||intersection.delete(elem)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}})),intersection}function sortByUndefinedLast(array,accessor){var order=arguments.length>2&&void 0!==arguments[2]?arguments[2]:grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_96__.e.asc,sorted=lodash_sortBy__WEBPACK_IMPORTED_MODULE_73___default()(array,(function(value){var mapped=accessor(value);return void 0===mapped?order===grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_96__.e.asc?1/0:-1/0:mapped}));return order===grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_96__.e.asc?sorted:sorted.reverse()}var getErrorMessageRelatedQuestionUrl=function getErrorMessageRelatedQuestionUrl(question){return question.text&&(question.url?!question.url.match(/^https?:\/\//)&&"URL should start with http(s)://":"Missing URL")||void 0};function mergeQueryStr(){for(var _len=arguments.length,queryStrs=new Array(_len),_key=0;_key<_len;_key++)queryStrs[_key]=arguments[_key];return Object(utils_client_url__WEBPACK_IMPORTED_MODULE_98__.c)(lodash_assign__WEBPACK_IMPORTED_MODULE_36___default.a.apply(void 0,[{}].concat(_toConsumableArray(excludeUndefined(queryStrs).map(utils_client_url__WEBPACK_IMPORTED_MODULE_98__.e)))))}function mapNullToUndefined(array){return array.map((function(v){return null===v?void 0:v}))}var lowerCaseFirstLetterUnlessAbbreviation=function lowerCaseFirstLetterUnlessAbbreviation(str){return str.charAt(1).match(/[A-Z]/)?str:str.charAt(0).toLowerCase()+str.slice(1)};function sortNumeric(arr){var sortByFn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lodash_identity__WEBPACK_IMPORTED_MODULE_49___default.a,sortOrder=arguments.length>2&&void 0!==arguments[2]?arguments[2]:grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_96__.e.asc,compareFn=sortOrder===grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_96__.e.asc?function(a,b){return sortByFn(a)-sortByFn(b)}:function(a,b){return sortByFn(b)-sortByFn(a)};return arr.sort(compareFn)}},,function(module,exports){module.exports=storybook_docs_dll},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("1t7P")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("+KXO")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("7x/C")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("jQ/y")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("IAdD")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("M+/F")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("87if")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("lTEL")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("kYxP")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("DZ+c")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ChartType})),__webpack_require__.d(__webpack_exports__,"b",(function(){return CookieKeys})),__webpack_require__.d(__webpack_exports__,"c",(function(){return EPOCH_DATE})),__webpack_require__.d(__webpack_exports__,"d",(function(){return ScaleType})),__webpack_require__.d(__webpack_exports__,"e",(function(){return SortOrder}));var grapher_utils_Util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);var CookieKeys,ChartType=function ChartType(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ChartType)};ChartType.LineChart="LineChart",ChartType.ScatterPlot="ScatterPlot",ChartType.TimeScatter="TimeScatter",ChartType.StackedArea="StackedArea",ChartType.DiscreteBar="DiscreteBar",ChartType.SlopeChart="SlopeChart",ChartType.StackedBar="StackedBar",function(CookieKeys){CookieKeys.isAdmin="isAdmin"}(CookieKeys||(CookieKeys={}));var ScaleType,SortOrder,EPOCH_DATE="2020-01-21";!function(ScaleType){ScaleType.linear="linear",ScaleType.log="log"}(ScaleType||(ScaleType={})),function(SortOrder){SortOrder.asc="asc",SortOrder.desc="desc"}(SortOrder||(SortOrder={}));var ChartTypeDefs=[{key:ChartType.LineChart,label:"Line Chart"},{key:ChartType.ScatterPlot,label:"Scatter Plot"},{key:ChartType.TimeScatter,label:"Time Scatter"},{key:ChartType.StackedArea,label:"Stacked Area"},{key:ChartType.DiscreteBar,label:"Discrete Bar"},{key:ChartType.SlopeChart,label:"Slope Chart"},{key:ChartType.StackedBar,label:"Stacked Bar"}];Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_0__.U)(ChartTypeDefs,(function(e){return e.key}))},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("aLgo")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("jwue")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("+oxZ")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("z84I")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("2G9S")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("ho0z")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Bounds}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(30),__webpack_require__(14),__webpack_require__(21),__webpack_require__(12),__webpack_require__(23),__webpack_require__(11),__webpack_require__(8),__webpack_require__(34),__webpack_require__(16),__webpack_require__(13),__webpack_require__(52),__webpack_require__(15);var grapher_utils_Util__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2),grapher_utils_Vector2__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(38),string_pixel_width__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(583),string_pixel_width__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(string_pixel_width__WEBPACK_IMPORTED_MODULE_18__);function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var Bounds=function(){function Bounds(x,y,width,height){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Bounds),this.x=void 0,this.y=void 0,this.width=void 0,this.height=void 0,this.x=x,this.y=y,this.width=Math.max(width,0),this.height=Math.max(height,0)}return _createClass(Bounds,null,[{key:"fromProps",value:function fromProps(props){return new Bounds(props.x,props.y,props.width,props.height)}},{key:"fromBBox",value:function fromBBox(bbox){return this.fromProps(bbox)}},{key:"fromRect",value:function fromRect(rect){return new Bounds(rect.left,rect.top,rect.width,rect.height)}},{key:"fromElement",value:function fromElement(el){return Bounds.fromRect(el.getBoundingClientRect())}},{key:"fromCorners",value:function fromCorners(p1,p2){var x1=Math.min(p1.x,p2.x),x2=Math.max(p1.x,p2.x),y1=Math.min(p1.y,p2.y);return new Bounds(x1,y1,x2-x1,Math.max(p1.y,p2.y)-y1)}},{key:"merge",value:function merge(boundsList){var _step,x1=1/0,y1=1/0,x2=-1/0,y2=-1/0,_iterator=_createForOfIteratorHelper(boundsList);try{for(_iterator.s();!(_step=_iterator.n()).done;){var b=_step.value;x1=Math.min(x1,b.x),y1=Math.min(y1,b.y),x2=Math.max(x2,b.x+b.width),y2=Math.max(y2,b.y+b.height)}}catch(err){_iterator.e(err)}finally{_iterator.f()}return Bounds.fromCorners(new grapher_utils_Vector2__WEBPACK_IMPORTED_MODULE_17__.a(x1,y1),new grapher_utils_Vector2__WEBPACK_IMPORTED_MODULE_17__.a(x2,y2))}},{key:"getRightShiftForMiddleAlignedTextIfNeeded",value:function getRightShiftForMiddleAlignedTextIfNeeded(label,fontSize,xPosition){var bounds=Bounds.forText(label,{fontSize:fontSize}),overflow=xPosition-Math.ceil(bounds.width/2);return overflow<0?Math.abs(overflow):0}},{key:"empty",value:function empty(){return new Bounds(0,0,0,0)}},{key:"forText",value:function forText(){var str=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",_ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref$x=_ref.x,x=void 0===_ref$x?0:_ref$x,_ref$y=_ref.y,y=void 0===_ref$y?0:_ref$y,_ref$fontSize=_ref.fontSize,fontSize=void 0===_ref$fontSize?16:_ref$fontSize,_ref$fontWeight=_ref.fontWeight,fontWeight=void 0===_ref$fontWeight?400:_ref$fontWeight;str=str.replace(/ +/g," ");var key="".concat(str,"-").concat(fontSize),bounds=this.textBoundsCache[key];if(bounds)return bounds.x===x&&bounds.y===y-bounds.height?bounds:bounds.extend({x:x,y:y-bounds.height});if(""===str)bounds=Bounds.empty();else{var width=string_pixel_width__WEBPACK_IMPORTED_MODULE_18___default()(str,{font:"arial",size:fontSize,bold:fontWeight>=600}),height=fontSize;bounds=new Bounds(x,y-height,width,height)}return this.textBoundsCache[key]=bounds,bounds}}]),_createClass(Bounds,[{key:"padLeft",value:function padLeft(amount){return new Bounds(this.x+amount,this.y,this.width-amount,this.height)}},{key:"padRight",value:function padRight(amount){return new Bounds(this.x,this.y,this.width-amount,this.height)}},{key:"padBottom",value:function padBottom(amount){return new Bounds(this.x,this.y,this.width,this.height-amount)}},{key:"padTop",value:function padTop(amount){return new Bounds(this.x,this.y+amount,this.width,this.height-amount)}},{key:"padWidth",value:function padWidth(amount){return new Bounds(this.x+amount,this.y,this.width-2*amount,this.height)}},{key:"padHeight",value:function padHeight(amount){return new Bounds(this.x,this.y+amount,this.width,this.height-2*amount)}},{key:"fromLeft",value:function fromLeft(amount){return this.padRight(this.width-amount)}},{key:"fromBottom",value:function fromBottom(amount){return this.padTop(this.height-amount)}},{key:"pad",value:function pad(amount){return new Bounds(this.x+amount,this.y+amount,this.width-2*amount,this.height-2*amount)}},{key:"extend",value:function extend(props){return Bounds.fromProps(Object.assign({},this,props))}},{key:"scale",value:function scale(_scale){return new Bounds(this.x*_scale,this.y*_scale,this.width*_scale,this.height*_scale)}},{key:"intersects",value:function intersects(otherBounds){var r2=otherBounds;return!(r2.left>this.right||r2.right<this.left||r2.top>this.bottom||r2.bottom<this.top)}},{key:"lines",value:function lines(){return[[this.topLeft,this.topRight],[this.topRight,this.bottomRight],[this.bottomRight,this.bottomLeft],[this.bottomLeft,this.topLeft]]}},{key:"boundedPoint",value:function boundedPoint(p){return new grapher_utils_Vector2__WEBPACK_IMPORTED_MODULE_17__.a(Math.max(Math.min(p.x,this.right),this.left),Math.max(Math.min(p.y,this.bottom),this.top))}},{key:"containsPoint",value:function containsPoint(x,y){return x>=this.left&&x<=this.right&&y>=this.top&&y<=this.bottom}},{key:"contains",value:function contains(p){return this.containsPoint(p.x,p.y)}},{key:"encloses",value:function encloses(bounds){return this.containsPoint(bounds.left,bounds.top)&&this.containsPoint(bounds.left,bounds.bottom)&&this.containsPoint(bounds.right,bounds.top)&&this.containsPoint(bounds.right,bounds.bottom)}},{key:"toCSS",value:function toCSS(){return{left:"".concat(this.left,"px"),top:"".concat(this.top,"px"),width:"".concat(this.width,"px"),height:"".concat(this.height,"px")}}},{key:"toProps",value:function toProps(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},{key:"toArray",value:function toArray(){return[[this.left,this.top],[this.right,this.bottom]]}},{key:"xRange",value:function xRange(){return[this.left,this.right]}},{key:"split",value:function split(pieces){var padding=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,columns=Math.ceil(Math.sqrt(pieces)),rows=Math.ceil(pieces/columns),columnPadding=padding,rowPadding=padding,contentWidth=this.width-columnPadding*(columns-1),contentHeight=this.height-rowPadding*(rows-1),boxWidth=Math.floor(contentWidth/columns),boxHeight=Math.floor(contentHeight/rows);return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_16__.vb)(0,pieces).map((function(index){return new Bounds(index%columns*(boxWidth+columnPadding),Math.floor(index/columns)*(boxHeight+rowPadding),boxWidth,boxHeight)}))}},{key:"yRange",value:function yRange(){return[this.bottom,this.top]}},{key:"equals",value:function equals(bounds){return this.x===bounds.x&&this.y===bounds.y&&this.width===bounds.width&&this.height===bounds.height}},{key:"distanceToPointSq",value:function distanceToPointSq(p){if(this.contains(p))return 0;var cx=Math.max(Math.min(p.x,this.x+this.width),this.x),cy=Math.max(Math.min(p.y,this.y+this.height),this.y);return(p.x-cx)*(p.x-cx)+(p.y-cy)*(p.y-cy)}},{key:"distanceToPoint",value:function distanceToPoint(p){return Math.sqrt(this.distanceToPointSq(p))}},{key:"left",get:function get(){return this.x}},{key:"top",get:function get(){return this.y}},{key:"right",get:function get(){return this.x+this.width}},{key:"bottom",get:function get(){return this.y+this.height}},{key:"centerX",get:function get(){return this.x+this.width/2}},{key:"centerY",get:function get(){return this.y+this.height/2}},{key:"centerPos",get:function get(){return new grapher_utils_Vector2__WEBPACK_IMPORTED_MODULE_17__.a(this.centerX,this.centerY)}},{key:"area",get:function get(){return this.width*this.height}},{key:"topLeft",get:function get(){return new grapher_utils_Vector2__WEBPACK_IMPORTED_MODULE_17__.a(this.left,this.top)}},{key:"topRight",get:function get(){return new grapher_utils_Vector2__WEBPACK_IMPORTED_MODULE_17__.a(this.right,this.top)}},{key:"bottomLeft",get:function get(){return new grapher_utils_Vector2__WEBPACK_IMPORTED_MODULE_17__.a(this.left,this.bottom)}},{key:"bottomRight",get:function get(){return new grapher_utils_Vector2__WEBPACK_IMPORTED_MODULE_17__.a(this.right,this.bottom)}}]),Bounds}();Bounds.textBoundsCache={},Bounds.ctx=void 0},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("KOtZ")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("OZaJ")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("5o43")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("hCOa")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("LW0h")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("vrRf")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("KqXw")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("l1C2")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("plBw")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Vector2}));__webpack_require__(22);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var Vector2=function(){function Vector2(x,y){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Vector2),this.x=void 0,this.y=void 0,this.x=x,this.y=y}return _createClass(Vector2,null,[{key:"distanceSq",value:function distanceSq(a,b){return Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2)}},{key:"distance",value:function distance(a,b){return Math.sqrt(Vector2.distanceSq(a,b))}},{key:"angle",value:function angle(a,b){return 57.29578*Math.acos(Math.max(Math.min(Vector2.dot(a.normalize(),b.normalize()),1),-1))}},{key:"dot",value:function dot(lhs,rhs){return lhs.x*rhs.x+lhs.y*rhs.y}},{key:"distanceFromPointToLineSq",value:function distanceFromPointToLineSq(p,v,w){var l2=Vector2.distanceSq(v,w);if(0===l2)return Vector2.distanceSq(p,v);var t=((p.x-v.x)*(w.x-v.x)+(p.y-v.y)*(w.y-v.y))/l2;return t=Math.max(0,Math.min(1,t)),Vector2.distanceSq(p,new Vector2(v.x+t*(w.x-v.x),v.y+t*(w.y-v.y)))}},{key:"distanceFromPointToLine",value:function distanceFromPointToLine(p,v,w){return Math.sqrt(Vector2.distanceFromPointToLineSq(p,v,w))}},{key:"fromArray",value:function fromArray(a){return new Vector2(a[0],a[1])}},{key:"fromObject",value:function fromObject(o){return new Vector2(o.x,o.y)}},{key:"epsilon",get:function get(){return 1e-5}}]),_createClass(Vector2,[{key:"subtract",value:function subtract(v){return new Vector2(this.x-v.x,this.y-v.y)}},{key:"add",value:function add(v){return new Vector2(this.x+v.x,this.y+v.y)}},{key:"times",value:function times(n){return new Vector2(this.x*n,this.y*n)}},{key:"clone",value:function clone(){return new Vector2(this.x,this.y)}},{key:"normalize",value:function normalize(){var magnitude=this.magnitude;return magnitude>1e-5?new Vector2(this.x/magnitude,this.y/magnitude):new Vector2(0,0)}},{key:"normals",value:function normals(){return[new Vector2(-this.y,this.x),new Vector2(this.y,-this.x)]}},{key:"invert",value:function invert(){return this.times(-1)}},{key:"toString",value:function toString(){return"Vector2<".concat(this.x,", ").concat(this.y,">")}},{key:"magnitude",get:function get(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}}]),Vector2}();Vector2.left=new Vector2(-1,0),Vector2.right=new Vector2(1,0),Vector2.up=new Vector2(0,-1),Vector2.down=new Vector2(0,-1),Vector2.zero=new Vector2(0,0)},function(module,__webpack_exports__,__webpack_require__){"use strict";var ColumnTypeNames;__webpack_require__.d(__webpack_exports__,"a",(function(){return ColumnTypeNames})),function(ColumnTypeNames){ColumnTypeNames.Numeric="Numeric",ColumnTypeNames.String="String",ColumnTypeNames.Categorical="Categorical",ColumnTypeNames.Boolean="Boolean",ColumnTypeNames.Currency="Currency",ColumnTypeNames.Percentage="Percentage",ColumnTypeNames.DecimalPercentage="DecimalPercentage",ColumnTypeNames.Integer="Integer",ColumnTypeNames.Population="Population",ColumnTypeNames.PopulationDensity="PopulationDensity",ColumnTypeNames.Age="Age",ColumnTypeNames.Ratio="Ratio",ColumnTypeNames.Year="Year",ColumnTypeNames.Date="Date"}(ColumnTypeNames||(ColumnTypeNames={}))},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("aWzz")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("cARO")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return TimeBoundValue})),__webpack_require__.d(__webpack_exports__,"f",(function(){return isUnboundedLeft})),__webpack_require__.d(__webpack_exports__,"g",(function(){return isUnboundedRight})),__webpack_require__.d(__webpack_exports__,"j",(function(){return minTimeFromJSON})),__webpack_require__.d(__webpack_exports__,"h",(function(){return maxTimeFromJSON})),__webpack_require__.d(__webpack_exports__,"k",(function(){return minTimeToJSON})),__webpack_require__.d(__webpack_exports__,"i",(function(){return maxTimeToJSON})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getTimeWithinTimeRange})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getClosestTime})),__webpack_require__.d(__webpack_exports__,"b",(function(){return formatTimeURIComponent})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getTimeDomainFromQueryString}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(30),__webpack_require__(14),__webpack_require__(12),__webpack_require__(23),__webpack_require__(8),__webpack_require__(198),__webpack_require__(34),__webpack_require__(16),__webpack_require__(252),__webpack_require__(13),__webpack_require__(53),__webpack_require__(141),__webpack_require__(15);var TimeBoundValue,TimeBoundValueStr,grapher_utils_Util__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(2),grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(17);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function isUnboundedLeft(time){return time===TimeBoundValue.unboundedLeft}function isUnboundedRight(time){return time===TimeBoundValue.unboundedRight}function parseTimeBound(str,defaultTo){if(str===TimeBoundValueStr.unboundedLeft)return TimeBoundValue.unboundedLeft;if(str===TimeBoundValueStr.unboundedRight)return TimeBoundValue.unboundedRight;var time=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_17__.qb)(str);return void 0!==time?time:defaultTo}function fromJSON(value,defaultValue){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_17__.S)(value)?parseTimeBound(value,defaultValue):void 0===value?defaultValue:value}function toJSON(bound){if(void 0!==bound)return isUnboundedLeft(bound)?TimeBoundValueStr.unboundedLeft:isUnboundedRight(bound)?TimeBoundValueStr.unboundedRight:bound}function minTimeFromJSON(minTime){return fromJSON(minTime,TimeBoundValue.unboundedLeft)}function maxTimeFromJSON(maxTime){return fromJSON(maxTime,TimeBoundValue.unboundedRight)}!function(TimeBoundValue){TimeBoundValue[TimeBoundValue.unboundedLeft=-1/0]="unboundedLeft",TimeBoundValue[TimeBoundValue.unboundedRight=1/0]="unboundedRight"}(TimeBoundValue||(TimeBoundValue={})),function(TimeBoundValueStr){TimeBoundValueStr.unboundedLeft="earliest",TimeBoundValueStr.unboundedRight="latest"}(TimeBoundValueStr||(TimeBoundValueStr={}));var minTimeToJSON=toJSON,maxTimeToJSON=toJSON;function getTimeWithinTimeRange(_ref,bound){var _ref2=_slicedToArray(_ref,2),minTime=_ref2[0],maxTime=_ref2[1];return isUnboundedLeft(bound)?minTime:isUnboundedRight(bound)?maxTime:Math.min(maxTime,Math.max(minTime,bound))}function getClosestTime(times,bound,defaultValue){var _findClosestTime;return null!==(_findClosestTime=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_17__.w)(times,bound))&&void 0!==_findClosestTime?_findClosestTime:defaultValue}var reISODateComponent=new RegExp("\\d{4}-[01]\\d-[0-3]\\d"),reISODate=new RegExp("^(".concat(reISODateComponent.source,")$"));function formatTimeURIComponent(time,isDate){return function isUnbounded(time){return isUnboundedLeft(time)||isUnboundedRight(time)}(time)?function formatTimeBound(time){return isUnboundedLeft(time)?TimeBoundValueStr.unboundedLeft:isUnboundedRight(time)?TimeBoundValueStr.unboundedRight:"".concat(time)}(time):isDate?Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_17__.A)(time,{format:"YYYY-MM-DD"}):"".concat(time)}function parseTimeURIComponent(param,defaultValue){return reISODate.test(param)?Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_17__.n)(param,grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_18__.c):parseTimeBound(param,defaultValue)}function getTimeDomainFromQueryString(time){time=function upgradeLegacyTimeString(time){return".."===time?"earliest..latest":time.endsWith("..")?time+"latest":time.startsWith("..")?"earliest"+time:time}(time);var reIntComponent=new RegExp("\\-?\\d+"),reIntRange=new RegExp("^(".concat(reIntComponent.source,"|earliest)\\.\\.(").concat(reIntComponent.source,"|latest)$")),reDateRange=new RegExp("^(".concat(reISODateComponent.source,"|earliest)\\.\\.(").concat(reISODateComponent.source,"|latest)$"));if(reIntRange.test(time)||reDateRange.test(time)){var _time$split2=_slicedToArray(time.split(".."),2),start=_time$split2[0],end=_time$split2[1];return[parseTimeURIComponent(start,TimeBoundValue.unboundedLeft),parseTimeURIComponent(end,TimeBoundValue.unboundedRight)]}var t=parseTimeURIComponent(time,TimeBoundValue.unboundedRight);return[t,t]}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("jQ3i")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("x4t0")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("7xRU")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return TextWrap}));__webpack_require__(22),__webpack_require__(19),__webpack_require__(46),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(106),__webpack_require__(11),__webpack_require__(28),__webpack_require__(7),__webpack_require__(34),__webpack_require__(52),__webpack_require__(53),__webpack_require__(20);var _class,grapher_utils_Util__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(2),mobx__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(0),grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(24),react__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(1);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var TextWrap=(_applyDecoratedDescriptor((_class=function(){function TextWrap(props){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TextWrap),this.props=void 0,this.props=props}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(TextWrap,[{key:"renderHTML",value:function renderHTML(){var props=this.props,lines=this.lines;return 0===lines.length?null:react__WEBPACK_IMPORTED_MODULE_18__.createElement(react__WEBPACK_IMPORTED_MODULE_18__.Fragment,null,lines.map((function(line,index){var content=props.rawHtml?react__WEBPACK_IMPORTED_MODULE_18__.createElement("span",{dangerouslySetInnerHTML:{__html:line.text}}):props.linkifyText?react__WEBPACK_IMPORTED_MODULE_18__.createElement("span",{dangerouslySetInnerHTML:{__html:Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_15__.X)(line.text)}}):line.text;return react__WEBPACK_IMPORTED_MODULE_18__.createElement(react__WEBPACK_IMPORTED_MODULE_18__.Fragment,{key:index},content,react__WEBPACK_IMPORTED_MODULE_18__.createElement("br",null))})))}},{key:"render",value:function render(x,y,options){var props=this.props,lines=this.lines,fontSize=this.fontSize,fontWeight=this.fontWeight,lineHeight=this.lineHeight;if(0===lines.length)return null;var yOffset=y+lines[0].height-.2*lines[0].height;return react__WEBPACK_IMPORTED_MODULE_18__.createElement("text",_extends({fontSize:fontSize.toFixed(2),fontWeight:fontWeight,x:x.toFixed(1),y:yOffset.toFixed(1)},options),lines.map((function(line,i){return props.rawHtml?react__WEBPACK_IMPORTED_MODULE_18__.createElement("tspan",{key:i,x:x,y:yOffset+(0===i?0:lineHeight*fontSize*i),dangerouslySetInnerHTML:{__html:line.text}}):react__WEBPACK_IMPORTED_MODULE_18__.createElement("tspan",{key:i,x:x,y:yOffset+(0===i?0:lineHeight*fontSize*i)},line.text)})))}},{key:"maxWidth",get:function get(){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_15__.l)(this.props.maxWidth,1/0)}},{key:"lineHeight",get:function get(){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_15__.l)(this.props.lineHeight,1.1)}},{key:"fontSize",get:function get(){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_15__.l)(this.props.fontSize,1)}},{key:"fontWeight",get:function get(){return this.props.fontWeight}},{key:"text",get:function get(){return this.props.text}},{key:"lines",get:function get(){var _this=this,text=this.text,maxWidth=this.maxWidth,fontSize=this.fontSize,fontWeight=this.fontWeight,words=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_15__.O)(text)?[]:text.replace(/\n/g," \n").split(" "),lines=[],line=[],lineBounds=grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_17__.a.empty();return words.forEach((function(word){var nextLine=line.concat([word]),text=_this.props.rawHtml?Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_15__.Lb)(nextLine.join(" ")):nextLine.join(" "),nextBounds=grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_17__.a.forText(text,{fontSize:fontSize,fontWeight:fontWeight});(function startsWithNewline(text){return/^\n/.test(text)})(word)||nextBounds.width+10>maxWidth&&line.length>=1?(lines.push({text:line.join(" "),width:lineBounds.width,height:lineBounds.height}),line=[word],lineBounds=grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_17__.a.forText(word,{fontSize:fontSize,fontWeight:fontWeight})):(line=nextLine,lineBounds=nextBounds)})),line.length>0&&lines.push({text:line.join(" "),width:lineBounds.width,height:lineBounds.height}),lines}},{key:"height",get:function get(){return this.lines.reduce((function(total,line){return total+line.height}),0)+this.lineHeight*(this.lines.length-1)}},{key:"width",get:function get(){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_15__.l)(Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_15__.db)(this.lines.map((function(l){return l.width}))),0)}},{key:"htmlStyle",get:function get(){var fontSize=this.fontSize,fontWeight=this.fontWeight,lineHeight=this.lineHeight;return{fontSize:fontSize.toFixed(2)+"px",fontWeight:fontWeight,lineHeight:lineHeight,overflowY:"visible"}}}]),TextWrap}()).prototype,"maxWidth",[mobx__WEBPACK_IMPORTED_MODULE_16__.f],Object.getOwnPropertyDescriptor(_class.prototype,"maxWidth"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"lineHeight",[mobx__WEBPACK_IMPORTED_MODULE_16__.f],Object.getOwnPropertyDescriptor(_class.prototype,"lineHeight"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"fontSize",[mobx__WEBPACK_IMPORTED_MODULE_16__.f],Object.getOwnPropertyDescriptor(_class.prototype,"fontSize"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"fontWeight",[mobx__WEBPACK_IMPORTED_MODULE_16__.f],Object.getOwnPropertyDescriptor(_class.prototype,"fontWeight"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"text",[mobx__WEBPACK_IMPORTED_MODULE_16__.f],Object.getOwnPropertyDescriptor(_class.prototype,"text"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"lines",[mobx__WEBPACK_IMPORTED_MODULE_16__.f],Object.getOwnPropertyDescriptor(_class.prototype,"lines"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"height",[mobx__WEBPACK_IMPORTED_MODULE_16__.f],Object.getOwnPropertyDescriptor(_class.prototype,"height"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"width",[mobx__WEBPACK_IMPORTED_MODULE_16__.f],Object.getOwnPropertyDescriptor(_class.prototype,"width"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"htmlStyle",[mobx__WEBPACK_IMPORTED_MODULE_16__.f],Object.getOwnPropertyDescriptor(_class.prototype,"htmlStyle"),_class.prototype),_class);try{TextWrap.displayName="TextWrap",TextWrap.__docgenInfo={description:"",displayName:"TextWrap",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},maxWidth:{defaultValue:null,description:"",name:"maxWidth",required:!0,type:{name:"number"}},lineHeight:{defaultValue:null,description:"",name:"lineHeight",required:!1,type:{name:"number"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!0,type:{name:"number"}},fontWeight:{defaultValue:null,description:"",name:"fontWeight",required:!1,type:{name:"number"}},rawHtml:{defaultValue:null,description:"",name:"rawHtml",required:!1,type:{name:"true"}},linkifyText:{defaultValue:null,description:"Wrap URL-like text in <a> tag. Only works when rendering HTML.",name:"linkifyText",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/text/TextWrap.tsx#TextWrap"]={docgenInfo:TextWrap.__docgenInfo,name:"TextWrap",path:"grapher/text/TextWrap.tsx#TextWrap"})}catch(__react_docgen_typescript_loader_error){}},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("hBpG")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getQueryParams})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getWindowQueryParams})),__webpack_require__.d(__webpack_exports__,"e",(function(){return strToQueryParams})),__webpack_require__.d(__webpack_exports__,"c",(function(){return queryParamsToStr})),__webpack_require__.d(__webpack_exports__,"d",(function(){return setWindowQueryStr}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(31),__webpack_require__(19),__webpack_require__(30),__webpack_require__(14),__webpack_require__(12),__webpack_require__(23),__webpack_require__(71),__webpack_require__(8),__webpack_require__(34),__webpack_require__(16),__webpack_require__(13),__webpack_require__(111),__webpack_require__(53),__webpack_require__(20),__webpack_require__(15);var grapher_utils_Util__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(2);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function getQueryParams(queryStr){return strToQueryParams(queryStr||getWindowQueryStr())}function getWindowQueryParams(){return strToQueryParams(getWindowQueryStr())}function strToQueryParams(queryStr){"?"===queryStr[0]&&(queryStr=queryStr.substring(1));var _step,params={},_iterator=function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(queryStr.split("&").filter((function(s){return!Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_18__.O)(s)})));try{for(_iterator.s();!(_step=_iterator.n()).done;){var pair=_step.value.split("=");params[pair[0]]=pair[1]}}catch(err){_iterator.e(err)}finally{_iterator.f()}return params}function queryParamsToStr(params){var newQueryStr="";return Object.entries(params).forEach((function(_ref){var _ref2=_slicedToArray(_ref,2),k=_ref2[0],v=_ref2[1];void 0!==v&&(Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_18__.O)(newQueryStr)?newQueryStr+="?":newQueryStr+="&",newQueryStr+=k+"="+v)})),newQueryStr}function getWindowQueryStr(){return window.location.search}function setWindowQueryStr(str){history.replaceState(null,document.title,window.location.pathname+str+window.location.hash)}},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("MvUL")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("Ysgh")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("7nmT")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return NoDataOverlay}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(19),__webpack_require__(14),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var _dec,_class,_class2,react__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(1),mobx__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(0),mobx_react__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(9),grapher_controls_ControlsOverlay__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(115),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(36),_fortawesome_free_solid_svg_icons_faPlus__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(222),_fortawesome_free_solid_svg_icons_faExchangeAlt__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(223);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var NoDataOverlay=(_dec=mobx__WEBPACK_IMPORTED_MODULE_18__.d.bound,Object(mobx_react__WEBPACK_IMPORTED_MODULE_19__.a)((_applyDecoratedDescriptor((_class2=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(NoDataOverlay,_React$Component);var _super=_createSuper(NoDataOverlay);function NoDataOverlay(){return _classCallCheck(this,NoDataOverlay),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(NoDataOverlay,[{key:"onDataSelect",value:function onDataSelect(){this.props.options.isSelectingData=!0}},{key:"render",value:function render(){return this.props.options.standalone?this.message:react__WEBPACK_IMPORTED_MODULE_17__.createElement(grapher_controls_ControlsOverlay__WEBPACK_IMPORTED_MODULE_20__.a,{id:"no-data"},this.message)}},{key:"message",get:function get(){var _this$props=this.props,bounds=_this$props.bounds,message=_this$props.message,options=_this$props.options;return react__WEBPACK_IMPORTED_MODULE_17__.createElement("div",{className:"NoData",style:{position:"absolute",top:bounds.top,left:bounds.left,width:bounds.width,height:bounds.height}},react__WEBPACK_IMPORTED_MODULE_17__.createElement("p",{className:"message"},message||"No available data"),react__WEBPACK_IMPORTED_MODULE_17__.createElement("div",{className:"actions"},options.canAddData&&react__WEBPACK_IMPORTED_MODULE_17__.createElement("button",{className:"action",onClick:this.onDataSelect},react__WEBPACK_IMPORTED_MODULE_17__.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_21__.a,{icon:_fortawesome_free_solid_svg_icons_faPlus__WEBPACK_IMPORTED_MODULE_22__.faPlus})," Add"," ",options.entityType),options.canChangeEntity&&react__WEBPACK_IMPORTED_MODULE_17__.createElement("button",{className:"action",onClick:this.onDataSelect},react__WEBPACK_IMPORTED_MODULE_17__.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_21__.a,{icon:_fortawesome_free_solid_svg_icons_faExchangeAlt__WEBPACK_IMPORTED_MODULE_23__.faExchangeAlt})," Change"," ",options.entityType)))}}]),NoDataOverlay}(react__WEBPACK_IMPORTED_MODULE_17__.Component)).prototype,"onDataSelect",[_dec],Object.getOwnPropertyDescriptor(_class2.prototype,"onDataSelect"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"message",[mobx__WEBPACK_IMPORTED_MODULE_18__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"message"),_class2.prototype),_class=_class2))||_class);try{NoDataOverlay.displayName="NoDataOverlay",NoDataOverlay.__docgenInfo={description:"",displayName:"NoDataOverlay",props:{bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"Bounds"}},message:{defaultValue:null,description:"",name:"message",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"NoDataOverlayOptions"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/chart/NoDataOverlay.tsx#NoDataOverlay"]={docgenInfo:NoDataOverlay.__docgenInfo,name:"NoDataOverlay",path:"grapher/chart/NoDataOverlay.tsx#NoDataOverlay"})}catch(__react_docgen_typescript_loader_error){}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("NyMY")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("5BYb")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return objectWithPersistablesToObject})),__webpack_require__.d(__webpack_exports__,"c",(function(){return updatePersistables})),__webpack_require__.d(__webpack_exports__,"a",(function(){return deleteRuntimeAndUnchangedProps}));__webpack_require__(19),__webpack_require__(14),__webpack_require__(21),__webpack_require__(7),__webpack_require__(8),__webpack_require__(72),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var mobx__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(0);function objectWithPersistablesToObject(objWithPersistables){var obj=Object(mobx__WEBPACK_IMPORTED_MODULE_9__.r)(objWithPersistables);return Object.keys(obj).forEach((function(key){var val=objWithPersistables[key];val&&val.toObject?obj[key]=val.toObject():Array.isArray(val)?obj[key]=val.map((function(item){return(null==item?void 0:item.toObject)?item.toObject():item})):obj[key]=val})),obj}function updatePersistables(target,obj){if(void 0!==obj)for(var key in target)if(key in obj){var newVal=obj[key],currentVal=target[key];(null==currentVal?void 0:currentVal.updateFromObject)?currentVal.updateFromObject(newVal):target[key]=newVal}}function deleteRuntimeAndUnchangedProps(changedObj,defaultObject){var obj=changedObj,defaultObj=defaultObject,defaultKeys=new Set(Object.keys(defaultObj));return Object.keys(obj).forEach((function(prop){var key=prop;defaultKeys.has(key)?JSON.stringify(obj[key])===JSON.stringify(defaultObj[key])&&delete obj[key]:delete obj[key]})),obj}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("UvmB")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("m9LP")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return basicGdpGrapher})),__webpack_require__.d(__webpack_exports__,"b",(function(){return basicScatterGrapher}));__webpack_require__(19),__webpack_require__(20);var grapher_utils_Util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),grapher_core_Grapher__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(117);function basicGdpGrapher(){var grapher=new grapher_core_Grapher__WEBPACK_IMPORTED_MODULE_3__.a({selectedData:[{index:0,entityId:0},{index:0,entityId:1}],manuallyProvideData:!0,yAxis:{},dimensions:[{variableId:99,property:"y"}]}),rows=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_2__.ob)("entityName,year,gdp,entityId,population\nFrance,2000,100,0,123\nGermany,2000,200,1,125\nFrance,2001,200,0,128\nGermany,2001,300,1,130\nFrance,2002,220,0,154\nGermany,2002,320,1,167\nFrance,2003,120,0,200\nGermany,2003,120,1,256");return rows.forEach((function(row){row.entityId=parseInt(row.entityId),row.gdp=parseInt(row.gdp),row.year=parseInt(row.year),row.population=parseInt(row.population)})),grapher.table.cloneAndAddRowsAndDetectColumns(rows),grapher.table.columnsBySlug.get("gdp").spec.owidVariableId=99,grapher.table.columnsBySlug.get("population").spec.owidVariableId=100,grapher}var basicScatterGrapher=function basicScatterGrapher(){var grapher=basicGdpGrapher();return grapher.type="ScatterPlot",grapher.yAxis.min=0,grapher.yAxis.max=500,grapher.xAxis.min=0,grapher.xAxis.max=500,grapher.addDimension({variableId:100,property:"x"}),grapher}},,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("aokA")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("EgRP")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("yH/f")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("lN5B")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ChartTransform}));__webpack_require__(31),__webpack_require__(19),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(28),__webpack_require__(7),__webpack_require__(20);var _class,mobx__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0),grapher_utils_TimeBounds__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(42),grapher_utils_Util__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var ChartTransform=(_applyDecoratedDescriptor((_class=function(){function ChartTransform(grapher){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ChartTransform),this.grapher=void 0,this.grapher=grapher}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ChartTransform,[{key:"timelineTimes",get:function get(){var min=this.grapher.timelineMinTime,max=this.grapher.timelineMaxTime,filteredTimes=this.availableTimes.filter((function(time){return!(void 0!==min&&time<min)&&!(void 0!==max&&time>max)}));return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_10__.Hb)(Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_10__.Ub)(filteredTimes))}},{key:"minTimelineTime",get:function get(){var _first;return null!==(_first=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_10__.x)(this.timelineTimes))&&void 0!==_first?_first:1900}},{key:"maxTimelineTime",get:function get(){var _last;return null!==(_last=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_10__.V)(this.timelineTimes))&&void 0!==_last?_last:2e3}},{key:"startTimelineTime",get:function get(){var time=this.grapher.timeDomain[0];return Object(grapher_utils_TimeBounds__WEBPACK_IMPORTED_MODULE_9__.f)(time)?this.minTimelineTime:Object(grapher_utils_TimeBounds__WEBPACK_IMPORTED_MODULE_9__.g)(time)?this.maxTimelineTime:Object(grapher_utils_TimeBounds__WEBPACK_IMPORTED_MODULE_9__.c)(this.timelineTimes,time,this.minTimelineTime)}},{key:"endTimelineTime",get:function get(){var time=this.grapher.timeDomain[1];return Object(grapher_utils_TimeBounds__WEBPACK_IMPORTED_MODULE_9__.f)(time)?this.minTimelineTime:Object(grapher_utils_TimeBounds__WEBPACK_IMPORTED_MODULE_9__.g)(time)?this.maxTimelineTime:Object(grapher_utils_TimeBounds__WEBPACK_IMPORTED_MODULE_9__.c)(this.timelineTimes,time,this.maxTimelineTime)}},{key:"hasTimeline",get:function get(){return this.timelineTimes.length>1&&!this.grapher.hideTimeline}},{key:"isSingleTime",get:function get(){return this.startTimelineTime===this.endTimelineTime}}]),ChartTransform}()).prototype,"timelineTimes",[mobx__WEBPACK_IMPORTED_MODULE_8__.f],Object.getOwnPropertyDescriptor(_class.prototype,"timelineTimes"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"minTimelineTime",[mobx__WEBPACK_IMPORTED_MODULE_8__.f],Object.getOwnPropertyDescriptor(_class.prototype,"minTimelineTime"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"maxTimelineTime",[mobx__WEBPACK_IMPORTED_MODULE_8__.f],Object.getOwnPropertyDescriptor(_class.prototype,"maxTimelineTime"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"startTimelineTime",[mobx__WEBPACK_IMPORTED_MODULE_8__.f],Object.getOwnPropertyDescriptor(_class.prototype,"startTimelineTime"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"endTimelineTime",[mobx__WEBPACK_IMPORTED_MODULE_8__.f],Object.getOwnPropertyDescriptor(_class.prototype,"endTimelineTime"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"hasTimeline",[mobx__WEBPACK_IMPORTED_MODULE_8__.f],Object.getOwnPropertyDescriptor(_class.prototype,"hasTimeline"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"isSingleTime",[mobx__WEBPACK_IMPORTED_MODULE_8__.f],Object.getOwnPropertyDescriptor(_class.prototype,"isSingleTime"),_class.prototype),_class)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return continentColors})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ColorSchemes}));__webpack_require__(49),__webpack_require__(19),__webpack_require__(26),__webpack_require__(12),__webpack_require__(142),__webpack_require__(23),__webpack_require__(7),__webpack_require__(20);var d3_color__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(188),d3_interpolate__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(612),grapher_utils_Util__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2),colorbrewer__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(294);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var continentColors={Africa:"#923E8B",Antarctica:"#5887A1",Asia:"#2D8587",Europe:"#4C5C78","North America":"#E04E4B",Oceania:"#A8633C","South America":"#932834"},schemeProps={YlGn:{displayName:"Yellow-Green shades",singleColorScale:!0},YlGnBu:{displayName:"Yellow-Green-Blue shades",singleColorScale:!1},GnBu:{displayName:"Green-Blue shades",singleColorScale:!0},BuGn:{displayName:"Blue-Green shades",singleColorScale:!0},PuBuGn:{displayName:"Purple-Blue-Green shades",singleColorScale:!1},BuPu:{displayName:"Blue-Purple shades",singleColorScale:!0},RdPu:{displayName:"Red-Purple shades",singleColorScale:!0},PuRd:{displayName:"Purple-Red shades",singleColorScale:!0},OrRd:{displayName:"Orange-Red shades",singleColorScale:!0},YlOrRd:{displayName:"Yellow-Orange-Red shades",singleColorScale:!0},YlOrBr:{displayName:"Yellow-Orange-Brown shades",singleColorScale:!0},Purples:{displayName:"Purple shades",singleColorScale:!0},Blues:{displayName:"Blue shades",singleColorScale:!0},Greens:{displayName:"Green shades",singleColorScale:!0},Oranges:{displayName:"Orange shades",singleColorScale:!0},Reds:{displayName:"Red shades",singleColorScale:!0},Greys:{displayName:"Grey shades",singleColorScale:!0},PuOr:{displayName:"Purple-Orange",singleColorScale:!1},BrBG:{displayName:"Brown-Blue-Green",singleColorScale:!1},PRGn:{displayName:"Purple-Red-Green",singleColorScale:!1},PiYG:{displayName:"Magenta-Yellow-Green",singleColorScale:!1},RdBu:{displayName:"Red-Blue",singleColorScale:!1},RdGy:{displayName:"Red-Grey",singleColorScale:!1},RdYlBu:{displayName:"Red-Yellow-Blue",singleColorScale:!1},Spectral:{displayName:"Spectral colors",singleColorScale:!1},RdYlGn:{displayName:"Red-Yellow-Green",singleColorScale:!1},Accent:{displayName:"Accents",singleColorScale:!1},Dark2:{displayName:"Dark colors",singleColorScale:!1},Paired:{displayName:"Paired colors",singleColorScale:!1},Pastel1:{displayName:"Pastel 1 colors",singleColorScale:!1},Pastel2:{displayName:"Pastel 2 colors",singleColorScale:!1},Set1:{displayName:"Set 1 colors",singleColorScale:!1},Set2:{displayName:"Set 2 colors",singleColorScale:!1},Set3:{displayName:"Set 3 colors",singleColorScale:!1},PuBu:{displayName:"Purple-Blue shades",singleColorScale:!0},"hsv-RdBu":{displayName:"HSV Red-Blue",singleColorScale:!1},"hsv-CyMg":{displayName:"HSV Cyan-Magenta",singleColorScale:!1}};var ColorScheme=function(){function ColorScheme(name,colorSets,singleColorScale,isDistinct){var _this=this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ColorScheme),this.name=void 0,this.colorSets=void 0,this.isDistinct=void 0,this.singleColorScale=void 0,this.name=name,this.colorSets=[],this.singleColorScale=!!singleColorScale,this.isDistinct=!!isDistinct,colorSets.forEach((function(set){return _this.colorSets[set.length]=set}))}return _createClass(ColorScheme,null,[{key:"fromObject",value:function fromObject(name,colorSets,singleColorScale){var colorSetsArray=[];return Object.keys(colorSets).forEach((function(numColors){return colorSetsArray[+numColors]=colorSets[numColors]})),new ColorScheme(name,colorSetsArray,singleColorScale)}}]),_createClass(ColorScheme,[{key:"improviseGradientFromShorter",value:function improviseGradientFromShorter(shortColors,numColors){for(var newColors=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_10__.d)(shortColors);newColors.length<numColors;)for(var i=newColors.length-1;i>0;i-=1){var startColor=Object(d3_color__WEBPACK_IMPORTED_MODULE_8__.b)(newColors[i-1]),endColor=Object(d3_color__WEBPACK_IMPORTED_MODULE_8__.b)(newColors[i]),newColor=Object(d3_interpolate__WEBPACK_IMPORTED_MODULE_9__.a)(startColor,endColor)(.5);if(newColors.splice(i,0,newColor),newColors.length>=numColors)break}return newColors}},{key:"improviseGradientFromLonger",value:function improviseGradientFromLonger(knownColors,numColors){for(var newColors=[],scale=function interpolateArray(scaleArr){for(var N=scaleArr.length-2,intervalWidth=1/N,intervals=[],i=0;i<=N;i++)intervals[i]=Object(d3_interpolate__WEBPACK_IMPORTED_MODULE_9__.a)(Object(d3_color__WEBPACK_IMPORTED_MODULE_8__.b)(scaleArr[i]),Object(d3_color__WEBPACK_IMPORTED_MODULE_8__.b)(scaleArr[i+1]));return function(t){if(t<0||t>1)throw new Error("Outside the allowed range of [0, 1]");var i=Math.floor(t*N),intervalOffset=i*intervalWidth;return intervals[i](t/intervalWidth-intervalOffset/intervalWidth)}}(knownColors),i=0;i<numColors;i++)newColors.push(scale(i/numColors));return newColors}},{key:"getGradientColors",value:function getGradientColors(numColors){var colorSets=this.colorSets;if(colorSets[numColors])return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_10__.d)(colorSets[numColors]);var prevColors=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_10__.d)(colorSets).reverse().find((function(set){return set&&set.length<numColors}));return prevColors?this.improviseGradientFromShorter(prevColors,numColors):this.improviseGradientFromLonger(colorSets.find((function(set){return!!set})),numColors)}},{key:"getDistinctColors",value:function getDistinctColors(numColors){var colorSets=this.colorSets;if(0===colorSets.length)return[];if(colorSets[numColors])return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_10__.d)(colorSets[numColors]);if(numColors>colorSets.length-1){var colorSet=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_10__.W)(colorSets);return this.improviseGradientFromShorter(colorSet,numColors)}for(var i=numColors;i<colorSets.length;i++)if(colorSets[i])return colorSets[i].slice(0,numColors);return[]}},{key:"getColors",value:function getColors(numColors){return this.isDistinct?this.getDistinctColors(numColors):this.getGradientColors(numColors)}}]),ColorScheme}(),ColorSchemes=function(){var colorSchemes={};for(var schemeKey in colorbrewer__WEBPACK_IMPORTED_MODULE_11__){var props=schemeProps[schemeKey];if(props){var colorSets=colorbrewer__WEBPACK_IMPORTED_MODULE_11__[schemeKey];colorSchemes[schemeKey]=ColorScheme.fromObject(props.displayName,colorSets,props.singleColorScale)}}return colorSchemes.Viridis=new ColorScheme("Viridis",[["#440154","#440256","#450457","#450559","#46075a","#46085c","#460a5d","#460b5e","#470d60","#470e61","#471063","#471164","#471365","#481467","#481668","#481769","#48186a","#481a6c","#481b6d","#481c6e","#481d6f","#481f70","#482071","#482173","#482374","#482475","#482576","#482677","#482878","#482979","#472a7a","#472c7a","#472d7b","#472e7c","#472f7d","#46307e","#46327e","#46337f","#463480","#453581","#453781","#453882","#443983","#443a83","#443b84","#433d84","#433e85","#423f85","#424086","#424186","#414287","#414487","#404588","#404688","#3f4788","#3f4889","#3e4989","#3e4a89","#3e4c8a","#3d4d8a","#3d4e8a","#3c4f8a","#3c508b","#3b518b","#3b528b","#3a538b","#3a548c","#39558c","#39568c","#38588c","#38598c","#375a8c","#375b8d","#365c8d","#365d8d","#355e8d","#355f8d","#34608d","#34618d","#33628d","#33638d","#32648e","#32658e","#31668e","#31678e","#31688e","#30698e","#306a8e","#2f6b8e","#2f6c8e","#2e6d8e","#2e6e8e","#2e6f8e","#2d708e","#2d718e","#2c718e","#2c728e","#2c738e","#2b748e","#2b758e","#2a768e","#2a778e","#2a788e","#29798e","#297a8e","#297b8e","#287c8e","#287d8e","#277e8e","#277f8e","#27808e","#26818e","#26828e","#26828e","#25838e","#25848e","#25858e","#24868e","#24878e","#23888e","#23898e","#238a8d","#228b8d","#228c8d","#228d8d","#218e8d","#218f8d","#21908d","#21918c","#20928c","#20928c","#20938c","#1f948c","#1f958b","#1f968b","#1f978b","#1f988b","#1f998a","#1f9a8a","#1e9b8a","#1e9c89","#1e9d89","#1f9e89","#1f9f88","#1fa088","#1fa188","#1fa187","#1fa287","#20a386","#20a486","#21a585","#21a685","#22a785","#22a884","#23a983","#24aa83","#25ab82","#25ac82","#26ad81","#27ad81","#28ae80","#29af7f","#2ab07f","#2cb17e","#2db27d","#2eb37c","#2fb47c","#31b57b","#32b67a","#34b679","#35b779","#37b878","#38b977","#3aba76","#3bbb75","#3dbc74","#3fbc73","#40bd72","#42be71","#44bf70","#46c06f","#48c16e","#4ac16d","#4cc26c","#4ec36b","#50c46a","#52c569","#54c568","#56c667","#58c765","#5ac864","#5cc863","#5ec962","#60ca60","#63cb5f","#65cb5e","#67cc5c","#69cd5b","#6ccd5a","#6ece58","#70cf57","#73d056","#75d054","#77d153","#7ad151","#7cd250","#7fd34e","#81d34d","#84d44b","#86d549","#89d548","#8bd646","#8ed645","#90d743","#93d741","#95d840","#98d83e","#9bd93c","#9dd93b","#a0da39","#a2da37","#a5db36","#a8db34","#aadc32","#addc30","#b0dd2f","#b2dd2d","#b5de2b","#b8de29","#bade28","#bddf26","#c0df25","#c2df23","#c5e021","#c8e020","#cae11f","#cde11d","#d0e11c","#d2e21b","#d5e21a","#d8e219","#dae319","#dde318","#dfe318","#e2e418","#e5e419","#e7e419","#eae51a","#ece51b","#efe51c","#f1e51d","#f4e61e","#f6e620","#f8e621","#fbe723","#fde725"]],!1),colorSchemes.Inferno=new ColorScheme("Inferno",[["#000004","#010005","#010106","#010108","#02010a","#02020c","#02020e","#030210","#040312","#040314","#050417","#060419","#07051b","#08051d","#09061f","#0a0722","#0b0724","#0c0826","#0d0829","#0e092b","#10092d","#110a30","#120a32","#140b34","#150b37","#160b39","#180c3c","#190c3e","#1b0c41","#1c0c43","#1e0c45","#1f0c48","#210c4a","#230c4c","#240c4f","#260c51","#280b53","#290b55","#2b0b57","#2d0b59","#2f0a5b","#310a5c","#320a5e","#340a5f","#360961","#380962","#390963","#3b0964","#3d0965","#3e0966","#400a67","#420a68","#440a68","#450a69","#470b6a","#490b6a","#4a0c6b","#4c0c6b","#4d0d6c","#4f0d6c","#510e6c","#520e6d","#540f6d","#550f6d","#57106e","#59106e","#5a116e","#5c126e","#5d126e","#5f136e","#61136e","#62146e","#64156e","#65156e","#67166e","#69166e","#6a176e","#6c186e","#6d186e","#6f196e","#71196e","#721a6e","#741a6e","#751b6e","#771c6d","#781c6d","#7a1d6d","#7c1d6d","#7d1e6d","#7f1e6c","#801f6c","#82206c","#84206b","#85216b","#87216b","#88226a","#8a226a","#8c2369","#8d2369","#8f2469","#902568","#922568","#932667","#952667","#972766","#982766","#9a2865","#9b2964","#9d2964","#9f2a63","#a02a63","#a22b62","#a32c61","#a52c60","#a62d60","#a82e5f","#a92e5e","#ab2f5e","#ad305d","#ae305c","#b0315b","#b1325a","#b3325a","#b43359","#b63458","#b73557","#b93556","#ba3655","#bc3754","#bd3853","#bf3952","#c03a51","#c13a50","#c33b4f","#c43c4e","#c63d4d","#c73e4c","#c83f4b","#ca404a","#cb4149","#cc4248","#ce4347","#cf4446","#d04545","#d24644","#d34743","#d44842","#d54a41","#d74b3f","#d84c3e","#d94d3d","#da4e3c","#db503b","#dd513a","#de5238","#df5337","#e05536","#e15635","#e25734","#e35933","#e45a31","#e55c30","#e65d2f","#e75e2e","#e8602d","#e9612b","#ea632a","#eb6429","#eb6628","#ec6726","#ed6925","#ee6a24","#ef6c23","#ef6e21","#f06f20","#f1711f","#f1731d","#f2741c","#f3761b","#f37819","#f47918","#f57b17","#f57d15","#f67e14","#f68013","#f78212","#f78410","#f8850f","#f8870e","#f8890c","#f98b0b","#f98c0a","#f98e09","#fa9008","#fa9207","#fa9407","#fb9606","#fb9706","#fb9906","#fb9b06","#fb9d07","#fc9f07","#fca108","#fca309","#fca50a","#fca60c","#fca80d","#fcaa0f","#fcac11","#fcae12","#fcb014","#fcb216","#fcb418","#fbb61a","#fbb81d","#fbba1f","#fbbc21","#fbbe23","#fac026","#fac228","#fac42a","#fac62d","#f9c72f","#f9c932","#f9cb35","#f8cd37","#f8cf3a","#f7d13d","#f7d340","#f6d543","#f6d746","#f5d949","#f5db4c","#f4dd4f","#f4df53","#f4e156","#f3e35a","#f3e55d","#f2e661","#f2e865","#f2ea69","#f1ec6d","#f1ed71","#f1ef75","#f1f179","#f2f27d","#f2f482","#f3f586","#f3f68a","#f4f88e","#f5f992","#f6fa96","#f8fb9a","#f9fc9d","#fafda1","#fcffa4"]]),colorSchemes.Magma=new ColorScheme("Magma",[["#000004","#010005","#010106","#010108","#020109","#02020b","#02020d","#03030f","#030312","#040414","#050416","#060518","#06051a","#07061c","#08071e","#090720","#0a0822","#0b0924","#0c0926","#0d0a29","#0e0b2b","#100b2d","#110c2f","#120d31","#130d34","#140e36","#150e38","#160f3b","#180f3d","#19103f","#1a1042","#1c1044","#1d1147","#1e1149","#20114b","#21114e","#221150","#241253","#251255","#271258","#29115a","#2a115c","#2c115f","#2d1161","#2f1163","#311165","#331067","#341069","#36106b","#38106c","#390f6e","#3b0f70","#3d0f71","#3f0f72","#400f74","#420f75","#440f76","#451077","#471078","#491078","#4a1079","#4c117a","#4e117b","#4f127b","#51127c","#52137c","#54137d","#56147d","#57157e","#59157e","#5a167e","#5c167f","#5d177f","#5f187f","#601880","#621980","#641a80","#651a80","#671b80","#681c81","#6a1c81","#6b1d81","#6d1d81","#6e1e81","#701f81","#721f81","#732081","#752181","#762181","#782281","#792282","#7b2382","#7c2382","#7e2482","#802582","#812581","#832681","#842681","#862781","#882781","#892881","#8b2981","#8c2981","#8e2a81","#902a81","#912b81","#932b80","#942c80","#962c80","#982d80","#992d80","#9b2e7f","#9c2e7f","#9e2f7f","#a02f7f","#a1307e","#a3307e","#a5317e","#a6317d","#a8327d","#aa337d","#ab337c","#ad347c","#ae347b","#b0357b","#b2357b","#b3367a","#b5367a","#b73779","#b83779","#ba3878","#bc3978","#bd3977","#bf3a77","#c03a76","#c23b75","#c43c75","#c53c74","#c73d73","#c83e73","#ca3e72","#cc3f71","#cd4071","#cf4070","#d0416f","#d2426f","#d3436e","#d5446d","#d6456c","#d8456c","#d9466b","#db476a","#dc4869","#de4968","#df4a68","#e04c67","#e24d66","#e34e65","#e44f64","#e55064","#e75263","#e85362","#e95462","#ea5661","#eb5760","#ec5860","#ed5a5f","#ee5b5e","#ef5d5e","#f05f5e","#f1605d","#f2625d","#f2645c","#f3655c","#f4675c","#f4695c","#f56b5c","#f66c5c","#f66e5c","#f7705c","#f7725c","#f8745c","#f8765c","#f9785d","#f9795d","#f97b5d","#fa7d5e","#fa7f5e","#fa815f","#fb835f","#fb8560","#fb8761","#fc8961","#fc8a62","#fc8c63","#fc8e64","#fc9065","#fd9266","#fd9467","#fd9668","#fd9869","#fd9a6a","#fd9b6b","#fe9d6c","#fe9f6d","#fea16e","#fea36f","#fea571","#fea772","#fea973","#feaa74","#feac76","#feae77","#feb078","#feb27a","#feb47b","#feb67c","#feb77e","#feb97f","#febb81","#febd82","#febf84","#fec185","#fec287","#fec488","#fec68a","#fec88c","#feca8d","#fecc8f","#fecd90","#fecf92","#fed194","#fed395","#fed597","#fed799","#fed89a","#fdda9c","#fddc9e","#fddea0","#fde0a1","#fde2a3","#fde3a5","#fde5a7","#fde7a9","#fde9aa","#fdebac","#fcecae","#fceeb0","#fcf0b2","#fcf2b4","#fcf4b6","#fcf6b8","#fcf7b9","#fcf9bb","#fcfbbd","#fcfdbf"]]),colorSchemes.Plasma=new ColorScheme("Plasma",[["#0d0887","#100788","#130789","#16078a","#19068c","#1b068d","#1d068e","#20068f","#220690","#240691","#260591","#280592","#2a0593","#2c0594","#2e0595","#2f0596","#310597","#330597","#350498","#370499","#38049a","#3a049a","#3c049b","#3e049c","#3f049c","#41049d","#43039e","#44039e","#46039f","#48039f","#4903a0","#4b03a1","#4c02a1","#4e02a2","#5002a2","#5102a3","#5302a3","#5502a4","#5601a4","#5801a4","#5901a5","#5b01a5","#5c01a6","#5e01a6","#6001a6","#6100a7","#6300a7","#6400a7","#6600a7","#6700a8","#6900a8","#6a00a8","#6c00a8","#6e00a8","#6f00a8","#7100a8","#7201a8","#7401a8","#7501a8","#7701a8","#7801a8","#7a02a8","#7b02a8","#7d03a8","#7e03a8","#8004a8","#8104a7","#8305a7","#8405a7","#8606a6","#8707a6","#8808a6","#8a09a5","#8b0aa5","#8d0ba5","#8e0ca4","#8f0da4","#910ea3","#920fa3","#9410a2","#9511a1","#9613a1","#9814a0","#99159f","#9a169f","#9c179e","#9d189d","#9e199d","#a01a9c","#a11b9b","#a21d9a","#a31e9a","#a51f99","#a62098","#a72197","#a82296","#aa2395","#ab2494","#ac2694","#ad2793","#ae2892","#b02991","#b12a90","#b22b8f","#b32c8e","#b42e8d","#b52f8c","#b6308b","#b7318a","#b83289","#ba3388","#bb3488","#bc3587","#bd3786","#be3885","#bf3984","#c03a83","#c13b82","#c23c81","#c33d80","#c43e7f","#c5407e","#c6417d","#c7427c","#c8437b","#c9447a","#ca457a","#cb4679","#cc4778","#cc4977","#cd4a76","#ce4b75","#cf4c74","#d04d73","#d14e72","#d24f71","#d35171","#d45270","#d5536f","#d5546e","#d6556d","#d7566c","#d8576b","#d9586a","#da5a6a","#da5b69","#db5c68","#dc5d67","#dd5e66","#de5f65","#de6164","#df6263","#e06363","#e16462","#e26561","#e26660","#e3685f","#e4695e","#e56a5d","#e56b5d","#e66c5c","#e76e5b","#e76f5a","#e87059","#e97158","#e97257","#ea7457","#eb7556","#eb7655","#ec7754","#ed7953","#ed7a52","#ee7b51","#ef7c51","#ef7e50","#f07f4f","#f0804e","#f1814d","#f1834c","#f2844b","#f3854b","#f3874a","#f48849","#f48948","#f58b47","#f58c46","#f68d45","#f68f44","#f79044","#f79143","#f79342","#f89441","#f89540","#f9973f","#f9983e","#f99a3e","#fa9b3d","#fa9c3c","#fa9e3b","#fb9f3a","#fba139","#fba238","#fca338","#fca537","#fca636","#fca835","#fca934","#fdab33","#fdac33","#fdae32","#fdaf31","#fdb130","#fdb22f","#fdb42f","#fdb52e","#feb72d","#feb82c","#feba2c","#febb2b","#febd2a","#febe2a","#fec029","#fdc229","#fdc328","#fdc527","#fdc627","#fdc827","#fdca26","#fdcb26","#fccd25","#fcce25","#fcd025","#fcd225","#fbd324","#fbd524","#fbd724","#fad824","#fada24","#f9dc24","#f9dd25","#f8df25","#f8e125","#f7e225","#f7e425","#f6e626","#f6e826","#f5e926","#f5eb27","#f4ed27","#f3ee27","#f3f027","#f2f227","#f1f426","#f1f525","#f0f724","#f0f921"]]),colorSchemes["owid-distinct"]=new ColorScheme("OWID Distinct",[["#3C4E66","#B13507","#00847E","#6D3E91","#CF0A66","#883039","#00823F","#4C6A9C","#C05917","#D73C50","#287669","#CD2285","#0F739C","#9A5129","#C45267","#008860","#8C4569","#B36216","#366388","#A2559C","#578145","#D7263F","#18470F","#BC8E5A","#585C64"]],!1,!0),colorSchemes.stackedAreaDefault=new ColorScheme("OWID 4 Color Gradient",[["#3360a9"],["#3360a9","#34983f"],["#3360a9","#34983f","#ffd53e"],["#3360a9","#ca2628","#ffd53e","#34983f"],["#3360a9","#ca2628","#ffd53e","#9ecc8a","#34983f"],["#3360a9","#e6332e","#ca2628","#ffd53e","#9ecc8a","#34983f"],["#3360a9","#2a939b","#e6332e","#ca2628","#ffd53e","#9ecc8a","#34983f"]]),colorSchemes.continents=new ColorScheme("Continents",[[continentColors.Africa,continentColors.Antarctica,continentColors.Asia,continentColors.Europe,continentColors["North America"],continentColors.Oceania,continentColors["South America"],"#ff7f0e","#1f77b4","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","c49c94","e377c2","f7b6d2","7f7f7f","c7c7c7","bcbd22","dbdb8d","17becf","9edae5","1f77b4"]],!1,!0),colorSchemes}()},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("ZVkB")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("LqLs")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",(function(){return VerticalAxisGridLines})),__webpack_require__.d(__webpack_exports__,"d",(function(){return HorizontalAxisGridLines})),__webpack_require__.d(__webpack_exports__,"b",(function(){return DualAxisComponent})),__webpack_require__.d(__webpack_exports__,"e",(function(){return VerticalAxisComponent})),__webpack_require__.d(__webpack_exports__,"c",(function(){return HorizontalAxisComponent})),__webpack_require__.d(__webpack_exports__,"a",(function(){return AxisTickMarks}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(19),__webpack_require__(14),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(106),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var _class,_class2,_class3,_class4,_class5,react__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(1),mobx__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(0),mobx_react__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(9),grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(24),classnames__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(44),classnames__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_23__),grapher_controls_ControlsOverlay__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(115),grapher_controls_ScaleSelector__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(119);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var VerticalAxisGridLines=Object(mobx_react__WEBPACK_IMPORTED_MODULE_21__.a)(_class=function(_React$Component){_inherits(VerticalAxisGridLines,_React$Component);var _super=_createSuper(VerticalAxisGridLines);function VerticalAxisGridLines(){return _classCallCheck(this,VerticalAxisGridLines),_super.apply(this,arguments)}return _createClass(VerticalAxisGridLines,[{key:"render",value:function render(){var _this$props=this.props,bounds=_this$props.bounds,axis=_this$props.verticalAxis.clone();return axis.range=bounds.yRange(),react__WEBPACK_IMPORTED_MODULE_19__.createElement("g",{className:classnames__WEBPACK_IMPORTED_MODULE_23___default()("AxisGridLines","horizontalLines")},axis.getTickValues().map((function(t,i){var color=t.faint?"#eee":0===t.value?"#ccc":"#d3d3d3";return react__WEBPACK_IMPORTED_MODULE_19__.createElement("line",{key:i,x1:bounds.left.toFixed(2),y1:axis.place(t.value),x2:bounds.right.toFixed(2),y2:axis.place(t.value),stroke:color,strokeDasharray:0!==t.value?"3,2":void 0})})))}}]),VerticalAxisGridLines}(react__WEBPACK_IMPORTED_MODULE_19__.Component))||_class,HorizontalAxisGridLines=Object(mobx_react__WEBPACK_IMPORTED_MODULE_21__.a)(_class2=function(_React$Component2){_inherits(HorizontalAxisGridLines,_React$Component2);var _super2=_createSuper(HorizontalAxisGridLines);function HorizontalAxisGridLines(){return _classCallCheck(this,HorizontalAxisGridLines),_super2.apply(this,arguments)}return _createClass(HorizontalAxisGridLines,[{key:"render",value:function render(){var _this$props2=this.props,bounds=_this$props2.bounds,view=_this$props2.horizontalAxis.clone();return view.range=bounds.xRange(),react__WEBPACK_IMPORTED_MODULE_19__.createElement("g",{className:classnames__WEBPACK_IMPORTED_MODULE_23___default()("AxisGridLines","verticalLines")},view.getTickValues().map((function(t,i){var color=t.faint?"#eee":0===t.value?"#ccc":"#d3d3d3";return react__WEBPACK_IMPORTED_MODULE_19__.createElement("line",{key:i,x1:view.place(t.value),y1:bounds.bottom.toFixed(2),x2:view.place(t.value),y2:bounds.top.toFixed(2),stroke:color,strokeDasharray:0!==t.value?"3,2":void 0})})))}}]),HorizontalAxisGridLines}(react__WEBPACK_IMPORTED_MODULE_19__.Component))||_class2,DualAxisComponent=Object(mobx_react__WEBPACK_IMPORTED_MODULE_21__.a)(_class3=function(_React$Component3){_inherits(DualAxisComponent,_React$Component3);var _super3=_createSuper(DualAxisComponent);function DualAxisComponent(){return _classCallCheck(this,DualAxisComponent),_super3.apply(this,arguments)}return _createClass(DualAxisComponent,[{key:"render",value:function render(){var _this$props3=this.props,dualAxis=_this$props3.dualAxis,showTickMarks=_this$props3.showTickMarks,bounds=dualAxis.bounds,xAxis=dualAxis.xAxis,yAxis=dualAxis.yAxis,innerBounds=dualAxis.innerBounds;return react__WEBPACK_IMPORTED_MODULE_19__.createElement("g",{className:"DualAxisView"},react__WEBPACK_IMPORTED_MODULE_19__.createElement(HorizontalAxisComponent,{maxX:void 0,bounds:bounds,axisPosition:innerBounds.bottom,axis:xAxis,showTickMarks:showTickMarks,isInteractive:this.props.isInteractive}),react__WEBPACK_IMPORTED_MODULE_19__.createElement(VerticalAxisComponent,{bounds:bounds,verticalAxis:yAxis,isInteractive:this.props.isInteractive}),!yAxis.hideGridlines&&react__WEBPACK_IMPORTED_MODULE_19__.createElement(VerticalAxisGridLines,{verticalAxis:yAxis,bounds:innerBounds}),!xAxis.hideGridlines&&react__WEBPACK_IMPORTED_MODULE_19__.createElement(HorizontalAxisGridLines,{horizontalAxis:xAxis,bounds:innerBounds}))}}]),DualAxisComponent}(react__WEBPACK_IMPORTED_MODULE_19__.Component))||_class3,VerticalAxisComponent=Object(mobx_react__WEBPACK_IMPORTED_MODULE_21__.a)(_class4=function(_React$Component4){_inherits(VerticalAxisComponent,_React$Component4);var _super4=_createSuper(VerticalAxisComponent);function VerticalAxisComponent(){return _classCallCheck(this,VerticalAxisComponent),_super4.apply(this,arguments)}return _createClass(VerticalAxisComponent,[{key:"render",value:function render(){var _this$props4=this.props,bounds=_this$props4.bounds,verticalAxis=_this$props4.verticalAxis,ticks=verticalAxis.ticks,labelTextWrap=verticalAxis.labelTextWrap;return react__WEBPACK_IMPORTED_MODULE_19__.createElement("g",{className:"VerticalAxis"},labelTextWrap&&labelTextWrap.render(-bounds.centerY-labelTextWrap.width/2,bounds.left,{transform:"rotate(-90)"}),ticks.map((function(tick,i){return react__WEBPACK_IMPORTED_MODULE_19__.createElement("text",{key:i,x:(bounds.left+verticalAxis.width-5).toFixed(2),y:verticalAxis.place(tick),fill:"#666",dominantBaseline:"middle",textAnchor:"end",fontSize:verticalAxis.tickFontSize},verticalAxis.formatTick(tick))})))}}]),VerticalAxisComponent}(react__WEBPACK_IMPORTED_MODULE_19__.Component))||_class4,HorizontalAxisComponent=(function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}((_class5=function(_React$Component5){_inherits(HorizontalAxisComponent,_React$Component5);var _super5=_createSuper(HorizontalAxisComponent);function HorizontalAxisComponent(){return _classCallCheck(this,HorizontalAxisComponent),_super5.apply(this,arguments)}return _createClass(HorizontalAxisComponent,[{key:"render",value:function render(){var _this$props5=this.props,bounds=_this$props5.bounds,axis=_this$props5.axis,axisPosition=_this$props5.axisPosition,showTickMarks=_this$props5.showTickMarks,ticks=axis.ticks,label=axis.labelTextWrap,labelOffset=axis.labelOffset,tickMarks=showTickMarks?react__WEBPACK_IMPORTED_MODULE_19__.createElement(AxisTickMarks,{tickMarkTopPosition:axisPosition,tickMarkXPositions:ticks.map((function(tick){return axis.place(tick)})),color:"#ccc"}):void 0;return react__WEBPACK_IMPORTED_MODULE_19__.createElement("g",{className:"HorizontalAxis"},label&&label.render(bounds.centerX-label.width/2,bounds.bottom-label.height),tickMarks,ticks.map((function(tick,i){var label=axis.formatTick(tick,0===i||i===ticks.length-1),rawXPosition=axis.place(tick),xPosition=0===i?grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_22__.a.getRightShiftForMiddleAlignedTextIfNeeded(label,axis.tickFontSize,rawXPosition)+rawXPosition:rawXPosition;return react__WEBPACK_IMPORTED_MODULE_19__.createElement("text",{key:i,x:xPosition,y:bounds.bottom-labelOffset,fill:"#666",textAnchor:"middle",fontSize:axis.tickFontSize},label)})),this.controls)}},{key:"controls",get:function get(){var _this$props6=this.props,bounds=_this$props6.bounds,axis=_this$props6.axis,maxX=_this$props6.maxX;if(this.props.isInteractive&&axis.scaleTypeOptions.length>1)return react__WEBPACK_IMPORTED_MODULE_19__.createElement(grapher_controls_ControlsOverlay__WEBPACK_IMPORTED_MODULE_24__.a,{id:"horizontal-scale-selector",paddingBottom:10},react__WEBPACK_IMPORTED_MODULE_19__.createElement(grapher_controls_ScaleSelector__WEBPACK_IMPORTED_MODULE_25__.a,{maxX:maxX,x:bounds.right,y:bounds.bottom,scaleTypeConfig:axis}))}}]),HorizontalAxisComponent}(react__WEBPACK_IMPORTED_MODULE_19__.Component)).prototype,"controls",[mobx__WEBPACK_IMPORTED_MODULE_20__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"controls"),_class5.prototype),_class5),AxisTickMarks=function(_React$Component6){_inherits(AxisTickMarks,_React$Component6);var _super6=_createSuper(AxisTickMarks);function AxisTickMarks(){return _classCallCheck(this,AxisTickMarks),_super6.apply(this,arguments)}return _createClass(AxisTickMarks,[{key:"render",value:function render(){var _this$props7=this.props,tickMarkTopPosition=_this$props7.tickMarkTopPosition,tickMarkXPositions=_this$props7.tickMarkXPositions,color=_this$props7.color,tickBottom=tickMarkTopPosition+4;return tickMarkXPositions.map((function(tickMarkPosition,index){return react__WEBPACK_IMPORTED_MODULE_19__.createElement("line",{key:index,x1:tickMarkPosition,y1:tickMarkTopPosition,x2:tickMarkPosition,y2:tickBottom,stroke:color})}))}}]),AxisTickMarks}(react__WEBPACK_IMPORTED_MODULE_19__.Component);try{VerticalAxisGridLines.displayName="VerticalAxisGridLines",VerticalAxisGridLines.__docgenInfo={description:"",displayName:"VerticalAxisGridLines",props:{verticalAxis:{defaultValue:null,description:"",name:"verticalAxis",required:!0,type:{name:"VerticalAxis"}},bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"Bounds"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/axis/AxisViews.tsx#VerticalAxisGridLines"]={docgenInfo:VerticalAxisGridLines.__docgenInfo,name:"VerticalAxisGridLines",path:"grapher/axis/AxisViews.tsx#VerticalAxisGridLines"})}catch(__react_docgen_typescript_loader_error){}try{HorizontalAxisGridLines.displayName="HorizontalAxisGridLines",HorizontalAxisGridLines.__docgenInfo={description:"",displayName:"HorizontalAxisGridLines",props:{horizontalAxis:{defaultValue:null,description:"",name:"horizontalAxis",required:!0,type:{name:"HorizontalAxis"}},bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"Bounds"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/axis/AxisViews.tsx#HorizontalAxisGridLines"]={docgenInfo:HorizontalAxisGridLines.__docgenInfo,name:"HorizontalAxisGridLines",path:"grapher/axis/AxisViews.tsx#HorizontalAxisGridLines"})}catch(__react_docgen_typescript_loader_error){}try{DualAxisComponent.displayName="DualAxisComponent",DualAxisComponent.__docgenInfo={description:"",displayName:"DualAxisComponent",props:{dualAxis:{defaultValue:null,description:"",name:"dualAxis",required:!0,type:{name:"DualAxis"}},highlightValue:{defaultValue:null,description:"",name:"highlightValue",required:!1,type:{name:"{ x: number; y: number; }"}},showTickMarks:{defaultValue:null,description:"",name:"showTickMarks",required:!0,type:{name:"boolean"}},isInteractive:{defaultValue:null,description:"",name:"isInteractive",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/axis/AxisViews.tsx#DualAxisComponent"]={docgenInfo:DualAxisComponent.__docgenInfo,name:"DualAxisComponent",path:"grapher/axis/AxisViews.tsx#DualAxisComponent"})}catch(__react_docgen_typescript_loader_error){}try{VerticalAxisComponent.displayName="VerticalAxisComponent",VerticalAxisComponent.__docgenInfo={description:"",displayName:"VerticalAxisComponent",props:{bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"Bounds"}},verticalAxis:{defaultValue:null,description:"",name:"verticalAxis",required:!0,type:{name:"VerticalAxis"}},isInteractive:{defaultValue:null,description:"",name:"isInteractive",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/axis/AxisViews.tsx#VerticalAxisComponent"]={docgenInfo:VerticalAxisComponent.__docgenInfo,name:"VerticalAxisComponent",path:"grapher/axis/AxisViews.tsx#VerticalAxisComponent"})}catch(__react_docgen_typescript_loader_error){}try{HorizontalAxisComponent.displayName="HorizontalAxisComponent",HorizontalAxisComponent.__docgenInfo={description:"",displayName:"HorizontalAxisComponent",props:{bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"Bounds"}},axis:{defaultValue:null,description:"",name:"axis",required:!0,type:{name:"HorizontalAxis"}},axisPosition:{defaultValue:null,description:"",name:"axisPosition",required:!0,type:{name:"number"}},maxX:{defaultValue:null,description:"",name:"maxX",required:!1,type:{name:"number"}},showTickMarks:{defaultValue:null,description:"",name:"showTickMarks",required:!1,type:{name:"boolean"}},isInteractive:{defaultValue:null,description:"",name:"isInteractive",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/axis/AxisViews.tsx#HorizontalAxisComponent"]={docgenInfo:HorizontalAxisComponent.__docgenInfo,name:"HorizontalAxisComponent",path:"grapher/axis/AxisViews.tsx#HorizontalAxisComponent"})}catch(__react_docgen_typescript_loader_error){}try{AxisTickMarks.displayName="AxisTickMarks",AxisTickMarks.__docgenInfo={description:"",displayName:"AxisTickMarks",props:{tickMarkTopPosition:{defaultValue:null,description:"",name:"tickMarkTopPosition",required:!0,type:{name:"number"}},tickMarkXPositions:{defaultValue:null,description:"",name:"tickMarkXPositions",required:!0,type:{name:"number[]"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/axis/AxisViews.tsx#AxisTickMarks"]={docgenInfo:AxisTickMarks.__docgenInfo,name:"AxisTickMarks",path:"grapher/axis/AxisViews.tsx#AxisTickMarks"})}catch(__react_docgen_typescript_loader_error){}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return EntityUrlBuilder}));__webpack_require__(31),__webpack_require__(43),__webpack_require__(46),__webpack_require__(21),__webpack_require__(34),__webpack_require__(45),__webpack_require__(52),__webpack_require__(53);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var EntityUrlBuilder=function(){function EntityUrlBuilder(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,EntityUrlBuilder)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(EntityUrlBuilder,null,[{key:"entitiesToQueryParam",value:function entitiesToQueryParam(entities){return 1===entities.length?encodeURIComponent(this.v2Delimiter+entities[0]):encodeURIComponent(entities.join(this.v2Delimiter))}},{key:"queryParamToEntities",value:function queryParamToEntities(queryParam){return this.isV1Link(queryParam)?this.decodeV1Link(queryParam):this.decodeV2Link(queryParam)}},{key:"isV1Link",value:function isV1Link(queryParam){return!decodeURIComponent(queryParam).includes(this.v2Delimiter)}},{key:"decodeV1Link",value:function decodeV1Link(queryParam){return queryParam.split(this.v1Delimiter).map(decodeURIComponent)}},{key:"decodeV2Link",value:function decodeV2Link(queryParam){return decodeURIComponent(queryParam.replace(/\+/g,"%20")).split(this.v2Delimiter).filter((function(item){return item}))}}]),EntityUrlBuilder}();EntityUrlBuilder.v1Delimiter="+",EntityUrlBuilder.v2Delimiter="~"},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("1IsZ")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return TooltipView})),__webpack_require__.d(__webpack_exports__,"a",(function(){return Tooltip}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(19),__webpack_require__(14),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(11),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var _dec,_dec2,_class,_class2,_descriptor,_dec3,_dec4,_class4,_class5,react__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(1),mobx__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(0),mobx_react__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(9),grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(24);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var TooltipView=(_dec=mobx__WEBPACK_IMPORTED_MODULE_20__.m.struct,_dec2=mobx__WEBPACK_IMPORTED_MODULE_20__.d.bound,Object(mobx_react__WEBPACK_IMPORTED_MODULE_21__.a)((_applyDecoratedDescriptor((_class2=function(_React$Component){_inherits(TooltipView,_React$Component);var _super=_createSuper(TooltipView);function TooltipView(){var _this;_classCallCheck(this,TooltipView);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).base=react__WEBPACK_IMPORTED_MODULE_19__.createRef(),_initializerDefineProperty(_this,"bounds",_descriptor,_assertThisInitialized(_this)),_this}return _createClass(TooltipView,[{key:"updateBounds",value:function updateBounds(){this.base.current&&(this.bounds=grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_22__.a.fromElement(this.base.current))}},{key:"componentDidMount",value:function componentDidMount(){this.updateBounds()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.updateBounds()}},{key:"render",value:function render(){return this.rendered}},{key:"rendered",get:function get(){var _tooltip$offsetX,_tooltip$offsetY,bounds=this.bounds,tooltipContainer=this.props.tooltipContainer;if(!tooltipContainer.tooltip)return null;var _bounds$height,tooltip=tooltipContainer.tooltip,offsetX=null!==(_tooltip$offsetX=tooltip.offsetX)&&void 0!==_tooltip$offsetX?_tooltip$offsetX:0,offsetY=null!==(_tooltip$offsetY=tooltip.offsetY)&&void 0!==_tooltip$offsetY?_tooltip$offsetY:0;"upward"===tooltip.offsetYDirection&&(offsetY=-offsetY-(null!==(_bounds$height=null==bounds?void 0:bounds.height)&&void 0!==_bounds$height?_bounds$height:0));var x=tooltip.x+offsetX,y=tooltip.y+offsetY;bounds&&(x+bounds.width>this.props.width&&(x-=bounds.width+2*offsetX),y+bounds.height>this.props.height&&(y-=bounds.height+2*offsetY),x<0&&(x=0),y<0&&(y=0));var tooltipStyle={position:"absolute",pointerEvents:"none",left:"".concat(x,"px"),top:"".concat(y,"px"),whiteSpace:"nowrap",backgroundColor:"rgba(255,255,255,0.92)",boxShadow:"0 2px 2px rgba(0,0,0,.12), 0 0 1px rgba(0,0,0,.35)",borderRadius:"2px",textAlign:"left",fontSize:"0.9em"};return react__WEBPACK_IMPORTED_MODULE_19__.createElement("div",{ref:this.base,className:"Tooltip",style:Object.assign({},tooltipStyle,tooltip.style)},tooltip.children)}}]),TooltipView}(react__WEBPACK_IMPORTED_MODULE_19__.Component)).prototype,"rendered",[mobx__WEBPACK_IMPORTED_MODULE_20__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"rendered"),_class2.prototype),_descriptor=_applyDecoratedDescriptor(_class2.prototype,"bounds",[_dec],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_applyDecoratedDescriptor(_class2.prototype,"updateBounds",[_dec2],Object.getOwnPropertyDescriptor(_class2.prototype,"updateBounds"),_class2.prototype),_class=_class2))||_class),Tooltip=(_dec3=mobx__WEBPACK_IMPORTED_MODULE_20__.d.bound,_dec4=mobx__WEBPACK_IMPORTED_MODULE_20__.d.bound,Object(mobx_react__WEBPACK_IMPORTED_MODULE_21__.a)((_applyDecoratedDescriptor((_class5=function(_React$Component2){_inherits(Tooltip,_React$Component2);var _super2=_createSuper(Tooltip);function Tooltip(){return _classCallCheck(this,Tooltip),_super2.apply(this,arguments)}return _createClass(Tooltip,[{key:"componentDidMount",value:function componentDidMount(){this.connectTooltipToContainer()}},{key:"connectTooltipToContainer",value:function connectTooltipToContainer(){this.props.tooltipContainer.tooltip=this.props}},{key:"removeToolTipFromContainer",value:function removeToolTipFromContainer(){this.props.tooltipContainer.tooltip=void 0}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.connectTooltipToContainer()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.removeToolTipFromContainer()}},{key:"render",value:function render(){return null}}]),Tooltip}(react__WEBPACK_IMPORTED_MODULE_19__.Component)).prototype,"connectTooltipToContainer",[_dec3],Object.getOwnPropertyDescriptor(_class5.prototype,"connectTooltipToContainer"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"removeToolTipFromContainer",[_dec4],Object.getOwnPropertyDescriptor(_class5.prototype,"removeToolTipFromContainer"),_class5.prototype),_class4=_class5))||_class4);try{TooltipView.displayName="TooltipView",TooltipView.__docgenInfo={description:"",displayName:"TooltipView",props:{tooltipContainer:{defaultValue:null,description:"",name:"tooltipContainer",required:!0,type:{name:"TooltipContainer"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/chart/Tooltip.tsx#TooltipView"]={docgenInfo:TooltipView.__docgenInfo,name:"TooltipView",path:"grapher/chart/Tooltip.tsx#TooltipView"})}catch(__react_docgen_typescript_loader_error){}try{Tooltip.displayName="Tooltip",Tooltip.__docgenInfo={description:"",displayName:"Tooltip",props:{x:{defaultValue:null,description:"",name:"x",required:!0,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!0,type:{name:"number"}},offsetX:{defaultValue:null,description:"",name:"offsetX",required:!1,type:{name:"number"}},offsetY:{defaultValue:null,description:"",name:"offsetY",required:!1,type:{name:"number"}},offsetYDirection:{defaultValue:null,description:"",name:"offsetYDirection",required:!1,type:{name:'"upward" | "downward"'}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tooltipContainer:{defaultValue:null,description:"",name:"tooltipContainer",required:!0,type:{name:"TooltipContainer"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/chart/Tooltip.tsx#Tooltip"]={docgenInfo:Tooltip.__docgenInfo,name:"Tooltip",path:"grapher/chart/Tooltip.tsx#Tooltip"})}catch(__react_docgen_typescript_loader_error){}},,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("A3UQ")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("WNMA")},,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return HorizontalAxis})),__webpack_require__.d(__webpack_exports__,"c",(function(){return VerticalAxis})),__webpack_require__.d(__webpack_exports__,"a",(function(){return DualAxis}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(31),__webpack_require__(19),__webpack_require__(30),__webpack_require__(14),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(23),__webpack_require__(925),__webpack_require__(352),__webpack_require__(106),__webpack_require__(11),__webpack_require__(28),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var _dec,_dec2,_dec3,_class,_descriptor,_descriptor2,_descriptor3,_descriptor4,_descriptor5,_descriptor6,_descriptor7,_descriptor8,_class3,_class4,_temp2,_class5,_class6,d3_scale__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(999),d3_scale__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(997),mobx__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(0),grapher_utils_Util__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(2),grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(17),grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(24),grapher_text_TextWrap__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(47);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var AbstractAxis=(_dec=mobx__WEBPACK_IMPORTED_MODULE_27__.m.ref,_dec2=mobx__WEBPACK_IMPORTED_MODULE_27__.m.struct,_dec3=mobx__WEBPACK_IMPORTED_MODULE_27__.d.bound,_descriptor=_applyDecoratedDescriptor((_class=function(){function AbstractAxis(options){_classCallCheck(this,AbstractAxis),this.options=void 0,_initializerDefineProperty(this,"domain",_descriptor,this),_initializerDefineProperty(this,"tickFormatFn",_descriptor2,this),_initializerDefineProperty(this,"hideFractionalTicks",_descriptor3,this),_initializerDefineProperty(this,"hideGridlines",_descriptor4,this),_initializerDefineProperty(this,"range",_descriptor5,this),_initializerDefineProperty(this,"_scaleType",_descriptor6,this),_initializerDefineProperty(this,"_label",_descriptor7,this),_initializerDefineProperty(this,"_scaleTypeOptions",_descriptor8,this),this.options=options,this.domain=[options.domain[0],options.domain[1]]}return _createClass(AbstractAxis,[{key:"updateDomainPreservingUserSettings",value:function updateDomainPreservingUserSettings(domain){return this.domain=[Math.min(this.domain[0],domain[0]),Math.max(this.domain[1],domain[1])],this}},{key:"fontSize",get:function get(){return this.options.fontSize}}]),_createClass(AbstractAxis,[{key:"updateChartScaleType",value:function updateChartScaleType(value){this.options.scaleType=value}},{key:"getTickValues",value:function getTickValues(){var ticks,scaleType=this.scaleType,d3_scale=this.d3_scale,maxLogLines=this.maxLogLines;if(scaleType===grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_29__.d.log){var tickCandidates=d3_scale.ticks(maxLogLines);if((ticks=tickCandidates.map((function(tickValue){return Math.fround(Math.log10(tickValue))%1==0?{value:tickValue,priority:1}:Math.fround(Math.log10(2*tickValue))%1==0||Math.fround(Math.log10(tickValue/2))%1==0?{value:tickValue,priority:2}:{value:tickValue,priority:3}}))).length>maxLogLines)if(ticks.length<=2*maxLogLines)ticks=ticks.map((function(tick){return 3===tick.priority&&(tick=Object.assign({},tick,{faint:!0,gridLineOnly:!0})),tick}));else for(var _loop=function _loop(prio){ticks.length>maxLogLines&&(ticks=ticks.filter((function(tick){return tick.priority<prio})))},prio=3;prio>1;prio--)_loop(prio)}else ticks=d3_scale.ticks(6).map((function(tickValue){return{value:tickValue,priority:2}}));return this.hideFractionalTicks&&(ticks=ticks.filter((function(t){return t.value%1==0}))),Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_28__.Ub)(ticks)}},{key:"getTickFormattingOptions",value:function getTickFormattingOptions(){var tickValues=this.getTickValues(),minDist=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_28__.hb)(Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_28__.zb)(tickValues,(function(a,b){return Math.abs(a.value-b.value)})));if(void 0!==minDist){var dp=Math.ceil(-Math.log10(minDist));if(isFinite(dp)&&dp>=0)return{numDecimalPlaces:dp}}return{}}},{key:"getFormattedTicks",value:function getFormattedTicks(){var _this=this,options=this.getTickFormattingOptions();return this.getTickValues().map((function(tickmark){return _this.tickFormatFn(tickmark.value,options)}))}},{key:"place",value:function place(value){return this.range?this.scaleType===grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_29__.d.log&&value<=0?(console.error("Can't have ".concat(value," which is <= 0 on a log scale")),value):parseFloat(this.d3_scale(value).toFixed(1)):(console.error("Can't place value on scale without a defined output range"),value)}},{key:"doIntersect",value:function doIntersect(bounds,bounds2){return bounds.intersects(bounds2)}},{key:"formatTick",value:function formatTick(tick,isFirstOrLastTick){var tickFormattingOptions=this.getTickFormattingOptions();return this.tickFormatFn(tick,Object.assign({},tickFormattingOptions,{isFirstOrLastTick:isFirstOrLastTick}))}},{key:"_update",value:function _update(axis){var props=Object(mobx__WEBPACK_IMPORTED_MODULE_27__.r)(axis);return delete props.options,Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_28__.t)(this,props),this}},{key:"scaleType",get:function get(){var _this$_scaleType;return null!==(_this$_scaleType=this._scaleType)&&void 0!==_this$_scaleType?_this$_scaleType:this.options.scaleType||grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_29__.d.linear},set:function set(value){this._scaleType=value}},{key:"label",get:function get(){var _this$_label;return null!==(_this$_label=this._label)&&void 0!==_this$_label?_this$_label:this.options.label},set:function set(value){this._label=value}},{key:"scaleTypeOptions",get:function get(){return this._scaleTypeOptions?this._scaleTypeOptions:this.options.canChangeScaleType?[grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_29__.d.linear,grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_29__.d.log]:[this.scaleType]},set:function set(value){this._scaleTypeOptions=value}},{key:"d3_scale",get:function get(){return(this.scaleType===grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_29__.d.log?d3_scale__WEBPACK_IMPORTED_MODULE_25__.a:d3_scale__WEBPACK_IMPORTED_MODULE_26__.a)().domain(this.domain).range(this.range)}},{key:"rangeSize",get:function get(){return Math.abs(this.range[1]-this.range[0])}},{key:"rangeMax",get:function get(){return Math.max(this.range[1],this.range[0])}},{key:"rangeMin",get:function get(){return Math.min(this.range[1],this.range[0])}},{key:"maxLogLines",get:function get(){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_28__.Q)()?8:10}},{key:"tickFontSize",get:function get(){return.9*this.fontSize}},{key:"ticks",get:function get(){for(var tickPlacements=this.tickPlacements,i=0;i<tickPlacements.length;i++)for(var j=i+1;j<tickPlacements.length;j++){var t1=tickPlacements[i],t2=tickPlacements[j];t1===t2||t1.isHidden||t2.isHidden||this.doIntersect(t1.bounds,t2.bounds)&&(t2.isHidden=!0)}return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_28__.Fb)(tickPlacements.filter((function(t){return!t.isHidden})).map((function(t){return t.tick})))}},{key:"tickPlacements",get:function get(){var _this2=this;return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_28__.Fb)(this.baseTicks,(function(tick){return tick.priority})).map((function(tick){var bounds=grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_30__.a.forText(_this2.formatTick(tick.value,!!tick.isFirstOrLastTick),{fontSize:_this2.tickFontSize});return{tick:tick.value,bounds:bounds.extend(_this2.placeTick(tick.value,bounds)),isHidden:!1}}))}},{key:"labelFontSize",get:function get(){return.7*this.fontSize}},{key:"baseTicks",get:function get(){return this.getTickValues().filter((function(tick){return!tick.gridLineOnly}))}},{key:"labelTextWrap",get:function get(){var text=this.label;return text?new grapher_text_TextWrap__WEBPACK_IMPORTED_MODULE_31__.a({maxWidth:this.labelWidth,fontSize:this.labelFontSize,text:text}):void 0}}]),AbstractAxis}()).prototype,"domain",[_dec],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor2=_applyDecoratedDescriptor(_class.prototype,"tickFormatFn",[mobx__WEBPACK_IMPORTED_MODULE_27__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return function(d){return"".concat(d)}}}),_descriptor3=_applyDecoratedDescriptor(_class.prototype,"hideFractionalTicks",[mobx__WEBPACK_IMPORTED_MODULE_27__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor4=_applyDecoratedDescriptor(_class.prototype,"hideGridlines",[mobx__WEBPACK_IMPORTED_MODULE_27__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor5=_applyDecoratedDescriptor(_class.prototype,"range",[_dec2],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[0,0]}}),_descriptor6=_applyDecoratedDescriptor(_class.prototype,"_scaleType",[mobx__WEBPACK_IMPORTED_MODULE_27__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor7=_applyDecoratedDescriptor(_class.prototype,"_label",[mobx__WEBPACK_IMPORTED_MODULE_27__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor8=_applyDecoratedDescriptor(_class.prototype,"_scaleTypeOptions",[mobx__WEBPACK_IMPORTED_MODULE_27__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_applyDecoratedDescriptor(_class.prototype,"fontSize",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class.prototype,"fontSize"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"scaleType",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class.prototype,"scaleType"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"updateChartScaleType",[_dec3],Object.getOwnPropertyDescriptor(_class.prototype,"updateChartScaleType"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"label",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class.prototype,"label"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"scaleTypeOptions",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class.prototype,"scaleTypeOptions"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"d3_scale",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class.prototype,"d3_scale"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"rangeSize",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class.prototype,"rangeSize"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"rangeMax",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class.prototype,"rangeMax"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"rangeMin",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class.prototype,"rangeMin"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"maxLogLines",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class.prototype,"maxLogLines"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"tickFontSize",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class.prototype,"tickFontSize"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"ticks",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class.prototype,"ticks"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"tickPlacements",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class.prototype,"tickPlacements"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"labelFontSize",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class.prototype,"labelFontSize"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"baseTicks",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class.prototype,"baseTicks"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"labelTextWrap",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class.prototype,"labelTextWrap"),_class.prototype),_class),HorizontalAxis=(_temp2=_class4=function(_AbstractAxis){_inherits(HorizontalAxis,_AbstractAxis);var _super=_createSuper(HorizontalAxis);function HorizontalAxis(){return _classCallCheck(this,HorizontalAxis),_super.apply(this,arguments)}return _createClass(HorizontalAxis,[{key:"clone",value:function clone(){return new HorizontalAxis(this.options)._update(this)}},{key:"placeTick",value:function placeTick(tickValue,bounds){var labelOffset=this.labelOffset;return{x:this.place(tickValue)-bounds.width/2,y:bounds.bottom-labelOffset}}},{key:"doIntersect",value:function doIntersect(bounds,bounds2){return bounds.intersects(bounds2.padWidth(-5))}},{key:"labelOffset",get:function get(){return this.labelTextWrap?this.labelTextWrap.height+2*HorizontalAxis.labelPadding:0}},{key:"labelWidth",get:function get(){return this.rangeSize}},{key:"height",get:function get(){var labelOffset=this.labelOffset,firstFormattedTick=this.getFormattedTicks()[0],fontSize=this.tickFontSize;return grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_30__.a.forText(firstFormattedTick,{fontSize:fontSize}).height+labelOffset+5}},{key:"baseTicks",get:function get(){var ticks=this.getTickValues().filter((function(tick){return!tick.gridLineOnly})),domain=this.domain,startEndPrio=this.scaleType===grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_29__.d.log?2:1;return domain[0]%1==0&&(ticks=[{value:domain[0],priority:startEndPrio,isFirstOrLastTick:!0}].concat(_toConsumableArray(ticks))),domain[1]%1==0&&this.hideFractionalTicks&&(ticks=[].concat(_toConsumableArray(ticks),[{value:domain[1],priority:startEndPrio,isFirstOrLastTick:!0}])),Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_28__.Ub)(ticks)}}]),HorizontalAxis}(AbstractAxis),_class4.labelPadding=5,_applyDecoratedDescriptor((_class3=_temp2).prototype,"labelOffset",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"labelOffset"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"labelWidth",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"labelWidth"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"height",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"height"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"baseTicks",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"baseTicks"),_class3.prototype),_class3),VerticalAxis=(_applyDecoratedDescriptor((_class5=function(_AbstractAxis2){_inherits(VerticalAxis,_AbstractAxis2);var _super2=_createSuper(VerticalAxis);function VerticalAxis(){return _classCallCheck(this,VerticalAxis),_super2.apply(this,arguments)}return _createClass(VerticalAxis,[{key:"clone",value:function clone(){return new VerticalAxis(this.options)._update(this)}},{key:"placeTick",value:function placeTick(tickValue,bounds){return{y:this.place(tickValue),x:1}}},{key:"labelWidth",get:function get(){return this.height}},{key:"labelOffset",get:function get(){return this.labelTextWrap?this.labelTextWrap.height+10:0}},{key:"width",get:function get(){var labelOffset=this.labelOffset,longestTick=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_28__.eb)(this.getFormattedTicks(),(function(tick){return tick.length}));return grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_30__.a.forText(longestTick,{fontSize:this.tickFontSize}).width+labelOffset+5}},{key:"height",get:function get(){return this.rangeSize}}]),VerticalAxis}(AbstractAxis)).prototype,"labelWidth",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"labelWidth"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"labelOffset",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"labelOffset"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"width",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"width"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"height",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"height"),_class5.prototype),_class5),DualAxis=(_applyDecoratedDescriptor((_class6=function(){function DualAxis(props){_classCallCheck(this,DualAxis),this.props=void 0,this.props=props}return _createClass(DualAxis,[{key:"xAxis",get:function get(){var axis=this.props.xAxis.clone();return axis.range=this.innerBounds.xRange(),axis}},{key:"yAxis",get:function get(){var axis=this.props.yAxis.clone();return axis.range=this.innerBounds.yRange(),axis}},{key:"xAxisHeight",get:function get(){var axis=this.props.xAxis.clone();return axis.range=[0,this.props.bounds.width],axis.height}},{key:"yAxisWidth",get:function get(){var axis=this.props.yAxis.clone();return axis.range=[0,this.props.bounds.height],axis.width}},{key:"innerBounds",get:function get(){return this.props.bounds.padBottom(this.xAxisHeight).padLeft(this.yAxisWidth)}},{key:"bounds",get:function get(){return this.props.bounds}}]),DualAxis}()).prototype,"xAxis",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class6.prototype,"xAxis"),_class6.prototype),_applyDecoratedDescriptor(_class6.prototype,"yAxis",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class6.prototype,"yAxis"),_class6.prototype),_applyDecoratedDescriptor(_class6.prototype,"xAxisHeight",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class6.prototype,"xAxisHeight"),_class6.prototype),_applyDecoratedDescriptor(_class6.prototype,"yAxisWidth",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class6.prototype,"yAxisWidth"),_class6.prototype),_applyDecoratedDescriptor(_class6.prototype,"innerBounds",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class6.prototype,"innerBounds"),_class6.prototype),_applyDecoratedDescriptor(_class6.prototype,"bounds",[mobx__WEBPACK_IMPORTED_MODULE_27__.f],Object.getOwnPropertyDescriptor(_class6.prototype,"bounds"),_class6.prototype),_class6)},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return generateEntityId})),__webpack_require__.d(__webpack_exports__,"a",(function(){return LoadingColumn})),__webpack_require__.d(__webpack_exports__,"b",(function(){return NumericColumn})),__webpack_require__.d(__webpack_exports__,"c",(function(){return OwidTable}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(22),__webpack_require__(97),__webpack_require__(31),__webpack_require__(49),__webpack_require__(19),__webpack_require__(30),__webpack_require__(43),__webpack_require__(14),__webpack_require__(46),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(57),__webpack_require__(23),__webpack_require__(60),__webpack_require__(11),__webpack_require__(71),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(34),__webpack_require__(16),__webpack_require__(72),__webpack_require__(45),__webpack_require__(13),__webpack_require__(53),__webpack_require__(104),__webpack_require__(20),__webpack_require__(15);var _class,_dec,_dec2,_dec3,_dec4,_dec5,_dec6,_dec7,_dec8,_dec9,_dec10,_dec11,_class3,_descriptor,_descriptor2,_dec12,_dec13,_dec14,_dec15,_class5,_class6,_temp3,_LegacyVariableCode__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(214),grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(2),mobx__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(0),grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(17),_OwidTableConstants__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(39);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toArray(arr){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var globalEntityIds=new Map,generateEntityId=function generateEntityId(entityName){return globalEntityIds.has(entityName)||globalEntityIds.set(entityName,globalEntityIds.size),globalEntityIds.get(entityName)},computeRollingAveragesForEachGroup=function computeRollingAveragesForEachGroup(rows,valueAccessor,groupColName,dateColName,rollingAverage){for(var groups=[],currentGroup=rows[0][groupColName],currentRows=[],i=0;i<=rows.length;i++){var _row=rows[i],groupName=_row&&_row[groupColName];if(currentGroup!==groupName){var averages=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.g)(Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.K)(currentRows.map(valueAccessor),currentRows.map((function(row){return row[dateColName]}))),rollingAverage).filter((function(value){return null!==value}));if(groups.push(averages),!_row)break;currentRows=[],currentGroup=groupName}currentRows.push(_row)}return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.z)(groups)},AbstractColumn=(_applyDecoratedDescriptor((_class=function(){function AbstractColumn(table,spec){_classCallCheck(this,AbstractColumn),this.spec=void 0,this.table=void 0,this.table=table,this.spec=spec}return _createClass(AbstractColumn,[{key:"formatValue",value:function formatValue(value){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.a)(value)}},{key:"formatValueForMobile",value:function formatValueForMobile(value){return this.formatValue(value)}},{key:"formatValueShort",value:function formatValueShort(value){return this.formatValue(value)}},{key:"formatForCsv",value:function formatForCsv(value){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.i)(this.formatValue(value))}},{key:"mapBy",value:function mapBy(columnSlug){var map=new Map,slug=this.slug;return this.rowsWithValue.forEach((function(row){var value=row[slug];if(void 0!==value&&""!==value){var indexVal=row[columnSlug];map.has(indexVal)||map.set(indexVal,new Set),map.get(indexVal).add(value)}})),map}},{key:"getLatestValueForEntity",value:function getLatestValueForEntity(entityName){return this.latestValuesMap.get(entityName)}},{key:"isDailyMeasurement",get:function get(){return!!this.spec.isDailyMeasurement}},{key:"unit",get:function get(){return this.spec.unit||""}},{key:"shortUnit",get:function get(){return this.spec.shortUnit||""}},{key:"display",get:function get(){return this.spec.display||new _LegacyVariableCode__WEBPACK_IMPORTED_MODULE_34__.a}},{key:"coverage",get:function get(){return this.spec.coverage}},{key:"annotationsColumn",get:function get(){return this.spec.annotationsColumnSlug?this.table.columnsBySlug.get(this.spec.annotationsColumnSlug):void 0}},{key:"entityNameMap",get:function get(){return this.mapBy("entityName")}},{key:"description",get:function get(){return this.spec.description}},{key:"datasetName",get:function get(){return this.spec.datasetName}},{key:"source",get:function get(){return this.spec.source}},{key:"datasetId",get:function get(){return this.spec.datasetId}},{key:"name",get:function get(){var _this$spec$name;return null!==(_this$spec$name=this.spec.name)&&void 0!==_this$spec$name?_this$spec$name:this.spec.slug}},{key:"sortedUniqNonEmptyStringVals",get:function get(){return Array.from(new Set(this.values.filter(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.S).filter((function(i){return i})))).sort()}},{key:"slug",get:function get(){return this.spec.slug}},{key:"entityNames",get:function get(){return this.rowsWithValue.map((function(row){return row.entityName}))}},{key:"entityNamesUniq",get:function get(){return new Set(this.entityNames)}},{key:"valuesUniq",get:function get(){return Array.from(this.valuesAsSet)}},{key:"valuesAsSet",get:function get(){return new Set(this.values)}},{key:"allValuesAsSet",get:function get(){return new Set(this.allValues)}},{key:"isConstant",get:function get(){return 1===this.allValuesAsSet.size}},{key:"times",get:function get(){return this.rowsWithValue.map((function(row){var _row$year;return null!==(_row$year=row.year)&&void 0!==_row$year?_row$year:row.day}))}},{key:"allValues",get:function get(){var slug=this.spec.slug;return this.table.unfilteredRows.map((function(row){return row[slug]}))}},{key:"rowsWithValue",get:function get(){var slug=this.spec.slug;return this.table.unfilteredRows.filter((function(row){return void 0!==row[slug]&&""!==row[slug]}))}},{key:"values",get:function get(){var slug=this.spec.slug;return this.rowsWithValue.map((function(row){return row[slug]}))}},{key:"latestValuesMap",get:function get(){var _this=this,map=new Map;return this.rowsWithValue.forEach((function(row){return map.set(row.entityName,row[_this.slug])})),map}}]),AbstractColumn}()).prototype,"isDailyMeasurement",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class.prototype,"isDailyMeasurement"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"unit",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class.prototype,"unit"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"shortUnit",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class.prototype,"shortUnit"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"display",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class.prototype,"display"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"coverage",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class.prototype,"coverage"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"annotationsColumn",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class.prototype,"annotationsColumn"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"entityNameMap",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class.prototype,"entityNameMap"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"description",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class.prototype,"description"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"datasetName",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class.prototype,"datasetName"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"source",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class.prototype,"source"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"datasetId",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class.prototype,"datasetId"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"name",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class.prototype,"name"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"sortedUniqNonEmptyStringVals",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class.prototype,"sortedUniqNonEmptyStringVals"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"slug",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class.prototype,"slug"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"entityNames",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class.prototype,"entityNames"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"entityNamesUniq",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class.prototype,"entityNamesUniq"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"valuesUniq",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class.prototype,"valuesUniq"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"valuesAsSet",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class.prototype,"valuesAsSet"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"allValuesAsSet",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class.prototype,"allValuesAsSet"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"isConstant",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class.prototype,"isConstant"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"times",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class.prototype,"times"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"allValues",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class.prototype,"allValues"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"rowsWithValue",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class.prototype,"rowsWithValue"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"values",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class.prototype,"values"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"latestValuesMap",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class.prototype,"latestValuesMap"),_class.prototype),_class),LoadingColumn=function(_AbstractColumn){_inherits(LoadingColumn,_AbstractColumn);var _super=_createSuper(LoadingColumn);function LoadingColumn(){return _classCallCheck(this,LoadingColumn),_super.apply(this,arguments)}return LoadingColumn}(AbstractColumn),AnyColumn=function(_AbstractColumn2){_inherits(AnyColumn,_AbstractColumn2);var _super2=_createSuper(AnyColumn);function AnyColumn(){return _classCallCheck(this,AnyColumn),_super2.apply(this,arguments)}return AnyColumn}(AbstractColumn),StringColumn=function(_AbstractColumn3){_inherits(StringColumn,_AbstractColumn3);var _super3=_createSuper(StringColumn);function StringColumn(){return _classCallCheck(this,StringColumn),_super3.apply(this,arguments)}return StringColumn}(AbstractColumn),TemporalColumn=function(_AbstractColumn4){_inherits(TemporalColumn,_AbstractColumn4);var _super4=_createSuper(TemporalColumn);function TemporalColumn(){return _classCallCheck(this,TemporalColumn),_super4.apply(this,arguments)}return TemporalColumn}(AbstractColumn),YearColumn=function(_TemporalColumn){_inherits(YearColumn,_TemporalColumn);var _super5=_createSuper(YearColumn);function YearColumn(){return _classCallCheck(this,YearColumn),_super5.apply(this,arguments)}return _createClass(YearColumn,[{key:"formatValue",value:function formatValue(value){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.C)(value)}},{key:"formatForCsv",value:function formatForCsv(value){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.a)(value)}}]),YearColumn}(TemporalColumn),DateColumn=function(_TemporalColumn2){_inherits(DateColumn,_TemporalColumn2);var _super6=_createSuper(DateColumn);function DateColumn(){return _classCallCheck(this,DateColumn),_super6.apply(this,arguments)}return _createClass(DateColumn,[{key:"formatValue",value:function formatValue(value){return void 0===value?"":Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.A)(value)}},{key:"formatValueForMobile",value:function formatValueForMobile(value){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.A)(value,{format:"MMM D, 'YY"})}},{key:"formatForCsv",value:function formatForCsv(value){return void 0===value?"":Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.A)(value,{format:"YYYY-MM-DD"})}}]),DateColumn}(TemporalColumn),CategoricalColumn=function(_AbstractColumn5){_inherits(CategoricalColumn,_AbstractColumn5);var _super7=_createSuper(CategoricalColumn);function CategoricalColumn(){return _classCallCheck(this,CategoricalColumn),_super7.apply(this,arguments)}return CategoricalColumn}(AbstractColumn),BooleanColumn=function(_AbstractColumn6){_inherits(BooleanColumn,_AbstractColumn6);var _super8=_createSuper(BooleanColumn);function BooleanColumn(){return _classCallCheck(this,BooleanColumn),_super8.apply(this,arguments)}return BooleanColumn}(AbstractColumn),FilterColumn=function(_BooleanColumn){_inherits(FilterColumn,_BooleanColumn);var _super9=_createSuper(FilterColumn);function FilterColumn(){return _classCallCheck(this,FilterColumn),_super9.apply(this,arguments)}return FilterColumn}(BooleanColumn),SelectionColumn=function(_BooleanColumn2){_inherits(SelectionColumn,_BooleanColumn2);var _super10=_createSuper(SelectionColumn);function SelectionColumn(){return _classCallCheck(this,SelectionColumn),_super10.apply(this,arguments)}return SelectionColumn}(BooleanColumn),NumericColumn=function(_AbstractColumn7){_inherits(NumericColumn,_AbstractColumn7);var _super11=_createSuper(NumericColumn);function NumericColumn(){return _classCallCheck(this,NumericColumn),_super11.apply(this,arguments)}return _createClass(NumericColumn,[{key:"formatValueShort",value:function formatValueShort(value){var numDecimalPlaces=this.display.numDecimalPlaces;return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.B)(value,{unit:this.shortUnit,numDecimalPlaces:numDecimalPlaces})}}]),NumericColumn}(AbstractColumn),IntegerColumn=function(_NumericColumn){_inherits(IntegerColumn,_NumericColumn);var _super12=_createSuper(IntegerColumn);function IntegerColumn(){return _classCallCheck(this,IntegerColumn),_super12.apply(this,arguments)}return _createClass(IntegerColumn,[{key:"formatValue",value:function formatValue(value){return void 0===value?"":Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.B)(value,{numDecimalPlaces:0,noTrailingZeroes:!1,numberPrefixes:!0,shortNumberPrefixes:!0})}}]),IntegerColumn}(NumericColumn),columnTypeMap={String:StringColumn,Categorical:CategoricalColumn,Numeric:NumericColumn,Date:DateColumn,Year:YearColumn,Boolean:BooleanColumn,Currency:function(_NumericColumn2){_inherits(CurrencyColumn,_NumericColumn2);var _super13=_createSuper(CurrencyColumn);function CurrencyColumn(){return _classCallCheck(this,CurrencyColumn),_super13.apply(this,arguments)}return _createClass(CurrencyColumn,[{key:"formatValue",value:function formatValue(value){return void 0===value?"":Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.B)(value,{numDecimalPlaces:0,noTrailingZeroes:!1,numberPrefixes:!1,unit:"$"})}}]),CurrencyColumn}(NumericColumn),Percentage:function(_NumericColumn3){_inherits(PercentageColumn,_NumericColumn3);var _super14=_createSuper(PercentageColumn);function PercentageColumn(){return _classCallCheck(this,PercentageColumn),_super14.apply(this,arguments)}return _createClass(PercentageColumn,[{key:"formatValue",value:function formatValue(value){return void 0===value?"":Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.B)(value,{numDecimalPlaces:0,noTrailingZeroes:!1,numberPrefixes:!1,unit:"%"})}}]),PercentageColumn}(NumericColumn),Integer:IntegerColumn,DecimalPercentage:function(_NumericColumn4){_inherits(DecimalPercentageColumn,_NumericColumn4);var _super15=_createSuper(DecimalPercentageColumn);function DecimalPercentageColumn(){return _classCallCheck(this,DecimalPercentageColumn),_super15.apply(this,arguments)}return _createClass(DecimalPercentageColumn,[{key:"formatValue",value:function formatValue(value){return void 0===value?"":Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.B)(100*value,{numDecimalPlaces:0,noTrailingZeroes:!1,numberPrefixes:!1,unit:"%"})}}]),DecimalPercentageColumn}(NumericColumn),Population:function(_IntegerColumn){_inherits(PopulationColumn,_IntegerColumn);var _super16=_createSuper(PopulationColumn);function PopulationColumn(){return _classCallCheck(this,PopulationColumn),_super16.apply(this,arguments)}return PopulationColumn}(IntegerColumn),PopulationDensity:function(_NumericColumn5){_inherits(PopulationDensityColumn,_NumericColumn5);var _super17=_createSuper(PopulationDensityColumn);function PopulationDensityColumn(){return _classCallCheck(this,PopulationDensityColumn),_super17.apply(this,arguments)}return _createClass(PopulationDensityColumn,[{key:"formatValue",value:function formatValue(value){return void 0===value?"":Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.B)(value,{numDecimalPlaces:0,noTrailingZeroes:!1,numberPrefixes:!1})}}]),PopulationDensityColumn}(NumericColumn),Age:function(_NumericColumn6){_inherits(AgeColumn,_NumericColumn6);var _super18=_createSuper(AgeColumn);function AgeColumn(){return _classCallCheck(this,AgeColumn),_super18.apply(this,arguments)}return _createClass(AgeColumn,[{key:"formatValue",value:function formatValue(value){return void 0===value?"":Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.B)(value,{numDecimalPlaces:1,noTrailingZeroes:!1,numberPrefixes:!1})}}]),AgeColumn}(NumericColumn),Ratio:function(_NumericColumn7){_inherits(RatioColumn,_NumericColumn7);var _super19=_createSuper(RatioColumn);function RatioColumn(){return _classCallCheck(this,RatioColumn),_super19.apply(this,arguments)}return _createClass(RatioColumn,[{key:"formatValue",value:function formatValue(value){return void 0===value?"":Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.B)(value,{numDecimalPlaces:1,noTrailingZeroes:!1,numberPrefixes:!0})}}]),RatioColumn}(NumericColumn)},AbstractTable=(_dec=mobx__WEBPACK_IMPORTED_MODULE_36__.m.ref,_dec2=mobx__WEBPACK_IMPORTED_MODULE_36__.d.bound,_dec3=mobx__WEBPACK_IMPORTED_MODULE_36__.d.bound,_dec4=mobx__WEBPACK_IMPORTED_MODULE_36__.d.bound,_dec5=mobx__WEBPACK_IMPORTED_MODULE_36__.d.bound,_dec6=mobx__WEBPACK_IMPORTED_MODULE_36__.d.bound,_dec7=mobx__WEBPACK_IMPORTED_MODULE_36__.d.bound,_dec8=mobx__WEBPACK_IMPORTED_MODULE_36__.d.bound,_dec9=mobx__WEBPACK_IMPORTED_MODULE_36__.d.bound,_dec10=mobx__WEBPACK_IMPORTED_MODULE_36__.d.bound,_dec11=mobx__WEBPACK_IMPORTED_MODULE_36__.d.bound,_descriptor=_applyDecoratedDescriptor((_class3=function(){function AbstractTable(rows){var columnSpecs=arguments.length>1&&void 0!==arguments[1]?arguments[1]:AbstractTable.makeSpecsFromRows(rows),cloneRows=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];_classCallCheck(this,AbstractTable),_initializerDefineProperty(this,"_rows",_descriptor,this),_initializerDefineProperty(this,"columns",_descriptor2,this),this.load(rows,columnSpecs,cloneRows)}return _createClass(AbstractTable,[{key:"load",value:function load(rows){var columnSpecs=arguments.length>1&&void 0!==arguments[1]?arguments[1]:AbstractTable.makeSpecsFromRows(rows),cloneRows=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return cloneRows?this.cloneAndSetRows(rows):this.setRowsWithoutCloning(rows),this.addSpecs(columnSpecs),this}},{key:"setRowsWithoutCloning",value:function setRowsWithoutCloning(rows){this._rows=rows}},{key:"cloneAndSetRows",value:function cloneAndSetRows(rows){this._rows=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.e)(rows)}},{key:"addSpecs",value:function addSpecs(columnSpecs){var _this2=this,overwriteExistingSpec=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Array.isArray(columnSpecs)?columnSpecs=new Map(columnSpecs.map((function(spec){return[spec.slug,spec]}))):columnSpecs instanceof Map||(columnSpecs=new Map(Object.entries(columnSpecs)));var specs=columnSpecs,cols=this.columns;Array.from(specs.keys()).forEach((function(slug){var spec=specs.get(slug),columnType=spec.type&&columnTypeMap[spec.type]||AnyColumn;!overwriteExistingSpec&&cols.has(slug)||cols.set(slug,new columnType(_this2,spec))}))}},{key:"deleteColumnBySlug",value:function deleteColumnBySlug(slug){this.rows.forEach((function(row){return delete row[slug]})),this.columns.delete(slug)}},{key:"addFilterColumn",value:function addFilterColumn(slug,predicate){this._addComputedColumn(new FilterColumn(this,{slug:slug,fn:predicate}))}},{key:"addSelectionColumn",value:function addSelectionColumn(slug,predicate){this._addComputedColumn(new SelectionColumn(this,{slug:slug,fn:predicate}))}},{key:"_addComputedColumn",value:function _addComputedColumn(column){var _this3=this,slug=column.spec.slug;this.columns.set(slug,column);var fn=column.spec.fn;this.rows.forEach((function(row,index){row[slug]=fn(row,index,_this3)}))}},{key:"addStringColumnSpec",value:function addStringColumnSpec(spec){return this.columns.set(spec.slug,new StringColumn(this,spec)),this}},{key:"addCategoricalColumnSpec",value:function addCategoricalColumnSpec(spec){return this.columns.set(spec.slug,new CategoricalColumn(this,spec)),this}},{key:"addNumericComputedColumn",value:function addNumericComputedColumn(spec){return this._addComputedColumn(new NumericColumn(this,spec)),this}},{key:"addRollingAverageColumn",value:function addRollingAverageColumn(spec,windowSize,valueAccessor,dateColName,groupBy){var multiplier=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,intervalChange=arguments.length>6?arguments[6]:void 0,transformation=arguments.length>7&&void 0!==arguments[7]?arguments[7]:function(fn){return function(row,index){return fn(row,index)}},averages=computeRollingAveragesForEachGroup(this.rows,valueAccessor,groupBy,dateColName,windowSize),computeIntervalTotals=function computeIntervalTotals(row,index){var val=averages[index];if(!intervalChange)return val?val*multiplier:val;var previousValue=averages[index-intervalChange];return void 0===previousValue||0===previousValue?void 0:100*(val-previousValue)/previousValue};this._addComputedColumn(new NumericColumn(this,Object.assign({},spec,{fn:transformation(computeIntervalTotals)})))}},{key:"isSelected",value:function isSelected(row){return this.isSelectedFn&&this.isSelectedFn(row)}},{key:"rowsWith",value:function rowsWith(query){var slugs=this.columnSlugs;return this.rows.filter((function(row){return slugs.map((function(slug){var _row$slug;return"".concat(slug," ").concat(null!==(_row$slug=row[slug])&&void 0!==_row$slug?_row$slug:"")})).join(" ").includes(query)}))}},{key:"extract",value:function extract(){var slugs=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.columnSlugs;return this.rows.map((function(row){return slugs.map((function(slug){var _row$slug2;return null!==(_row$slug2=row[slug])&&void 0!==_row$slug2?_row$slug2:""}))}))}},{key:"toDelimited",value:function toDelimited(){var slugs=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.columnSlugs,rowLimit=arguments.length>1?arguments[1]:void 0,delimiter=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",",header=slugs.join(delimiter)+"\n",body=this.extract(slugs).slice(0,rowLimit).map((function(row){return row.join(delimiter)})).join("\n");return header+body}},{key:"cloneAndAddRowsAndDetectColumns",value:function cloneAndAddRowsAndDetectColumns(rows){return this._rows=this.rows.concat(Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.e)(rows)),this.addSpecs(AbstractTable.makeSpecsFromRows(rows)),this}},{key:"constantColumns",value:function constantColumns(){return this.columnsAsArray.filter((function(col){return col.isConstant}))}},{key:"toView",value:function toView(){return new TableView(this)}},{key:"rows",get:function get(){return this._rows}},{key:"timeColumn",get:function get(){return this.columnsAsArray.find((function(col){return col instanceof DateColumn}))||this.columnsAsArray.find((function(col){return col instanceof TemporalColumn}))}},{key:"timeColumnFormatFunction",get:function get(){return this.timeColumn?this.timeColumn.formatValue:grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.C}},{key:"columnsBySlug",get:function get(){return this.columns}},{key:"columnsByName",get:function get(){var map=new Map;return this.columns.forEach((function(col){map.set(col.name,col)})),map}},{key:"columnSlugs",get:function get(){return Array.from(this.columns.keys())}},{key:"numericColumnSlugs",get:function get(){return this.columnsAsArray.filter((function(col){return col instanceof NumericColumn})).map((function(col){return col.slug}))}},{key:"isSelectedFn",get:function get(){var selectionColumnSlugs=this.selectionColumnSlugs;return selectionColumnSlugs.length?function(row){return selectionColumnSlugs.some((function(slug){return row[slug]}))}:void 0}},{key:"selectedRows",get:function get(){var isSelectedFn=this.isSelectedFn;return isSelectedFn?this.rows.filter((function(row){return isSelectedFn(row)})):[]}},{key:"filteredRows",get:function get(){var unfiltered=new Set(this.unfilteredRows);return this.rows.filter((function(row){return!unfiltered.has(row)}))}},{key:"unfilteredRows",get:function get(){var filterFn=this.combinedFilterFn;return this.filterColumnSlugs.length?this.rows.filter((function(row){return filterFn(row)})):this.rows}},{key:"combinedFilterFn",get:function get(){var _this4=this,filterSlugs=this.filterColumnSlugs,filterFns=filterSlugs.map((function(slug){return _this4.columnsBySlug.get(slug).spec.fn}));return function(row){return filterSlugs.every((function(slug,index){return row[slug]=filterFns[index](row,index,_this4),row[slug]}))}}},{key:"filterColumnSlugs",get:function get(){return this.columnsAsArray.filter((function(col){return col instanceof FilterColumn})).map((function(col){return col.slug}))}},{key:"selectionColumnSlugs",get:function get(){return this.columnsAsArray.filter((function(col){return col instanceof SelectionColumn})).map((function(col){return col.slug}))}},{key:"columnsAsArray",get:function get(){return Array.from(this.columns.values())}}],[{key:"guessColumnSpec",value:function guessColumnSpec(slug){return"day"===slug?{slug:"day",type:_OwidTableConstants__WEBPACK_IMPORTED_MODULE_38__.a.Date,name:"Date"}:"year"===slug?{slug:"year",type:_OwidTableConstants__WEBPACK_IMPORTED_MODULE_38__.a.Year,name:"Year"}:{slug:slug}}},{key:"makeSpecsFromRows",value:function makeSpecsFromRows(rows){var map=new Map;return rows.forEach((function(row){Object.keys(row).forEach((function(slug){map.set(slug,OwidTable.guessColumnSpec(slug))}))})),map}}]),AbstractTable}()).prototype,"_rows",[_dec],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),_descriptor2=_applyDecoratedDescriptor(_class3.prototype,"columns",[mobx__WEBPACK_IMPORTED_MODULE_36__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return new Map}}),_applyDecoratedDescriptor(_class3.prototype,"load",[_dec2],Object.getOwnPropertyDescriptor(_class3.prototype,"load"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"rows",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"rows"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"timeColumn",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"timeColumn"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"timeColumnFormatFunction",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"timeColumnFormatFunction"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"addSpecs",[_dec3],Object.getOwnPropertyDescriptor(_class3.prototype,"addSpecs"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"deleteColumnBySlug",[_dec4],Object.getOwnPropertyDescriptor(_class3.prototype,"deleteColumnBySlug"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"addFilterColumn",[_dec5],Object.getOwnPropertyDescriptor(_class3.prototype,"addFilterColumn"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"addSelectionColumn",[_dec6],Object.getOwnPropertyDescriptor(_class3.prototype,"addSelectionColumn"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"addStringColumnSpec",[_dec7],Object.getOwnPropertyDescriptor(_class3.prototype,"addStringColumnSpec"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"addCategoricalColumnSpec",[_dec8],Object.getOwnPropertyDescriptor(_class3.prototype,"addCategoricalColumnSpec"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"addNumericComputedColumn",[_dec9],Object.getOwnPropertyDescriptor(_class3.prototype,"addNumericComputedColumn"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"addRollingAverageColumn",[_dec10],Object.getOwnPropertyDescriptor(_class3.prototype,"addRollingAverageColumn"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"columnsBySlug",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"columnsBySlug"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"columnsByName",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"columnsByName"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"columnSlugs",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"columnSlugs"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"numericColumnSlugs",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"numericColumnSlugs"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"isSelectedFn",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"isSelectedFn"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"selectedRows",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"selectedRows"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"unfilteredRows",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"unfilteredRows"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"combinedFilterFn",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"combinedFilterFn"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"filterColumnSlugs",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"filterColumnSlugs"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"selectionColumnSlugs",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"selectionColumnSlugs"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"columnsAsArray",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"columnsAsArray"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"cloneAndAddRowsAndDetectColumns",[_dec11],Object.getOwnPropertyDescriptor(_class3.prototype,"cloneAndAddRowsAndDetectColumns"),_class3.prototype),_class3),TableView=function(){function TableView(parentTable){_classCallCheck(this,TableView),this.parentTable=void 0,this.rows=void 0,this.columns=void 0,this.parentTable=parentTable,this.rows=parentTable.rows.slice(0),this.columns=parentTable.columnsAsArray.slice(0)}return _createClass(TableView,[{key:"sortBy",value:function sortBy(columnSlug){return this.rows=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.Fb)(this.rows,columnSlug),this}},{key:"deleteColumns",value:function deleteColumns(columnSlugs){var deleteThese=new Set(columnSlugs);return this.columns=this.columns.filter((function(col){return!deleteThese.has(col.slug)})),this}},{key:"toCsvWithColumnNames",value:function toCsvWithColumnNames(){var _this5=this;return this.columns.map((function(col){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.i)(col.name)})).join(",")+"\n"+this.rows.map((function(row){return _this5.columns.map((function(col){var _col$formatForCsv;return null!==(_col$formatForCsv=col.formatForCsv(row[col.slug]))&&void 0!==_col$formatForCsv?_col$formatForCsv:""}))})).map((function(row){return row.join(",")})).join("\n")}},{key:"toPrettyCsv",value:function toPrettyCsv(){var dropCols=this.parentTable.constantColumns().map((function(col){return col.slug}));return dropCols.push("entityId"),this.deleteColumns(dropCols).sortBy("entityName").toCsvWithColumnNames()}}]),TableView}(),OwidTable=(_dec12=mobx__WEBPACK_IMPORTED_MODULE_36__.d.bound,_dec13=mobx__WEBPACK_IMPORTED_MODULE_36__.d.bound,_dec14=mobx__WEBPACK_IMPORTED_MODULE_36__.d.bound,_dec15=mobx__WEBPACK_IMPORTED_MODULE_36__.d.bound,_temp3=_class6=function(_AbstractTable2){_inherits(OwidTable,_AbstractTable2);var _super21=_createSuper(OwidTable);function OwidTable(){var _this6;_classCallCheck(this,OwidTable);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this6=_super21.call.apply(_super21,[this].concat(args))).defaultEntitySelectionSlug="is_entity_selected",_this6}return _createClass(OwidTable,[{key:"setSelectedEntities",value:function setSelectedEntities(entityNames){var _this7=this;this.initDefaultEntitySelectionColumn();var set=new Set(entityNames);return this.rows.forEach((function(row){row[_this7.defaultEntitySelectionSlug]=set.has(row.entityName)})),this}},{key:"initDefaultEntitySelectionColumn",value:function initDefaultEntitySelectionColumn(){this.columnsBySlug.has(this.defaultEntitySelectionSlug)||this.columns.set(this.defaultEntitySelectionSlug,new SelectionColumn(this,{slug:this.defaultEntitySelectionSlug}))}},{key:"selectEntity",value:function selectEntity(entityName){var _this$rowsByEntityNam,_this8=this;return this.initDefaultEntitySelectionColumn(),null===(_this$rowsByEntityNam=this.rowsByEntityName.get(entityName))||void 0===_this$rowsByEntityNam||_this$rowsByEntityNam.forEach((function(row){return row[_this8.defaultEntitySelectionSlug]=!0})),this}},{key:"deselectEntity",value:function deselectEntity(entityName){var _this$rowsByEntityNam2,_this9=this;return null===(_this$rowsByEntityNam2=this.rowsByEntityName.get(entityName))||void 0===_this$rowsByEntityNam2||_this$rowsByEntityNam2.forEach((function(row){return delete row[_this9.defaultEntitySelectionSlug]})),this}},{key:"specToObject",value:function specToObject(){var output={};return Array.from(this.columns.values()).forEach((function(col){output[col.slug]=col.spec})),output}},{key:"toJs",value:function toJs(){return{columns:this.specToObject(),rows:this.rows}}},{key:"entitiesWith",value:function entitiesWith(columnSlugs){var _this10=this;return columnSlugs.length?1===columnSlugs.length?this.columnsBySlug.get(columnSlugs[0]).entityNamesUniq:Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.M)(columnSlugs.map((function(slug){return _this10.columnsBySlug.get(slug).entityNamesUniq}))):new Set}},{key:"loadFromLegacy",value:function loadFromLegacy(json){var _OwidTable$legacyVari=OwidTable.legacyVariablesToTabular(json),rows=_OwidTable$legacyVari.rows,columnSpecs=_OwidTable$legacyVari.columnSpecs;return this.load(rows,columnSpecs,!1)}},{key:"columnsByOwidVarId",get:function get(){var map=new Map;return Array.from(this.columns.values()).forEach((function(column,index){var _column$spec$owidVari;map.set(null!==(_column$spec$owidVari=column.spec.owidVariableId)&&void 0!==_column$spec$owidVari?_column$spec$owidVari:index,column)})),map}},{key:"availableEntities",get:function get(){return Array.from(this.availableEntitiesSet)}},{key:"availableEntitiesSet",get:function get(){return new Set(this.rows.map((function(row){return row.entityName})))}},{key:"unfilteredEntities",get:function get(){return new Set(this.unfilteredRows.map((function(row){return row.entityName})))}},{key:"entityIdToNameMap",get:function get(){var map=new Map;return this.rows.forEach((function(row){map.set(row.entityId,row.entityName)})),map}},{key:"entityCodeToNameMap",get:function get(){var map=new Map;return this.rows.forEach((function(row){row.entityCode?map.set(row.entityCode,row.entityName):map.set(row.entityName,row.entityName)})),map}},{key:"entityNameToIdMap",get:function get(){var map=new Map;return this.rows.forEach((function(row){map.set(row.entityName,row.entityId)})),map}},{key:"entityNameToCodeMap",get:function get(){var map=new Map;return this.rows.forEach((function(row){map.set(row.entityName,row.entityCode)})),map}},{key:"entityIndex",get:function get(){var map=new Map;return this.rows.forEach((function(row){map.has(row.entityName)||map.set(row.entityName,[]),map.get(row.entityName).push(row)})),map}},{key:"maxTime",get:function get(){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.db)(this.allTimes)}},{key:"minTime",get:function get(){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.hb)(this.allTimes)}},{key:"allTimes",get:function get(){return this.rows.filter((function(row){return row.year})).map((function(row){return row.year}))}},{key:"hasDayColumn",get:function get(){return this.columns.has("day")}},{key:"dayColumn",get:function get(){return this.columns.get("day")}},{key:"rowsByEntityName",get:function get(){var map=new Map;return this.rows.forEach((function(row){var name=row.entityName;map.has(name)||map.set(name,[]),map.get(name).push(row)})),map}}],[{key:"fromDelimited",value:function fromDelimited(csvOrTsv){var parsed=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.ob)(csvOrTsv),colSlugs=parsed[0]?Object.keys(parsed[0]):[],missingColumns=OwidTable.requiredColumnSpecs.filter((function(spec){return!colSlugs.includes(spec.slug)}));if(missingColumns.length)throw new Error("Table is missing required OWID columns: '".concat(missingColumns.join(","),"'"));var table=new OwidTable(parsed);return table.addSpecs(OwidTable.requiredColumnSpecs,!0),table}},{key:"annotationsToMap",value:function annotationsToMap(annotations){var entityAnnotationsMap=new Map;return annotations.split("\n").forEach((function(line){var _line$split2=_toArray(line.split(":")),key=_line$split2[0],words=_line$split2.slice(1);entityAnnotationsMap.set(key.trim(),words.join(":").trim())})),entityAnnotationsMap}},{key:"makeAnnotationColumnSlug",value:function makeAnnotationColumnSlug(columnSlug){return columnSlug+"-annotations"}},{key:"columnSpecFromLegacyVariable",value:function columnSpecFromLegacyVariable(variable){var _variable$display,slug=variable.id.toString(),unit=variable.unit,shortUnit=variable.shortUnit,description=variable.description,coverage=variable.coverage,datasetId=variable.datasetId,datasetName=variable.datasetName,source=variable.source,display=variable.display;return{name:123==variable.id?"Continent":variable.name,slug:slug,isDailyMeasurement:null===(_variable$display=variable.display)||void 0===_variable$display?void 0:_variable$display.yearIsDay,unit:unit,shortUnit:shortUnit,description:description,coverage:coverage,datasetId:datasetId,datasetName:datasetName,display:display,source:source,owidVariableId:variable.id,type:_OwidTableConstants__WEBPACK_IMPORTED_MODULE_38__.a.Numeric}}},{key:"legacyVariablesToTabular",value:function legacyVariablesToTabular(json){var rows=[],entityMetaById=json.entityKey,columnSpecs=new Map;OwidTable.requiredColumnSpecs.forEach((function(spec){columnSpecs.set(spec.slug,spec)}));var _loop=function _loop(key){var _variable$entities,_variable$entities2,_variable$display2,variable=json.variables[key],entityNames=(null===(_variable$entities=variable.entities)||void 0===_variable$entities?void 0:_variable$entities.map((function(id){return entityMetaById[id].name})))||[],entityCodes=(null===(_variable$entities2=variable.entities)||void 0===_variable$entities2?void 0:_variable$entities2.map((function(id){return entityMetaById[id].code})))||[],columnSpec=OwidTable.columnSpecFromLegacyVariable(variable),columnSlug=columnSpec.slug;columnSpec.isDailyMeasurement?columnSpecs.set("day",{slug:"day",type:_OwidTableConstants__WEBPACK_IMPORTED_MODULE_38__.a.Date,name:"Date"}):columnSpecs.set("year",{slug:"year",type:_OwidTableConstants__WEBPACK_IMPORTED_MODULE_38__.a.Year,name:"Year"}),columnSpecs.set(columnSlug,columnSpec);var annotationsColumnSlug=void 0,annotationMap=void 0;(null===(_variable$display2=variable.display)||void 0===_variable$display2?void 0:_variable$display2.entityAnnotationsMap)&&(annotationsColumnSlug=OwidTable.makeAnnotationColumnSlug(columnSlug),annotationMap=OwidTable.annotationsToMap(variable.display.entityAnnotationsMap),columnSpecs.set(annotationsColumnSlug,{slug:annotationsColumnSlug,type:_OwidTableConstants__WEBPACK_IMPORTED_MODULE_38__.a.String,name:"".concat(columnSpec.name," Annotations")}),columnSpec.annotationsColumnSlug=annotationsColumnSlug);var timeColumnName=columnSpec.isDailyMeasurement?"day":"year",display=variable.display,yearsNeedTransform=display&&display.yearIsDay&&void 0!==display.zeroDay&&display.zeroDay!==grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_37__.c,yearsRaw=variable.years||[],years=yearsNeedTransform&&display?OwidTable.convertLegacyYears(yearsRaw,display.zeroDay):yearsRaw,values=variable.values||[],entities=variable.entities||[],newRows=values.map((function(value,index){var _row2,entityName=entityNames[index],row=(_defineProperty(_row2={},timeColumnName,years[index]),_defineProperty(_row2,columnSlug,value),_defineProperty(_row2,"entityName",entityName),_defineProperty(_row2,"entityId",entities[index]),_defineProperty(_row2,"entityCode",entityCodes[index]),_row2);return annotationsColumnSlug&&(row[annotationsColumnSlug]=annotationMap.get(entityName)),row}));rows=rows.concat(newRows)};for(var key in json.variables)_loop(key);var groupMap=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.G)(rows,(function(row){return(void 0!==row.year?"year:".concat(row.year):"day:".concat(row.day))+" "+row.entityName})),joinedRows=Object.keys(groupMap).map((function(groupKey){return Object.assign.apply(Object,[{}].concat(_toConsumableArray(groupMap[groupKey])))}));return{rows:Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.Fb)(joinedRows,["year","day"]),columnSpecs:columnSpecs}}},{key:"convertLegacyYears",value:function convertLegacyYears(years,zeroDay){var diff=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_35__.n)(zeroDay,grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_37__.c);return years.map((function(y){return y+diff}))}}]),OwidTable}(AbstractTable),_class6.requiredColumnSpecs=[{name:"Entity",slug:"entityName",type:_OwidTableConstants__WEBPACK_IMPORTED_MODULE_38__.a.Categorical},{slug:"entityId",type:_OwidTableConstants__WEBPACK_IMPORTED_MODULE_38__.a.Categorical},{name:"Code",slug:"entityCode",type:_OwidTableConstants__WEBPACK_IMPORTED_MODULE_38__.a.Categorical}],_applyDecoratedDescriptor((_class5=_temp3).prototype,"columnsByOwidVarId",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"columnsByOwidVarId"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"availableEntities",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"availableEntities"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"availableEntitiesSet",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"availableEntitiesSet"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"unfilteredEntities",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"unfilteredEntities"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"entityIdToNameMap",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"entityIdToNameMap"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"entityCodeToNameMap",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"entityCodeToNameMap"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"entityNameToIdMap",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"entityNameToIdMap"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"entityNameToCodeMap",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"entityNameToCodeMap"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"entityIndex",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"entityIndex"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"maxTime",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"maxTime"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"minTime",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"minTime"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"allTimes",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"allTimes"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"hasDayColumn",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"hasDayColumn"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"dayColumn",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"dayColumn"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"rowsByEntityName",[mobx__WEBPACK_IMPORTED_MODULE_36__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"rowsByEntityName"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"setSelectedEntities",[_dec12],Object.getOwnPropertyDescriptor(_class5.prototype,"setSelectedEntities"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"selectEntity",[_dec13],Object.getOwnPropertyDescriptor(_class5.prototype,"selectEntity"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"deselectEntity",[_dec14],Object.getOwnPropertyDescriptor(_class5.prototype,"deselectEntity"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"loadFromLegacy",[_dec15],Object.getOwnPropertyDescriptor(_class5.prototype,"loadFromLegacy"),_class5.prototype),_class5)},,function(module,__webpack_exports__,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}__webpack_require__.d(__webpack_exports__,"b",(function(){return NumericBin})),__webpack_require__.d(__webpack_exports__,"a",(function(){return CategoricalBin}));var NumericBin=function(){function NumericBin(props){_classCallCheck(this,NumericBin),this.props=void 0,this.props=props}return _createClass(NumericBin,[{key:"contains",value:function contains(value){return void 0!==value&&(this.props.isOpenLeft?value<=this.max:this.props.isOpenRight?value>this.min:this.props.isFirst?value>=this.min&&value<=this.max:value>this.min&&value<=this.max)}},{key:"equals",value:function equals(other){return other instanceof NumericBin&&this.min===other.min&&this.max===other.max}},{key:"min",get:function get(){return this.props.min}},{key:"max",get:function get(){return this.props.max}},{key:"color",get:function get(){return this.props.color}},{key:"minText",get:function get(){var str=this.props.format(this.props.min);return this.props.isOpenLeft?"<".concat(str):str}},{key:"maxText",get:function get(){var str=this.props.format(this.props.max);return this.props.isOpenRight?">".concat(str):str}},{key:"label",get:function get(){return this.props.label}},{key:"text",get:function get(){return this.props.label||""}},{key:"isHidden",get:function get(){return!1}}]),NumericBin}(),CategoricalBin=function(){function CategoricalBin(props){_classCallCheck(this,CategoricalBin),this.props=void 0,this.props=props}return _createClass(CategoricalBin,[{key:"contains",value:function contains(value){return void 0===value&&"No data"===this.props.value||void 0!==value&&value===this.props.value}},{key:"equals",value:function equals(other){return other instanceof CategoricalBin&&this.props.index===other.props.index}},{key:"index",get:function get(){return this.props.index}},{key:"value",get:function get(){return this.props.value}},{key:"color",get:function get(){return this.props.color}},{key:"label",get:function get(){return this.props.label}},{key:"isHidden",get:function get(){return this.props.isHidden}},{key:"text",get:function get(){return this.props.label||this.props.value}}]),CategoricalBin}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return TargetTimeMode})),__webpack_require__.d(__webpack_exports__,"b",(function(){return RangeValueKey})),__webpack_require__.d(__webpack_exports__,"e",(function(){return isRangeValue})),__webpack_require__.d(__webpack_exports__,"c",(function(){return SingleValueKey})),__webpack_require__.d(__webpack_exports__,"f",(function(){return isSingleValue})),__webpack_require__.d(__webpack_exports__,"a",(function(){return DataTableTransform}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(31),__webpack_require__(49),__webpack_require__(19),__webpack_require__(30),__webpack_require__(14),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(23),__webpack_require__(11),__webpack_require__(71),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var _class,TargetTimeMode,RangeValueKey,SingleValueKey,mobx__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(0),grapher_utils_Util__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(2),grapher_utils_TimeBounds__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(42),grapher_chart_ChartTransform__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(69);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function isRangeValue(value){return"start"in value}function isSingleValue(value){return"single"in value}!function(TargetTimeMode){TargetTimeMode.point="point",TargetTimeMode.range="range"}(TargetTimeMode||(TargetTimeMode={})),function(RangeValueKey){RangeValueKey.start="start",RangeValueKey.end="end",RangeValueKey.delta="delta",RangeValueKey.deltaRatio="deltaRatio"}(RangeValueKey||(RangeValueKey={})),function(SingleValueKey){SingleValueKey.single="single"}(SingleValueKey||(SingleValueKey={}));var getHeaderUnit=function getHeaderUnit(unit){return"%"!==unit?unit:"percent"},DataTableTransform=(_applyDecoratedDescriptor((_class=function(_ChartTransform){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DataTableTransform,_ChartTransform);var _super=_createSuper(DataTableTransform);function DataTableTransform(grapher){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DataTableTransform),(_this=_super.call(this,grapher)).grapher=void 0,_this.AUTO_SELECTION_THRESHOLD_PERCENTAGE=.5,_this.grapher=grapher,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DataTableTransform,[{key:"formatValue",value:function formatValue(dimension,value,formattingOverrides){return void 0===value?value:dimension.formatValueShortFn(value,Object.assign({numberPrefixes:!1,noTrailingZeroes:!1,unit:dimension.shortUnit},formattingOverrides))}},{key:"loadedWithData",get:function get(){return this.dimensions.length>0}},{key:"autoSelectedStartTime",get:function get(){var _this2=this,autoSelectedStartTime=void 0;if(!this.grapher.userHasSetTimeline&&!this.initialTimelineStartTimeSpecified&&this.loadedWithData){var numEntitiesInTable=this.entities.length;return this.dimensions.forEach((function(dim){var _numberOfEntitiesWith,firstTimeWithSufficientData=null===(_numberOfEntitiesWith=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_26__.Fb)(Object.entries(Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_26__.h)(dim.times)),(function(value){return parseInt(value[0])})).find((function(time){return time[1]/numEntitiesInTable>=_this2.AUTO_SELECTION_THRESHOLD_PERCENTAGE})))||void 0===_numberOfEntitiesWith?void 0:_numberOfEntitiesWith[0];return!firstTimeWithSufficientData||(autoSelectedStartTime=parseInt(firstTimeWithSufficientData),!1)})),autoSelectedStartTime}}},{key:"availableTimes",get:function get(){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_26__.L)(Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_26__.z)(this.dimensions.map((function(dim){return dim.timesUniq}))))}},{key:"dimensions",get:function get(){return this.grapher.multiMetricTableMode?this.grapher.dataTableOnlyDimensions:this.grapher.filledDimensions.filter((function(dim){return dim.includeInTable}))}},{key:"entities",get:function get(){return grapher_utils_Util__WEBPACK_IMPORTED_MODULE_26__.Tb.apply(void 0,_toConsumableArray(this.dimensions.map((function(dim){return dim.entityNamesUniq}))))}},{key:"targetTimeMode",get:function get(){var grapher=this.grapher;return grapher.isLineChart&&!grapher.lineChartTransform.isSingleTime||grapher.isStackedArea||grapher.isStackedBar||grapher.isScatter&&!grapher.scatterTransform.compareEndPointsOnly?TargetTimeMode.range:TargetTimeMode.point}},{key:"initialTimelineStartTimeSpecified",get:function get(){var initialMinTime=this.grapher.configOnLoad.minTime;return!!initialMinTime&&!Object(grapher_utils_TimeBounds__WEBPACK_IMPORTED_MODULE_27__.f)(initialMinTime)}},{key:"targetTimes",get:function get(){var _grapher$map$time,grapher=this.grapher;return"map"===grapher.currentTab?[Object(grapher_utils_TimeBounds__WEBPACK_IMPORTED_MODULE_27__.e)([grapher.startTime,grapher.endTime],null!==(_grapher$map$time=grapher.map.time)&&void 0!==_grapher$map$time?_grapher$map$time:grapher_utils_TimeBounds__WEBPACK_IMPORTED_MODULE_27__.a.unboundedRight)]:this.startTimelineTime===this.endTimelineTime?[this.startTimelineTime]:[this.startTimelineTime,this.endTimelineTime]}},{key:"dimensionsWithValues",get:function get(){var _this3=this;return this.dimensions.map((function(dimension){var targetTimes=void 0!==dimension.targetYear&&_this3.grapher.isScatter?[dimension.targetYear]:_this3.targetTimes,targetTimeMode=targetTimes.length<2?TargetTimeMode.point:_this3.targetTimeMode,prelimValuesByEntity=targetTimeMode===TargetTimeMode.range?Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_26__.r)(Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_26__.Zb)(dimension.valueByEntityAndTime,targetTimes),grapher_utils_Util__WEBPACK_IMPORTED_MODULE_26__.F):Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_26__.Yb)(dimension.valueByEntityAndTime,targetTimes,dimension.tolerance),isRange=2===targetTimes.length,deltaColumns=[];if(isRange){var tableDisplay=dimension.display.tableDisplay;(null==tableDisplay?void 0:tableDisplay.hideAbsoluteChange)||deltaColumns.push({key:RangeValueKey.delta}),(null==tableDisplay?void 0:tableDisplay.hideRelativeChange)||deltaColumns.push({key:RangeValueKey.deltaRatio})}var columns=[].concat(_toConsumableArray(targetTimes.map((function(targetTime,index){return{key:isRange?0===index?RangeValueKey.start:RangeValueKey.end:SingleValueKey.single,targetTime:targetTime,targetTimeMode:targetTimeMode}}))),deltaColumns),valueByEntity=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_26__.r)(prelimValuesByEntity,(function(dvs){if(isRange){var _dvs=_slicedToArray(dvs,2),start=_dvs[0],end=_dvs[1],result={start:Object.assign({},start,{formattedValue:_this3.formatValue(dimension,null==start?void 0:start.value)}),end:Object.assign({},end,{formattedValue:_this3.formatValue(dimension,null==end?void 0:end.value)}),delta:void 0,deltaRatio:void 0};if(void 0!==start&&void 0!==end&&"number"==typeof start.value&&"number"==typeof end.value){var deltaValue=end.value-start.value,deltaRatioValue=deltaValue/Math.abs(start.value);result.delta={value:deltaValue,formattedValue:_this3.formatValue(dimension,deltaValue,{showPlus:!0,unit:"%"===dimension.shortUnit?"pp":dimension.shortUnit})},result.deltaRatio={value:deltaRatioValue,formattedValue:isFinite(deltaRatioValue)&&!isNaN(deltaRatioValue)?_this3.formatValue(dimension,100*deltaRatioValue,{unit:"%",numDecimalPlaces:0,showPlus:!0}):void 0}}return result}var dv=dvs[0],_result={single:Object.assign({},dv)};return void 0!==dv&&(_result.single.formattedValue=_this3.formatValue(dimension,dv.value)),_result}));return{dimension:dimension,columns:columns,valueByEntity:valueByEntity}}))}},{key:"displayDimensions",get:function get(){return this.dimensionsWithValues.map((function(d){return{key:d.dimension.variableId,name:d.dimension.displayName||d.dimension.column.name||"",unit:getHeaderUnit(d.dimension.unit),sortable:1===d.columns.length,columns:d.columns.map((function(column){return Object.assign({},column,{sortable:!0})})),formatTime:d.dimension.formatTimeFn}}))}},{key:"displayRows",get:function get(){var _this4=this;return this.entities.map((function(entity){var dimensionValues=_this4.dimensionsWithValues.map((function(d){return d.valueByEntity.get(entity)}));return{entity:entity,dimensionValues:dimensionValues}}))}}]),DataTableTransform}(grapher_chart_ChartTransform__WEBPACK_IMPORTED_MODULE_28__.a)).prototype,"loadedWithData",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class.prototype,"loadedWithData"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"autoSelectedStartTime",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class.prototype,"autoSelectedStartTime"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"availableTimes",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class.prototype,"availableTimes"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"dimensions",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class.prototype,"dimensions"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"entities",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class.prototype,"entities"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"targetTimeMode",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class.prototype,"targetTimeMode"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"initialTimelineStartTimeSpecified",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class.prototype,"initialTimelineStartTimeSpecified"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"targetTimes",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class.prototype,"targetTimes"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"dimensionsWithValues",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class.prototype,"dimensionsWithValues"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"displayDimensions",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class.prototype,"displayDimensions"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"displayRows",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class.prototype,"displayRows"),_class.prototype),_class)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("ax0f")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("1Iuc")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return GrapherView_GrapherView}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(31),__webpack_require__(19),__webpack_require__(14),__webpack_require__(46),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(75),__webpack_require__(27),__webpack_require__(16),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var _dec,_dec2,_class,_class2,_dec3,_dec4,_dec5,_dec6,_dec7,_class4,_class5,delegated_reactfrom_dll_reference_storybook_docs_dll=__webpack_require__(1),delegated_reactfrom_dll_reference_storybook_docs_dll_default=__webpack_require__.n(delegated_reactfrom_dll_reference_storybook_docs_dll),delegated_react_domfrom_dll_reference_storybook_docs_dll=__webpack_require__(54),mobx_module=__webpack_require__(0),index_module=__webpack_require__(9),index_es=(__webpack_require__(990),__webpack_require__(36)),faExclamationTriangle=__webpack_require__(604),Grapher=__webpack_require__(117),client_url=(__webpack_require__(11),__webpack_require__(50)),TimelineComponent=__webpack_require__(126),Util=__webpack_require__(2),faDownload=__webpack_require__(220),faShareAlt=__webpack_require__(219),faExpand=__webpack_require__(592),faExternalLinkAlt=__webpack_require__(593),js_cookie=(__webpack_require__(94),__webpack_require__(218)),js_cookie_default=__webpack_require__.n(js_cookie),copy_to_clipboard=__webpack_require__(586),copy_to_clipboard_default=__webpack_require__.n(copy_to_clipboard),faTwitter=__webpack_require__(587),faFacebook=__webpack_require__(588),faCode=__webpack_require__(589),faCopy=__webpack_require__(590),faEdit=__webpack_require__(591),GrapherConstants=__webpack_require__(17);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var Controls_dec,Controls_class,Controls_class2,Controls_dec2,_class3,Controls_class4,Controls_dec3,Controls_class5,_class6,_class7,Controls_dec4,Controls_dec5,_class8,_class9,ShareMenu_EmbedMenu=(_dec=mobx_module.d.bound,_dec2=mobx_module.d.bound,Object(index_module.a)((_applyDecoratedDescriptor((_class2=function(_React$Component){_inherits(EmbedMenu,_React$Component);var _super=_createSuper(EmbedMenu);function EmbedMenu(){var _this;_classCallCheck(this,EmbedMenu);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).dismissable=!0,_this}return _createClass(EmbedMenu,[{key:"onClickSomewhere",value:function onClickSomewhere(){this.dismissable?this.props.grapherView.removePopup(EmbedMenu):this.dismissable=!0}},{key:"onClick",value:function onClick(){this.dismissable=!1}},{key:"componentDidMount",value:function componentDidMount(){document.addEventListener("click",this.onClickSomewhere)}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("click",this.onClickSomewhere)}},{key:"render",value:function render(){var url=this.props.grapherView.grapher.url.canonicalUrl;return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"embedMenu",onClick:this.onClick},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("h2",null,"Embed"),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("p",null,"Paste this into any HTML page:"),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("textarea",{readOnly:!0,onFocus:function onFocus(evt){return evt.currentTarget.select()},value:'<iframe src="'.concat(url,'" loading="lazy" style="width: 100%; height: 600px; border: 0px none;"></iframe>')}),this.props.grapherView.grapher.embedExplorerCheckbox)}}]),EmbedMenu}(delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.Component)).prototype,"onClickSomewhere",[_dec],Object.getOwnPropertyDescriptor(_class2.prototype,"onClickSomewhere"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"onClick",[_dec2],Object.getOwnPropertyDescriptor(_class2.prototype,"onClick"),_class2.prototype),_class=_class2))||_class),ShareMenu_ShareMenu=(_dec3=mobx_module.d.bound,_dec4=mobx_module.d.bound,_dec5=mobx_module.d.bound,_dec6=mobx_module.d.bound,_dec7=mobx_module.d.bound,Object(index_module.a)((_applyDecoratedDescriptor((_class5=function(_React$Component2){_inherits(ShareMenu,_React$Component2);var _onNavigatorShare,_super2=_createSuper(ShareMenu);function ShareMenu(props){var _this2;return _classCallCheck(this,ShareMenu),(_this2=_super2.call(this,props)).dismissable=!0,_this2.state={copied:!1},_this2}return _createClass(ShareMenu,[{key:"dismiss",value:function dismiss(){this.props.onDismiss()}},{key:"onClickSomewhere",value:function onClickSomewhere(){this.dismissable?this.dismiss():this.dismissable=!0}},{key:"componentDidMount",value:function componentDidMount(){document.addEventListener("click",this.onClickSomewhere)}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("click",this.onClickSomewhere)}},{key:"onEmbed",value:function onEmbed(){this.canonicalUrl&&(this.props.grapherView.addPopup(delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(ShareMenu_EmbedMenu,{key:"EmbedMenu",grapherView:this.props.grapherView})),this.dismiss())}},{key:"onNavigatorShare",value:(_onNavigatorShare=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var shareData;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!this.canonicalUrl||!navigator.share){_context.next=10;break}return shareData={title:this.title,url:this.canonicalUrl},_context.prev=2,_context.next=5,navigator.share(shareData);case 5:_context.next=10;break;case 7:_context.prev=7,_context.t0=_context.catch(2),console.error("couldn't share using navigator.share",_context.t0);case 10:case"end":return _context.stop()}}),_callee,this,[[2,7]])}))),function onNavigatorShare(){return _onNavigatorShare.apply(this,arguments)})},{key:"onCopy",value:function onCopy(){this.canonicalUrl&&copy_to_clipboard_default()(this.canonicalUrl)&&this.setState({copied:!0})}},{key:"render",value:function render(){var _this3=this,editUrl=this.editUrl,twitterHref=this.twitterHref,facebookHref=this.facebookHref,isDisabled=this.isDisabled;return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"ShareMenu"+(isDisabled?" disabled":""),onClick:Object(mobx_module.d)((function(){return _this3.dismissable=!1}))},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("h2",null,"Share"),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("a",{className:"btn",target:"_blank",title:"Tweet a link","data-track-note":"chart-share-twitter",href:twitterHref},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(index_es.a,{icon:faTwitter.faTwitter})," Twitter"),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("a",{className:"btn",target:"_blank",title:"Share on Facebook","data-track-note":"chart-share-facebook",href:facebookHref},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(index_es.a,{icon:faFacebook.faFacebook})," Facebook"),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("a",{className:"btn",title:"Embed this visualization in another HTML document","data-track-note":"chart-share-embed",onClick:this.onEmbed},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(index_es.a,{icon:faCode.faCode})," Embed"),"share"in navigator&&delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("a",{className:"btn",title:"Share this visualization with an app on your device","data-track-note":"chart-share-navigator",onClick:this.onNavigatorShare},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(index_es.a,{icon:faShareAlt.faShareAlt})," Share viaâ¦"),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("a",{className:"btn",title:"Copy link to clipboard","data-track-note":"chart-share-copylink",onClick:this.onCopy},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(index_es.a,{icon:faCopy.faCopy}),this.state.copied?"Copied!":"Copy link"),editUrl&&delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("a",{className:"btn",target:"_blank",title:"Edit chart",href:editUrl},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(index_es.a,{icon:faEdit.faEdit})," Edit"))}},{key:"title",get:function get(){return this.props.grapher.currentTitle}},{key:"isDisabled",get:function get(){return!this.props.grapher.slug}},{key:"editUrl",get:function get(){var grapher=this.props.grapher;return js_cookie_default.a.get(GrapherConstants.b.isAdmin)||grapher.isDev?"".concat(grapher.adminBaseUrl,"/admin/charts/").concat(grapher.id,"/edit"):void 0}},{key:"canonicalUrl",get:function get(){return this.props.grapher.url.canonicalUrl}},{key:"twitterHref",get:function get(){var href="https://twitter.com/intent/tweet/?text="+encodeURIComponent(this.title);return this.canonicalUrl&&(href+="&url="+encodeURIComponent(this.canonicalUrl)),href}},{key:"facebookHref",get:function get(){var href="https://www.facebook.com/dialog/share?app_id=1149943818390250&display=page";return this.canonicalUrl&&(href+="&href="+encodeURIComponent(this.canonicalUrl)),href}}]),ShareMenu}(delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.Component)).prototype,"title",[mobx_module.f],Object.getOwnPropertyDescriptor(_class5.prototype,"title"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"isDisabled",[mobx_module.f],Object.getOwnPropertyDescriptor(_class5.prototype,"isDisabled"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"editUrl",[mobx_module.f],Object.getOwnPropertyDescriptor(_class5.prototype,"editUrl"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"canonicalUrl",[mobx_module.f],Object.getOwnPropertyDescriptor(_class5.prototype,"canonicalUrl"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"dismiss",[_dec3],Object.getOwnPropertyDescriptor(_class5.prototype,"dismiss"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"onClickSomewhere",[_dec4],Object.getOwnPropertyDescriptor(_class5.prototype,"onClickSomewhere"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"onEmbed",[_dec5],Object.getOwnPropertyDescriptor(_class5.prototype,"onEmbed"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"onNavigatorShare",[_dec6],Object.getOwnPropertyDescriptor(_class5.prototype,"onNavigatorShare"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"onCopy",[_dec7],Object.getOwnPropertyDescriptor(_class5.prototype,"onCopy"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"twitterHref",[mobx_module.f],Object.getOwnPropertyDescriptor(_class5.prototype,"twitterHref"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"facebookHref",[mobx_module.f],Object.getOwnPropertyDescriptor(_class5.prototype,"facebookHref"),_class5.prototype),_class4=_class5))||_class4);try{ShareMenu_ShareMenu.displayName="ShareMenu",ShareMenu_ShareMenu.__docgenInfo={description:"",displayName:"ShareMenu",props:{grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}},grapherView:{defaultValue:null,description:"",name:"grapherView",required:!0,type:{name:"any"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/controls/ShareMenu.tsx#ShareMenu"]={docgenInfo:ShareMenu_ShareMenu.__docgenInfo,name:"ShareMenu",path:"grapher/controls/ShareMenu.tsx#ShareMenu"})}catch(__react_docgen_typescript_loader_error){}function Controls_typeof(obj){return(Controls_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Controls_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Controls_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Controls_createClass(Constructor,protoProps,staticProps){return protoProps&&Controls_defineProperties(Constructor.prototype,protoProps),staticProps&&Controls_defineProperties(Constructor,staticProps),Constructor}function Controls_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Controls_setPrototypeOf(subClass,superClass)}function Controls_setPrototypeOf(o,p){return(Controls_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Controls_createSuper(Derived){var hasNativeReflectConstruct=function Controls_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Controls_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Controls_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Controls_possibleConstructorReturn(this,result)}}function Controls_possibleConstructorReturn(self,call){return!call||"object"!==Controls_typeof(call)&&"function"!=typeof call?function Controls_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Controls_getPrototypeOf(o){return(Controls_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Controls_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var Controls_HighlightToggle=(Controls_dec=mobx_module.d.bound,Object(index_module.a)((Controls_applyDecoratedDescriptor((Controls_class2=function(_React$Component){Controls_inherits(HighlightToggle,_React$Component);var _super=Controls_createSuper(HighlightToggle);function HighlightToggle(){return Controls_classCallCheck(this,HighlightToggle),_super.apply(this,arguments)}return Controls_createClass(HighlightToggle,[{key:"onHighlightToggle",value:function onHighlightToggle(e){if(e.currentTarget.checked){var params=Object.assign({},Object(client_url.b)(),this.highlightParams);this.grapher.populateFromQueryParams(params)}else this.grapher.selectedKeys=[]}},{key:"render",value:function render(){var highlight=this.highlight,isHighlightActive=this.isHighlightActive;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("label",{className:"clickable HighlightToggle"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("input",{type:"checkbox",checked:isHighlightActive,onChange:this.onHighlightToggle})," ","Â ",highlight.description)}},{key:"grapher",get:function get(){return this.props.grapher}},{key:"highlight",get:function get(){return this.props.highlightToggle}},{key:"highlightParams",get:function get(){return Object(client_url.a)((this.highlight.paramStr||"").substring(1))}},{key:"isHighlightActive",get:function get(){var _this=this,params=Object(client_url.b)(),isActive=!0;return Object.keys(this.highlightParams).forEach((function(key){params[key]!==_this.highlightParams[key]&&(isActive=!1)})),isActive}}]),HighlightToggle}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component)).prototype,"grapher",[mobx_module.f],Object.getOwnPropertyDescriptor(Controls_class2.prototype,"grapher"),Controls_class2.prototype),Controls_applyDecoratedDescriptor(Controls_class2.prototype,"highlight",[mobx_module.f],Object.getOwnPropertyDescriptor(Controls_class2.prototype,"highlight"),Controls_class2.prototype),Controls_applyDecoratedDescriptor(Controls_class2.prototype,"highlightParams",[mobx_module.f],Object.getOwnPropertyDescriptor(Controls_class2.prototype,"highlightParams"),Controls_class2.prototype),Controls_applyDecoratedDescriptor(Controls_class2.prototype,"onHighlightToggle",[Controls_dec],Object.getOwnPropertyDescriptor(Controls_class2.prototype,"onHighlightToggle"),Controls_class2.prototype),Controls_class=Controls_class2))||Controls_class),Controls_AbsRelToggle=(Controls_dec2=mobx_module.d.bound,Object(index_module.a)((Controls_applyDecoratedDescriptor((Controls_class4=function(_React$Component2){Controls_inherits(AbsRelToggle,_React$Component2);var _super2=Controls_createSuper(AbsRelToggle);function AbsRelToggle(){return Controls_classCallCheck(this,AbsRelToggle),_super2.apply(this,arguments)}return Controls_createClass(AbsRelToggle,[{key:"onToggle",value:function onToggle(){this.props.grapher.toggleRelativeMode()}},{key:"render",value:function render(){var grapher=this.props.grapher,label="Relative";return grapher.isScatter||grapher.isTimeScatter?label="Average annual change":grapher.isLineChart&&(label="Relative change"),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("label",{className:"clickable"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("input",{type:"checkbox",checked:grapher.isRelativeMode,onChange:this.onToggle,"data-track-note":"chart-abs-rel-toggle"})," ","Â ",label)}}]),AbsRelToggle}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component)).prototype,"onToggle",[Controls_dec2],Object.getOwnPropertyDescriptor(Controls_class4.prototype,"onToggle"),Controls_class4.prototype),_class3=Controls_class4))||_class3),Controls_ZoomToggle=(Controls_dec3=mobx_module.d.bound,Object(index_module.a)((Controls_applyDecoratedDescriptor((_class6=function(_React$Component3){Controls_inherits(ZoomToggle,_React$Component3);var _super3=Controls_createSuper(ZoomToggle);function ZoomToggle(){return Controls_classCallCheck(this,ZoomToggle),_super3.apply(this,arguments)}return Controls_createClass(ZoomToggle,[{key:"onToggle",value:function onToggle(){this.props.grapher.zoomToSelection=!this.props.grapher.zoomToSelection||void 0}},{key:"render",value:function render(){return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("label",{className:"clickable"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("input",{type:"checkbox",checked:this.props.grapher.zoomToSelection,onChange:this.onToggle,"data-track-note":"chart-zoom-to-selection"})," ","Â ","Zoom to selection")}}]),ZoomToggle}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component)).prototype,"onToggle",[Controls_dec3],Object.getOwnPropertyDescriptor(_class6.prototype,"onToggle"),_class6.prototype),Controls_class5=_class6))||Controls_class5),Controls_FilterSmallCountriesToggle=Object(index_module.a)(_class7=function(_React$Component4){Controls_inherits(FilterSmallCountriesToggle,_React$Component4);var _super4=Controls_createSuper(FilterSmallCountriesToggle);function FilterSmallCountriesToggle(){return Controls_classCallCheck(this,FilterSmallCountriesToggle),_super4.apply(this,arguments)}return Controls_createClass(FilterSmallCountriesToggle,[{key:"render",value:function render(){var _this2=this,label="Hide countries < ".concat(Object(Util.B)(this.props.grapher.populationFilterOption,{})," people");return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("label",{className:"clickable"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("input",{type:"checkbox",checked:!!this.props.grapher.minPopulationFilter,onChange:function onChange(){return _this2.props.grapher.toggleMinPopulationFilter()},"data-track-note":"chart-filter-small-countries"})," ","Â ",label)}}]),FilterSmallCountriesToggle}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component))||_class7,Controls_ControlsFooterView=(Controls_dec4=mobx_module.d.bound,Controls_dec5=mobx_module.d.bound,Object(index_module.a)((Controls_applyDecoratedDescriptor((_class9=function(_React$Component5){Controls_inherits(ControlsFooterView,_React$Component5);var _super5=Controls_createSuper(ControlsFooterView);function ControlsFooterView(){return Controls_classCallCheck(this,ControlsFooterView),_super5.apply(this,arguments)}return Controls_createClass(ControlsFooterView,[{key:"onShareMenu",value:function onShareMenu(){this.grapherView.isShareMenuActive=!this.grapherView.isShareMenuActive}},{key:"onDataSelect",value:function onDataSelect(){this.grapher.isSelectingData=!0}},{key:"_getTabsElement",value:function _getTabsElement(){var grapher=this.grapher;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("nav",{className:"tabs"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("ul",null,grapher.availableTabs.map((function(tabName){return"download"!==tabName&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("li",{key:tabName,className:"tab clickable"+(tabName===grapher.currentTab?" active":""),onClick:function onClick(){return grapher.currentTab=tabName}},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("a",{"data-track-note":"chart-click-"+tabName},tabName))})),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("li",{className:"tab clickable icon download-tab-button"+("download"===grapher.currentTab?" active":""),"data-track-note":"chart-click-download",onClick:function onClick(){return grapher.currentTab="download"},title:"Download as .png or .svg"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("a",null,delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(index_es.a,{icon:faDownload.faDownload})," Download")),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("li",{className:"clickable icon"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("a",{title:"Share",onClick:this.onShareMenu,"data-track-note":"chart-click-share"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(index_es.a,{icon:faShareAlt.faShareAlt}))),grapher.isEmbed&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("li",{className:"clickable icon"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("a",{title:"Open chart in new tab",href:grapher.url.canonicalUrl,"data-track-note":"chart-click-newtab",target:"_blank"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(index_es.a,{icon:faExpand.faExpand})))))}},{key:"render",value:function render(){var grapher=this.grapher,grapherView=this.grapherView,isShareMenuActive=grapherView.isShareMenuActive,hasRelatedQuestion=grapherView.hasRelatedQuestion,relatedQuestions=grapher.relatedQuestions,tabsElement=delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:"footerRowSingle"},this._getTabsElement()),shareMenuElement=isShareMenuActive&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(ShareMenu_ShareMenu,{grapherView:grapherView,grapher:grapher,onDismiss:this.onShareMenu}),relatedQuestionElement=relatedQuestions&&hasRelatedQuestion&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:"relatedQuestion"},"Related:Â ",delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("a",{href:relatedQuestions[0].url,target:"_blank",rel:"noopener","data-track-note":"chart-click-related"},relatedQuestions[0].text,delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(index_es.a,{icon:faExternalLinkAlt.faExternalLinkAlt})));return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:"ControlsFooter",style:{height:grapherView.footerHeight}},this.timeline,tabsElement,shareMenuElement,relatedQuestionElement)}},{key:"grapher",get:function get(){return this.grapherView.grapher}},{key:"grapherView",get:function get(){return this.props.grapherView}},{key:"timeline",get:function get(){if(!this.grapherView.hasTimeline)return null;var grapher=this.grapher;if(!this.grapher.times.length)return null;var props={target:grapher,onPlay:function onPlay(){grapher.analytics.logChartTimelinePlay(grapher.slug)},formatTimeFn:function formatTimeFn(value){var timeColumn=grapher.table.timeColumn;return timeColumn?Object(Util.Q)()?timeColumn.formatValueForMobile(value):timeColumn.formatValue(value):grapher.table.timeColumnFormatFunction(value)},onStartPlayOrDrag:function onStartPlayOrDrag(){grapher.url.debounceMode=!0,grapher.useTimelineDomains=!0},onStopPlayOrDrag:function onStopPlayOrDrag(){grapher.url.debounceMode=!1,grapher.useTimelineDomains=!1},disablePlay:grapher.isSlopeChart};return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:"footerRowSingle"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(TimelineComponent.a,props))}}]),ControlsFooterView}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component)).prototype,"grapher",[mobx_module.f],Object.getOwnPropertyDescriptor(_class9.prototype,"grapher"),_class9.prototype),Controls_applyDecoratedDescriptor(_class9.prototype,"grapherView",[mobx_module.f],Object.getOwnPropertyDescriptor(_class9.prototype,"grapherView"),_class9.prototype),Controls_applyDecoratedDescriptor(_class9.prototype,"onShareMenu",[Controls_dec4],Object.getOwnPropertyDescriptor(_class9.prototype,"onShareMenu"),_class9.prototype),Controls_applyDecoratedDescriptor(_class9.prototype,"onDataSelect",[Controls_dec5],Object.getOwnPropertyDescriptor(_class9.prototype,"onDataSelect"),_class9.prototype),Controls_applyDecoratedDescriptor(_class9.prototype,"timeline",[mobx_module.f],Object.getOwnPropertyDescriptor(_class9.prototype,"timeline"),_class9.prototype),_class8=_class9))||_class8);try{Controls_HighlightToggle.displayName="HighlightToggle",Controls_HighlightToggle.__docgenInfo={description:"",displayName:"HighlightToggle",props:{grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}},highlightToggle:{defaultValue:null,description:"",name:"highlightToggle",required:!0,type:{name:"HighlightToggleConfig"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/controls/Controls.tsx#HighlightToggle"]={docgenInfo:Controls_HighlightToggle.__docgenInfo,name:"HighlightToggle",path:"grapher/controls/Controls.tsx#HighlightToggle"})}catch(__react_docgen_typescript_loader_error){}try{Controls_AbsRelToggle.displayName="AbsRelToggle",Controls_AbsRelToggle.__docgenInfo={description:"",displayName:"AbsRelToggle",props:{grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/controls/Controls.tsx#AbsRelToggle"]={docgenInfo:Controls_AbsRelToggle.__docgenInfo,name:"AbsRelToggle",path:"grapher/controls/Controls.tsx#AbsRelToggle"})}catch(__react_docgen_typescript_loader_error){}try{Controls_ZoomToggle.displayName="ZoomToggle",Controls_ZoomToggle.__docgenInfo={description:"",displayName:"ZoomToggle",props:{grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"GrapherInterface"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/controls/Controls.tsx#ZoomToggle"]={docgenInfo:Controls_ZoomToggle.__docgenInfo,name:"ZoomToggle",path:"grapher/controls/Controls.tsx#ZoomToggle"})}catch(__react_docgen_typescript_loader_error){}try{Controls_FilterSmallCountriesToggle.displayName="FilterSmallCountriesToggle",Controls_FilterSmallCountriesToggle.__docgenInfo={description:"",displayName:"FilterSmallCountriesToggle",props:{grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/controls/Controls.tsx#FilterSmallCountriesToggle"]={docgenInfo:Controls_FilterSmallCountriesToggle.__docgenInfo,name:"FilterSmallCountriesToggle",path:"grapher/controls/Controls.tsx#FilterSmallCountriesToggle"})}catch(__react_docgen_typescript_loader_error){}try{Controls_ControlsFooterView.displayName="ControlsFooterView",Controls_ControlsFooterView.__docgenInfo={description:"",displayName:"ControlsFooterView",props:{grapherView:{defaultValue:null,description:"",name:"grapherView",required:!0,type:{name:"GrapherView"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/controls/Controls.tsx#ControlsFooterView"]={docgenInfo:Controls_ControlsFooterView.__docgenInfo,name:"ControlsFooterView",path:"grapher/controls/Controls.tsx#ControlsFooterView"})}catch(__react_docgen_typescript_loader_error){}var AddEntityButton_class,SlopeChart=__webpack_require__(235),ScatterPlot=__webpack_require__(137),LineChart=__webpack_require__(134),StackedAreaChart=__webpack_require__(135),DiscreteBarChart=__webpack_require__(120),StackedBarChart=__webpack_require__(224),ChartLayout=__webpack_require__(164),TimeScatter=__webpack_require__(225),LoadingOverlay=__webpack_require__(226),faExchangeAlt=__webpack_require__(223),faPencilAlt=__webpack_require__(228),faPlus=__webpack_require__(222),ScaleSelector=__webpack_require__(119);function AddEntityButton_typeof(obj){return(AddEntityButton_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function AddEntityButton_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function AddEntityButton_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function AddEntityButton_setPrototypeOf(o,p){return(AddEntityButton_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function AddEntityButton_createSuper(Derived){var hasNativeReflectConstruct=function AddEntityButton_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=AddEntityButton_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=AddEntityButton_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return AddEntityButton_possibleConstructorReturn(this,result)}}function AddEntityButton_possibleConstructorReturn(self,call){return!call||"object"!==AddEntityButton_typeof(call)&&"function"!=typeof call?function AddEntityButton_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function AddEntityButton_getPrototypeOf(o){return(AddEntityButton_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var ChartTab_class,ChartTab_class2,AddEntityButton_AddEntityButton=Object(index_module.a)(AddEntityButton_class=function(_React$Component){!function AddEntityButton_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&AddEntityButton_setPrototypeOf(subClass,superClass)}(AddEntityButton,_React$Component);var _super=AddEntityButton_createSuper(AddEntityButton);function AddEntityButton(){return AddEntityButton_classCallCheck(this,AddEntityButton),_super.apply(this,arguments)}return function AddEntityButton_createClass(Constructor,protoProps,staticProps){return protoProps&&AddEntityButton_defineProperties(Constructor.prototype,protoProps),staticProps&&AddEntityButton_defineProperties(Constructor,staticProps),Constructor}(AddEntityButton,[{key:"render",value:function render(){var _this=this;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("button",{className:"addEntityButton clickable",onClick:function onClick(){return Object(mobx_module.p)((function(){return _this.props.grapher.isSelectingData=!0}))},"data-track-note":"chart-add-entity"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("span",{className:"icon"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("svg",{width:16,height:16},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("path",{d:"M3,8 h10 m-5,-5 v10"}))),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("span",{className:"label"},"Add ".concat(this.props.grapher.entityType)))}}]),AddEntityButton}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component))||AddEntityButton_class;try{AddEntityButton_AddEntityButton.displayName="AddEntityButton",AddEntityButton_AddEntityButton.__docgenInfo={description:"",displayName:"AddEntityButton",props:{grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/controls/AddEntityButton.tsx#AddEntityButton"]={docgenInfo:AddEntityButton_AddEntityButton.__docgenInfo,name:"AddEntityButton",path:"grapher/controls/AddEntityButton.tsx#AddEntityButton"})}catch(__react_docgen_typescript_loader_error){}function ChartTab_typeof(obj){return(ChartTab_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ChartTab_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function ChartTab_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function ChartTab_setPrototypeOf(o,p){return(ChartTab_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function ChartTab_createSuper(Derived){var hasNativeReflectConstruct=function ChartTab_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=ChartTab_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=ChartTab_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return ChartTab_possibleConstructorReturn(this,result)}}function ChartTab_possibleConstructorReturn(self,call){return!call||"object"!==ChartTab_typeof(call)&&"function"!=typeof call?function ChartTab_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function ChartTab_getPrototypeOf(o){return(ChartTab_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ChartTab_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var ChartTab_ChartTab=Object(index_module.a)((ChartTab_applyDecoratedDescriptor((ChartTab_class2=function(_React$Component){!function ChartTab_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ChartTab_setPrototypeOf(subClass,superClass)}(ChartTab,_React$Component);var _super=ChartTab_createSuper(ChartTab);function ChartTab(){return ChartTab_classCallCheck(this,ChartTab),_super.apply(this,arguments)}return function ChartTab_createClass(Constructor,protoProps,staticProps){return protoProps&&ChartTab_defineProperties(Constructor.prototype,protoProps),staticProps&&ChartTab_defineProperties(Constructor,staticProps),Constructor}(ChartTab,[{key:"renderChart",value:function renderChart(){var grapher=this.props.grapher,bounds=this.layout.innerBounds;return grapher.isReady?grapher.isSlopeChart?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(SlopeChart.a,{bounds:bounds.padTop(18),grapher:grapher}):grapher.isScatter?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(ScatterPlot.a,{bounds:bounds.padTop(18).padBottom(15),grapher:grapher}):grapher.isTimeScatter?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(TimeScatter.a,{bounds:bounds.padTop(18).padBottom(15),grapher:grapher}):grapher.isLineChart?grapher.lineChartTransform.isSingleTime?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(DiscreteBarChart.a,{bounds:bounds.padTop(18).padBottom(15),grapher:grapher}):delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(LineChart.a,{bounds:bounds.padTop(18).padBottom(15),grapher:grapher}):grapher.isStackedArea?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(StackedAreaChart.a,{bounds:bounds.padTop(18).padBottom(15),grapher:grapher}):grapher.isDiscreteBar?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(DiscreteBarChart.a,{bounds:bounds.padTop(18).padBottom(15),grapher:grapher}):grapher.isStackedBar?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(StackedBarChart.a,{bounds:bounds.padTop(18).padBottom(15),grapher:grapher}):null:delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(LoadingOverlay.a,{bounds:bounds})}},{key:"render",value:function render(){return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(ChartLayout.b,{layout:this.layout,controlsRowControls:this.controlsRowControls},this.renderChart())}},{key:"controlsRowControls",get:function get(){var controls=[],grapher=this.props.grapher;if(!grapher.isReady)return[];var onDataSelect=Object(mobx_module.d)((function(){return grapher.isSelectingData=!0}));if("chart"===grapher.tab){var yAxis=grapher.isStackedArea&&grapher.stackedAreaTransform.yAxis||grapher.isStackedBar&&!grapher.stackedBarTransform.failMessage&&grapher.stackedBarTransform.yAxis||grapher.isLineChart&&grapher.lineChartTransform.yAxis||(grapher.isScatter||grapher.isTimeScatter)&&grapher.scatterTransform.yAxis||grapher.isSlopeChart&&grapher.yAxis.toVerticalAxis();yAxis&&yAxis.scaleTypeOptions.length>1&&controls.push(delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(ScaleSelector.a,{key:"scaleSelector",scaleTypeConfig:yAxis,inline:!0})),grapher.canAddData&&!grapher.hasFloatingAddButton&&!grapher.hideEntityControls&&controls.push(delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("button",{type:"button",onClick:function onClick(){return onDataSelect()},key:"grapher-select-entities","data-track-note":"grapher-select-entities"},grapher.isScatter||grapher.isSlopeChart?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("span",{className:"SelectEntitiesButton"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(index_es.a,{icon:faPencilAlt.faPencilAlt}),"Select ".concat(grapher.entityTypePlural)):delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("span",{className:"SelectEntitiesButton"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(index_es.a,{icon:faPlus.faPlus})," ",grapher.addButtonLabel))),grapher.canChangeEntity&&!grapher.hideEntityControls&&controls.push(delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("button",{type:"button",onClick:function onClick(){return onDataSelect()},key:"grapher-change-entities","data-track-note":"grapher-change-entity",className:"ChangeEntityButton"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(index_es.a,{icon:faExchangeAlt.faExchangeAlt})," Change"," ",grapher.entityType)),grapher.hasFloatingAddButton&&grapher.showAddEntityControls&&controls.push(delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(AddEntityButton_AddEntityButton,{key:"AddEntityButton",grapher:grapher})),grapher.isScatter&&grapher.hasSelection&&controls.push(delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(Controls_ZoomToggle,{key:"ZoomToggle",grapher:grapher})),(grapher.isStackedArea&&grapher.canToggleRelativeMode||grapher.isScatter&&grapher.scatterTransform.canToggleRelativeMode||grapher.isLineChart&&grapher.lineChartTransform.canToggleRelativeMode)&&controls.push(delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(Controls_AbsRelToggle,{key:"AbsRelToggle",grapher:grapher})),grapher.isScatter&&grapher.highlightToggle&&controls.push(delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(Controls_HighlightToggle,{key:"highlight-toggle",grapher:grapher,highlightToggle:grapher.highlightToggle}))}return grapher.isScatter&&grapher.hasCountriesSmallerThanFilterOption&&controls.push(delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(Controls_FilterSmallCountriesToggle,{key:"FilterSmallCountriesToggle",grapher:grapher})),controls}},{key:"layout",get:function get(){var that=this;return new ChartLayout.a({get grapher(){return that.props.grapher},get grapherView(){return that.props.grapherView},get bounds(){return that.props.bounds},get renderControlsRow(){return that.controlsRowControls.length>0}})}}]),ChartTab}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component)).prototype,"controlsRowControls",[mobx_module.f],Object.getOwnPropertyDescriptor(ChartTab_class2.prototype,"controlsRowControls"),ChartTab_class2.prototype),ChartTab_applyDecoratedDescriptor(ChartTab_class2.prototype,"layout",[mobx_module.f],Object.getOwnPropertyDescriptor(ChartTab_class2.prototype,"layout"),ChartTab_class2.prototype),ChartTab_class=ChartTab_class2))||ChartTab_class;try{ChartTab_ChartTab.displayName="ChartTab",ChartTab_ChartTab.__docgenInfo={description:"",displayName:"ChartTab",props:{grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}},grapherView:{defaultValue:null,description:"",name:"grapherView",required:!0,type:{name:"GrapherView"}},bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"Bounds"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/chart/ChartTab.tsx#ChartTab"]={docgenInfo:ChartTab_ChartTab.__docgenInfo,name:"ChartTab",path:"grapher/chart/ChartTab.tsx#ChartTab"})}catch(__react_docgen_typescript_loader_error){}var TableTab_class,TableTab_class2,DataTable=__webpack_require__(162);function TableTab_typeof(obj){return(TableTab_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function TableTab_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function TableTab_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function TableTab_setPrototypeOf(o,p){return(TableTab_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function TableTab_createSuper(Derived){var hasNativeReflectConstruct=function TableTab_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=TableTab_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=TableTab_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return TableTab_possibleConstructorReturn(this,result)}}function TableTab_possibleConstructorReturn(self,call){return!call||"object"!==TableTab_typeof(call)&&"function"!=typeof call?function TableTab_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function TableTab_getPrototypeOf(o){return(TableTab_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var TableTab_TableTab=Object(index_module.a)((function TableTab_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}((TableTab_class2=function(_React$Component){!function TableTab_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&TableTab_setPrototypeOf(subClass,superClass)}(TableTab,_React$Component);var _super=TableTab_createSuper(TableTab);function TableTab(){return TableTab_classCallCheck(this,TableTab),_super.apply(this,arguments)}return function TableTab_createClass(Constructor,protoProps,staticProps){return protoProps&&TableTab_defineProperties(Constructor.prototype,protoProps),staticProps&&TableTab_defineProperties(Constructor,staticProps),Constructor}(TableTab,[{key:"render",value:function render(){var bounds=this.bounds;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:"tableTab",style:Object.assign({},bounds.toCSS(),{position:"absolute"})},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{style:{width:"100%",height:"100%",overflow:"auto"}},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(DataTable.a,{grapher:this.props.grapher})))}},{key:"bounds",get:function get(){return this.props.bounds}}]),TableTab}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component)).prototype,"bounds",[mobx_module.f],Object.getOwnPropertyDescriptor(TableTab_class2.prototype,"bounds"),TableTab_class2.prototype),TableTab_class=TableTab_class2))||TableTab_class;try{TableTab_TableTab.displayName="TableTab",TableTab_TableTab.__docgenInfo={description:"",displayName:"TableTab",props:{bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"Bounds"}},grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/dataTable/TableTab.tsx#TableTab"]={docgenInfo:TableTab_TableTab.__docgenInfo,name:"TableTab",path:"grapher/dataTable/TableTab.tsx#TableTab"})}catch(__react_docgen_typescript_loader_error){}var SourcesTab_class,SourcesTab_class2,MapTab=__webpack_require__(234);__webpack_require__(23),__webpack_require__(34),__webpack_require__(52),__webpack_require__(927);function SourcesTab_typeof(obj){return(SourcesTab_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function SourcesTab_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function SourcesTab_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function SourcesTab_setPrototypeOf(o,p){return(SourcesTab_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function SourcesTab_createSuper(Derived){var hasNativeReflectConstruct=function SourcesTab_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=SourcesTab_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=SourcesTab_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return SourcesTab_possibleConstructorReturn(this,result)}}function SourcesTab_possibleConstructorReturn(self,call){return!call||"object"!==SourcesTab_typeof(call)&&"function"!=typeof call?function SourcesTab_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function SourcesTab_getPrototypeOf(o){return(SourcesTab_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function SourcesTab_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function formatText(s){return Object(Util.X)(s).replace(/(?:\r\n|\r|\n)/g,"<br/>")}var SourcesTab_SourcesTab=Object(index_module.a)((SourcesTab_applyDecoratedDescriptor((SourcesTab_class2=function(_React$Component){!function SourcesTab_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&SourcesTab_setPrototypeOf(subClass,superClass)}(SourcesTab,_React$Component);var _super=SourcesTab_createSuper(SourcesTab);function SourcesTab(){return SourcesTab_classCallCheck(this,SourcesTab),_super.apply(this,arguments)}return function SourcesTab_createClass(Constructor,protoProps,staticProps){return protoProps&&SourcesTab_defineProperties(Constructor.prototype,protoProps),staticProps&&SourcesTab_defineProperties(Constructor,staticProps),Constructor}(SourcesTab,[{key:"renderSource",value:function renderSource(sourceWithDimension){var source=sourceWithDimension.source,dimension=sourceWithDimension.dimension,column=dimension.column,editUrl=js_cookie.get(GrapherConstants.b.isAdmin)?"".concat(this.props.grapher.adminBaseUrl,"/admin/datasets/").concat(column.datasetId):void 0,minYear=Object(Util.hb)(column.times),maxYear=Object(Util.db)(column.times),timespan="";return void 0!==minYear&&void 0!==maxYear&&(timespan="".concat(dimension.formatTimeFn(minYear)," â ").concat(dimension.formatTimeFn(maxYear))),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{key:source.id,className:"datasource-wrapper"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("h2",null,column.name," ",editUrl&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("a",{href:editUrl,target:"_blank"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(index_es.a,{icon:faPencilAlt.faPencilAlt}))),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("table",{className:"variable-desc"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("tbody",null,column.description?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("tr",null,delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("td",null,"Variable description"),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("td",{dangerouslySetInnerHTML:{__html:formatText(column.description)}})):null,column.coverage?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("tr",null,delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("td",null,"Variable geographic coverage"),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("td",null,column.coverage)):null,timespan?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("tr",null,delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("td",null,"Variable time span"),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("td",null,timespan)):null,1!==dimension.unitConversionFactor?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("tr",null,delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("td",null,"Unit conversion factor for chart"),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("td",null,dimension.unitConversionFactor)):null,source.dataPublishedBy?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("tr",null,delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("td",null,"Data published by"),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("td",{dangerouslySetInnerHTML:{__html:formatText(source.dataPublishedBy)}})):null,source.dataPublisherSource?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("tr",null,delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("td",null,"Data publisher's source"),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("td",{dangerouslySetInnerHTML:{__html:formatText(source.dataPublisherSource)}})):null,source.link?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("tr",null,delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("td",null,"Link"),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("td",{dangerouslySetInnerHTML:{__html:formatText(source.link)}})):null,source.retrievedDate?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("tr",null,delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("td",null,"Retrieved"),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("td",null,source.retrievedDate)):null)),source.additionalInfo&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("p",{dangerouslySetInnerHTML:{__html:formatText(source.additionalInfo)}}))}},{key:"render",value:function render(){var _this=this,bounds=this.bounds;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:"sourcesTab",style:Object.assign({},bounds.toCSS(),{position:"absolute"})},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",null,delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("h2",null,"Sources"),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",null,this.sourcesWithDimensions.map((function(source){return _this.renderSource(source)})))))}},{key:"bounds",get:function get(){return this.props.bounds}},{key:"sourcesWithDimensions",get:function get(){return this.props.grapher.sourcesWithDimension}}]),SourcesTab}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component)).prototype,"bounds",[mobx_module.f],Object.getOwnPropertyDescriptor(SourcesTab_class2.prototype,"bounds"),SourcesTab_class2.prototype),SourcesTab_applyDecoratedDescriptor(SourcesTab_class2.prototype,"sourcesWithDimensions",[mobx_module.f],Object.getOwnPropertyDescriptor(SourcesTab_class2.prototype,"sourcesWithDimensions"),SourcesTab_class2.prototype),SourcesTab_class=SourcesTab_class2))||SourcesTab_class;try{SourcesTab_SourcesTab.displayName="SourcesTab",SourcesTab_SourcesTab.__docgenInfo={description:"",displayName:"SourcesTab",props:{bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"Bounds"}},grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/sourcesTab/SourcesTab.tsx#SourcesTab"]={docgenInfo:SourcesTab_SourcesTab.__docgenInfo,name:"SourcesTab",path:"grapher/sourcesTab/SourcesTab.tsx#SourcesTab"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(930),__webpack_require__(53),__webpack_require__(934),__webpack_require__(950),__webpack_require__(952),__webpack_require__(953),__webpack_require__(954),__webpack_require__(955),__webpack_require__(956),__webpack_require__(957),__webpack_require__(958),__webpack_require__(959),__webpack_require__(960),__webpack_require__(961),__webpack_require__(962),__webpack_require__(966),__webpack_require__(967),__webpack_require__(968),__webpack_require__(969),__webpack_require__(970),__webpack_require__(971),__webpack_require__(972),__webpack_require__(973),__webpack_require__(974),__webpack_require__(975),__webpack_require__(976),__webpack_require__(193);var DownloadTab_dec,DownloadTab_dec2,DownloadTab_dec3,DownloadTab_dec4,DownloadTab_class,DownloadTab_class2,_descriptor,_descriptor2,_descriptor3,_descriptor4,_descriptor5,_descriptor6,_descriptor7,LoadingIndicator=__webpack_require__(227),classnames=__webpack_require__(44),classnames_default=__webpack_require__.n(classnames);function DownloadTab_typeof(obj){return(DownloadTab_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function DownloadTab_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function DownloadTab_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function DownloadTab_setPrototypeOf(o,p){return(DownloadTab_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function DownloadTab_createSuper(Derived){var hasNativeReflectConstruct=function DownloadTab_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=DownloadTab_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=DownloadTab_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return DownloadTab_possibleConstructorReturn(this,result)}}function DownloadTab_possibleConstructorReturn(self,call){return!call||"object"!==DownloadTab_typeof(call)&&"function"!=typeof call?DownloadTab_assertThisInitialized(self):call}function DownloadTab_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function DownloadTab_getPrototypeOf(o){return(DownloadTab_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function DownloadTab_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var DownloadTab_DownloadTab=(DownloadTab_dec=mobx_module.d.bound,DownloadTab_dec2=mobx_module.d.bound,DownloadTab_dec3=mobx_module.d.bound,DownloadTab_dec4=mobx_module.d.bound,Object(index_module.a)((DownloadTab_applyDecoratedDescriptor((DownloadTab_class2=function(_React$Component){!function DownloadTab_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&DownloadTab_setPrototypeOf(subClass,superClass)}(DownloadTab,_React$Component);var _super=DownloadTab_createSuper(DownloadTab);function DownloadTab(){var _this;DownloadTab_classCallCheck(this,DownloadTab);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _initializerDefineProperty(_this=_super.call.apply(_super,[this].concat(args)),"svgBlob",_descriptor,DownloadTab_assertThisInitialized(_this)),_initializerDefineProperty(_this,"svgBlobUrl",_descriptor2,DownloadTab_assertThisInitialized(_this)),_initializerDefineProperty(_this,"svgDataUri",_descriptor3,DownloadTab_assertThisInitialized(_this)),_initializerDefineProperty(_this,"pngBlob",_descriptor4,DownloadTab_assertThisInitialized(_this)),_initializerDefineProperty(_this,"pngBlobUrl",_descriptor5,DownloadTab_assertThisInitialized(_this)),_initializerDefineProperty(_this,"pngDataUri",_descriptor6,DownloadTab_assertThisInitialized(_this)),_initializerDefineProperty(_this,"isReady",_descriptor7,DownloadTab_assertThisInitialized(_this)),_this}return function DownloadTab_createClass(Constructor,protoProps,staticProps){return protoProps&&DownloadTab_defineProperties(Constructor.prototype,protoProps),staticProps&&DownloadTab_defineProperties(Constructor,staticProps),Constructor}(DownloadTab,[{key:"export",value:function _export(){var _this2=this;HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function value(callback,type,quality){for(var binStr=atob(this.toDataURL(type,quality).split(",")[1]),len=binStr.length,arr=new Uint8Array(len),i=0;i<len;i++)arr[i]=binStr.charCodeAt(i);callback(new Blob([arr],{type:type||"image/png"}))}});var targetWidth=this.targetWidth,targetHeight=this.targetHeight,grapher=this.props.grapher;grapher.isExporting=!0;var staticSVG=grapher.staticSVG;grapher.isExporting=!1,this.svgBlob=new Blob([staticSVG],{type:"image/svg+xml;charset=utf-8"}),this.svgBlobUrl=URL.createObjectURL(this.svgBlob);var reader=new FileReader;reader.onload=function(ev){_this2.svgDataUri=ev.target.result;var img=new Image;img.onload=function(){try{var canvas=document.createElement("canvas");canvas.width=4*targetWidth,canvas.height=4*targetHeight;var ctx=canvas.getContext("2d",{alpha:!1});ctx.imageSmoothingEnabled=!1,ctx.setTransform(4,0,0,4,0,0),ctx.drawImage(img,0,0),_this2.pngDataUri=canvas.toDataURL("image/png"),canvas.toBlob((function(blob){_this2.pngBlob=blob,_this2.pngBlobUrl=URL.createObjectURL(blob),_this2.markAsReady()}))}catch(e){console.error(e),_this2.markAsReady()}},img.onerror=function(err){console.error(JSON.stringify(err)),_this2.markAsReady()},img.src=_this2.svgDataUri},reader.readAsDataURL(this.svgBlob)}},{key:"markAsReady",value:function markAsReady(){this.isReady=!0}},{key:"onPNGDownload",value:function onPNGDownload(ev){window.navigator.msSaveBlob&&(window.navigator.msSaveBlob(this.pngBlob,this.baseFilename+".png"),ev.preventDefault())}},{key:"onSVGDownload",value:function onSVGDownload(ev){window.navigator.msSaveBlob&&(window.navigator.msSaveBlob(this.svgBlob,this.baseFilename+".svg"),ev.preventDefault())}},{key:"onCsvDownload",value:function onCsvDownload(ev){var grapher=this.props.grapher,csvFilename=grapher.displaySlug+".csv",csv=grapher.table.toView().toPrettyCsv();if(window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([csv],{type:"text/csv"}),csvFilename),ev.preventDefault();else{var downloadLink=document.createElement("a");downloadLink.setAttribute("href","data:text/csv,"+encodeURIComponent(csv)),downloadLink.setAttribute("download",csvFilename),downloadLink.click()}}},{key:"renderReady",value:function renderReady(){var previewWidth,previewHeight,props=this.props,targetWidth=this.targetWidth,targetHeight=this.targetHeight,pngPreviewUrl=this.pngPreviewUrl,pngDownloadUrl=this.pngDownloadUrl,svgPreviewUrl=this.svgPreviewUrl,svgDownloadUrl=this.svgDownloadUrl,baseFilename=this.baseFilename;props.bounds.width/props.bounds.height>targetWidth/targetHeight?previewWidth=targetWidth/targetHeight*(previewHeight=.4*props.bounds.height):previewHeight=targetHeight/targetWidth*(previewWidth=.4*props.bounds.width);var imgStyle={minWidth:previewWidth,minHeight:previewHeight,maxWidth:previewWidth,maxHeight:previewHeight,border:"1px solid #ccc"},asideStyle={maxWidth:previewWidth};return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(delegated_reactfrom_dll_reference_storybook_docs_dll.Fragment,null,delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:"img-downloads"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("a",{key:"png",href:pngDownloadUrl,download:baseFilename+".png","data-track-note":"chart-download-png",onClick:this.onPNGDownload},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",null,delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("img",{src:pngPreviewUrl,style:imgStyle}),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("aside",{style:asideStyle},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("h2",null,"Save as .png"),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("p",null,"A standard image of the visualization that can be used in presentations or other documents.")))),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("a",{key:"svg",href:svgDownloadUrl,download:baseFilename+".svg","data-track-note":"chart-download-svg",onClick:this.onSVGDownload},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",null,delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("img",{src:svgPreviewUrl,style:imgStyle}),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("aside",{style:asideStyle},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("h2",null,"Save as .svg"),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("p",null,"A vector format image useful for further redesigning the visualization with vector graphic software."))))),this.csvButton)}},{key:"componentDidMount",value:function componentDidMount(){this.export()}},{key:"componentWillUnmount",value:function componentWillUnmount(){void 0!==this.pngBlobUrl&&URL.revokeObjectURL(this.pngBlobUrl),void 0!==this.svgBlobUrl&&URL.revokeObjectURL(this.svgBlobUrl)}},{key:"render",value:function render(){return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:classnames_default()("DownloadTab",{mobile:Object(Util.Q)()}),style:Object.assign({},this.props.bounds.toCSS(),{position:"absolute"})},this.isReady?this.renderReady():delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(LoadingIndicator.a,{color:"#000"}))}},{key:"targetWidth",get:function get(){return this.props.grapher.idealBounds.width}},{key:"targetHeight",get:function get(){return this.props.grapher.idealBounds.height}},{key:"fallbackPngUrl",get:function get(){return"".concat(this.props.grapher.url.baseUrl,".png").concat(this.props.grapher.url.queryStr)}},{key:"baseFilename",get:function get(){return this.props.grapher.displaySlug}},{key:"svgPreviewUrl",get:function get(){return this.svgDataUri}},{key:"pngPreviewUrl",get:function get(){return this.pngDataUri||this.fallbackPngUrl}},{key:"svgDownloadUrl",get:function get(){return this.svgBlobUrl}},{key:"pngDownloadUrl",get:function get(){return this.pngBlobUrl||this.pngDataUri||this.fallbackPngUrl}},{key:"isPortrait",get:function get(){return this.props.bounds.height>this.props.bounds.width}},{key:"csvButton",get:function get(){var _this3=this,grapher=this.props.grapher,externalCsvLink=grapher.externalCsvLink,csvFilename=grapher.displaySlug+".csv",props=externalCsvLink?{href:externalCsvLink,download:csvFilename}:{onClick:function onClick(ev){return _this3.onCsvDownload(ev)}};return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:"download-csv",style:{maxWidth:"100%"}},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("p",null,"Download a CSV file containing all data used in this visualization:"),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("a",_extends({className:"btn btn-primary","data-track-note":"chart-download-csv"},props),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(index_es.a,{icon:faDownload.faDownload})," ",csvFilename))}}]),DownloadTab}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component)).prototype,"targetWidth",[mobx_module.f],Object.getOwnPropertyDescriptor(DownloadTab_class2.prototype,"targetWidth"),DownloadTab_class2.prototype),DownloadTab_applyDecoratedDescriptor(DownloadTab_class2.prototype,"targetHeight",[mobx_module.f],Object.getOwnPropertyDescriptor(DownloadTab_class2.prototype,"targetHeight"),DownloadTab_class2.prototype),_descriptor=DownloadTab_applyDecoratedDescriptor(DownloadTab_class2.prototype,"svgBlob",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor2=DownloadTab_applyDecoratedDescriptor(DownloadTab_class2.prototype,"svgBlobUrl",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor3=DownloadTab_applyDecoratedDescriptor(DownloadTab_class2.prototype,"svgDataUri",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor4=DownloadTab_applyDecoratedDescriptor(DownloadTab_class2.prototype,"pngBlob",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor5=DownloadTab_applyDecoratedDescriptor(DownloadTab_class2.prototype,"pngBlobUrl",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor6=DownloadTab_applyDecoratedDescriptor(DownloadTab_class2.prototype,"pngDataUri",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor7=DownloadTab_applyDecoratedDescriptor(DownloadTab_class2.prototype,"isReady",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),DownloadTab_applyDecoratedDescriptor(DownloadTab_class2.prototype,"export",[DownloadTab_dec],Object.getOwnPropertyDescriptor(DownloadTab_class2.prototype,"export"),DownloadTab_class2.prototype),DownloadTab_applyDecoratedDescriptor(DownloadTab_class2.prototype,"markAsReady",[DownloadTab_dec2],Object.getOwnPropertyDescriptor(DownloadTab_class2.prototype,"markAsReady"),DownloadTab_class2.prototype),DownloadTab_applyDecoratedDescriptor(DownloadTab_class2.prototype,"fallbackPngUrl",[mobx_module.f],Object.getOwnPropertyDescriptor(DownloadTab_class2.prototype,"fallbackPngUrl"),DownloadTab_class2.prototype),DownloadTab_applyDecoratedDescriptor(DownloadTab_class2.prototype,"baseFilename",[mobx_module.f],Object.getOwnPropertyDescriptor(DownloadTab_class2.prototype,"baseFilename"),DownloadTab_class2.prototype),DownloadTab_applyDecoratedDescriptor(DownloadTab_class2.prototype,"svgPreviewUrl",[mobx_module.f],Object.getOwnPropertyDescriptor(DownloadTab_class2.prototype,"svgPreviewUrl"),DownloadTab_class2.prototype),DownloadTab_applyDecoratedDescriptor(DownloadTab_class2.prototype,"pngPreviewUrl",[mobx_module.f],Object.getOwnPropertyDescriptor(DownloadTab_class2.prototype,"pngPreviewUrl"),DownloadTab_class2.prototype),DownloadTab_applyDecoratedDescriptor(DownloadTab_class2.prototype,"svgDownloadUrl",[mobx_module.f],Object.getOwnPropertyDescriptor(DownloadTab_class2.prototype,"svgDownloadUrl"),DownloadTab_class2.prototype),DownloadTab_applyDecoratedDescriptor(DownloadTab_class2.prototype,"pngDownloadUrl",[mobx_module.f],Object.getOwnPropertyDescriptor(DownloadTab_class2.prototype,"pngDownloadUrl"),DownloadTab_class2.prototype),DownloadTab_applyDecoratedDescriptor(DownloadTab_class2.prototype,"isPortrait",[mobx_module.f],Object.getOwnPropertyDescriptor(DownloadTab_class2.prototype,"isPortrait"),DownloadTab_class2.prototype),DownloadTab_applyDecoratedDescriptor(DownloadTab_class2.prototype,"onPNGDownload",[DownloadTab_dec3],Object.getOwnPropertyDescriptor(DownloadTab_class2.prototype,"onPNGDownload"),DownloadTab_class2.prototype),DownloadTab_applyDecoratedDescriptor(DownloadTab_class2.prototype,"onSVGDownload",[DownloadTab_dec4],Object.getOwnPropertyDescriptor(DownloadTab_class2.prototype,"onSVGDownload"),DownloadTab_class2.prototype),DownloadTab_applyDecoratedDescriptor(DownloadTab_class2.prototype,"csvButton",[mobx_module.f],Object.getOwnPropertyDescriptor(DownloadTab_class2.prototype,"csvButton"),DownloadTab_class2.prototype),DownloadTab_class=DownloadTab_class2))||DownloadTab_class);try{DownloadTab_DownloadTab.displayName="DownloadTab",DownloadTab_DownloadTab.__docgenInfo={description:"",displayName:"DownloadTab",props:{bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"Bounds"}},grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/downloadTab/DownloadTab.tsx#DownloadTab"]={docgenInfo:DownloadTab_DownloadTab.__docgenInfo,name:"DownloadTab",path:"grapher/downloadTab/DownloadTab.tsx#DownloadTab"})}catch(__react_docgen_typescript_loader_error){}var EntitySelectorModal_dec,EntitySelectorModal_dec2,EntitySelectorModal_dec3,EntitySelectorModal_class,EntitySelectorModal_class2,EntitySelectorModal_descriptor,EntitySelectorModal_temp,EntitySelectorModal_dec4,EntitySelectorModal_dec5,EntitySelectorModal_dec6,EntitySelectorModal_class4,EntitySelectorModal_class5,EntitySelectorModal_descriptor2,EntitySelectorModal_temp2,EntitySelectorModal_class7,Bounds=__webpack_require__(24),FuzzySearch=(__webpack_require__(111),__webpack_require__(186)),faTimes=__webpack_require__(122);function EntitySelectorModal_typeof(obj){return(EntitySelectorModal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function EntitySelectorModal_initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function EntitySelectorModal_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function EntitySelectorModal_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function EntitySelectorModal_createClass(Constructor,protoProps,staticProps){return protoProps&&EntitySelectorModal_defineProperties(Constructor.prototype,protoProps),staticProps&&EntitySelectorModal_defineProperties(Constructor,staticProps),Constructor}function EntitySelectorModal_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&EntitySelectorModal_setPrototypeOf(subClass,superClass)}function EntitySelectorModal_setPrototypeOf(o,p){return(EntitySelectorModal_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function EntitySelectorModal_createSuper(Derived){var hasNativeReflectConstruct=function EntitySelectorModal_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=EntitySelectorModal_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=EntitySelectorModal_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return EntitySelectorModal_possibleConstructorReturn(this,result)}}function EntitySelectorModal_possibleConstructorReturn(self,call){return!call||"object"!==EntitySelectorModal_typeof(call)&&"function"!=typeof call?EntitySelectorModal_assertThisInitialized(self):call}function EntitySelectorModal_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function EntitySelectorModal_getPrototypeOf(o){return(EntitySelectorModal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function EntitySelectorModal_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var EntitySelectorModal_EntitySelectorMulti=(EntitySelectorModal_dec=mobx_module.d.bound,EntitySelectorModal_dec2=mobx_module.d.bound,EntitySelectorModal_dec3=mobx_module.d.bound,Object(index_module.a)((EntitySelectorModal_temp=function(_React$Component){EntitySelectorModal_inherits(EntitySelectorMulti,_React$Component);var _super=EntitySelectorModal_createSuper(EntitySelectorMulti);function EntitySelectorMulti(){var _this;EntitySelectorModal_classCallCheck(this,EntitySelectorMulti);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return EntitySelectorModal_initializerDefineProperty(_this=_super.call.apply(_super,[this].concat(args)),"searchInput",EntitySelectorModal_descriptor,EntitySelectorModal_assertThisInitialized(_this)),_this.searchField=void 0,_this.base=delegated_reactfrom_dll_reference_storybook_docs_dll.createRef(),_this.dismissable=!0,_this}return EntitySelectorModal_createClass(EntitySelectorMulti,[{key:"isSelectedKey",value:function isSelectedKey(entityDimensionKey){return!!this.props.grapher.selectedKeysByKey[entityDimensionKey]}},{key:"onClickOutside",value:function onClickOutside(e){this.dismissable&&this.props.onDismiss()}},{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.base.current.addEventListener("click",(function(){_this2.dismissable=!1,setTimeout((function(){return _this2.dismissable=!0}),100)})),setTimeout((function(){return document.addEventListener("click",_this2.onClickOutside)}),1),Object(Util.T)()||this.searchField.focus()}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("click",this.onClickOutside)}},{key:"onSearchKeyDown",value:function onSearchKeyDown(e){"Enter"===e.key&&this.searchResults.length>0?(this.props.grapher.toggleKey(this.searchResults[0].entityDimensionKey),this.searchInput=""):"Escape"===e.key&&this.props.onDismiss()}},{key:"onClear",value:function onClear(){this.props.grapher.selectedKeys=[]}},{key:"render",value:function render(){var _this3=this,grapher=this.props.grapher,selectedData=this.selectedEntities,searchResults=this.searchResults,searchInput=this.searchInput;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:"entitySelectorOverlay"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{ref:this.base,className:"EntitySelectorMulti"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("header",{className:"wrapper"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("h2",null,"Choose data to show"," ",delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("button",{onClick:this.props.onDismiss},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(index_es.a,{icon:faTimes.faTimes})))),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:"entities wrapper"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:"searchResults"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("input",{type:"search",placeholder:"Search...",value:searchInput,onInput:function onInput(e){return _this3.searchInput=e.currentTarget.value},onKeyDown:this.onSearchKeyDown,ref:function ref(e){return _this3.searchField=e}}),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("ul",null,searchResults.map((function(d){return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("li",{key:d.entityDimensionKey},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("label",{className:"clickable"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("input",{type:"checkbox",checked:_this3.isSelectedKey(d.entityDimensionKey),onChange:function onChange(){return grapher.toggleKey(d.entityDimensionKey)}})," ",d.label))})))),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:"selectedData"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("ul",null,selectedData.map((function(d){return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("li",{key:d.entityDimensionKey},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("label",{className:"clickable"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("input",{type:"checkbox",checked:_this3.isSelectedKey(d.entityDimensionKey),onChange:function onChange(){return grapher.toggleKey(d.entityDimensionKey)}})," ",d.label))}))),selectedData&&selectedData.length>1?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("button",{className:"clearSelection",onClick:this.onClear},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("span",{className:"icon"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(index_es.a,{icon:faTimes.faTimes}))," ","Unselect all"):void 0))))}},{key:"availableEntities",get:function get(){return this.props.grapher.selectableEntityDimensionKeys}},{key:"selectedEntities",get:function get(){var _this4=this;return this.availableEntities.filter((function(d){return _this4.isSelectedKey(d.entityDimensionKey)}))}},{key:"fuzzy",get:function get(){return new FuzzySearch.a(this.availableEntities,"label")}},{key:"searchResults",get:function get(){return this.searchInput?this.fuzzy.search(this.searchInput):Object(Util.Fb)(this.availableEntities,(function(result){return result.label}))}}]),EntitySelectorMulti}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component),EntitySelectorModal_descriptor=EntitySelectorModal_applyDecoratedDescriptor((EntitySelectorModal_class2=EntitySelectorModal_temp).prototype,"searchInput",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),EntitySelectorModal_applyDecoratedDescriptor(EntitySelectorModal_class2.prototype,"availableEntities",[mobx_module.f],Object.getOwnPropertyDescriptor(EntitySelectorModal_class2.prototype,"availableEntities"),EntitySelectorModal_class2.prototype),EntitySelectorModal_applyDecoratedDescriptor(EntitySelectorModal_class2.prototype,"selectedEntities",[mobx_module.f],Object.getOwnPropertyDescriptor(EntitySelectorModal_class2.prototype,"selectedEntities"),EntitySelectorModal_class2.prototype),EntitySelectorModal_applyDecoratedDescriptor(EntitySelectorModal_class2.prototype,"fuzzy",[mobx_module.f],Object.getOwnPropertyDescriptor(EntitySelectorModal_class2.prototype,"fuzzy"),EntitySelectorModal_class2.prototype),EntitySelectorModal_applyDecoratedDescriptor(EntitySelectorModal_class2.prototype,"searchResults",[mobx_module.f],Object.getOwnPropertyDescriptor(EntitySelectorModal_class2.prototype,"searchResults"),EntitySelectorModal_class2.prototype),EntitySelectorModal_applyDecoratedDescriptor(EntitySelectorModal_class2.prototype,"onClickOutside",[EntitySelectorModal_dec],Object.getOwnPropertyDescriptor(EntitySelectorModal_class2.prototype,"onClickOutside"),EntitySelectorModal_class2.prototype),EntitySelectorModal_applyDecoratedDescriptor(EntitySelectorModal_class2.prototype,"onSearchKeyDown",[EntitySelectorModal_dec2],Object.getOwnPropertyDescriptor(EntitySelectorModal_class2.prototype,"onSearchKeyDown"),EntitySelectorModal_class2.prototype),EntitySelectorModal_applyDecoratedDescriptor(EntitySelectorModal_class2.prototype,"onClear",[EntitySelectorModal_dec3],Object.getOwnPropertyDescriptor(EntitySelectorModal_class2.prototype,"onClear"),EntitySelectorModal_class2.prototype),EntitySelectorModal_class=EntitySelectorModal_class2))||EntitySelectorModal_class),EntitySelectorModal_EntitySelectorSingle=(EntitySelectorModal_dec4=mobx_module.d.bound,EntitySelectorModal_dec5=mobx_module.d.bound,EntitySelectorModal_dec6=mobx_module.d.bound,Object(index_module.a)((EntitySelectorModal_temp2=function(_React$Component2){EntitySelectorModal_inherits(EntitySelectorSingle,_React$Component2);var _super2=EntitySelectorModal_createSuper(EntitySelectorSingle);function EntitySelectorSingle(){var _this5;EntitySelectorModal_classCallCheck(this,EntitySelectorSingle);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return EntitySelectorModal_initializerDefineProperty(_this5=_super2.call.apply(_super2,[this].concat(args)),"searchInput",EntitySelectorModal_descriptor2,EntitySelectorModal_assertThisInitialized(_this5)),_this5.searchField=void 0,_this5.base=delegated_reactfrom_dll_reference_storybook_docs_dll.createRef(),_this5.dismissable=!0,_this5}return EntitySelectorModal_createClass(EntitySelectorSingle,[{key:"onClickOutside",value:function onClickOutside(e){this.base&&!this.base.current.contains(e.target)&&this.props.onDismiss()}},{key:"componentDidMount",value:function componentDidMount(){var _this6=this;this.base.current.addEventListener("click",(function(){_this6.dismissable=!1,setTimeout((function(){return _this6.dismissable=!0}),100)})),setTimeout((function(){return document.addEventListener("click",_this6.onClickOutside)}),1),this.props.isMobile||this.searchField.focus()}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("click",this.onClickOutside)}},{key:"onSearchKeyDown",value:function onSearchKeyDown(e){"Enter"===e.key&&this.searchResults.length>0?(this.onSelect(this.searchResults[0].id),this.searchInput=""):"Escape"===e.key&&this.props.onDismiss()}},{key:"onSelect",value:function onSelect(entityId){this.props.grapher.setSingleSelectedEntity(entityId),this.props.onDismiss()}},{key:"render",value:function render(){var _this7=this,searchResults=this.searchResults,searchInput=this.searchInput;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:"entitySelectorOverlay"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{ref:this.base,className:"EntitySelectorSingle"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("header",{className:"wrapper"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("h2",null,"Choose data to show"," ",delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("button",{onClick:this.props.onDismiss},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(index_es.a,{icon:faTimes.faTimes})))),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:"wrapper"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("input",{type:"search",placeholder:"Search...",value:searchInput,onInput:function onInput(e){return _this7.searchInput=e.currentTarget.value},onKeyDown:this.onSearchKeyDown,ref:function ref(e){return _this7.searchField=e}}),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("ul",null,searchResults.map((function(d){return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("li",{key:d.id,className:"clickable",onClick:function onClick(){return _this7.onSelect(d.id)}},d.label)}))))))}},{key:"availableEntities",get:function get(){var availableItems=[];return this.props.grapher.entityDimensionMap.forEach((function(meta){availableItems.push({id:meta.entityId,label:meta.entityName})})),Object(Util.Vb)(availableItems,(function(d){return d.label}))}},{key:"fuzzy",get:function get(){return new FuzzySearch.a(this.availableEntities,"label")}},{key:"searchResults",get:function get(){return this.searchInput?this.fuzzy.search(this.searchInput):Object(Util.Fb)(this.availableEntities,(function(result){return result.label}))}}]),EntitySelectorSingle}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component),EntitySelectorModal_descriptor2=EntitySelectorModal_applyDecoratedDescriptor((EntitySelectorModal_class5=EntitySelectorModal_temp2).prototype,"searchInput",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),EntitySelectorModal_applyDecoratedDescriptor(EntitySelectorModal_class5.prototype,"availableEntities",[mobx_module.f],Object.getOwnPropertyDescriptor(EntitySelectorModal_class5.prototype,"availableEntities"),EntitySelectorModal_class5.prototype),EntitySelectorModal_applyDecoratedDescriptor(EntitySelectorModal_class5.prototype,"fuzzy",[mobx_module.f],Object.getOwnPropertyDescriptor(EntitySelectorModal_class5.prototype,"fuzzy"),EntitySelectorModal_class5.prototype),EntitySelectorModal_applyDecoratedDescriptor(EntitySelectorModal_class5.prototype,"searchResults",[mobx_module.f],Object.getOwnPropertyDescriptor(EntitySelectorModal_class5.prototype,"searchResults"),EntitySelectorModal_class5.prototype),EntitySelectorModal_applyDecoratedDescriptor(EntitySelectorModal_class5.prototype,"onClickOutside",[EntitySelectorModal_dec4],Object.getOwnPropertyDescriptor(EntitySelectorModal_class5.prototype,"onClickOutside"),EntitySelectorModal_class5.prototype),EntitySelectorModal_applyDecoratedDescriptor(EntitySelectorModal_class5.prototype,"onSearchKeyDown",[EntitySelectorModal_dec5],Object.getOwnPropertyDescriptor(EntitySelectorModal_class5.prototype,"onSearchKeyDown"),EntitySelectorModal_class5.prototype),EntitySelectorModal_applyDecoratedDescriptor(EntitySelectorModal_class5.prototype,"onSelect",[EntitySelectorModal_dec6],Object.getOwnPropertyDescriptor(EntitySelectorModal_class5.prototype,"onSelect"),EntitySelectorModal_class5.prototype),EntitySelectorModal_class4=EntitySelectorModal_class5))||EntitySelectorModal_class4),EntitySelectorModal_EntitySelectorModal=Object(index_module.a)(EntitySelectorModal_class7=function(_React$Component3){EntitySelectorModal_inherits(EntitySelectorModal,_React$Component3);var _super3=EntitySelectorModal_createSuper(EntitySelectorModal);function EntitySelectorModal(){return EntitySelectorModal_classCallCheck(this,EntitySelectorModal),_super3.apply(this,arguments)}return EntitySelectorModal_createClass(EntitySelectorModal,[{key:"render",value:function render(){return this.props.grapher.canChangeEntity?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(EntitySelectorModal_EntitySelectorSingle,this.props):delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(EntitySelectorModal_EntitySelectorMulti,this.props)}}]),EntitySelectorModal}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component))||EntitySelectorModal_class7;try{EntitySelectorModal_EntitySelectorModal.displayName="EntitySelectorModal",EntitySelectorModal_EntitySelectorModal.__docgenInfo={description:"",displayName:"EntitySelectorModal",props:{grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}},isMobile:{defaultValue:null,description:"",name:"isMobile",required:!0,type:{name:"boolean"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/controls/EntitySelectorModal.tsx#EntitySelectorModal"]={docgenInfo:EntitySelectorModal_EntitySelectorModal.__docgenInfo,name:"EntitySelectorModal",path:"grapher/controls/EntitySelectorModal.tsx#EntitySelectorModal"})}catch(__react_docgen_typescript_loader_error){}var GrapherViewContext=__webpack_require__(221),Tooltip=__webpack_require__(76);__webpack_require__(57);function FullStory_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var alreadyTyped=/_(strs?|ints?|reals?|dates?|bools?)$/;function getType(value){return"string"==typeof value?"str":"number"==typeof value?"real":"boolean"==typeof value?"bool":value instanceof Date?"date":""}function getTypedKey(value,key){if(alreadyTyped.test(key))return key;if(Array.isArray(value)){var allTypes=value.map(getType);if(allTypes.some((function(type){return type!==allTypes[0]})))throw new Error("All array items must be of same type");return allTypes[0]?"".concat(key,"_").concat(allTypes[0],"s"):key}var type=getType(value);return type?"".concat(key,"_").concat(type):key}var GrapherView_dec,GrapherView_dec2,GrapherView_dec3,GrapherView_dec4,GrapherView_dec5,GrapherView_dec6,GrapherView_class,GrapherView_class2,GrapherView_descriptor,GrapherView_descriptor2,GrapherView_descriptor3,GrapherView_descriptor4,GrapherView_descriptor5,FullStory=function(){function FullStory(){!function FullStory_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FullStory)}return function FullStory_createClass(Constructor,protoProps,staticProps){return protoProps&&FullStory_defineProperties(Constructor.prototype,protoProps),staticProps&&FullStory_defineProperties(Constructor,staticProps),Constructor}(FullStory,null,[{key:"event",value:function event(name,props){if(window.FS)try{window.FS.event(name,function annotateKeyTypes(obj){return Object(Util.bb)(obj,getTypedKey)}(props))}catch(error){console.error(error)}}}]),FullStory}(),UrlBinder=__webpack_require__(116);function GrapherView_typeof(obj){return(GrapherView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function GrapherView_initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function GrapherView_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function GrapherView_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function GrapherView_setPrototypeOf(o,p){return(GrapherView_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function GrapherView_createSuper(Derived){var hasNativeReflectConstruct=function GrapherView_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=GrapherView_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=GrapherView_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return GrapherView_possibleConstructorReturn(this,result)}}function GrapherView_possibleConstructorReturn(self,call){return!call||"object"!==GrapherView_typeof(call)&&"function"!=typeof call?GrapherView_assertThisInitialized(self):call}function GrapherView_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function GrapherView_getPrototypeOf(o){return(GrapherView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function GrapherView_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var GrapherView_GrapherView=(GrapherView_dec=mobx_module.m.shallow,GrapherView_dec2=mobx_module.m.ref,GrapherView_dec3=mobx_module.d.bound,GrapherView_dec4=mobx_module.d.bound,GrapherView_dec5=mobx_module.d.bound,GrapherView_dec6=mobx_module.f.struct,Object(index_module.a)((GrapherView_applyDecoratedDescriptor((GrapherView_class2=function(_React$Component){!function GrapherView_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&GrapherView_setPrototypeOf(subClass,superClass)}(GrapherView,_React$Component);var _super=GrapherView_createSuper(GrapherView);function GrapherView(){var _this;GrapherView_classCallCheck(this,GrapherView);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return GrapherView_initializerDefineProperty(_this=_super.call.apply(_super,[this].concat(args)),"overlays",GrapherView_descriptor,GrapherView_assertThisInitialized(_this)),GrapherView_initializerDefineProperty(_this,"popups",GrapherView_descriptor2,GrapherView_assertThisInitialized(_this)),_this.base=delegated_reactfrom_dll_reference_storybook_docs_dll.createRef(),GrapherView_initializerDefineProperty(_this,"hasBeenVisible",GrapherView_descriptor3,GrapherView_assertThisInitialized(_this)),GrapherView_initializerDefineProperty(_this,"hasError",GrapherView_descriptor4,GrapherView_assertThisInitialized(_this)),GrapherView_initializerDefineProperty(_this,"isShareMenuActive",GrapherView_descriptor5,GrapherView_assertThisInitialized(_this)),_this}return function GrapherView_createClass(Constructor,protoProps,staticProps){return protoProps&&GrapherView_defineProperties(Constructor.prototype,protoProps),staticProps&&GrapherView_defineProperties(Constructor,staticProps),Constructor}(GrapherView,[{key:"addPopup",value:function addPopup(vnode){this.popups=this.popups.concat([vnode])}},{key:"removePopup",value:function removePopup(vnodeType){this.popups=this.popups.filter((function(d){return!(d.type===vnodeType)}))}},{key:"renderPrimaryTab",value:function renderPrimaryTab(){var grapher=this.grapher,tabBounds=this.tabBounds;return"chart"===grapher.primaryTab?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(ChartTab_ChartTab,{bounds:tabBounds,grapher:this.grapher,grapherView:this}):"map"===grapher.primaryTab?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(MapTab.a,{bounds:tabBounds,grapher:this.grapher,grapherView:this}):"table"===grapher.primaryTab?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(TableTab_TableTab,{bounds:tabBounds,grapher:grapher}):void 0}},{key:"renderOverlayTab",value:function renderOverlayTab(bounds){var grapher=this.grapher;return"sources"===grapher.overlayTab?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(SourcesTab_SourcesTab,{key:"sourcesTab",bounds:bounds,grapher:grapher}):"download"===grapher.overlayTab?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(DownloadTab_DownloadTab,{key:"downloadTab",bounds:bounds,grapher:grapher}):void 0}},{key:"renderSVG",value:function renderSVG(){return this.renderPrimaryTab()}},{key:"renderReady",value:function renderReady(){var tabBounds=this.tabBounds,grapher=this.grapher;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(delegated_reactfrom_dll_reference_storybook_docs_dll.Fragment,null,this.hasBeenVisible&&this.renderSVG(),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(Controls_ControlsFooterView,{grapherView:this}),this.renderOverlayTab(tabBounds),this.popups,delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(Tooltip.b,{width:this.renderWidth,height:this.renderHeight,tooltipContainer:this.grapher}),grapher.isSelectingData&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(EntitySelectorModal_EntitySelectorModal,{key:"entitySelector",grapher:grapher,isMobile:this.isMobile,onDismiss:Object(mobx_module.d)((function(){return grapher.isSelectingData=!1}))}))}},{key:"renderError",value:function renderError(){return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{style:{width:"100%",height:"100%",position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",lineHeight:1.5,padding:"3rem"}},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("p",{style:{color:"#cc0000",fontWeight:700}},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(index_es.a,{icon:faExclamationTriangle.faExclamationTriangle})," There was a problem loading this chart"),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("p",null,"We have been notified of this error, please check back later whether it's been fixed. If the error persists, get in touch with us at"," ",delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("a",{href:"mailto:info@ourworldindata.org?subject=Broken chart on page ".concat(window.location.href)},"info@ourworldindata.org"),"."))}},{key:"renderMain",value:function renderMain(){if(this.isExport)return this.renderSVG();var style={width:this.renderWidth,height:this.renderHeight,fontSize:this.grapher.baseFontSize};return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{ref:this.base,className:this.classNames,style:style},this.hasError?this.renderError():this.renderReady())}},{key:"render",value:function render(){return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(GrapherViewContext.a.Provider,{value:this.childContext},this.renderMain())}},{key:"checkVisibility",value:function checkVisibility(){!this.hasBeenVisible&&function isVisible(elm){if(!elm||!elm.getBoundingClientRect)return!1;var rect=elm.getBoundingClientRect(),viewHeight=Math.max(document.documentElement.clientHeight,window.innerHeight);return!(rect.bottom<0||rect.top-viewHeight>=0)}(this.base.current)&&(this.hasBeenVisible=!0)}},{key:"setBaseFontSize",value:function setBaseFontSize(){this.renderWidth<=400?this.props.grapher.baseFontSize=14:this.renderWidth<1080?this.props.grapher.baseFontSize=16:this.renderWidth>=1080&&(this.props.grapher.baseFontSize=18)}},{key:"onUpdate",value:function onUpdate(){this.setBaseFontSize(),this.checkVisibility()}},{key:"bindToWindow",value:function bindToWindow(){var _this2=this;window.grapherView=this,window.grapher=this.grapher,(new UrlBinder.a).bindToWindow(this.grapher.url),Object(mobx_module.e)((function(){return document.title=_this2.grapher.currentTitle}))}},{key:"componentDidMount",value:function componentDidMount(){window.addEventListener("scroll",this.checkVisibility),this.onUpdate()}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("scroll",this.checkVisibility),this.grapher.dispose()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.onUpdate()}},{key:"componentDidCatch",value:function componentDidCatch(error,info){this.hasError=!0,this.grapher.analytics.logChartError(error,info)}},{key:"grapher",get:function get(){return this.props.grapher}},{key:"isExport",get:function get(){return!!this.props.isExport}},{key:"isEditor",get:function get(){return!!this.props.isEditor}},{key:"isEmbed",get:function get(){return this.props.isEmbed||!this.isExport&&(window.self!==window.top||this.isEditor)}},{key:"isMobile",get:function get(){return Object(Util.Q)()}},{key:"containerBounds",get:function get(){return this.props.bounds}},{key:"isPortrait",get:function get(){return this.containerBounds.width<this.containerBounds.height&&this.containerBounds.width<850}},{key:"isLandscape",get:function get(){return!this.isPortrait}},{key:"authorWidth",get:function get(){return this.isPortrait?400:680}},{key:"authorHeight",get:function get(){return this.isPortrait?640:480}},{key:"fitBounds",get:function get(){var isEditor=this.isEditor,isEmbed=this.isEmbed,isExport=this.isExport,containerBounds=this.containerBounds,authorWidth=this.authorWidth,authorHeight=this.authorHeight;return!isEditor&&(isEmbed||isExport||containerBounds.height<authorHeight||containerBounds.width<authorWidth)}},{key:"paddedWidth",get:function get(){return this.isPortrait,.95*this.containerBounds.width}},{key:"paddedHeight",get:function get(){return this.isPortrait,.95*this.containerBounds.height}},{key:"scaleToFitIdeal",get:function get(){return Math.min(this.paddedWidth/this.authorWidth,this.paddedHeight/this.authorHeight)}},{key:"idealWidth",get:function get(){return this.authorWidth*this.scaleToFitIdeal}},{key:"idealHeight",get:function get(){return this.authorHeight*this.scaleToFitIdeal}},{key:"renderWidth",get:function get(){return this.fitBounds?this.containerBounds.width-(this.isExport?0:5):this.idealWidth}},{key:"renderHeight",get:function get(){return this.fitBounds?this.containerBounds.height-(this.isExport?0:5):this.idealHeight}},{key:"tabBounds",get:function get(){return new Bounds.a(0,0,this.renderWidth,this.renderHeight).padBottom(this.isExport?0:this.footerHeight)}},{key:"classNames",get:function get(){return["chart",this.isExport&&"export",this.isEditor&&"editor",this.isEmbed&&"embed",this.isPortrait&&"portrait",this.isLandscape&&"landscape",Object(Util.T)()&&"is-touch"].filter((function(n){return!!n})).join(" ")}},{key:"childContext",get:function get(){return{grapher:this.grapher,grapherView:this,baseFontSize:this.grapher.baseFontSize,isStatic:this.isExport,addPopup:this.addPopup.bind(this),removePopup:this.removePopup.bind(this)}}},{key:"overlayPadding",get:function get(){var _max,_max2,_max3,_max4,overlays=Object.values(this.overlays);return{top:null!==(_max=Object(Util.db)(overlays.map((function(overlay){return overlay.props.paddingTop}))))&&void 0!==_max?_max:0,right:null!==(_max2=Object(Util.db)(overlays.map((function(overlay){return overlay.props.paddingRight}))))&&void 0!==_max2?_max2:0,bottom:null!==(_max3=Object(Util.db)(overlays.map((function(overlay){return overlay.props.paddingBottom}))))&&void 0!==_max3?_max3:0,left:null!==(_max4=Object(Util.db)(overlays.map((function(overlay){return overlay.props.paddingLeft}))))&&void 0!==_max4?_max4:0}}},{key:"hasTimeline",get:function get(){var grapher=this.grapher;if("table"===grapher.currentTab)return!grapher.hideTimeline;if("map"===grapher.currentTab)return grapher.mapTransform.hasTimeline;if("chart"===grapher.currentTab){if(grapher.isScatter||grapher.isTimeScatter)return grapher.scatterTransform.hasTimeline;if(grapher.isLineChart)return grapher.lineChartTransform.hasTimeline;if(grapher.isSlopeChart)return grapher.slopeChartTransform.hasTimeline}return!1}},{key:"hasSpace",get:function get(){return this.renderWidth>700}},{key:"hasRelatedQuestion",get:function get(){var relatedQuestions=this.props.grapher.relatedQuestions;return!!(relatedQuestions&&relatedQuestions.length&&relatedQuestions[0].text&&relatedQuestions[0].url)}},{key:"footerLines",get:function get(){var numLines=1;return this.hasTimeline&&(numLines+=1),numLines}},{key:"footerHeight",get:function get(){return 32*this.footerLines+(this.hasRelatedQuestion?20:0)}}],[{key:"bootstrap",value:function bootstrap(_ref){var view,jsonConfig=_ref.jsonConfig,containerNode=_ref.containerNode,isEditor=_ref.isEditor,isEmbed=_ref.isEmbed,queryStr=_ref.queryStr,globalEntitySelection=_ref.globalEntitySelection,grapher=new Grapher.a(jsonConfig,{isEmbed:isEmbed,queryStr:queryStr,globalEntitySelection:globalEntitySelection});function render(){var rect=containerNode.getBoundingClientRect(),containerBounds=Bounds.a.fromRect(rect);view=delegated_react_domfrom_dll_reference_storybook_docs_dll.render(delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(GrapherView,{bounds:containerBounds,grapher:grapher,isEditor:isEditor,isEmbed:isEmbed}),containerNode)}return render(),window.addEventListener("resize",Object(Util.Pb)(render)),FullStory.event("Loaded chart v2",{chart_type_str:grapher.type,chart_id_int:grapher.id,slug_str:grapher.slug,originUrl_str:grapher.originUrl,addCountryMode_str:grapher.addCountryMode,stackMode_str:grapher.stackMode,hideLegend_bool:grapher.hideLegend,hideRelativeToggle_bool:grapher.hideRelativeToggle,hideTimeline_bool:grapher.hideTimeline,hideConnectedScatterLines_bool:grapher.hideConnectedScatterLines,compareEndPointsOnly_bool:grapher.compareEndPointsOnly,entityType_str:grapher.entityType,isEmbed_bool:grapher.isEmbed,hasChartTab_bool:grapher.hasChartTab,hasMapTab_bool:grapher.hasMapTab,tab_str:grapher.currentTab,totalSelectedEntities_int:grapher.selectedData.length}),view}}]),GrapherView}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component)).prototype,"grapher",[mobx_module.f],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"grapher"),GrapherView_class2.prototype),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"isExport",[mobx_module.f],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"isExport"),GrapherView_class2.prototype),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"isEditor",[mobx_module.f],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"isEditor"),GrapherView_class2.prototype),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"isEmbed",[mobx_module.f],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"isEmbed"),GrapherView_class2.prototype),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"isMobile",[mobx_module.f],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"isMobile"),GrapherView_class2.prototype),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"containerBounds",[mobx_module.f],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"containerBounds"),GrapherView_class2.prototype),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"isPortrait",[mobx_module.f],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"isPortrait"),GrapherView_class2.prototype),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"isLandscape",[mobx_module.f],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"isLandscape"),GrapherView_class2.prototype),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"authorWidth",[mobx_module.f],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"authorWidth"),GrapherView_class2.prototype),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"authorHeight",[mobx_module.f],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"authorHeight"),GrapherView_class2.prototype),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"fitBounds",[mobx_module.f],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"fitBounds"),GrapherView_class2.prototype),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"paddedWidth",[mobx_module.f],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"paddedWidth"),GrapherView_class2.prototype),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"paddedHeight",[mobx_module.f],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"paddedHeight"),GrapherView_class2.prototype),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"scaleToFitIdeal",[mobx_module.f],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"scaleToFitIdeal"),GrapherView_class2.prototype),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"idealWidth",[mobx_module.f],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"idealWidth"),GrapherView_class2.prototype),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"idealHeight",[mobx_module.f],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"idealHeight"),GrapherView_class2.prototype),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"renderWidth",[mobx_module.f],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"renderWidth"),GrapherView_class2.prototype),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"renderHeight",[mobx_module.f],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"renderHeight"),GrapherView_class2.prototype),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"tabBounds",[mobx_module.f],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"tabBounds"),GrapherView_class2.prototype),GrapherView_descriptor=GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"overlays",[GrapherView_dec],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),GrapherView_descriptor2=GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"popups",[GrapherView_dec2],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),GrapherView_descriptor3=GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"hasBeenVisible",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),GrapherView_descriptor4=GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"hasError",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"classNames",[mobx_module.f],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"classNames"),GrapherView_class2.prototype),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"checkVisibility",[GrapherView_dec3],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"checkVisibility"),GrapherView_class2.prototype),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"setBaseFontSize",[GrapherView_dec4],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"setBaseFontSize"),GrapherView_class2.prototype),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"onUpdate",[GrapherView_dec5],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"onUpdate"),GrapherView_class2.prototype),GrapherView_descriptor5=GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"isShareMenuActive",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"overlayPadding",[GrapherView_dec6],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"overlayPadding"),GrapherView_class2.prototype),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"hasTimeline",[mobx_module.f],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"hasTimeline"),GrapherView_class2.prototype),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"hasSpace",[mobx_module.f],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"hasSpace"),GrapherView_class2.prototype),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"hasRelatedQuestion",[mobx_module.f],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"hasRelatedQuestion"),GrapherView_class2.prototype),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"footerLines",[mobx_module.f],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"footerLines"),GrapherView_class2.prototype),GrapherView_applyDecoratedDescriptor(GrapherView_class2.prototype,"footerHeight",[mobx_module.f],Object.getOwnPropertyDescriptor(GrapherView_class2.prototype,"footerHeight"),GrapherView_class2.prototype),GrapherView_class=GrapherView_class2))||GrapherView_class);try{GrapherView_GrapherView.displayName="GrapherView",GrapherView_GrapherView.__docgenInfo={description:"",displayName:"GrapherView",props:{bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"Bounds"}},grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}},isExport:{defaultValue:null,description:"",name:"isExport",required:!1,type:{name:"boolean"}},isEditor:{defaultValue:null,description:"",name:"isEditor",required:!1,type:{name:"boolean"}},isEmbed:{defaultValue:null,description:"",name:"isEmbed",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/core/GrapherView.tsx#GrapherView"]={docgenInfo:GrapherView_GrapherView.__docgenInfo,name:"GrapherView",path:"grapher/core/GrapherView.tsx#GrapherView"})}catch(__react_docgen_typescript_loader_error){}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ExplorerControlBar})),__webpack_require__.d(__webpack_exports__,"b",(function(){return ExplorerControlPanel}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(31),__webpack_require__(49),__webpack_require__(19),__webpack_require__(14),__webpack_require__(46),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(23),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var _dec,_class,_class2,react__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_23__),mobx_react__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(9),mobx__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(0),classnames__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(44),classnames__WEBPACK_IMPORTED_MODULE_26___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_26__),react_select__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(155),utils_client_react_select__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(121);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var ExplorerControlBar=function(_React$Component){_inherits(ExplorerControlBar,_React$Component);var _super=_createSuper(ExplorerControlBar);function ExplorerControlBar(){return _classCallCheck(this,ExplorerControlBar),_super.apply(this,arguments)}return _createClass(ExplorerControlBar,[{key:"render",value:function render(){var _this$props=this.props,isMobile=_this$props.isMobile,showControls=_this$props.showControls,closeControls=_this$props.closeControls,mobileCloseButton=isMobile?react__WEBPACK_IMPORTED_MODULE_23___default.a.createElement("a",{className:"btn btn-primary mobile-button",onClick:closeControls},"Done"):void 0,showMobileControls=isMobile&&showControls;return react__WEBPACK_IMPORTED_MODULE_23___default.a.createElement("div",{className:"ExplorerControlBar".concat(showMobileControls?" show-controls-popup":isMobile?" hide-controls-popup":"")},this.props.children,mobileCloseButton)}}]),ExplorerControlBar}(react__WEBPACK_IMPORTED_MODULE_23___default.a.Component),ExplorerControlPanel=(_dec=mobx__WEBPACK_IMPORTED_MODULE_25__.d.bound,Object(mobx_react__WEBPACK_IMPORTED_MODULE_24__.a)((function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}((_class2=function(_React$Component2){_inherits(ExplorerControlPanel,_React$Component2);var _super2=_createSuper(ExplorerControlPanel);function ExplorerControlPanel(){return _classCallCheck(this,ExplorerControlPanel),_super2.apply(this,arguments)}return _createClass(ExplorerControlPanel,[{key:"renderOption",value:function renderOption(option,index){var _this=this,_this$props2=this.props,title=_this$props2.title,name=_this$props2.name,comment=_this$props2.comment,isCheckbox=_this$props2.isCheckbox,explorerSlug=_this$props2.explorerSlug,value=_this$props2.value,onChangeValue=isCheckbox&&option.checked?"":option.value;return react__WEBPACK_IMPORTED_MODULE_23___default.a.createElement("div",{key:index,className:"ControlOption"},react__WEBPACK_IMPORTED_MODULE_23___default.a.createElement("label",{className:[option.checked?"SelectedOption":"Option",option.available?"AvailableOption":"UnavailableOption"].join(" "),"data-track-note":"".concat(explorerSlug,"-click-").concat(title.toLowerCase())},react__WEBPACK_IMPORTED_MODULE_23___default.a.createElement("input",{onChange:function onChange(){return _this.props.onChange(onChangeValue)},type:isCheckbox?"checkbox":"radio",disabled:!option.available,name:name,checked:option.available&&option.checked,value:value})," ",option.label,comment&&react__WEBPACK_IMPORTED_MODULE_23___default.a.createElement("div",{className:["comment",option.available?"AvailableOption":"UnavailableOption"].join(" ")},comment)))}},{key:"customOnChange",value:function customOnChange(value){this.props.onChange(value)}},{key:"render",value:function render(){var _this$props$dropdownO,_this$props3=this.props,title=_this$props3.title,hideTitle=_this$props3.hideTitle,name=_this$props3.name;return react__WEBPACK_IMPORTED_MODULE_23___default.a.createElement("div",{key:name,className:classnames__WEBPACK_IMPORTED_MODULE_26___default()("ExplorerControl",name)},react__WEBPACK_IMPORTED_MODULE_23___default.a.createElement("div",{className:"ControlHeader"+(!0===hideTitle?" HiddenControlHeader":"")},title),(null===(_this$props$dropdownO=this.props.dropdownOptions)||void 0===_this$props$dropdownO?void 0:_this$props$dropdownO.length)?this.renderDropdown:this.renderOptions)}},{key:"renderDropdown",get:function get(){var _this2=this,options=this.props.dropdownOptions.filter((function(option){return option.available})).map((function(option){return{label:option.label,value:option.value}})),styles=Object(utils_client_react_select__WEBPACK_IMPORTED_MODULE_28__.b)(16);return react__WEBPACK_IMPORTED_MODULE_23___default.a.createElement(react_select__WEBPACK_IMPORTED_MODULE_27__.a,{className:"intervalDropdown",classNamePrefix:"intervalDropdown",isDisabled:options.length<2,menuPlacement:"auto",options:options,value:options.find((function(option){return option.value===_this2.props.value}))||{label:"-",value:"-"},onChange:function onChange(option){return _this2.customOnChange(option.value)},components:{IndicatorSeparator:null},styles:styles,isSearchable:!1})}},{key:"renderOptions",get:function get(){var _this3=this;return this.props.options.map((function(option,index){return _this3.renderOption(option,index)}))}}]),ExplorerControlPanel}(react__WEBPACK_IMPORTED_MODULE_23___default.a.Component)).prototype,"customOnChange",[_dec],Object.getOwnPropertyDescriptor(_class2.prototype,"customOnChange"),_class2.prototype),_class=_class2))||_class);try{ExplorerControlBar.displayName="ExplorerControlBar",ExplorerControlBar.__docgenInfo={description:"",displayName:"ExplorerControlBar",props:{isMobile:{defaultValue:null,description:"",name:"isMobile",required:!0,type:{name:"boolean"}},showControls:{defaultValue:null,description:"",name:"showControls",required:!0,type:{name:"boolean"}},closeControls:{defaultValue:null,description:"",name:"closeControls",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["explorer/client/ExplorerControls.tsx#ExplorerControlBar"]={docgenInfo:ExplorerControlBar.__docgenInfo,name:"ExplorerControlBar",path:"explorer/client/ExplorerControls.tsx#ExplorerControlBar"})}catch(__react_docgen_typescript_loader_error){}try{ExplorerControlPanel.displayName="ExplorerControlPanel",ExplorerControlPanel.__docgenInfo={description:"",displayName:"ExplorerControlPanel",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},explorerSlug:{defaultValue:null,description:"",name:"explorerSlug",required:!0,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"ControlOption[]"}},dropdownOptions:{defaultValue:null,description:"",name:"dropdownOptions",required:!1,type:{name:"DropdownOption[]"}},isCheckbox:{defaultValue:null,description:"",name:"isCheckbox",required:!1,type:{name:"boolean"}},comment:{defaultValue:null,description:"",name:"comment",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}},hideTitle:{defaultValue:null,description:"",name:"hideTitle",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["explorer/client/ExplorerControls.tsx#ExplorerControlPanel"]={docgenInfo:ExplorerControlPanel.__docgenInfo,name:"ExplorerControlPanel",path:"explorer/client/ExplorerControls.tsx#ExplorerControlPanel"})}catch(__react_docgen_typescript_loader_error){}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("3yYM")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("P2aG")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("JtPf")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("DfhM")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("tJVe")},,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return ENV})),__webpack_require__.d(__webpack_exports__,"b",(function(){return BAKED_BASE_URL})),__webpack_require__.d(__webpack_exports__,"c",(function(){return BAKED_GRAPHER_URL})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ADMIN_BASE_URL})),__webpack_require__.d(__webpack_exports__,"e",(function(){return EXPLORER}));__webpack_require__(22),__webpack_require__(34),__webpack_require__(80),__webpack_require__(104);function parseBool(input){var normalized=input.trim().toLowerCase();return"true"===normalized||"1"===normalized}var ENV=(Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).ENV,"production"),ADMIN_SERVER_HOST=Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).ADMIN_SERVER_HOST||"localhost",ADMIN_SERVER_PORT=Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).ADMIN_SERVER_PORT?parseInt(Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).ADMIN_SERVER_PORT):3030,BAKED_BASE_URL=(Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).WEBPACK_DEV_URL,Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).BAKED_BASE_URL||"http://".concat(ADMIN_SERVER_HOST,":").concat(ADMIN_SERVER_PORT)),BAKED_GRAPHER_URL=Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).BAKED_GRAPHER_URL||"".concat(BAKED_BASE_URL,"/grapher"),ADMIN_BASE_URL=Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).ADMIN_BASE_URL||"http://".concat(ADMIN_SERVER_HOST,":").concat(ADMIN_SERVER_PORT),EXPLORER=(Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).WORDPRESS_URL,Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).GITHUB_USERNAME,Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).GIT_DEFAULT_USERNAME,Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).GIT_DEFAULT_EMAIL,Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).ALGOLIA_ID,Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).ALGOLIA_SEARCH_KEY,Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).STRIPE_PUBLIC_KEY,Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).DONATE_API_URL,Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).RECAPTCHA_SITE_KEY,!!Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).EXPLORER&&parseBool(Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).EXPLORER));!!Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).COVID_DASHBOARD&&parseBool(Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).COVID_DASHBOARD),!!Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).OPTIMIZE_SVG_EXPORTS&&parseBool(Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).OPTIMIZE_SVG_EXPORTS)},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("y2Ah")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("tVqn")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("ct80")},,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return VerticalColorLegend})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ScatterColorLegendView}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(31),__webpack_require__(19),__webpack_require__(43),__webpack_require__(14),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(45),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var _class,_class3,react__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(1),grapher_utils_Util__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(2),mobx__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(0),mobx_react__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(9),grapher_text_TextWrap__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(47);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var VerticalColorLegend=(_applyDecoratedDescriptor((_class=function(){function VerticalColorLegend(props){_classCallCheck(this,VerticalColorLegend),this.props=void 0,this.props=props}return _createClass(VerticalColorLegend,[{key:"fontSize",get:function get(){return.7*this.props.fontSize}},{key:"rectSize",get:function get(){return Math.round(this.props.fontSize/2)}},{key:"rectPadding",get:function get(){return 5}},{key:"lineHeight",get:function get(){return 5}},{key:"title",get:function get(){if(this.props.title)return new grapher_text_TextWrap__WEBPACK_IMPORTED_MODULE_25__.a({maxWidth:this.props.maxWidth,fontSize:.75*this.props.fontSize,fontWeight:700,text:this.props.title})}},{key:"titleHeight",get:function get(){return this.title?this.title.height+5:0}},{key:"labelMarks",get:function get(){var props=this.props,fontSize=this.fontSize,rectSize=this.rectSize,rectPadding=this.rectPadding;return props.colorables.map((function(c){var label=new grapher_text_TextWrap__WEBPACK_IMPORTED_MODULE_25__.a({maxWidth:props.maxWidth,fontSize:fontSize,text:c.label});return{label:label,color:c.color,width:rectSize+rectPadding+label.width,height:Math.max(label.height,rectSize)}})).filter((function(v){return!!v}))}},{key:"width",get:function get(){var widths=this.labelMarks.map((function(d){return d.width}));return this.title&&widths.push(this.title.width),Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_22__.l)(Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_22__.db)(widths),0)}},{key:"height",get:function get(){return this.titleHeight+Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_22__.Mb)(this.labelMarks.map((function(d){return d.height})))+this.lineHeight*this.labelMarks.length}}]),VerticalColorLegend}()).prototype,"fontSize",[mobx__WEBPACK_IMPORTED_MODULE_23__.f],Object.getOwnPropertyDescriptor(_class.prototype,"fontSize"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"rectSize",[mobx__WEBPACK_IMPORTED_MODULE_23__.f],Object.getOwnPropertyDescriptor(_class.prototype,"rectSize"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"rectPadding",[mobx__WEBPACK_IMPORTED_MODULE_23__.f],Object.getOwnPropertyDescriptor(_class.prototype,"rectPadding"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"lineHeight",[mobx__WEBPACK_IMPORTED_MODULE_23__.f],Object.getOwnPropertyDescriptor(_class.prototype,"lineHeight"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"title",[mobx__WEBPACK_IMPORTED_MODULE_23__.f],Object.getOwnPropertyDescriptor(_class.prototype,"title"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"titleHeight",[mobx__WEBPACK_IMPORTED_MODULE_23__.f],Object.getOwnPropertyDescriptor(_class.prototype,"titleHeight"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"labelMarks",[mobx__WEBPACK_IMPORTED_MODULE_23__.f],Object.getOwnPropertyDescriptor(_class.prototype,"labelMarks"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"width",[mobx__WEBPACK_IMPORTED_MODULE_23__.f],Object.getOwnPropertyDescriptor(_class.prototype,"width"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"height",[mobx__WEBPACK_IMPORTED_MODULE_23__.f],Object.getOwnPropertyDescriptor(_class.prototype,"height"),_class.prototype),_class),ScatterColorLegendView=Object(mobx_react__WEBPACK_IMPORTED_MODULE_24__.a)(_class3=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ScatterColorLegendView,_React$Component);var _super=_createSuper(ScatterColorLegendView);function ScatterColorLegendView(){return _classCallCheck(this,ScatterColorLegendView),_super.apply(this,arguments)}return _createClass(ScatterColorLegendView,[{key:"render",value:function render(){var props=this.props,focusColors=props.focusColors,activeColors=props.activeColors,onMouseOver=props.onMouseOver,onMouseLeave=props.onMouseLeave,onClick=props.onClick,_props$legend=props.legend,title=_props$legend.title,titleHeight=_props$legend.titleHeight,labelMarks=_props$legend.labelMarks,rectSize=_props$legend.rectSize,rectPadding=_props$legend.rectPadding,lineHeight=_props$legend.lineHeight,markOffset=titleHeight;return react__WEBPACK_IMPORTED_MODULE_21__.createElement(react__WEBPACK_IMPORTED_MODULE_21__.Fragment,null,title&&title.render(props.x,props.y,{fontWeight:700}),react__WEBPACK_IMPORTED_MODULE_21__.createElement("g",{className:"ScatterColorLegend clickable",style:{cursor:"pointer"}},labelMarks.map((function(mark,index){var _focusColors$includes,isActive=activeColors.includes(mark.color),isFocus=null!==(_focusColors$includes=null==focusColors?void 0:focusColors.includes(mark.color))&&void 0!==_focusColors$includes&&_focusColors$includes,mouseOver=onMouseOver?function(){return onMouseOver(mark.color)}:void 0,mouseLeave=onMouseLeave||void 0,click=onClick?function(){return onClick(mark.color)}:void 0,result=react__WEBPACK_IMPORTED_MODULE_21__.createElement("g",{key:index,className:"legendMark",onMouseOver:mouseOver,onMouseLeave:mouseLeave,onClick:click,fill:isActive?void 0:"#ccc"},react__WEBPACK_IMPORTED_MODULE_21__.createElement("rect",{x:props.x,y:props.y+markOffset-lineHeight/2,width:mark.width,height:mark.height+lineHeight,fill:"#fff",opacity:0}),react__WEBPACK_IMPORTED_MODULE_21__.createElement("rect",{x:props.x,y:props.y+markOffset+(mark.height-rectSize)/2,width:rectSize,height:rectSize,fill:isActive?mark.color:void 0}),mark.label.render(props.x+rectSize+rectPadding,props.y+markOffset,isFocus?{style:{fontWeight:"bold"}}:void 0));return markOffset+=mark.height+lineHeight,result}))))}}]),ScatterColorLegendView}(react__WEBPACK_IMPORTED_MODULE_21__.Component))||_class3;try{VerticalColorLegend.displayName="VerticalColorLegend",VerticalColorLegend.__docgenInfo={description:"",displayName:"VerticalColorLegend",props:{maxWidth:{defaultValue:null,description:"",name:"maxWidth",required:!0,type:{name:"number"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!0,type:{name:"number"}},colorables:{defaultValue:null,description:"",name:"colorables",required:!0,type:{name:"{ key: string; label: string; color: string; }[]"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/scatterCharts/ScatterColorLegend.tsx#VerticalColorLegend"]={docgenInfo:VerticalColorLegend.__docgenInfo,name:"VerticalColorLegend",path:"grapher/scatterCharts/ScatterColorLegend.tsx#VerticalColorLegend"})}catch(__react_docgen_typescript_loader_error){}try{ScatterColorLegendView.displayName="ScatterColorLegendView",ScatterColorLegendView.__docgenInfo={description:"",displayName:"ScatterColorLegendView",props:{x:{defaultValue:null,description:"",name:"x",required:!0,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!0,type:{name:"number"}},legend:{defaultValue:null,description:"",name:"legend",required:!0,type:{name:"VerticalColorLegend"}},activeColors:{defaultValue:null,description:"",name:"activeColors",required:!0,type:{name:"string[]"}},focusColors:{defaultValue:null,description:"",name:"focusColors",required:!1,type:{name:"string[]"}},onMouseOver:{defaultValue:null,description:"",name:"onMouseOver",required:!1,type:{name:"((color: string) => void)"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((color: string) => void)"}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/scatterCharts/ScatterColorLegend.tsx#ScatterColorLegendView"]={docgenInfo:ScatterColorLegendView.__docgenInfo,name:"ScatterColorLegendView",path:"grapher/scatterCharts/ScatterColorLegend.tsx#ScatterColorLegendView"})}catch(__react_docgen_typescript_loader_error){}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("9JhN")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("LJOr")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("fRV1")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("S3pA")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("0FSu")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ControlsOverlay}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(19),__webpack_require__(14),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var _dec,_class,_class2,_class3,_temp,mobx_react__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(9),react__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_19__),grapher_core_GrapherViewContext__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(221);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var ControlsOverlay=(_dec=__webpack_require__(0).d.bound,Object(mobx_react__WEBPACK_IMPORTED_MODULE_18__.a)((_temp=_class3=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ControlsOverlay,_React$Component);var _super=_createSuper(ControlsOverlay);function ControlsOverlay(){var _this;_classCallCheck(this,ControlsOverlay);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).context=void 0,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ControlsOverlay,[{key:"componentDidMount",value:function componentDidMount(){var _this$context;(null===(_this$context=this.context)||void 0===_this$context?void 0:_this$context.grapherView)&&(this.context.grapherView.overlays[this.props.id]=this)}},{key:"deleteOverlay",value:function deleteOverlay(){var _this$context2,_this$context2$graphe;null===(_this$context2=this.context)||void 0===_this$context2||(null===(_this$context2$graphe=_this$context2.grapherView)||void 0===_this$context2$graphe||delete _this$context2$graphe.overlays[this.props.id])}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.deleteOverlay()}},{key:"render",value:function render(){return null}}]),ControlsOverlay}(react__WEBPACK_IMPORTED_MODULE_19___default.a.Component),_class3.contextType=grapher_core_GrapherViewContext__WEBPACK_IMPORTED_MODULE_20__.a,function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}((_class2=_temp).prototype,"deleteOverlay",[_dec],Object.getOwnPropertyDescriptor(_class2.prototype,"deleteOverlay"),_class2.prototype),_class=_class2))||_class);try{ControlsOverlay.displayName="ControlsOverlay",ControlsOverlay.__docgenInfo={description:"",displayName:"ControlsOverlay",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},paddingTop:{defaultValue:null,description:"",name:"paddingTop",required:!1,type:{name:"number"}},paddingRight:{defaultValue:null,description:"",name:"paddingRight",required:!1,type:{name:"number"}},paddingBottom:{defaultValue:null,description:"",name:"paddingBottom",required:!1,type:{name:"number"}},paddingLeft:{defaultValue:null,description:"",name:"paddingLeft",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/controls/ControlsOverlay.tsx#ControlsOverlay"]={docgenInfo:ControlsOverlay.__docgenInfo,name:"ControlsOverlay",path:"grapher/controls/ControlsOverlay.tsx#ControlsOverlay"})}catch(__react_docgen_typescript_loader_error){}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return UrlBinder}));var mobx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),utils_client_url__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(50),grapher_utils_Util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var UrlBinder=function(){function UrlBinder(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,UrlBinder),this.disposer=void 0}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(UrlBinder,[{key:"bindToWindow",value:function bindToWindow(url){var pushParams=function pushParams(){return Object(utils_client_url__WEBPACK_IMPORTED_MODULE_1__.d)(Object(utils_client_url__WEBPACK_IMPORTED_MODULE_1__.c)(url.params))},debouncedPushParams=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_2__.k)(pushParams,100);this.disposer=Object(mobx__WEBPACK_IMPORTED_MODULE_0__.o)((function(){return url.params}),(function(){return url.debounceMode?debouncedPushParams():pushParams()}))}},{key:"unbindFromWindow",value:function unbindFromWindow(){this.disposer()}}]),UrlBinder}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Grapher_Grapher}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(31),__webpack_require__(49),__webpack_require__(19),__webpack_require__(30),__webpack_require__(43),__webpack_require__(32),__webpack_require__(14),__webpack_require__(46),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(57),__webpack_require__(23),__webpack_require__(60),__webpack_require__(28),__webpack_require__(7),__webpack_require__(8),__webpack_require__(96),__webpack_require__(27),__webpack_require__(16),__webpack_require__(72),__webpack_require__(45),__webpack_require__(13),__webpack_require__(141),__webpack_require__(104),__webpack_require__(20),__webpack_require__(15),__webpack_require__(94);var _class,delegated_reactfrom_dll_reference_storybook_docs_dll=__webpack_require__(1),server_browser=__webpack_require__(573),mobx_module=__webpack_require__(0),decko=__webpack_require__(77),Util=__webpack_require__(2),GrapherConstants=__webpack_require__(17),OwidTable=__webpack_require__(86),ChartDimension=__webpack_require__(157),MapTopology=(__webpack_require__(11),__webpack_require__(71),__webpack_require__(29),__webpack_require__(181)),ChartTransform=__webpack_require__(69),mean=__webpack_require__(1007),deviation=__webpack_require__(1020),ColorSchemes=__webpack_require__(70),ColorScaleBin=__webpack_require__(88),BinningStrategies=__webpack_require__(118);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var MapTransform_class,_class2,MapTransform_temp,ColorScale_ColorScale=(_applyDecoratedDescriptor((_class=function(){function ColorScale(props){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ColorScale),this.props=void 0,this.props=props}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ColorScale,[{key:"getColor",value:function getColor(value){var _this$legendData$find;return void 0===value?this.customCategoryColors["No data"]:null===(_this$legendData$find=this.legendData.find((function(b){return b.contains(value)})))||void 0===_this$legendData$find?void 0:_this$legendData$find.color}},{key:"config",get:function get(){return this.props.config}},{key:"customNumericValues",get:function get(){return Object(Util.l)(this.config.customNumericValues,[])}},{key:"customNumericColorsActive",get:function get(){return Object(Util.l)(this.config.customNumericColorsActive,!1)}},{key:"customNumericColors",get:function get(){return Object(Util.l)(this.customNumericColorsActive?Object(Util.cb)(this.config.customNumericColors):[],[])}},{key:"customHiddenCategories",get:function get(){return Object(Util.l)(this.config.customHiddenCategories,{})}},{key:"customNumericLabels",get:function get(){if(this.isManualBuckets){for(var labels=Object(Util.cb)(Object(mobx_module.r)(this.config.customNumericLabels))||[];labels.length<this.numBins;)labels.push(void 0);return labels}return[]}},{key:"isColorSchemeInverted",get:function get(){return Object(Util.l)(this.config.colorSchemeInvert,!1)}},{key:"customCategoryLabels",get:function get(){return Object(Util.l)(this.config.customCategoryLabels,{})}},{key:"baseColorScheme",get:function get(){return Object(Util.l)(this.config.baseColorScheme,Object(Util.l)(this.props.defaultBaseColorScheme,"BuGn"))}},{key:"defaultColorScheme",get:function get(){return ColorSchemes.a.BuGn}},{key:"defaultNoDataColor",get:function get(){return Object(Util.l)(this.props.defaultNoDataColor,"#eee")}},{key:"formatNumericValue",get:function get(){return Object(Util.l)(this.props.formatNumericValueFn,Util.J)}},{key:"formatCategoricalValue",get:function get(){return Object(Util.l)(this.props.formatCategoricalValueFn,Util.J)}},{key:"legendDescription",get:function get(){return this.config.legendDescription}},{key:"hasNoDataBin",get:function get(){return this.props.hasNoDataBin}},{key:"sortedNumericValues",get:function get(){return this.props.sortedNumericValues}},{key:"minPossibleValue",get:function get(){return Object(Util.x)(this.sortedNumericValues)}},{key:"maxPossibleValue",get:function get(){return Object(Util.V)(this.sortedNumericValues)}},{key:"categoricalValues",get:function get(){return this.props.categoricalValues}},{key:"colorScheme",get:function get(){var _ColorSchemes$this$ba;return null!==(_ColorSchemes$this$ba=ColorSchemes.a[this.baseColorScheme])&&void 0!==_ColorSchemes$this$ba?_ColorSchemes$this$ba:this.defaultColorScheme}},{key:"singleColorScale",get:function get(){return this.colorScheme.singleColorScale}},{key:"autoMinBinValue",get:function get(){var minValue=Math.min(0,this.sortedNumericValuesWithoutOutliers[0]);return isNaN(minValue)?0:Object(Util.Ab)(minValue,1)}},{key:"minBinValue",get:function get(){var _this$config$customNu;return null!==(_this$config$customNu=this.config.customNumericMinValue)&&void 0!==_this$config$customNu?_this$config$customNu:this.autoMinBinValue}},{key:"manualBinMaximums",get:function get(){if(!this.sortedNumericValues.length||this.numBins<=0)return[];for(var numBins=this.numBins,customNumericValues=this.customNumericValues,values=Object(Util.Qb)(customNumericValues);values.length<numBins;)values.push(0);for(;values.length>numBins;)values=values.slice(0,numBins);return values}},{key:"autoBinMaximums",get:function get(){return Object(BinningStrategies.b)({binningStrategy:this.config.binningStrategy,sortedValues:this.sortedNumericBinningValues,binCount:this.numAutoBins,minBinValue:this.minBinValue})}},{key:"bucketMaximums",get:function get(){return this.isManualBuckets?this.manualBinMaximums:this.autoBinMaximums}},{key:"customCategoryColors",get:function get(){return Object.assign(function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},"No data",this.defaultNoDataColor),this.config.customCategoryColors)}},{key:"noDataColor",get:function get(){return this.customCategoryColors["No data"]}},{key:"baseColors",get:function get(){var categoricalValues=this.categoricalValues,colorScheme=this.colorScheme,bucketMaximums=this.bucketMaximums,isColorSchemeInverted=this.isColorSchemeInverted,numColors=bucketMaximums.length+categoricalValues.length,colors=colorScheme.getColors(numColors);return isColorSchemeInverted&&Object(Util.yb)(colors),colors}},{key:"numAutoBins",get:function get(){return Object(Util.l)(this.config.binningStrategyBinCount,5)}},{key:"isManualBuckets",get:function get(){return this.config.binningStrategy===BinningStrategies.a.manual}},{key:"numBins",get:function get(){return this.isManualBuckets?this.customNumericValues.length:this.numAutoBins}},{key:"sortedNumericValuesWithoutOutliers",get:function get(){var sortedNumericValues=this.sortedNumericValues;if(!sortedNumericValues.length)return[];var sampleMean=Object(mean.a)(sortedNumericValues),sampleDeviation=Object(deviation.a)(sortedNumericValues);return sortedNumericValues.filter((function(d){return Math.abs(d-sampleMean)<=2*sampleDeviation}))}},{key:"sortedNumericBinningValues",get:function get(){var _this=this;return this.sortedNumericValuesWithoutOutliers.filter((function(v){return v>_this.minBinValue}))}},{key:"legendData",get:function get(){var legendData=[],bucketMaximums=this.bucketMaximums,baseColors=this.baseColors,hasNoDataBin=this.hasNoDataBin,categoricalValues=this.categoricalValues,customCategoryColors=this.customCategoryColors,customNumericLabels=this.customNumericLabels,minBinValue=this.minBinValue,minPossibleValue=this.minPossibleValue,maxPossibleValue=this.maxPossibleValue,customNumericColors=this.customNumericColors,customCategoryLabels=this.customCategoryLabels,customHiddenCategories=this.customHiddenCategories,formatNumericValue=this.formatNumericValue;if(void 0!==minPossibleValue&&void 0!==maxPossibleValue)for(var minValue=minBinValue,i=0;i<bucketMaximums.length;i++){var baseColor=baseColors[i],color=Object(Util.l)(customNumericColors.length>i?customNumericColors[i]:void 0,baseColor),maxValue=+bucketMaximums[i],label=customNumericLabels[i];legendData.push(new ColorScaleBin.b({isFirst:0===i,isOpenLeft:0===i&&minValue>minPossibleValue,isOpenRight:i===bucketMaximums.length-1&&maxValue<maxPossibleValue,min:minValue,max:maxValue,color:color,label:label,format:formatNumericValue})),minValue=maxValue}var allCategoricalValues=categoricalValues;hasNoDataBin&&!allCategoricalValues.includes("No data")&&(allCategoricalValues=[].concat(_toConsumableArray(allCategoricalValues),["No data"]));for(var _i=0;_i<allCategoricalValues.length;_i++){var value=allCategoricalValues[_i],_baseColor=baseColors[_i+(Object(Util.O)(bucketMaximums)?0:bucketMaximums.length-1)],_color=customCategoryColors[value]||_baseColor,_label=customCategoryLabels[value]||this.formatCategoricalValue(value);legendData.push(new ColorScaleBin.a({index:_i,value:value,color:_color,label:_label,isHidden:!!customHiddenCategories[value]}))}return legendData}}]),ColorScale}()).prototype,"config",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"config"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"customNumericValues",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"customNumericValues"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"customNumericColorsActive",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"customNumericColorsActive"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"customNumericColors",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"customNumericColors"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"customHiddenCategories",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"customHiddenCategories"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"customNumericLabels",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"customNumericLabels"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"isColorSchemeInverted",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"isColorSchemeInverted"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"customCategoryLabels",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"customCategoryLabels"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"baseColorScheme",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"baseColorScheme"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"defaultColorScheme",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"defaultColorScheme"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"defaultNoDataColor",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"defaultNoDataColor"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"formatNumericValue",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"formatNumericValue"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"formatCategoricalValue",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"formatCategoricalValue"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"legendDescription",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"legendDescription"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"hasNoDataBin",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"hasNoDataBin"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"sortedNumericValues",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"sortedNumericValues"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"minPossibleValue",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"minPossibleValue"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"maxPossibleValue",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"maxPossibleValue"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"categoricalValues",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"categoricalValues"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"colorScheme",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"colorScheme"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"singleColorScale",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"singleColorScale"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"autoMinBinValue",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"autoMinBinValue"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"minBinValue",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"minBinValue"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"manualBinMaximums",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"manualBinMaximums"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"autoBinMaximums",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"autoBinMaximums"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"bucketMaximums",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"bucketMaximums"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"customCategoryColors",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"customCategoryColors"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"noDataColor",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"noDataColor"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"baseColors",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"baseColors"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"numAutoBins",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"numAutoBins"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"isManualBuckets",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"isManualBuckets"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"numBins",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"numBins"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"sortedNumericValuesWithoutOutliers",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"sortedNumericValuesWithoutOutliers"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"sortedNumericBinningValues",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"sortedNumericBinningValues"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"legendData",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"legendData"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getColor",[decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"getColor"),_class.prototype),_class);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||MapTransform_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MapTransform_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return MapTransform_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MapTransform_arrayLikeToArray(o,minLen):void 0}}function MapTransform_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function MapTransform_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function MapTransform_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function MapTransform_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var StackedBarTransform_class,MapTransform_MapTransform=(MapTransform_temp=_class2=function(_ChartTransform){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(MapTransform,_ChartTransform);var _super=_createSuper(MapTransform);function MapTransform(){return MapTransform_classCallCheck(this,MapTransform),_super.apply(this,arguments)}return function MapTransform_createClass(Constructor,protoProps,staticProps){return protoProps&&MapTransform_defineProperties(Constructor.prototype,protoProps),staticProps&&MapTransform_defineProperties(Constructor,staticProps),Constructor}(MapTransform,[{key:"props",get:function get(){return this.grapher.map}},{key:"columnSlug",get:function get(){var grapher=this.grapher;return this.props.columnSlug&&grapher.table.columnsBySlug.get(this.props.columnSlug)?this.props.columnSlug:grapher.primaryColumnSlug}},{key:"projection",get:function get(){var _this$props$projectio;return null!==(_this$props$projectio=this.props.projection)&&void 0!==_this$props$projectio?_this$props$projectio:"World"}},{key:"hasTimeline",get:function get(){return this.timelineTimes.length>1&&!this.grapher.hideTimeline&&!this.props.hideTimeline}},{key:"isReady",get:function get(){return!!this.columnSlug&&this.grapher.table.columnsBySlug.has(this.columnSlug)}},{key:"dimension",get:function get(){var _this=this;return this.grapher.filledDimensions.find((function(d){return d.columnSlug===_this.columnSlug}))}},{key:"mapToDataEntities",get:function get(){if(!this.dimension)return{};var _step,entities={},_iterator=function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=MapTransform_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(this.dimension.entityNamesUniq);try{for(_iterator.s();!(_step=_iterator.n()).done;){var entity=_step.value;entities[Object(Util.q)(entity)]=entity}}catch(err){_iterator.e(err)}finally{_iterator.f()}return entities}},{key:"mappableData",get:function get(){var dimension=this.dimension,mappableData={times:[],entities:[],values:[]};if(!dimension)return mappableData;for(var i=0;i<dimension.times.length;i++){var entity=dimension.entityNames[i];MapTransform.countryNamesWithMapSvg.has(entity)&&(mappableData.entities.push(entity),mappableData.times.push(dimension.times[i]),mappableData.values.push(dimension.values[i]))}return mappableData}},{key:"sortedNumericValues",get:function get(){return Object(Util.Hb)(this.mappableData.values.filter(Util.R).filter((function(v){return!isNaN(v)})))}},{key:"categoricalValues",get:function get(){return Object(Util.Ub)(this.mappableData.values.filter(Util.S))}},{key:"availableTimes",get:function get(){return this.mappableData.times}},{key:"colorScale",get:function get(){var that=this;return new ColorScale_ColorScale({get config(){return that.props.colorScale},get sortedNumericValues(){return that.sortedNumericValues},get categoricalValues(){return that.categoricalValues},get hasNoDataBin(){return!0},get defaultBaseColorScheme(){return"BuGn"},get formatNumericValueFn(){var _that$dimension;return(null===(_that$dimension=that.dimension)||void 0===_that$dimension?void 0:_that$dimension.formatValueShortFn)||function(val){return""}}})}},{key:"valuesByEntity",get:function get(){var _this$dimension,_this$props$timeToler,endTimelineTime=this.endTimelineTime,grapher=this.grapher,valueByEntityAndTime=null===(_this$dimension=this.dimension)||void 0===_this$dimension?void 0:_this$dimension.valueByEntityAndTime;if(void 0===endTimelineTime||!valueByEntityAndTime)return{};var tolerance=null!==(_this$props$timeToler=this.props.timeTolerance)&&void 0!==_this$props$timeToler?_this$props$timeToler:0,entityNames=this.dimension?this.dimension.entityNamesUniq.filter((function(name){return MapTransform.countryNamesWithMapSvg.has(name)})):[],result={},selectedEntityNames=new Set(grapher.selectedEntityNames);return entityNames.forEach((function(entity){var valueByTime=valueByEntityAndTime.get(entity);if(valueByTime){var times=Array.from(valueByTime.keys()),time=Object(Util.w)(times,endTimelineTime,tolerance);if(void 0!==time){var value=valueByTime.get(time);void 0!==value&&(result[entity]={entity:entity,time:time,value:value,isSelected:selectedEntityNames.has(entity)})}}})),result}},{key:"choroplethData",get:function get(){var _this2=this,valuesByEntity=this.valuesByEntity,choroplethData={};return Object.entries(valuesByEntity).forEach((function(_ref){var _ref2=_slicedToArray(_ref,2),entity=_ref2[0],datum=_ref2[1],color=_this2.colorScale.getColor(datum.value);color&&(choroplethData[entity]=Object.assign({},datum,{color:color,highlightFillColor:color}))})),choroplethData}},{key:"formatTooltipValue",get:function get(){var formatValueLong=this.dimension&&this.dimension.formatValueLongFn,customLabels=this.props.tooltipUseCustomLabels?this.colorScale.customNumericLabels:[];return formatValueLong?function(d){var _customLabels$d;return Object(Util.S)(d)?d:null!==(_customLabels$d=customLabels[d])&&void 0!==_customLabels$d?_customLabels$d:formatValueLong(d)}:function(){return""}}}],[{key:"countryNamesWithMapSvg",get:function get(){return this._countryNamesWithMapSvg||(this._countryNamesWithMapSvg=new Set(MapTopology.a.objects.world.geometries.map((function(region){return region.id})))),this._countryNamesWithMapSvg}}]),MapTransform}(ChartTransform.a),_class2._countryNamesWithMapSvg=void 0,MapTransform_applyDecoratedDescriptor((MapTransform_class=MapTransform_temp).prototype,"columnSlug",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTransform_class.prototype,"columnSlug"),MapTransform_class.prototype),MapTransform_applyDecoratedDescriptor(MapTransform_class.prototype,"projection",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTransform_class.prototype,"projection"),MapTransform_class.prototype),MapTransform_applyDecoratedDescriptor(MapTransform_class.prototype,"hasTimeline",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTransform_class.prototype,"hasTimeline"),MapTransform_class.prototype),MapTransform_applyDecoratedDescriptor(MapTransform_class.prototype,"isReady",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTransform_class.prototype,"isReady"),MapTransform_class.prototype),MapTransform_applyDecoratedDescriptor(MapTransform_class.prototype,"dimension",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTransform_class.prototype,"dimension"),MapTransform_class.prototype),MapTransform_applyDecoratedDescriptor(MapTransform_class.prototype,"mapToDataEntities",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTransform_class.prototype,"mapToDataEntities"),MapTransform_class.prototype),MapTransform_applyDecoratedDescriptor(MapTransform_class.prototype,"mappableData",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTransform_class.prototype,"mappableData"),MapTransform_class.prototype),MapTransform_applyDecoratedDescriptor(MapTransform_class.prototype,"sortedNumericValues",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTransform_class.prototype,"sortedNumericValues"),MapTransform_class.prototype),MapTransform_applyDecoratedDescriptor(MapTransform_class.prototype,"categoricalValues",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTransform_class.prototype,"categoricalValues"),MapTransform_class.prototype),MapTransform_applyDecoratedDescriptor(MapTransform_class.prototype,"availableTimes",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTransform_class.prototype,"availableTimes"),MapTransform_class.prototype),MapTransform_applyDecoratedDescriptor(MapTransform_class.prototype,"colorScale",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTransform_class.prototype,"colorScale"),MapTransform_class.prototype),MapTransform_applyDecoratedDescriptor(MapTransform_class.prototype,"valuesByEntity",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTransform_class.prototype,"valuesByEntity"),MapTransform_class.prototype),MapTransform_applyDecoratedDescriptor(MapTransform_class.prototype,"choroplethData",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTransform_class.prototype,"choroplethData"),MapTransform_class.prototype),MapTransform_applyDecoratedDescriptor(MapTransform_class.prototype,"formatTooltipValue",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTransform_class.prototype,"formatTooltipValue"),MapTransform_class.prototype),MapTransform_class),GrapherUrl=__webpack_require__(133);__webpack_require__(142);function StackedBarTransform_typeof(obj){return(StackedBarTransform_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function StackedBarTransform_toConsumableArray(arr){return function StackedBarTransform_arrayWithoutHoles(arr){if(Array.isArray(arr))return StackedBarTransform_arrayLikeToArray(arr)}(arr)||function StackedBarTransform_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||StackedBarTransform_unsupportedIterableToArray(arr)||function StackedBarTransform_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function StackedBarTransform_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return StackedBarTransform_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?StackedBarTransform_arrayLikeToArray(o,minLen):void 0}}function StackedBarTransform_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function StackedBarTransform_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function StackedBarTransform_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function StackedBarTransform_setPrototypeOf(o,p){return(StackedBarTransform_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function StackedBarTransform_createSuper(Derived){var hasNativeReflectConstruct=function StackedBarTransform_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=StackedBarTransform_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=StackedBarTransform_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return StackedBarTransform_possibleConstructorReturn(this,result)}}function StackedBarTransform_possibleConstructorReturn(self,call){return!call||"object"!==StackedBarTransform_typeof(call)&&"function"!=typeof call?function StackedBarTransform_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function StackedBarTransform_getPrototypeOf(o){return(StackedBarTransform_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function StackedBarTransform_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var DiscreteBarTransform_class,StackedBarTransform_StackedBarTransform=(StackedBarTransform_applyDecoratedDescriptor((StackedBarTransform_class=function(_ChartTransform){!function StackedBarTransform_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&StackedBarTransform_setPrototypeOf(subClass,superClass)}(StackedBarTransform,_ChartTransform);var _super=StackedBarTransform_createSuper(StackedBarTransform);function StackedBarTransform(){return StackedBarTransform_classCallCheck(this,StackedBarTransform),_super.apply(this,arguments)}return function StackedBarTransform_createClass(Constructor,protoProps,staticProps){return protoProps&&StackedBarTransform_defineProperties(Constructor.prototype,protoProps),staticProps&&StackedBarTransform_defineProperties(Constructor,staticProps),Constructor}(StackedBarTransform,[{key:"failMessage",get:function get(){return this.grapher.filledDimensions.some((function(d){return"y"===d.property}))?0===this.groupedData.length||0===this.groupedData[0].values.length?"No matching data":void 0:"Missing variable"}},{key:"primaryDimension",get:function get(){return this.grapher.filledDimensions.find((function(d){return"y"===d.property}))}},{key:"colorDimension",get:function get(){return this.grapher.filledDimensions.find((function(d){return"color"===d.property}))}},{key:"availableTimes",get:function get(){return void 0===this.primaryDimension?[]:this.primaryDimension.timesUniq}},{key:"barValueFormat",get:function get(){return function(datum){return datum.y.toString()}}},{key:"tickFormatFn",get:function get(){var primaryDimension=this.primaryDimension;return primaryDimension?primaryDimension.formatValueShortFn:function(d){return"".concat(d)}}},{key:"yFormatTooltipFn",get:function get(){var primaryDimension=this.primaryDimension,yTickFormatFn=this.yTickFormatFn;return primaryDimension?primaryDimension.formatValueLongFn:yTickFormatFn}},{key:"xDomainDefault",get:function get(){return[this.startTimelineTime,this.endTimelineTime]}},{key:"xAxis",get:function get(){var grapher=this.grapher,xDomainDefault=this.xDomainDefault,axis=grapher.xAxis.toHorizontalAxis();return axis.updateDomainPreservingUserSettings(xDomainDefault),axis.tickFormatFn=this.grapher.table.timeColumnFormatFunction,axis.hideGridlines=!0,axis.hideFractionalTicks=!0,axis}},{key:"yDomainDefault",get:function get(){var yValues=this.stackedData[this.stackedData.length-1].values.map((function(d){return d.yOffset+d.y}));return[0,Object(Util.l)(Object(Util.db)(yValues),100)]}},{key:"yDimensionFirst",get:function get(){return this.grapher.filledDimensions.find((function(d){return"y"===d.property}))}},{key:"yTickFormatFn",get:function get(){var yDimensionFirst=this.yDimensionFirst;return yDimensionFirst?yDimensionFirst.formatValueShortFn:Util.J}},{key:"yAxis",get:function get(){var grapher=this.grapher,yDomainDefault=this.yDomainDefault,yTickFormatFn=this.yTickFormatFn,axis=grapher.yAxis.toVerticalAxis();return axis.updateDomainPreservingUserSettings(yDomainDefault),axis.domain=[yDomainDefault[0],yDomainDefault[1]],axis.tickFormatFn=yTickFormatFn,axis}},{key:"allStackedValues",get:function get(){return Object(Util.z)(this.stackedData.map((function(series){return series.values})))}},{key:"xValues",get:function get(){return Object(Util.Ub)(this.allStackedValues.map((function(bar){return bar.x})))}},{key:"groupedData",get:function get(){var grapher=this.grapher,timelineTimes=this.timelineTimes,selectedKeys=grapher.selectedKeys,selectedKeysByKey=grapher.selectedKeysByKey,filledDimensions=grapher.filledDimensions,groupedData=[];return filledDimensions.forEach((function(dimension,dimIndex){for(var seriesByKey=new Map,i=0;i<=dimension.times.length;i+=1){var year=dimension.times[i],entityName=dimension.entityNames[i],value=+dimension.values[i],entityDimensionKey=grapher.makeEntityDimensionKey(entityName,dimIndex),series=seriesByKey.get(entityDimensionKey);selectedKeysByKey[entityDimensionKey]&&(isNaN(value)||value<0||timelineTimes.includes(year)&&(series||(series={entityDimensionKey:entityDimensionKey,label:grapher.getLabelForKey(entityDimensionKey),values:[],color:"#fff"},seriesByKey.set(entityDimensionKey,series)),series.values.push({x:year,y:value,yOffset:0,isFake:!1,label:series.label})))}groupedData=groupedData.concat(StackedBarTransform_toConsumableArray(Array.from(seriesByKey.values())))})),groupedData.forEach((function(series){for(var i=0;i<timelineTimes.length;){var value=series.values[i],expectedYear=timelineTimes[i];if(void 0===value||value.x>timelineTimes[i]){series.values.splice(i,0,{x:expectedYear,y:0,yOffset:0,isFake:!0,label:series.label})}i+=1}})),groupedData=Object(Util.Fb)(groupedData,(function(series){return-selectedKeys.indexOf(series.entityDimensionKey)}))}},{key:"colorScale",get:function get(){var that=this;return new ColorScale_ColorScale({get config(){return that.grapher.colorScale},get defaultBaseColorScheme(){return"stackedAreaDefault"},get sortedNumericValues(){var _that$colorDimension$,_that$colorDimension;return null!==(_that$colorDimension$=null===(_that$colorDimension=that.colorDimension)||void 0===_that$colorDimension?void 0:_that$colorDimension.sortedNumericValues)&&void 0!==_that$colorDimension$?_that$colorDimension$:[]},get categoricalValues(){return Object(Util.Ub)(that.groupedData.map((function(d){return d.entityDimensionKey}))).reverse()},get hasNoDataBin(){return!1},get formatNumericValueFn(){var _that$colorDimension$2,_that$colorDimension2;return null!==(_that$colorDimension$2=null===(_that$colorDimension2=that.colorDimension)||void 0===_that$colorDimension2?void 0:_that$colorDimension2.formatValueShortFn)&&void 0!==_that$colorDimension$2?_that$colorDimension$2:Util.J},get formatCategoricalValueFn(){return function(key){return that.grapher.getLabelForKey(key)}}})}},{key:"stackedData",get:function get(){var _step,groupedData=this.groupedData,startTimelineTime=this.startTimelineTime,endTimelineTime=this.endTimelineTime,stackedData=Object(Util.e)(groupedData),_iterator=function StackedBarTransform_createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=StackedBarTransform_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(stackedData);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _this$colorScale$getC,series=_step.value;series.color=null!==(_this$colorScale$getC=this.colorScale.getColor(series.entityDimensionKey))&&void 0!==_this$colorScale$getC?_this$colorScale$getC:"#ddd",series.values=series.values.filter((function(v){return v.x>=startTimelineTime&&v.x<=endTimelineTime}))}}catch(err){_iterator.e(err)}finally{_iterator.f()}for(var i=1;i<stackedData.length;i++)for(var j=0;j<stackedData[0].values.length;j++)stackedData[i].values[j].yOffset=stackedData[i-1].values[j].y+stackedData[i-1].values[j].yOffset;var keyIndicesToRemove=[];stackedData[stackedData.length-1].values.forEach((function(bar,index){bar.yOffset+bar.y===0&&keyIndicesToRemove.push(index)}));for(var _loop=function _loop(_i){stackedData.forEach((function(series){series.values.splice(keyIndicesToRemove[_i],1)}))},_i=keyIndicesToRemove.length-1;_i>=0;_i--)_loop(_i);return stackedData}}]),StackedBarTransform}(ChartTransform.a)).prototype,"failMessage",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedBarTransform_class.prototype,"failMessage"),StackedBarTransform_class.prototype),StackedBarTransform_applyDecoratedDescriptor(StackedBarTransform_class.prototype,"primaryDimension",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedBarTransform_class.prototype,"primaryDimension"),StackedBarTransform_class.prototype),StackedBarTransform_applyDecoratedDescriptor(StackedBarTransform_class.prototype,"colorDimension",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedBarTransform_class.prototype,"colorDimension"),StackedBarTransform_class.prototype),StackedBarTransform_applyDecoratedDescriptor(StackedBarTransform_class.prototype,"availableTimes",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedBarTransform_class.prototype,"availableTimes"),StackedBarTransform_class.prototype),StackedBarTransform_applyDecoratedDescriptor(StackedBarTransform_class.prototype,"barValueFormat",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedBarTransform_class.prototype,"barValueFormat"),StackedBarTransform_class.prototype),StackedBarTransform_applyDecoratedDescriptor(StackedBarTransform_class.prototype,"tickFormatFn",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedBarTransform_class.prototype,"tickFormatFn"),StackedBarTransform_class.prototype),StackedBarTransform_applyDecoratedDescriptor(StackedBarTransform_class.prototype,"yFormatTooltipFn",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedBarTransform_class.prototype,"yFormatTooltipFn"),StackedBarTransform_class.prototype),StackedBarTransform_applyDecoratedDescriptor(StackedBarTransform_class.prototype,"xDomainDefault",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedBarTransform_class.prototype,"xDomainDefault"),StackedBarTransform_class.prototype),StackedBarTransform_applyDecoratedDescriptor(StackedBarTransform_class.prototype,"xAxis",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedBarTransform_class.prototype,"xAxis"),StackedBarTransform_class.prototype),StackedBarTransform_applyDecoratedDescriptor(StackedBarTransform_class.prototype,"yDomainDefault",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedBarTransform_class.prototype,"yDomainDefault"),StackedBarTransform_class.prototype),StackedBarTransform_applyDecoratedDescriptor(StackedBarTransform_class.prototype,"yDimensionFirst",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedBarTransform_class.prototype,"yDimensionFirst"),StackedBarTransform_class.prototype),StackedBarTransform_applyDecoratedDescriptor(StackedBarTransform_class.prototype,"yTickFormatFn",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedBarTransform_class.prototype,"yTickFormatFn"),StackedBarTransform_class.prototype),StackedBarTransform_applyDecoratedDescriptor(StackedBarTransform_class.prototype,"yAxis",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedBarTransform_class.prototype,"yAxis"),StackedBarTransform_class.prototype),StackedBarTransform_applyDecoratedDescriptor(StackedBarTransform_class.prototype,"allStackedValues",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedBarTransform_class.prototype,"allStackedValues"),StackedBarTransform_class.prototype),StackedBarTransform_applyDecoratedDescriptor(StackedBarTransform_class.prototype,"xValues",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedBarTransform_class.prototype,"xValues"),StackedBarTransform_class.prototype),StackedBarTransform_applyDecoratedDescriptor(StackedBarTransform_class.prototype,"groupedData",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedBarTransform_class.prototype,"groupedData"),StackedBarTransform_class.prototype),StackedBarTransform_applyDecoratedDescriptor(StackedBarTransform_class.prototype,"colorScale",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedBarTransform_class.prototype,"colorScale"),StackedBarTransform_class.prototype),StackedBarTransform_applyDecoratedDescriptor(StackedBarTransform_class.prototype,"stackedData",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedBarTransform_class.prototype,"stackedData"),StackedBarTransform_class.prototype),StackedBarTransform_class);__webpack_require__(75);function DiscreteBarTransform_typeof(obj){return(DiscreteBarTransform_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function DiscreteBarTransform_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function DiscreteBarTransform_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function DiscreteBarTransform_setPrototypeOf(o,p){return(DiscreteBarTransform_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function DiscreteBarTransform_createSuper(Derived){var hasNativeReflectConstruct=function DiscreteBarTransform_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=DiscreteBarTransform_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=DiscreteBarTransform_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return DiscreteBarTransform_possibleConstructorReturn(this,result)}}function DiscreteBarTransform_possibleConstructorReturn(self,call){return!call||"object"!==DiscreteBarTransform_typeof(call)&&"function"!=typeof call?function DiscreteBarTransform_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function DiscreteBarTransform_getPrototypeOf(o){return(DiscreteBarTransform_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function DiscreteBarTransform_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var StackedAreaTransform_class,DiscreteBarTransform_DiscreteBarTransform=(DiscreteBarTransform_applyDecoratedDescriptor((DiscreteBarTransform_class=function(_ChartTransform){!function DiscreteBarTransform_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&DiscreteBarTransform_setPrototypeOf(subClass,superClass)}(DiscreteBarTransform,_ChartTransform);var _super=DiscreteBarTransform_createSuper(DiscreteBarTransform);function DiscreteBarTransform(){return DiscreteBarTransform_classCallCheck(this,DiscreteBarTransform),_super.apply(this,arguments)}return function DiscreteBarTransform_createClass(Constructor,protoProps,staticProps){return protoProps&&DiscreteBarTransform_defineProperties(Constructor.prototype,protoProps),staticProps&&DiscreteBarTransform_defineProperties(Constructor,staticProps),Constructor}(DiscreteBarTransform,[{key:"_filterDataForLogScaleInPlace",value:function _filterDataForLogScaleInPlace(dataByEntityDimensionKey){Object.keys(dataByEntityDimensionKey).forEach((function(key){dataByEntityDimensionKey[key].value<=0&&delete dataByEntityDimensionKey[key]}))}},{key:"_filterArrayForLogScale",value:function _filterArrayForLogScale(allData){return allData.filter((function(datum){return datum.value>0}))}},{key:"failMessage",get:function get(){return this.grapher.filledDimensions.some((function(d){return"y"===d.property}))?Object(Util.O)(this.currentData)?"No matching data":void 0:"Missing variable"}},{key:"primaryDimensions",get:function get(){return this.grapher.filledDimensions.filter((function(d){return"y"===d.property}))}},{key:"availableTimes",get:function get(){return Object(Util.z)(this.primaryDimensions.map((function(dim){return dim.timesUniq})))}},{key:"hasTimeline",get:function get(){return this.grapher.isLineChart&&!this.grapher.hideTimeline}},{key:"barValueFormat",get:function get(){var _this=this,endTimelineTime=this.endTimelineTime;return function(datum){var showYearLabels=_this.grapher.showYearLabels||datum.year!==endTimelineTime;return datum.formatValue(datum.value)+(showYearLabels?" (".concat(_this.grapher.table.timeColumnFormatFunction(datum.year),")"):"")}}},{key:"tickFormat",get:function get(){var primaryDimensions=this.primaryDimensions;return primaryDimensions[0]?primaryDimensions[0].formatValueShortFn:function(d){return"".concat(d)}}},{key:"currentData",get:function get(){var _this2=this,grapher=this.grapher,targetYear=grapher.isLineChart?grapher.lineChartTransform.endTimelineTime:this.endTimelineTime,filledDimensions=grapher.filledDimensions,selectedKeysByKey=grapher.selectedKeysByKey,dataByEntityDimensionKey={};if(filledDimensions.forEach((function(dimension,dimIndex){for(var tolerance=dimension.tolerance,i=0;i<dimension.times.length;i++){var year=dimension.times[i],entityName=dimension.entityNames[i],_entityDimensionKey=grapher.makeEntityDimensionKey(entityName,dimIndex);if(!(year<targetYear-tolerance||year>targetYear+tolerance)&&selectedKeysByKey[_entityDimensionKey]){var currentDatum=dataByEntityDimensionKey[_entityDimensionKey];if(!(currentDatum&&Math.abs(currentDatum.year-targetYear)<Math.abs(year-targetYear))){var _datum={entityDimensionKey:_entityDimensionKey,value:+dimension.values[i],year:year,label:grapher.getLabelForKey(_entityDimensionKey),color:"#2E5778",formatValue:dimension.formatValueShortFn};dataByEntityDimensionKey[_entityDimensionKey]=_datum}}}})),this.grapher.isLineChart){var _loop=function _loop(key){var lineSeries=_this2.grapher.lineChartTransform.predomainData.find((function(series){return series.entityDimensionKey===key}));lineSeries&&(dataByEntityDimensionKey[key].color=lineSeries.color)};for(var key in dataByEntityDimensionKey)_loop(key)}else{var data=Object(Util.Fb)(Object.values(dataByEntityDimensionKey),(function(d){return d.value})),colorScheme=grapher.baseColorScheme?ColorSchemes.a[grapher.baseColorScheme]:void 0,uniqValues=Object(Util.Ub)(data.map((function(d){return d.value}))),colors=(null==colorScheme?void 0:colorScheme.getColors(uniqValues.length))||[];grapher.invertColorScheme&&colors.reverse();var colorByValue=new Map;uniqValues.forEach((function(value,i){return colorByValue.set(value,colors[i])})),data.forEach((function(d){d.color=grapher.keyColors[d.entityDimensionKey]||colorByValue.get(d.value)||d.color}))}return this.isLogScale&&this._filterDataForLogScaleInPlace(dataByEntityDimensionKey),Object(Util.nb)(Object.values(dataByEntityDimensionKey),["value","key"],["desc","asc"])}},{key:"isLogScale",get:function get(){return this.grapher.yAxis.scaleType===GrapherConstants.d.log}},{key:"allData",get:function get(){if(!this.hasTimeline)return this.currentData;var grapher=this.grapher,selectedKeysByKey=grapher.selectedKeysByKey,filledDimensions=grapher.filledDimensions,allData=[];filledDimensions.forEach((function(dimension,dimIndex){for(var i=0;i<dimension.times.length;i++){var year=dimension.times[i],entityName=dimension.entityNames[i],_entityDimensionKey2=grapher.makeEntityDimensionKey(entityName,dimIndex);if(selectedKeysByKey[_entityDimensionKey2]){var _datum2={entityDimensionKey:_entityDimensionKey2,value:+dimension.values[i],year:year,label:grapher.getLabelForKey(_entityDimensionKey2),color:"#2E5778",formatValue:dimension.formatValueShortFn};allData.push(_datum2)}}}));var filteredData=this.isLogScale?this._filterArrayForLogScale(allData):allData,data=Object(Util.Hb)(filteredData,(function(d){return d.value})),colorScheme=grapher.baseColorScheme?ColorSchemes.a[grapher.baseColorScheme]:void 0,uniqValues=Object(Util.Jb)(data.map((function(d){return d.value}))),colors=(null==colorScheme?void 0:colorScheme.getColors(uniqValues.length))||[];grapher.invertColorScheme&&colors.reverse();var colorByValue=new Map;return uniqValues.forEach((function(value,i){return colorByValue.set(value,colors[i])})),data.forEach((function(d){d.color=grapher.keyColors[d.entityDimensionKey]||colorByValue.get(d.value)||d.color})),Object(Util.Hb)(data,(function(d){return d.value}),GrapherConstants.e.desc)}}]),DiscreteBarTransform}(ChartTransform.a)).prototype,"failMessage",[mobx_module.f],Object.getOwnPropertyDescriptor(DiscreteBarTransform_class.prototype,"failMessage"),DiscreteBarTransform_class.prototype),DiscreteBarTransform_applyDecoratedDescriptor(DiscreteBarTransform_class.prototype,"primaryDimensions",[mobx_module.f],Object.getOwnPropertyDescriptor(DiscreteBarTransform_class.prototype,"primaryDimensions"),DiscreteBarTransform_class.prototype),DiscreteBarTransform_applyDecoratedDescriptor(DiscreteBarTransform_class.prototype,"availableTimes",[mobx_module.f],Object.getOwnPropertyDescriptor(DiscreteBarTransform_class.prototype,"availableTimes"),DiscreteBarTransform_class.prototype),DiscreteBarTransform_applyDecoratedDescriptor(DiscreteBarTransform_class.prototype,"hasTimeline",[mobx_module.f],Object.getOwnPropertyDescriptor(DiscreteBarTransform_class.prototype,"hasTimeline"),DiscreteBarTransform_class.prototype),DiscreteBarTransform_applyDecoratedDescriptor(DiscreteBarTransform_class.prototype,"barValueFormat",[mobx_module.f],Object.getOwnPropertyDescriptor(DiscreteBarTransform_class.prototype,"barValueFormat"),DiscreteBarTransform_class.prototype),DiscreteBarTransform_applyDecoratedDescriptor(DiscreteBarTransform_class.prototype,"tickFormat",[mobx_module.f],Object.getOwnPropertyDescriptor(DiscreteBarTransform_class.prototype,"tickFormat"),DiscreteBarTransform_class.prototype),DiscreteBarTransform_applyDecoratedDescriptor(DiscreteBarTransform_class.prototype,"currentData",[mobx_module.f],Object.getOwnPropertyDescriptor(DiscreteBarTransform_class.prototype,"currentData"),DiscreteBarTransform_class.prototype),DiscreteBarTransform_applyDecoratedDescriptor(DiscreteBarTransform_class.prototype,"isLogScale",[mobx_module.f],Object.getOwnPropertyDescriptor(DiscreteBarTransform_class.prototype,"isLogScale"),DiscreteBarTransform_class.prototype),DiscreteBarTransform_applyDecoratedDescriptor(DiscreteBarTransform_class.prototype,"allData",[mobx_module.f],Object.getOwnPropertyDescriptor(DiscreteBarTransform_class.prototype,"allData"),DiscreteBarTransform_class.prototype),DiscreteBarTransform_class),ordinal=__webpack_require__(1008);function StackedAreaTransform_typeof(obj){return(StackedAreaTransform_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function StackedAreaTransform_createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=StackedAreaTransform_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function StackedAreaTransform_toConsumableArray(arr){return function StackedAreaTransform_arrayWithoutHoles(arr){if(Array.isArray(arr))return StackedAreaTransform_arrayLikeToArray(arr)}(arr)||function StackedAreaTransform_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||StackedAreaTransform_unsupportedIterableToArray(arr)||function StackedAreaTransform_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function StackedAreaTransform_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return StackedAreaTransform_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?StackedAreaTransform_arrayLikeToArray(o,minLen):void 0}}function StackedAreaTransform_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function StackedAreaTransform_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function StackedAreaTransform_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function StackedAreaTransform_setPrototypeOf(o,p){return(StackedAreaTransform_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function StackedAreaTransform_createSuper(Derived){var hasNativeReflectConstruct=function StackedAreaTransform_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=StackedAreaTransform_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=StackedAreaTransform_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return StackedAreaTransform_possibleConstructorReturn(this,result)}}function StackedAreaTransform_possibleConstructorReturn(self,call){return!call||"object"!==StackedAreaTransform_typeof(call)&&"function"!=typeof call?function StackedAreaTransform_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function StackedAreaTransform_getPrototypeOf(o){return(StackedAreaTransform_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function StackedAreaTransform_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var LineChartTransform_class,StackedAreaTransform_StackedAreaTransform=(StackedAreaTransform_applyDecoratedDescriptor((StackedAreaTransform_class=function(_ChartTransform){!function StackedAreaTransform_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&StackedAreaTransform_setPrototypeOf(subClass,superClass)}(StackedAreaTransform,_ChartTransform);var _super=StackedAreaTransform_createSuper(StackedAreaTransform);function StackedAreaTransform(){return StackedAreaTransform_classCallCheck(this,StackedAreaTransform),_super.apply(this,arguments)}return function StackedAreaTransform_createClass(Constructor,protoProps,staticProps){return protoProps&&StackedAreaTransform_defineProperties(Constructor.prototype,protoProps),staticProps&&StackedAreaTransform_defineProperties(Constructor,staticProps),Constructor}(StackedAreaTransform,[{key:"formatYTick",value:function formatYTick(v){return this.grapher.isRelativeMode?Object(Util.B)(v,{unit:"%"}):(this.yDimensionFirst?this.yDimensionFirst.formatValueShortFn:Util.J)(v,{noTrailingZeroes:!1})}},{key:"failMessage",get:function get(){return this.grapher.filledDimensions.some((function(d){return"y"===d.property}))?0===this.groupedData.length||0===this.groupedData[0].values.length?"No matching data":void 0:"Missing Y axis variable"}},{key:"groupedData",get:function get(){var grapher=this.grapher,selectedKeys=grapher.selectedKeys,selectedKeysByKey=grapher.selectedKeysByKey,filledDimensions=grapher.filledDimensions,groupedData=[];filledDimensions.forEach((function(dimension,dimIndex){for(var seriesByKey=new Map,i=0;i<dimension.times.length;i++){var year=dimension.times[i],value=+dimension.values[i],entityName=dimension.entityNames[i],entityDimensionKey=grapher.makeEntityDimensionKey(entityName,dimIndex),series=seriesByKey.get(entityDimensionKey);selectedKeysByKey[entityDimensionKey]&&(isNaN(value)||value<0||(series||(series={values:[],entityDimensionKey:entityDimensionKey,isProjection:dimension.isProjection,color:"#fff"},seriesByKey.set(entityDimensionKey,series)),series.values.push({x:year,y:value,time:year})))}groupedData=groupedData.concat(StackedAreaTransform_toConsumableArray(Array.from(seriesByKey.values())))}));var allYears=[];groupedData.forEach((function(series){var _allYears;return(_allYears=allYears).push.apply(_allYears,StackedAreaTransform_toConsumableArray(series.values.map((function(d){return d.x}))))})),allYears=Object(Util.Hb)(Object(Util.Ub)(allYears)),groupedData.forEach((function(series){for(var i=0,isBeforeStart=!0;i<allYears.length;){var value=series.values[i],expectedYear=allYears[i];if(void 0===value||value.x>allYears[i]){var fakeY=NaN;if(!isBeforeStart&&i<series.values.length){var prevValue=series.values[i-1];fakeY=(series.values[i].y+prevValue.y)/2}series.values.splice(i,0,{x:expectedYear,y:fakeY,time:expectedYear,isFake:!0})}else isBeforeStart=!1;i+=1}}));var _step,_iterator=StackedAreaTransform_createForOfIteratorHelper(groupedData.slice(0,1));try{for(_iterator.s();!(_step=_iterator.n()).done;)for(var firstSeries=_step.value,_loop2=function _loop2(_i){if(groupedData.some((function(series){return isNaN(series.values[_i].y)}))){var _step2,_iterator2=StackedAreaTransform_createForOfIteratorHelper(groupedData);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){_step2.value.values.splice(_i,1)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}},_i=firstSeries.values.length-1;_i>=0;_i--)_loop2(_i)}catch(err){_iterator.e(err)}finally{_iterator.f()}groupedData=Object(Util.Fb)(groupedData,(function(series){return-selectedKeys.indexOf(series.entityDimensionKey)}));var baseColors=this.colorScheme.getColors(groupedData.length);grapher.invertColorScheme&&baseColors.reverse();var colorScale=Object(ordinal.a)(baseColors);if(groupedData.forEach((function(series){series.color=grapher.keyColors[series.entityDimensionKey]||colorScale(series.entityDimensionKey)})),grapher.isRelativeMode){if(0===groupedData.length)return[];for(var _loop=function _loop(i){for(var total=Object(Util.Mb)(groupedData.map((function(series){return series.values[i].y}))),j=0;j<groupedData.length;j++)groupedData[j].values[i].y=0===total?0:groupedData[j].values[i].y/total*100},i=0;i<groupedData[0].values.length;i++)_loop(i)}return groupedData}},{key:"xAxis",get:function get(){var xDomainDefault=this.xDomainDefault,axis=this.grapher.xAxis.toHorizontalAxis();return axis.updateDomainPreservingUserSettings(xDomainDefault),axis.tickFormatFn=this.grapher.table.timeColumnFormatFunction,axis.hideFractionalTicks=!0,axis.hideGridlines=!0,axis}},{key:"yDomainDefault",get:function get(){var _max,yValues=this.allStackedValues.map((function(d){return d.y}));return[0,null!==(_max=Object(Util.db)(yValues))&&void 0!==_max?_max:100]}},{key:"yAxis",get:function get(){var yDimensionFirst=this.yDimensionFirst,grapher=this.grapher,yDomainDefault=this.yDomainDefault,axis=grapher.yAxis.toVerticalAxis();return grapher.isRelativeMode?axis.domain=[0,100]:axis.updateDomainPreservingUserSettings([yDomainDefault[0],yDomainDefault[1]]),axis.tickFormatFn=grapher.isRelativeMode?function(v){return Object(Util.B)(v,{unit:"%"})}:yDimensionFirst?yDimensionFirst.formatValueShortFn:Util.J,axis}},{key:"availableTimes",get:function get(){var _this$groupedData$;return(null===(_this$groupedData$=this.groupedData[0])||void 0===_this$groupedData$?void 0:_this$groupedData$.values.map((function(v){return v.x})))||[]}},{key:"colorScheme",get:function get(){var colorScheme=ColorSchemes.a[this.grapher.baseColorScheme];return void 0!==colorScheme?colorScheme:ColorSchemes.a.stackedAreaDefault}},{key:"xDomainDefault",get:function get(){return[this.startTimelineTime,this.endTimelineTime]}},{key:"stackedData",get:function get(){var groupedData=this.groupedData,startTimelineTime=this.startTimelineTime,endTimelineTime=this.endTimelineTime;if(groupedData.some((function(series){return series.values.length!==groupedData[0].values.length})))throw new Error("Unexpected variation in stacked area chart series: ".concat(groupedData.map((function(series){return series.values.length}))));var _step3,stackedData=Object(Util.e)(groupedData),_iterator3=StackedAreaTransform_createForOfIteratorHelper(stackedData);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var series=_step3.value;series.values=series.values.filter((function(v){return v.x>=startTimelineTime&&v.x<=endTimelineTime}));var _step4,_iterator4=StackedAreaTransform_createForOfIteratorHelper(series.values);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var value=_step4.value;value.origY=value.y}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}for(var i=1;i<stackedData.length;i++)for(var j=0;j<stackedData[0].values.length;j++)stackedData[i].values[j].y+=stackedData[i-1].values[j].y;return stackedData}},{key:"allStackedValues",get:function get(){return Object(Util.z)(this.stackedData.map((function(series){return series.values})))}},{key:"yDimensionFirst",get:function get(){return this.grapher.filledDimensions.find((function(d){return"y"===d.property}))}}]),StackedAreaTransform}(ChartTransform.a)).prototype,"failMessage",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedAreaTransform_class.prototype,"failMessage"),StackedAreaTransform_class.prototype),StackedAreaTransform_applyDecoratedDescriptor(StackedAreaTransform_class.prototype,"groupedData",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedAreaTransform_class.prototype,"groupedData"),StackedAreaTransform_class.prototype),StackedAreaTransform_applyDecoratedDescriptor(StackedAreaTransform_class.prototype,"xAxis",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedAreaTransform_class.prototype,"xAxis"),StackedAreaTransform_class.prototype),StackedAreaTransform_applyDecoratedDescriptor(StackedAreaTransform_class.prototype,"yDomainDefault",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedAreaTransform_class.prototype,"yDomainDefault"),StackedAreaTransform_class.prototype),StackedAreaTransform_applyDecoratedDescriptor(StackedAreaTransform_class.prototype,"yAxis",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedAreaTransform_class.prototype,"yAxis"),StackedAreaTransform_class.prototype),StackedAreaTransform_applyDecoratedDescriptor(StackedAreaTransform_class.prototype,"availableTimes",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedAreaTransform_class.prototype,"availableTimes"),StackedAreaTransform_class.prototype),StackedAreaTransform_applyDecoratedDescriptor(StackedAreaTransform_class.prototype,"colorScheme",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedAreaTransform_class.prototype,"colorScheme"),StackedAreaTransform_class.prototype),StackedAreaTransform_applyDecoratedDescriptor(StackedAreaTransform_class.prototype,"xDomainDefault",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedAreaTransform_class.prototype,"xDomainDefault"),StackedAreaTransform_class.prototype),StackedAreaTransform_applyDecoratedDescriptor(StackedAreaTransform_class.prototype,"stackedData",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedAreaTransform_class.prototype,"stackedData"),StackedAreaTransform_class.prototype),StackedAreaTransform_applyDecoratedDescriptor(StackedAreaTransform_class.prototype,"allStackedValues",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedAreaTransform_class.prototype,"allStackedValues"),StackedAreaTransform_class.prototype),StackedAreaTransform_applyDecoratedDescriptor(StackedAreaTransform_class.prototype,"yDimensionFirst",[mobx_module.f],Object.getOwnPropertyDescriptor(StackedAreaTransform_class.prototype,"yDimensionFirst"),StackedAreaTransform_class.prototype),StackedAreaTransform_class);__webpack_require__(97),__webpack_require__(557);function LineChartTransform_typeof(obj){return(LineChartTransform_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function LineChartTransform_toConsumableArray(arr){return function LineChartTransform_arrayWithoutHoles(arr){if(Array.isArray(arr))return LineChartTransform_arrayLikeToArray(arr)}(arr)||function LineChartTransform_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||LineChartTransform_unsupportedIterableToArray(arr)||function LineChartTransform_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LineChartTransform_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return LineChartTransform_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?LineChartTransform_arrayLikeToArray(o,minLen):void 0}}function LineChartTransform_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function LineChartTransform_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function LineChartTransform_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function LineChartTransform_setPrototypeOf(o,p){return(LineChartTransform_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function LineChartTransform_createSuper(Derived){var hasNativeReflectConstruct=function LineChartTransform_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=LineChartTransform_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=LineChartTransform_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return LineChartTransform_possibleConstructorReturn(this,result)}}function LineChartTransform_possibleConstructorReturn(self,call){return!call||"object"!==LineChartTransform_typeof(call)&&"function"!=typeof call?function LineChartTransform_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function LineChartTransform_getPrototypeOf(o){return(LineChartTransform_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function LineChartTransform_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var ScatterTransform_class,LineChartTransform_LineChartTransform=(LineChartTransform_applyDecoratedDescriptor((LineChartTransform_class=function(_ChartTransform){!function LineChartTransform_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&LineChartTransform_setPrototypeOf(subClass,superClass)}(LineChartTransform,_ChartTransform);var _super=LineChartTransform_createSuper(LineChartTransform);function LineChartTransform(){return LineChartTransform_classCallCheck(this,LineChartTransform),_super.apply(this,arguments)}return function LineChartTransform_createClass(Constructor,protoProps,staticProps){return protoProps&&LineChartTransform_defineProperties(Constructor.prototype,protoProps),staticProps&&LineChartTransform_defineProperties(Constructor,staticProps),Constructor}(LineChartTransform,[{key:"_addColorsToSeries",value:function _addColorsToSeries(allSeries){var _this=this,sorted=Object(Util.Fb)(allSeries,(function(series){return Object(Util.V)(series.values).y})),colors=this.colorScheme.getColors(sorted.length);this.grapher.invertColorScheme&&colors.reverse(),sorted.forEach((function(series,i){series.color=_this.grapher.keyColors[series.entityDimensionKey]||colors[i]}))}},{key:"getAnnotationsForSeries",value:function getAnnotationsForSeries(entityName){var annotationsMap=this.annotationsMap,annos=null==annotationsMap?void 0:annotationsMap.get(entityName);return annos?Array.from(annos.values()).join(" & "):void 0}},{key:"getLabelForKey",value:function getLabelForKey(key){return this.grapher.getLabelForKey(key)}},{key:"failMessage",get:function get(){return this.grapher.filledDimensions.some((function(d){return"y"===d.property}))?Object(Util.O)(this.groupedData)?"No matching data":void 0:"Missing Y axis variable"}},{key:"colorScheme",get:function get(){var colorScheme=ColorSchemes.a[this.grapher.baseColorScheme];return void 0!==colorScheme?colorScheme:ColorSchemes.a["owid-distinct"]}},{key:"initialData",get:function get(){var grapher=this.grapher,yAxis=grapher.yAxis,selectedKeys=grapher.selectedKeys,selectedKeysByKey=grapher.selectedKeysByKey,filledDimensions=grapher.filledDimensions,chartData=[];return filledDimensions.forEach((function(dimension,dimIndex){for(var seriesByKey=new Map,i=0;i<dimension.times.length;i++){var year=dimension.times[i],value=parseFloat(dimension.values[i]),entityName=dimension.entityNames[i],entityDimensionKey=grapher.makeEntityDimensionKey(entityName,dimIndex),series=seriesByKey.get(entityDimensionKey);selectedKeysByKey[entityDimensionKey]&&(value<=0&&yAxis.scaleType===GrapherConstants.d.log||(series||(series={values:[],entityName:entityName,entityDimensionKey:entityDimensionKey,isProjection:dimension.isProjection,color:"#000"},seriesByKey.set(entityDimensionKey,series)),series.values.push({x:year,y:value,time:year})))}chartData=chartData.concat(LineChartTransform_toConsumableArray(Array.from(seriesByKey.values())))})),this._addColorsToSeries(chartData),chartData=Object(Util.Fb)(chartData,(function(series){return selectedKeys.indexOf(series.entityDimensionKey)}))}},{key:"availableTimes",get:function get(){return Object(Util.z)(this.initialData.map((function(g){return g.values.map((function(d){return d.x}))})))}},{key:"predomainData",get:function get(){var _this2=this;return this.grapher.isRelativeMode?Object(Util.e)(this.initialData).map((function(series){var startIndex=series.values.findIndex((function(value){return value.time>=_this2.startTimelineTime&&0!==value.y}));if(startIndex<0)return series.values=[],series;var relativeValues=series.values.slice(startIndex),indexValue=Object(Util.d)(relativeValues[0]);return series.values=relativeValues.map((function(value){return value.y=(value.y-indexValue.y)/Math.abs(indexValue.y),value})),series})):this.initialData}},{key:"allValues",get:function get(){return Object(Util.z)(this.predomainData.map((function(series){return series.values})))}},{key:"filteredValues",get:function get(){return Object(Util.z)(this.groupedData.map((function(series){return series.values})))}},{key:"annotationsMap",get:function get(){var _this$grapher$primary;return null===(_this$grapher$primary=this.grapher.primaryDimensions[0].column.annotationsColumn)||void 0===_this$grapher$primary?void 0:_this$grapher$primary.entityNameMap}},{key:"legendItems",get:function get(){var _this3=this,toShow=this.groupedData;return toShow.some((function(g){return!!g.isProjection}))&&(toShow=toShow.filter((function(g){return g.isProjection}))),toShow.map((function(series){var lastValue=Object(Util.V)(series.values).y;return{color:series.color,entityDimensionKey:series.entityDimensionKey,label:_this3.grapher.hideLegend?"":"".concat(_this3.getLabelForKey(series.entityDimensionKey)),annotation:_this3.getAnnotationsForSeries(series.entityName),yValue:lastValue}}))}},{key:"xAxis",get:function get(){var axis=this.grapher.xAxis.toHorizontalAxis();return axis.updateDomainPreservingUserSettings([this.startTimelineTime,this.endTimelineTime]),axis.scaleType=GrapherConstants.d.linear,axis.scaleTypeOptions=[GrapherConstants.d.linear],axis.tickFormatFn=this.grapher.formatYearTickFunction,axis.hideFractionalTicks=!0,axis.hideGridlines=!0,axis}},{key:"yDimensionFirst",get:function get(){return this.grapher.filledDimensions.find((function(d){return"y"===d.property}))}},{key:"yDomainDefault",get:function get(){var _min,_max,yValues=(this.grapher.useTimelineDomains?this.allValues:this.filteredValues).map((function(v){return v.y}));return[null!==(_min=Object(Util.hb)(yValues))&&void 0!==_min?_min:0,null!==(_max=Object(Util.db)(yValues))&&void 0!==_max?_max:100]}},{key:"yDomain",get:function get(){var grapher=this.grapher,yDomainDefault=this.yDomainDefault,domain=grapher.yAxis.domain;return[Math.min(domain[0],yDomainDefault[0]),Math.max(domain[1],yDomainDefault[1])]}},{key:"yTickFormat",get:function get(){return this.grapher.isRelativeMode?function(v){return(v>0?"+":"")+Object(Util.B)(100*v,{unit:"%"})}:this.yDimensionFirst?this.yDimensionFirst.formatValueShortFn:Util.J}},{key:"yAxis",get:function get(){var grapher=this.grapher,yDomain=this.yDomain,yTickFormat=this.yTickFormat,axis=grapher.yAxis.toVerticalAxis();return axis.updateDomainPreservingUserSettings(yDomain),grapher.isRelativeMode&&(axis.scaleTypeOptions=[GrapherConstants.d.linear]),axis.hideFractionalTicks=this.allValues.every((function(val){return val.y%1==0})),axis.label="",axis.tickFormatFn=yTickFormat,axis}},{key:"canToggleRelativeMode",get:function get(){return!this.grapher.hideRelativeToggle&&!this.isSingleTime}},{key:"groupedData",get:function get(){var _step,xAxis=this.xAxis,groupedData=Object(Util.e)(this.predomainData),_iterator=function LineChartTransform_createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=LineChartTransform_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(groupedData);try{for(_iterator.s();!(_step=_iterator.n()).done;){var g=_step.value;g.values=g.values.filter((function(d){return d.x>=xAxis.domain[0]&&d.x<=xAxis.domain[1]&&!isNaN(d.y)}))}}catch(err){_iterator.e(err)}finally{_iterator.f()}return groupedData.filter((function(g){return g.values.length>0}))}}]),LineChartTransform}(ChartTransform.a)).prototype,"failMessage",[mobx_module.f],Object.getOwnPropertyDescriptor(LineChartTransform_class.prototype,"failMessage"),LineChartTransform_class.prototype),LineChartTransform_applyDecoratedDescriptor(LineChartTransform_class.prototype,"colorScheme",[mobx_module.f],Object.getOwnPropertyDescriptor(LineChartTransform_class.prototype,"colorScheme"),LineChartTransform_class.prototype),LineChartTransform_applyDecoratedDescriptor(LineChartTransform_class.prototype,"initialData",[mobx_module.f],Object.getOwnPropertyDescriptor(LineChartTransform_class.prototype,"initialData"),LineChartTransform_class.prototype),LineChartTransform_applyDecoratedDescriptor(LineChartTransform_class.prototype,"availableTimes",[mobx_module.f],Object.getOwnPropertyDescriptor(LineChartTransform_class.prototype,"availableTimes"),LineChartTransform_class.prototype),LineChartTransform_applyDecoratedDescriptor(LineChartTransform_class.prototype,"predomainData",[mobx_module.f],Object.getOwnPropertyDescriptor(LineChartTransform_class.prototype,"predomainData"),LineChartTransform_class.prototype),LineChartTransform_applyDecoratedDescriptor(LineChartTransform_class.prototype,"allValues",[mobx_module.f],Object.getOwnPropertyDescriptor(LineChartTransform_class.prototype,"allValues"),LineChartTransform_class.prototype),LineChartTransform_applyDecoratedDescriptor(LineChartTransform_class.prototype,"filteredValues",[mobx_module.f],Object.getOwnPropertyDescriptor(LineChartTransform_class.prototype,"filteredValues"),LineChartTransform_class.prototype),LineChartTransform_applyDecoratedDescriptor(LineChartTransform_class.prototype,"annotationsMap",[mobx_module.f],Object.getOwnPropertyDescriptor(LineChartTransform_class.prototype,"annotationsMap"),LineChartTransform_class.prototype),LineChartTransform_applyDecoratedDescriptor(LineChartTransform_class.prototype,"legendItems",[mobx_module.f],Object.getOwnPropertyDescriptor(LineChartTransform_class.prototype,"legendItems"),LineChartTransform_class.prototype),LineChartTransform_applyDecoratedDescriptor(LineChartTransform_class.prototype,"xAxis",[mobx_module.f],Object.getOwnPropertyDescriptor(LineChartTransform_class.prototype,"xAxis"),LineChartTransform_class.prototype),LineChartTransform_applyDecoratedDescriptor(LineChartTransform_class.prototype,"yDimensionFirst",[mobx_module.f],Object.getOwnPropertyDescriptor(LineChartTransform_class.prototype,"yDimensionFirst"),LineChartTransform_class.prototype),LineChartTransform_applyDecoratedDescriptor(LineChartTransform_class.prototype,"yDomainDefault",[mobx_module.f],Object.getOwnPropertyDescriptor(LineChartTransform_class.prototype,"yDomainDefault"),LineChartTransform_class.prototype),LineChartTransform_applyDecoratedDescriptor(LineChartTransform_class.prototype,"yDomain",[mobx_module.f],Object.getOwnPropertyDescriptor(LineChartTransform_class.prototype,"yDomain"),LineChartTransform_class.prototype),LineChartTransform_applyDecoratedDescriptor(LineChartTransform_class.prototype,"yTickFormat",[mobx_module.f],Object.getOwnPropertyDescriptor(LineChartTransform_class.prototype,"yTickFormat"),LineChartTransform_class.prototype),LineChartTransform_applyDecoratedDescriptor(LineChartTransform_class.prototype,"yAxis",[mobx_module.f],Object.getOwnPropertyDescriptor(LineChartTransform_class.prototype,"yAxis"),LineChartTransform_class.prototype),LineChartTransform_applyDecoratedDescriptor(LineChartTransform_class.prototype,"canToggleRelativeMode",[mobx_module.f],Object.getOwnPropertyDescriptor(LineChartTransform_class.prototype,"canToggleRelativeMode"),LineChartTransform_class.prototype),LineChartTransform_applyDecoratedDescriptor(LineChartTransform_class.prototype,"groupedData",[mobx_module.f],Object.getOwnPropertyDescriptor(LineChartTransform_class.prototype,"groupedData"),LineChartTransform_class.prototype),LineChartTransform_class);function ScatterTransform_typeof(obj){return(ScatterTransform_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ScatterTransform_createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function ScatterTransform_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return ScatterTransform_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ScatterTransform_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function ScatterTransform_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ScatterTransform_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function ScatterTransform_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function ScatterTransform_setPrototypeOf(o,p){return(ScatterTransform_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function ScatterTransform_createSuper(Derived){var hasNativeReflectConstruct=function ScatterTransform_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=ScatterTransform_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=ScatterTransform_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return ScatterTransform_possibleConstructorReturn(this,result)}}function ScatterTransform_possibleConstructorReturn(self,call){return!call||"object"!==ScatterTransform_typeof(call)&&"function"!=typeof call?function ScatterTransform_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function ScatterTransform_getPrototypeOf(o){return(ScatterTransform_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ScatterTransform_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var _dec,_dec2,_dec3,_dec4,SlopeChartTransform_class,ScatterTransform_ScatterTransform=(ScatterTransform_applyDecoratedDescriptor((ScatterTransform_class=function(_ChartTransform){!function ScatterTransform_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ScatterTransform_setPrototypeOf(subClass,superClass)}(ScatterTransform,_ChartTransform);var _super=ScatterTransform_createSuper(ScatterTransform);function ScatterTransform(){return ScatterTransform_classCallCheck(this,ScatterTransform),_super.apply(this,arguments)}return function ScatterTransform_createClass(Constructor,protoProps,staticProps){return protoProps&&ScatterTransform_defineProperties(Constructor.prototype,protoProps),staticProps&&ScatterTransform_defineProperties(Constructor,staticProps),Constructor}(ScatterTransform,[{key:"getEntityNamesToShow",value:function getEntityNamesToShow(){var _this=this,filterBackgroundEntities=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hideBackgroundEntities,entityNames=filterBackgroundEntities?this.grapher.selectedEntityNames:this.possibleEntityNames;return this.grapher.matchingEntitiesOnly&&this.colorDimension&&(entityNames=Object(Util.L)(entityNames,this.colorDimension.entityNamesUniq)),this.excludedEntityNames&&(entityNames=entityNames.filter((function(entity){return!_this.excludedEntityNames.includes(entity)}))),entityNames}},{key:"getDataByEntityAndTime",value:function getDataByEntityAndTime(){var _step,_this2=this,entitiesToShow=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getEntityNamesToShow(),filledDimensions=this.grapher.filledDimensions,validEntityLookup=Object(Util.U)(entitiesToShow),dataByEntityAndTime=new Map,_loop=function _loop(dimension){var initialDataByEntity=new Map,rows=dimension.column.rowsWithValue;dimension.values.forEach((function(value,index){var _row$year,row=rows[index],time=null!==(_row$year=row.year)&&void 0!==_row$year?_row$year:row.day,entityName=row.entityName;if(validEntityLookup[entityName]&&("x"!==dimension.property&&"y"!==dimension.property||Object(Util.R)(value))){var byEntity=initialDataByEntity.get(entityName);byEntity||(byEntity={times:[],values:[]},initialDataByEntity.set(entityName,byEntity)),byEntity.times.push(time),byEntity.values.push(value)}})),_this2._useTolerance(dimension,dataByEntityAndTime,initialDataByEntity)},_iterator=ScatterTransform_createForOfIteratorHelper(filledDimensions);try{for(_iterator.s();!(_step=_iterator.n()).done;){var dimension=_step.value;_loop(dimension)}}catch(err){_iterator.e(err)}finally{_iterator.f()}return this._removeUnwantedPoints(dataByEntityAndTime),dataByEntityAndTime}},{key:"_useTolerance",value:function _useTolerance(dimension,dataByEntityAndTime,initialDataByEntity){var timesToCalculate=this.timesToCalculate,xOverrideTime=this.xOverrideTime,tolerance="size"===dimension.property?1/0:dimension.tolerance;initialDataByEntity.forEach((function(byEntity,entityName){var dataByYear=dataByEntityAndTime.get(entityName);void 0===dataByYear&&(dataByYear=new Map,dataByEntityAndTime.set(entityName,dataByYear));var _step2,_iterator2=ScatterTransform_createForOfIteratorHelper(timesToCalculate);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var outputYear=_step2.value,targetYear=void 0!==xOverrideTime&&"x"===dimension.property?xOverrideTime:outputYear,i=Object(Util.Ib)(byEntity.times,targetYear),_year=byEntity.times[i];if(!(_year<targetYear-tolerance||_year>targetYear+tolerance)){var value=byEntity.values[i],point=dataByYear.get(outputYear);void 0===point&&(point={entityName:entityName,year:outputYear,time:{}},dataByYear.set(outputYear,point)),point.time[dimension.property]=_year,point[dimension.property]=value}}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}))}},{key:"_removeUnwantedPoints",value:function _removeUnwantedPoints(dataByEntityAndTime){var _this$grapher=this.grapher,yAxis=_this$grapher.yAxis,xAxis=_this$grapher.xAxis;dataByEntityAndTime.forEach((function(dataByTime){dataByTime.forEach((function(point,time){Object(Util.I)(point,"x")&&Object(Util.I)(point,"y")?(xAxis.shouldRemovePoint(point.x)||yAxis.shouldRemovePoint(point.y))&&dataByTime.delete(time):dataByTime.delete(time)}))}))}},{key:"domainDefault",value:function domainDefault(property){var scaleType="x"===property?this.xScaleType:this.yScaleType;return this.grapher.useTimelineDomains?this.grapher.isRelativeMode?Object(Util.wb)(this.allPoints,property):Object(Util.p)(this.allPoints.map((function(v){return v[property]})),scaleType):Object(Util.p)(this.pointsForAxisDomains.map((function(d){return d[property]})),scaleType,this.grapher.zoomToSelection&&this.selectedPoints.length?1.1:1)}},{key:"_filterValues",value:function _filterValues(values,startTime,endTime,yScaleType,xScaleType,isRelativeMode,xOverrideTime){return values=Object(Util.ab)(Object(Util.G)(values,(function(v){return v.time.y})),(function(vals){return Object(Util.ib)(vals,(function(v){return v.year===startTime||v.year===endTime?-1/0:Math.abs(v.year-v.time.y)}))})),void 0===xOverrideTime&&(values=Object(Util.ab)(Object(Util.G)(values,(function(v){return v.time.x})),(function(vals){return Object(Util.ib)(vals,(function(v){return v.year===startTime||v.year===endTime?-1/0:Math.abs(v.year-v.time.x)}))}))),values=Object(Util.Hb)(values,(function(v){return v.year})),yScaleType===GrapherConstants.d.log&&(values=values.filter((function(v){return v.y>0}))),xScaleType===GrapherConstants.d.log&&(values=values.filter((function(v){return v.x>0}))),isRelativeMode&&(values=values.filter((function(v){return 0!==v.y&&0!==v.x}))),values}},{key:"colorScale",get:function get(){var that=this;return new ColorScale_ColorScale({get config(){return that.grapher.colorScale},get defaultBaseColorScheme(){return"continents"},get sortedNumericValues(){var _that$colorDimension$,_that$colorDimension;return null!==(_that$colorDimension$=null===(_that$colorDimension=that.colorDimension)||void 0===_that$colorDimension?void 0:_that$colorDimension.sortedNumericValues)&&void 0!==_that$colorDimension$?_that$colorDimension$:[]},get categoricalValues(){var _that$colorDimension$2,_that$colorDimension2;return null!==(_that$colorDimension$2=null===(_that$colorDimension2=that.colorDimension)||void 0===_that$colorDimension2?void 0:_that$colorDimension2.column.sortedUniqNonEmptyStringVals)&&void 0!==_that$colorDimension$2?_that$colorDimension$2:[]},get hasNoDataBin(){return!(!that.colorDimension||!that.allPoints.some((function(point){return void 0===point.color})))},get defaultNoDataColor(){return"#959595"},get formatNumericValueFn(){var _that$colorDimension$3,_that$colorDimension3;return null!==(_that$colorDimension$3=null===(_that$colorDimension3=that.colorDimension)||void 0===_that$colorDimension3?void 0:_that$colorDimension3.formatValueShortFn)&&void 0!==_that$colorDimension$3?_that$colorDimension$3:Util.J}})}},{key:"failMessage",get:function get(){var filledDimensions=this.grapher.filledDimensions;return filledDimensions.some((function(d){return"y"===d.property}))?filledDimensions.some((function(d){return"x"===d.property}))?Object(Util.O)(this.possibleEntityNames)?"No entities with data for both X and Y":Object(Util.O)(this.possibleDataTimes)?"No times with data for both X and Y":Object(Util.O)(this.currentData)?"No matching data"+(this.grapher.isReady?"":". Chart is not ready"):void 0:"Missing X axis variable":"Missing Y axis variable"}},{key:"yDimension",get:function get(){return this.grapher.filledDimensions.find((function(d){return"y"===d.property}))}},{key:"xDimension",get:function get(){return this.grapher.filledDimensions.find((function(d){return"x"===d.property}))}},{key:"colorDimension",get:function get(){return this.grapher.filledDimensions.find((function(d){return"color"===d.property}))}},{key:"xOverrideTime",get:function get(){return this.xDimension&&this.xDimension.targetYear},set:function set(value){this.xDimension.targetYear=value}},{key:"canToggleRelativeMode",get:function get(){return this.hasTimeline&&!this.grapher.hideRelativeToggle&&void 0===this.xOverrideTime}},{key:"hideBackgroundEntities",get:function get(){return"disabled"===this.grapher.addCountryMode}},{key:"possibleEntityNames",get:function get(){var yEntities=this.yDimension?this.yDimension.entityNamesUniq:[],xEntities=this.xDimension?this.xDimension.entityNamesUniq:[];return Object(Util.L)(yEntities,xEntities)}},{key:"selectableEntityDimensionKeys",get:function get(){return this.currentData.map((function(series){return series.entityDimensionKey}))}},{key:"excludedEntityNames",get:function get(){var entityIds=this.grapher.excludedEntities||[],entityNameMap=this.grapher.table.entityIdToNameMap;return entityIds.map((function(entityId){return entityNameMap.get(entityId)})).filter((function(d){return d}))}},{key:"possibleDataTimes",get:function get(){var yDimensionTimes=this.yDimension?this.yDimension.timesUniq:[],xDimensionTimes=this.xDimension?this.xDimension.timesUniq:[];return void 0!==this.xOverrideTime?yDimensionTimes:Object(Util.L)(yDimensionTimes,xDimensionTimes)}},{key:"timesToCalculate",get:function get(){return this.possibleDataTimes}},{key:"compareEndPointsOnly",get:function get(){return!!this.grapher.compareEndPointsOnly},set:function set(value){this.grapher.compareEndPointsOnly=value||void 0}},{key:"allPoints",get:function get(){var allPoints=[];return this.getDataByEntityAndTime().forEach((function(dataByTime){dataByTime.forEach((function(point){allPoints.push(point)}))})),allPoints}},{key:"availableTimes",get:function get(){return this.allPoints.map((function(point){return point.year}))}},{key:"currentValues",get:function get(){return Object(Util.z)(this.currentData.map((function(g){return g.values})))}},{key:"xDomainDefault",get:function get(){return this.domainDefault("x")}},{key:"selectedPoints",get:function get(){var entitiesFor=new Set(this.getEntityNamesToShow(!0));return this.allPoints.filter((function(point){return point.entityName&&entitiesFor.has(point.entityName)}))}},{key:"pointsForAxisDomains",get:function get(){return this.grapher.hasSelection&&this.grapher.zoomToSelection&&this.selectedPoints.length?this.selectedPoints:this.currentValues}},{key:"sizeDomain",get:function get(){var sizeValues=[];return this.allPoints.forEach((function(g){return g.size&&sizeValues.push(g.size)})),0===sizeValues.length?[1,100]:Object(Util.p)(sizeValues,GrapherConstants.d.linear)}},{key:"yScaleType",get:function get(){return this.grapher.isRelativeMode?GrapherConstants.d.linear:this.grapher.yAxis.scaleType||GrapherConstants.d.linear}},{key:"yAxisLabel",get:function get(){return this.grapher.yAxis.label||this.yDimension&&this.yDimension.displayName||""}},{key:"yDomainDefault",get:function get(){return this.domainDefault("y")}},{key:"yAxis",get:function get(){var grapher=this.grapher,yDomainDefault=this.yDomainDefault,yDimension=this.yDimension,axis=grapher.yAxis.toVerticalAxis();axis.tickFormatFn=yDimension&&yDimension.formatValueShortFn||axis.tickFormatFn;var label=this.yAxisLabel;return axis.scaleType=this.yScaleType,grapher.isRelativeMode?(axis.scaleTypeOptions=[GrapherConstants.d.linear],axis.domain=yDomainDefault,label&&label.length>1&&(axis.label="Average annual change in ".concat(Object(Util.Y)(label))),axis.tickFormatFn=function(v){return Object(Util.B)(v,{unit:"%"})}):(axis.updateDomainPreservingUserSettings(yDomainDefault),axis.label=label),axis}},{key:"xScaleType",get:function get(){return this.grapher.isRelativeMode?GrapherConstants.d.linear:this.grapher.xAxis.scaleType||GrapherConstants.d.linear}},{key:"xAxisLabelBase",get:function get(){var xDimName=this.xDimension&&this.xDimension.displayName;return void 0!==this.xOverrideTime?"".concat(xDimName," in ").concat(this.xOverrideTime):xDimName}},{key:"xAxis",get:function get(){var xDomainDefault=this.xDomainDefault,xDimension=this.xDimension,grapher=this.grapher,xAxisLabelBase=this.xAxisLabelBase,xAxis=grapher.xAxis,axis=xAxis.toHorizontalAxis();if(axis.scaleType=this.xScaleType,grapher.isRelativeMode){axis.scaleTypeOptions=[GrapherConstants.d.linear],axis.domain=xDomainDefault;var label=xAxis.label||xAxisLabelBase;label&&label.length>1&&(axis.label="Average annual change in ".concat(Object(Util.Y)(label))),axis.tickFormatFn=function(v){return Object(Util.B)(v,{unit:"%"})}}else{axis.updateDomainPreservingUserSettings(xDomainDefault);var _label=xAxis.label||xAxisLabelBase;_label&&(axis.label=_label),axis.tickFormatFn=xDimension&&xDimension.formatValueShortFn||axis.tickFormatFn}return axis}},{key:"yFormatTooltip",get:function get(){return this.grapher.isRelativeMode||!this.yDimension?this.yAxis.tickFormatFn:this.yDimension.formatValueLongFn}},{key:"xFormatTooltip",get:function get(){return this.grapher.isRelativeMode||!this.xDimension?this.xAxis.tickFormatFn:this.xDimension.formatValueLongFn}},{key:"yFormatYear",get:function get(){return this.yDimension?this.yDimension.formatTimeFn:Util.C}},{key:"xFormatYear",get:function get(){return this.xDimension?this.xDimension.formatTimeFn:Util.C}},{key:"currentData",get:function get(){var _this3=this;if(!this.grapher.isReady)return[];var grapher=this.grapher,startTimelineTime=this.startTimelineTime,endTimelineTime=this.endTimelineTime,xScaleType=this.xScaleType,yScaleType=this.yScaleType,compareEndPointsOnly=this.compareEndPointsOnly,xOverrideTime=this.xOverrideTime,keyColors=grapher.keyColors,isRelativeMode=grapher.isRelativeMode,currentData=[];return this.getDataByEntityAndTime().forEach((function(dataByTime,entityName){var entityDimensionKey=grapher.makeEntityDimensionKey(entityName,0),group={entityDimensionKey:entityDimensionKey,label:grapher.getLabelForKey(entityDimensionKey),color:"#932834",size:0,values:[]};if(dataByTime.forEach((function(point,year){year<startTimelineTime||year>endTimelineTime||group.values.push(point)})),group.values.length){var keyColor=keyColors[entityDimensionKey];if(void 0!==keyColor)group.color=keyColor;else if(_this3.colorDimension){var colorValue=Object(Util.V)(group.values.map((function(v){return v.color}))),color=_this3.colorScale.getColor(colorValue);void 0!==color&&(group.color=color,group.isScaleColor=!0)}var sizes=group.values.map((function(v){return v.size}));group.size=Object(Util.l)(Object(Util.V)(sizes.filter((function(s){return Object(Util.R)(s)}))),0),currentData.push(group)}})),currentData.forEach((function(series){series.values=_this3._filterValues(series.values,startTimelineTime,endTimelineTime,yScaleType,xScaleType,isRelativeMode,xOverrideTime)})),currentData=currentData.filter((function(series){return 0!==series.values.length&&(!_this3.grapher.hideLinesOutsideTolerance||Object(Util.y)(series.values).year===startTimelineTime&&Object(Util.W)(series.values).year===endTimelineTime)})),compareEndPointsOnly&&currentData.forEach((function(series){var endPoints=[Object(Util.x)(series.values),Object(Util.V)(series.values)];series.values=Object(Util.f)(Object(Util.Ub)(endPoints))})),isRelativeMode&&currentData.forEach((function(series){if(0!==series.values.length){var startValue=Object(Util.y)(series.values),endValue=Object(Util.W)(series.values);series.values=[{x:Object(Util.b)(startValue,endValue,"x"),y:Object(Util.b)(startValue,endValue,"y"),size:endValue.size,year:endValue.year,color:endValue.color,time:{y:endValue.time.y,x:endValue.time.x,span:[startValue.time.y,endValue.time.y]}}]}})),currentData}}]),ScatterTransform}(ChartTransform.a)).prototype,"colorScale",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"colorScale"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"failMessage",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"failMessage"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"yDimension",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"yDimension"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"xDimension",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"xDimension"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"colorDimension",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"colorDimension"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"xOverrideTime",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"xOverrideTime"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"canToggleRelativeMode",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"canToggleRelativeMode"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"hideBackgroundEntities",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"hideBackgroundEntities"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"possibleEntityNames",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"possibleEntityNames"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"selectableEntityDimensionKeys",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"selectableEntityDimensionKeys"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"excludedEntityNames",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"excludedEntityNames"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"possibleDataTimes",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"possibleDataTimes"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"timesToCalculate",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"timesToCalculate"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"compareEndPointsOnly",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"compareEndPointsOnly"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"allPoints",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"allPoints"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"availableTimes",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"availableTimes"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"currentValues",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"currentValues"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"xDomainDefault",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"xDomainDefault"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"selectedPoints",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"selectedPoints"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"pointsForAxisDomains",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"pointsForAxisDomains"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"sizeDomain",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"sizeDomain"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"yScaleType",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"yScaleType"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"yAxisLabel",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"yAxisLabel"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"yDomainDefault",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"yDomainDefault"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"yAxis",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"yAxis"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"xScaleType",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"xScaleType"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"xAxisLabelBase",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"xAxisLabelBase"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"xAxis",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"xAxis"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"yFormatTooltip",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"yFormatTooltip"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"xFormatTooltip",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"xFormatTooltip"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"yFormatYear",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"yFormatYear"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"xFormatYear",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"xFormatYear"),ScatterTransform_class.prototype),ScatterTransform_applyDecoratedDescriptor(ScatterTransform_class.prototype,"currentData",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterTransform_class.prototype,"currentData"),ScatterTransform_class.prototype),ScatterTransform_class);function SlopeChartTransform_typeof(obj){return(SlopeChartTransform_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function SlopeChartTransform_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function SlopeChartTransform_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function SlopeChartTransform_setPrototypeOf(o,p){return(SlopeChartTransform_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function SlopeChartTransform_createSuper(Derived){var hasNativeReflectConstruct=function SlopeChartTransform_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=SlopeChartTransform_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=SlopeChartTransform_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return SlopeChartTransform_possibleConstructorReturn(this,result)}}function SlopeChartTransform_possibleConstructorReturn(self,call){return!call||"object"!==SlopeChartTransform_typeof(call)&&"function"!=typeof call?function SlopeChartTransform_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function SlopeChartTransform_getPrototypeOf(o){return(SlopeChartTransform_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function SlopeChartTransform_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var DimensionSlot_class,SlopeChartTransform_SlopeChartTransform=(_dec=mobx_module.f.struct,_dec2=mobx_module.f.struct,_dec3=mobx_module.f.struct,_dec4=mobx_module.f.struct,SlopeChartTransform_applyDecoratedDescriptor((SlopeChartTransform_class=function(_ChartTransform){!function SlopeChartTransform_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&SlopeChartTransform_setPrototypeOf(subClass,superClass)}(SlopeChartTransform,_ChartTransform);var _super=SlopeChartTransform_createSuper(SlopeChartTransform);function SlopeChartTransform(){return SlopeChartTransform_classCallCheck(this,SlopeChartTransform),_super.apply(this,arguments)}return function SlopeChartTransform_createClass(Constructor,protoProps,staticProps){return protoProps&&SlopeChartTransform_defineProperties(Constructor.prototype,protoProps),staticProps&&SlopeChartTransform_defineProperties(Constructor,staticProps),Constructor}(SlopeChartTransform,[{key:"failMessage",get:function get(){return this.grapher.filledDimensions.some((function(d){return"y"===d.property}))?Object(Util.O)(this.data)?"No matching data":void 0:"Missing Y axis variable"}},{key:"colorScale",get:function get(){var that=this;return new ColorScale_ColorScale({get config(){return that.grapher.colorScale},get defaultBaseColorScheme(){return"continents"},get sortedNumericValues(){var _that$colorDimension$,_that$colorDimension;return null!==(_that$colorDimension$=null===(_that$colorDimension=that.colorDimension)||void 0===_that$colorDimension?void 0:_that$colorDimension.sortedNumericValues)&&void 0!==_that$colorDimension$?_that$colorDimension$:[]},get categoricalValues(){var _that$colorDimension$2,_that$colorDimension2;return null!==(_that$colorDimension$2=null===(_that$colorDimension2=that.colorDimension)||void 0===_that$colorDimension2?void 0:_that$colorDimension2.column.sortedUniqNonEmptyStringVals)&&void 0!==_that$colorDimension$2?_that$colorDimension$2:[]},get hasNoDataBin(){return!1},get formatNumericValueFn(){var _that$colorDimension$3,_that$colorDimension3;return null!==(_that$colorDimension$3=null===(_that$colorDimension3=that.colorDimension)||void 0===_that$colorDimension3?void 0:_that$colorDimension3.formatValueShortFn)&&void 0!==_that$colorDimension$3?_that$colorDimension$3:Util.J}})}},{key:"availableTimes",get:function get(){return Object(Util.z)(this.grapher.axisDimensions.map((function(d){return d.timesUniq})))}},{key:"xDomain",get:function get(){return[this.startTimelineTime,this.endTimelineTime]}},{key:"sizeDim",get:function get(){return this.grapher.filledDimensions.find((function(d){return"size"===d.property}))}},{key:"colorDimension",get:function get(){return this.grapher.filledDimensions.find((function(d){return"color"===d.property}))}},{key:"yDimension",get:function get(){return this.grapher.filledDimensions.find((function(d){return"y"===d.property}))}},{key:"colorByEntity",get:function get(){var colorDimension=this.colorDimension,colorScale=this.colorScale,colorByEntity=new Map;return void 0!==colorDimension&&colorDimension.valueByEntityAndTime.forEach((function(yearToColorMap,entity){var values=Array.from(yearToColorMap.values()),key=Object(Util.V)(values);colorByEntity.set(entity,colorScale.getColor(key))})),colorByEntity}},{key:"sizeByEntity",get:function get(){var sizeDim=this.sizeDim,sizeByEntity=new Map;return void 0!==sizeDim&&sizeDim.valueByEntityAndTime.forEach((function(yearToSizeMap,entity){var values=Array.from(yearToSizeMap.values());sizeByEntity.set(entity,values[0])})),sizeByEntity}},{key:"yTickFormat",get:function get(){return this.yDimension?this.yDimension.formatValueShortFn:function(d){return"".concat(d)}}},{key:"selectableEntityDimensionKeys",get:function get(){return this.data.map((function(series){return series.entityDimensionKey}))}},{key:"data",get:function get(){if(!this.yDimension)return[];var yDimension=this.yDimension,xDomain=this.xDomain,colorByEntity=this.colorByEntity,sizeByEntity=this.sizeByEntity,grapher=this.grapher,keyColors=grapher.keyColors,minYear=Math.max(xDomain[0]),maxYear=Math.min(xDomain[1]),data=yDimension.entityNamesUniq.map((function(entityName){var slopeValues=[],yValues=yDimension.valueByEntityAndTime.get(entityName);void 0!==yValues&&yValues.forEach((function(value,year){year!==minYear&&year!==maxYear||slopeValues.push({x:year,y:"string"==typeof value?parseInt(value):value})}));var entityDimensionKey=grapher.makeEntityDimensionKey(entityName,grapher.dimensions.indexOf(yDimension));return{entityDimensionKey:entityDimensionKey,label:entityName,color:keyColors[entityDimensionKey]||colorByEntity.get(entityName)||"#ff7f0e",size:sizeByEntity.get(entityName)||1,values:slopeValues}}));return data=data.filter((function(d){return d.values.length>=2}))}}]),SlopeChartTransform}(ChartTransform.a)).prototype,"failMessage",[mobx_module.f],Object.getOwnPropertyDescriptor(SlopeChartTransform_class.prototype,"failMessage"),SlopeChartTransform_class.prototype),SlopeChartTransform_applyDecoratedDescriptor(SlopeChartTransform_class.prototype,"colorScale",[mobx_module.f],Object.getOwnPropertyDescriptor(SlopeChartTransform_class.prototype,"colorScale"),SlopeChartTransform_class.prototype),SlopeChartTransform_applyDecoratedDescriptor(SlopeChartTransform_class.prototype,"availableTimes",[mobx_module.f],Object.getOwnPropertyDescriptor(SlopeChartTransform_class.prototype,"availableTimes"),SlopeChartTransform_class.prototype),SlopeChartTransform_applyDecoratedDescriptor(SlopeChartTransform_class.prototype,"xDomain",[_dec],Object.getOwnPropertyDescriptor(SlopeChartTransform_class.prototype,"xDomain"),SlopeChartTransform_class.prototype),SlopeChartTransform_applyDecoratedDescriptor(SlopeChartTransform_class.prototype,"sizeDim",[_dec2],Object.getOwnPropertyDescriptor(SlopeChartTransform_class.prototype,"sizeDim"),SlopeChartTransform_class.prototype),SlopeChartTransform_applyDecoratedDescriptor(SlopeChartTransform_class.prototype,"colorDimension",[_dec3],Object.getOwnPropertyDescriptor(SlopeChartTransform_class.prototype,"colorDimension"),SlopeChartTransform_class.prototype),SlopeChartTransform_applyDecoratedDescriptor(SlopeChartTransform_class.prototype,"yDimension",[_dec4],Object.getOwnPropertyDescriptor(SlopeChartTransform_class.prototype,"yDimension"),SlopeChartTransform_class.prototype),SlopeChartTransform_applyDecoratedDescriptor(SlopeChartTransform_class.prototype,"colorByEntity",[mobx_module.f],Object.getOwnPropertyDescriptor(SlopeChartTransform_class.prototype,"colorByEntity"),SlopeChartTransform_class.prototype),SlopeChartTransform_applyDecoratedDescriptor(SlopeChartTransform_class.prototype,"sizeByEntity",[mobx_module.f],Object.getOwnPropertyDescriptor(SlopeChartTransform_class.prototype,"sizeByEntity"),SlopeChartTransform_class.prototype),SlopeChartTransform_applyDecoratedDescriptor(SlopeChartTransform_class.prototype,"yTickFormat",[mobx_module.f],Object.getOwnPropertyDescriptor(SlopeChartTransform_class.prototype,"yTickFormat"),SlopeChartTransform_class.prototype),SlopeChartTransform_applyDecoratedDescriptor(SlopeChartTransform_class.prototype,"selectableEntityDimensionKeys",[mobx_module.f],Object.getOwnPropertyDescriptor(SlopeChartTransform_class.prototype,"selectableEntityDimensionKeys"),SlopeChartTransform_class.prototype),SlopeChartTransform_applyDecoratedDescriptor(SlopeChartTransform_class.prototype,"data",[mobx_module.f],Object.getOwnPropertyDescriptor(SlopeChartTransform_class.prototype,"data"),SlopeChartTransform_class.prototype),SlopeChartTransform_class),GrapherView=__webpack_require__(92),Bounds=__webpack_require__(24),settings=__webpack_require__(101),TimeBounds=__webpack_require__(42),GlobalEntitySelection=__webpack_require__(230),countries=__webpack_require__(231),DataTableTransform=__webpack_require__(89),client_url=__webpack_require__(50),populationMap={Afghanistan:38928341,Africa:1340598113,Albania:2877800,Algeria:43851043,"American Samoa":55197,Andorra:77265,Angola:32866268,Anguilla:15002,"Antigua and Barbuda":97928,Argentina:45195777,Armenia:2963234,Aruba:106766,Asia:4641054786,Australia:25499881,Austria:9006400,Azerbaijan:10139175,Bahamas:393248,Bahrain:1701583,Bangladesh:164689383,Barbados:287371,Belarus:9449321,Belgium:11589616,Belize:397621,Benin:12123198,Bermuda:62273,Bhutan:771612,Bolivia:11673029,"Bonaire Sint Eustatius and Saba":26221,"Bosnia and Herzegovina":3280815,Botswana:2351625,Brazil:212559409,"British Virgin Islands":30237,Brunei:437483,Bulgaria:6948445,"Burkina Faso":20903278,Burundi:11890781,Cambodia:16718971,Cameroon:26545864,Canada:37742157,"Cape Verde":555988,Caribbean:43532374,"Cayman Islands":65720,"Central African Republic":4829764,"Central America":179670186,"Central Asia":74338926,"Central and Southern Asia":2014708531,Chad:16425859,"Channel Islands":173859,Chile:19116209,China:1439323774,Colombia:50882884,Comoros:869595,Congo:5518092,"Cook Islands":17564,"Costa Rica":5094114,"Cote d'Ivoire":26378275,Croatia:4105268,Cuba:11326616,Curacao:164100,Cyprus:1207361,"Czech Republic":10708982,"Democratic Republic of Congo":89561404,Denmark:5792203,Djibouti:988002,Dominica:71991,"Dominican Republic":10847904,"Eastern Africa":445405578,"Eastern Europe":293013210,Ecuador:17643060,Egypt:102334403,"El Salvador":6486201,"Equatorial Guinea":1402985,Eritrea:3546427,Estonia:1326539,Ethiopia:114963583,Europe:747636045,"Faeroe Islands":48865,"Falkland Islands":3483,Fiji:896444,Finland:5540718,France:65273512,"French Guiana":298682,"French Polynesia":280904,Gabon:2225728,Gambia:2416664,Georgia:3989175,Germany:83783945,Ghana:31072945,Gibraltar:33691,Greece:10423056,Greenland:56772,Grenada:112519,Guadeloupe:400127,Guam:168783,Guatemala:17915567,Guernsey:67052,Guinea:13132792,"Guinea-Bissau":1967998,Guyana:786559,Haiti:11402533,"High-income countries":1263092934,Honduras:9904608,"Hong Kong":7496988,Hungary:9660350,Iceland:341250,India:1380004385,Indonesia:273523621,International:7794798729,Iran:83992953,Iraq:40222503,Ireland:4937796,"Isle of Man":85032,Israel:8655541,Italy:60461828,Jamaica:2961161,Japan:126476458,Jersey:101073,Jordan:10203140,Kazakhstan:18776707,Kenya:53771300,Kiribati:119446,Kosovo:1932774,Kuwait:4270563,Kyrgyzstan:6524191,"Land-locked Developing Countries (LLDC)":533143398,Laos:7275556,"Latin America and the Caribbean":653962332,Latvia:1886202,"Least developed countries":1057438163,Lebanon:6825442,Lesotho:2142252,"Less developed regions":6521494468,Liberia:5057677,Libya:6871287,Liechtenstein:38137,Lithuania:2722291,"Low-income countries":775710612,"Lower-middle-income countries":3098235284,Luxembourg:625976,Macao:649342,Macedonia:2083380,Madagascar:27691019,Malawi:19129955,Malaysia:32365998,Maldives:540542,Mali:20250834,Malta:441539,"Marshall Islands":59194,Martinique:375265,Mauritania:4649660,Mauritius:1271767,Mayotte:272813,Melanesia:11122990,Mexico:128932753,Micronesia:548927,"Micronesia (country)":115021,"Middle Africa":179595125,"Middle-income countries":5753051615,Moldova:4033963,Monaco:39244,Mongolia:3278292,Montenegro:628062,Montserrat:4999,"More developed regions":1273304261,Morocco:36910558,Mozambique:31255435,Myanmar:54409794,Namibia:2540916,Nauru:10834,Nepal:29136808,Netherlands:17134873,"New Caledonia":285491,"New Zealand":4822233,Nicaragua:6624554,Niger:24206636,Nigeria:206139587,Niue:1618,"North America":368869644,"North Korea":25778815,"Northern Africa":246232508,"Northern Africa and Western Asia":525869282,"Northern America":368869644,"Northern Europe":106261271,"Northern Mariana Islands":57557,Norway:5421242,Oceania:42677809,Oman:5106622,Pakistan:220892331,Palau:18092,Palestine:5101416,Panama:4314768,"Papua New Guinea":8947027,Paraguay:7132530,Peru:32971846,Philippines:109581085,Poland:37846605,Polynesia:683778,Portugal:10196707,"Puerto Rico":2860840,Qatar:2881060,Reunion:895308,Romania:19237682,Russia:145934460,Rwanda:12952209,"Saint Barthlemy":9885,"Saint Helena":6071,"Saint Kitts and Nevis":53192,"Saint Lucia":183629,"Saint Martin (French part)":38659,"Saint Pierre and Miquelon":5795,"Saint Vincent and the Grenadines":110947,Samoa:198410,"San Marino":33938,"Sao Tome and Principe":219161,"Saudi Arabia":34813867,Senegal:16743930,Serbia:6804596,"Serbia (including Kosovo)":8737370,Seychelles:98340,"Sierra Leone":7976985,Singapore:5850343,"Sint Maarten (Dutch part)":42882,Slovakia:5459643,Slovenia:2078932,"Small Island Developing States (SIDS)":72076098,"Solomon Islands":686878,Somalia:15893219,"South Africa":59308690,"South America":430759772,"South Korea":51269183,"South Sudan":11193729,"South-Eastern Asia":668619854,"Southern Africa":67503647,"Southern Asia":1940369605,"Southern Europe":152215243,Spain:46754783,"Sri Lanka":21413250,"Sub-Saharan Africa":1094365605,Sudan:43849269,Suriname:586634,Swaziland:1160164,Sweden:10099270,Switzerland:8654618,Syria:17500657,Taiwan:23816775,Tajikistan:9537642,Tanzania:59734213,Thailand:69799978,Timor:1318442,Togo:8278737,Tokelau:1350,Tonga:105697,"Trinidad and Tobago":1399491,Tunisia:11818618,Turkey:84339067,Turkmenistan:6031187,"Turks and Caicos Islands":38718,Tuvalu:11792,Uganda:45741e3,Ukraine:43733759,"United Arab Emirates":9890400,"United Kingdom":67886004,"United States":331002647,"United States Virgin Islands":104423,"Upper-middle-income countries":2654816331,Uruguay:3473727,Uzbekistan:33469199,Vanuatu:307150,Vatican:809,Venezuela:28435943,Vietnam:97338583,"Wallis and Futuna":11246,"Western Africa":401861255,"Western Asia":279636774,"Western Europe":196146321,"Western Sahara":597330,World:7794798729,Yemen:29825968,Zambia:18383956,Zimbabwe:14862927};function DimensionSlot_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function DimensionSlot_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var DimensionSlot=(DimensionSlot_applyDecoratedDescriptor((DimensionSlot_class=function(){function DimensionSlot(grapher,property){!function DimensionSlot_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DimensionSlot),this.grapher=void 0,this.property=void 0,this.grapher=grapher,this.property=property}return function DimensionSlot_createClass(Constructor,protoProps,staticProps){return protoProps&&DimensionSlot_defineProperties(Constructor.prototype,protoProps),staticProps&&DimensionSlot_defineProperties(Constructor,staticProps),Constructor}(DimensionSlot,[{key:"name",get:function get(){return{y:this.grapher.isDiscreteBar?"X axis":"Y axis",x:"X axis",size:"Size",color:"Color",filter:"Filter"}[this.property]||""}},{key:"allowMultiple",get:function get(){return"y"===this.property&&!(this.grapher.isScatter||this.grapher.isTimeScatter||this.grapher.isSlopeChart)}},{key:"isOptional",get:function get(){return this.allowMultiple}},{key:"dimensions",get:function get(){var _this=this;return this.grapher.dimensions.filter((function(d){return d.property===_this.property}))}},{key:"dimensionsWithData",get:function get(){var _this2=this;return this.grapher.filledDimensions.filter((function(d){return d.property===_this2.property}))}}]),DimensionSlot}()).prototype,"name",[mobx_module.f],Object.getOwnPropertyDescriptor(DimensionSlot_class.prototype,"name"),DimensionSlot_class.prototype),DimensionSlot_applyDecoratedDescriptor(DimensionSlot_class.prototype,"allowMultiple",[mobx_module.f],Object.getOwnPropertyDescriptor(DimensionSlot_class.prototype,"allowMultiple"),DimensionSlot_class.prototype),DimensionSlot_applyDecoratedDescriptor(DimensionSlot_class.prototype,"isOptional",[mobx_module.f],Object.getOwnPropertyDescriptor(DimensionSlot_class.prototype,"isOptional"),DimensionSlot_class.prototype),DimensionSlot_applyDecoratedDescriptor(DimensionSlot_class.prototype,"dimensions",[mobx_module.f],Object.getOwnPropertyDescriptor(DimensionSlot_class.prototype,"dimensions"),DimensionSlot_class.prototype),DimensionSlot_applyDecoratedDescriptor(DimensionSlot_class.prototype,"dimensionsWithData",[mobx_module.f],Object.getOwnPropertyDescriptor(DimensionSlot_class.prototype,"dimensionsWithData"),DimensionSlot_class.prototype),DimensionSlot_class),EXPLORABLE_CHART_TYPES=["LineChart","DiscreteBar"];function canBeExplorable(config){var _config$dimensions;return settings.e&&EXPLORABLE_CHART_TYPES.includes(config.type)&&1===(null===(_config$dimensions=config.dimensions)||void 0===_config$dimensions?void 0:_config$dimensions.length)}__webpack_require__(34),__webpack_require__(52);function Analytics_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var AxisConfig_dec,AxisConfig_dec2,AxisConfig_dec3,AxisConfig_dec4,_dec5,AxisConfig_class,_descriptor,_descriptor2,_descriptor3,_descriptor4,_descriptor5,_descriptor6,_dec6,_class3,_descriptor7,Analytics=function(){function Analytics(environment){!function Analytics_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Analytics),this.isDev=void 0,this.isDev="development"===environment}return function Analytics_createClass(Constructor,protoProps,staticProps){return protoProps&&Analytics_defineProperties(Constructor.prototype,protoProps),staticProps&&Analytics_defineProperties(Constructor,staticProps),Constructor}(Analytics,[{key:"logChartError",value:function logChartError(error,info){this.logToAmplitude("CHART_ERROR",{error:error,info:info}),this.logToGA("Errors","Chart")}},{key:"logExploreError",value:function logExploreError(error,info){this.logToAmplitude("EXPLORE_ERROR",{error:error,info:info}),this.logToGA("Errors","Explore")}},{key:"logEntitiesNotFoundError",value:function logEntitiesNotFoundError(entities){this.logToAmplitude("ENTITIES_NOT_FOUND",{entities:entities}),this.logToGA("Errors","ENTITIES_NOT_FOUND",JSON.stringify(entities))}},{key:"logChartTimelinePlay",value:function logChartTimelinePlay(slug){this.logToAmplitude("CHART_TIMELINE_PLAY"),this.logToGA("Chart","TimelinePlay",slug)}},{key:"logPageNotFound",value:function logPageNotFound(url){this.logToAmplitude("NOT_FOUND",{href:url}),this.logToGA("Errors","NotFound",url)}},{key:"logChartsPageSearchQuery",value:function logChartsPageSearchQuery(query){this.logToAmplitude("Charts Page Filter",{query:query}),this.logToGA("ChartsPage","Filter",query)}},{key:"logGlobalEntityControl",value:function logGlobalEntityControl(action,note){this.logToAmplitude("GLOBAL_ENTITY_CONTROL",{action:action,note:note}),this.logToGA("GlobalEntityControl",action,note)}},{key:"logCountrySelectorEvent",value:function logCountrySelectorEvent(countryPickerName,action,note){this.logToAmplitude("".concat(countryPickerName.toUpperCase(),"_DATA_EXPLORER_COUNTRY_SELECTOR"),{action:action,note:note}),this.logToGA("".concat(countryPickerName,"DataExplorerCountrySelector"),action,note)}},{key:"logCovidCountryProfileSearch",value:function logCovidCountryProfileSearch(country){var key="COVID_COUNTRY_PROFILE_SEARCH";this.logToAmplitude(key,{country:country}),this.logToGA(key,country)}},{key:"logSiteClick",value:function logSiteClick(text,href,note){this.logToAmplitude("OWID_SITE_CLICK",{text:text,href:href,note:note}),this.logToGA("SiteClick",note||"unknown-category",text)}},{key:"logKeyboardShortcut",value:function logKeyboardShortcut(shortcut,combo){this.logToGA("KeyboardShortcut",shortcut,combo)}},{key:"logPageLoad",value:function logPageLoad(){this.logToAmplitude("OWID_PAGE_LOAD")}},{key:"logToAmplitude",value:function logToAmplitude(name,props){window.amplitude&&(props=Object.assign({},{context:{pageHref:window.location.href,pagePath:window.location.pathname,pageTitle:document.title.replace(/ - [^-]+/,"")}},props),window.amplitude.getInstance().logEvent(name,props))}},{key:"logToGA",value:function logToGA(eventCategory,eventAction,eventLabel,eventValue){var event={hitType:"event",eventCategory:eventCategory,eventAction:eventAction,eventLabel:eventLabel,eventValue:eventValue};window.ga&&window.ga((function(){var tracker=window.ga.getAll()[0];tracker&&tracker.send(event)}))}}]),Analytics}(),EntityUrlBuilder=__webpack_require__(74),Axis=__webpack_require__(83);function AxisConfig_typeof(obj){return(AxisConfig_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function AxisConfig_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function AxisConfig_setPrototypeOf(o,p){return(AxisConfig_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function AxisConfig_createSuper(Derived){var hasNativeReflectConstruct=function AxisConfig_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=AxisConfig_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=AxisConfig_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return AxisConfig_possibleConstructorReturn(this,result)}}function AxisConfig_possibleConstructorReturn(self,call){return!call||"object"!==AxisConfig_typeof(call)&&"function"!=typeof call?AxisConfig_assertThisInitialized(self):call}function AxisConfig_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function AxisConfig_getPrototypeOf(o){return(AxisConfig_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function AxisConfig_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function AxisConfig_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var ColorScaleConfig_dec,ColorScaleConfig_dec2,ColorScaleConfig_dec3,ColorScaleConfig_class,ColorScaleConfig_descriptor,ColorScaleConfig_descriptor2,ColorScaleConfig_descriptor3,ColorScaleConfig_descriptor4,ColorScaleConfig_descriptor5,ColorScaleConfig_descriptor6,ColorScaleConfig_descriptor7,_descriptor8,_descriptor9,_descriptor10,_descriptor11,_descriptor12,_descriptor13,_descriptor14,AxisConfigDefaults=(AxisConfig_dec=mobx_module.m.ref,AxisConfig_dec2=mobx_module.m.ref,AxisConfig_dec3=mobx_module.m.ref,AxisConfig_dec4=mobx_module.m.ref,_dec5=mobx_module.m.ref,_descriptor=AxisConfig_applyDecoratedDescriptor((AxisConfig_class=function AxisConfigDefaults(){AxisConfig_classCallCheck(this,AxisConfigDefaults),_initializerDefineProperty(this,"min",_descriptor,this),_initializerDefineProperty(this,"max",_descriptor2,this),_initializerDefineProperty(this,"scaleType",_descriptor3,this),_initializerDefineProperty(this,"canChangeScaleType",_descriptor4,this),_initializerDefineProperty(this,"label",_descriptor5,this),_initializerDefineProperty(this,"removePointsOutsideDomain",_descriptor6,this)}).prototype,"min",[AxisConfig_dec],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor2=AxisConfig_applyDecoratedDescriptor(AxisConfig_class.prototype,"max",[AxisConfig_dec2],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor3=AxisConfig_applyDecoratedDescriptor(AxisConfig_class.prototype,"scaleType",[AxisConfig_dec3],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor4=AxisConfig_applyDecoratedDescriptor(AxisConfig_class.prototype,"canChangeScaleType",[AxisConfig_dec4],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor5=AxisConfig_applyDecoratedDescriptor(AxisConfig_class.prototype,"label",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return""}}),_descriptor6=AxisConfig_applyDecoratedDescriptor(AxisConfig_class.prototype,"removePointsOutsideDomain",[_dec5],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),AxisConfig_class),AxisConfig_AxisConfig=(_dec6=mobx_module.m.ref,_descriptor7=AxisConfig_applyDecoratedDescriptor((_class3=function(_AxisConfigDefaults){!function AxisConfig_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&AxisConfig_setPrototypeOf(subClass,superClass)}(AxisConfig,_AxisConfigDefaults);var _super=AxisConfig_createSuper(AxisConfig);function AxisConfig(props){var _this;return AxisConfig_classCallCheck(this,AxisConfig),_initializerDefineProperty(_this=_super.call(this),"containerOptions",_descriptor7,AxisConfig_assertThisInitialized(_this)),_this.updateFromObject(props),_this}return function AxisConfig_createClass(Constructor,protoProps,staticProps){return protoProps&&AxisConfig_defineProperties(Constructor.prototype,protoProps),staticProps&&AxisConfig_defineProperties(Constructor,staticProps),Constructor}(AxisConfig,[{key:"updateFromObject",value:function updateFromObject(props){props&&Object(Util.t)(this,props)}},{key:"toObject",value:function toObject(){return Object(Util.Sb)({scaleType:this.scaleType,label:this.label?this.label:void 0,min:this.min,max:this.max,canChangeScaleType:this.canChangeScaleType,removePointsOutsideDomain:this.removePointsOutsideDomain})}},{key:"shouldRemovePoint",value:function shouldRemovePoint(value){return!!this.removePointsOutsideDomain&&(void 0!==this.min&&value<this.min||void 0!==this.max&&value>this.max)}},{key:"toHorizontalAxis",value:function toHorizontalAxis(){return new Axis.b(this)}},{key:"toVerticalAxis",value:function toVerticalAxis(){return new Axis.c(this)}},{key:"container",set:function set(containerOptions){this.containerOptions=containerOptions}},{key:"fontSize",get:function get(){return this.containerOptions.fontSize}},{key:"constrainedMin",get:function get(){var _this$min;return this.scaleType===GrapherConstants.d.log&&(this.min||0)<=0?1/0:null!==(_this$min=this.min)&&void 0!==_this$min?_this$min:1/0}},{key:"constrainedMax",get:function get(){var _this$max;return this.scaleType===GrapherConstants.d.log&&(this.max||0)<=0?-1/0:null!==(_this$max=this.max)&&void 0!==_this$max?_this$max:-1/0}},{key:"domain",get:function get(){return[this.constrainedMin,this.constrainedMax]}}]),AxisConfig}(AxisConfigDefaults)).prototype,"containerOptions",[_dec6],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{fontSize:16}}}),AxisConfig_applyDecoratedDescriptor(_class3.prototype,"fontSize",[mobx_module.f],Object.getOwnPropertyDescriptor(_class3.prototype,"fontSize"),_class3.prototype),AxisConfig_applyDecoratedDescriptor(_class3.prototype,"constrainedMin",[mobx_module.f],Object.getOwnPropertyDescriptor(_class3.prototype,"constrainedMin"),_class3.prototype),AxisConfig_applyDecoratedDescriptor(_class3.prototype,"constrainedMax",[mobx_module.f],Object.getOwnPropertyDescriptor(_class3.prototype,"constrainedMax"),_class3.prototype),AxisConfig_applyDecoratedDescriptor(_class3.prototype,"domain",[mobx_module.f],Object.getOwnPropertyDescriptor(_class3.prototype,"domain"),_class3.prototype),_class3),Persistable=__webpack_require__(58);function ColorScaleConfig_typeof(obj){return(ColorScaleConfig_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ColorScaleConfig_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function ColorScaleConfig_setPrototypeOf(o,p){return(ColorScaleConfig_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function ColorScaleConfig_createSuper(Derived){var hasNativeReflectConstruct=function ColorScaleConfig_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=ColorScaleConfig_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=ColorScaleConfig_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return ColorScaleConfig_possibleConstructorReturn(this,result)}}function ColorScaleConfig_possibleConstructorReturn(self,call){return!call||"object"!==ColorScaleConfig_typeof(call)&&"function"!=typeof call?ColorScaleConfig_assertThisInitialized(self):call}function ColorScaleConfig_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function ColorScaleConfig_getPrototypeOf(o){return(ColorScaleConfig_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ColorScaleConfig_initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function ColorScaleConfig_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function ColorScaleConfig_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var MapConfig_class,MapConfig_descriptor,MapConfig_descriptor2,MapConfig_descriptor3,MapConfig_descriptor4,MapConfig_descriptor5,MapConfig_descriptor6,MapConfig_descriptor7,ColorScaleConfig_ColorScaleConfig=function(_ColorScaleConfigDefa){!function ColorScaleConfig_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ColorScaleConfig_setPrototypeOf(subClass,superClass)}(ColorScaleConfig,_ColorScaleConfigDefa);var _super=ColorScaleConfig_createSuper(ColorScaleConfig);function ColorScaleConfig(obj){var _this;return ColorScaleConfig_classCallCheck(this,ColorScaleConfig),_this=_super.call(this),Object(Persistable.c)(ColorScaleConfig_assertThisInitialized(_this),obj),_this}return function ColorScaleConfig_createClass(Constructor,protoProps,staticProps){return protoProps&&ColorScaleConfig_defineProperties(Constructor.prototype,protoProps),staticProps&&ColorScaleConfig_defineProperties(Constructor,staticProps),Constructor}(ColorScaleConfig,[{key:"updateFromObject",value:function updateFromObject(obj){Object(Util.t)(this,obj)}},{key:"toObject",value:function toObject(){return Object(mobx_module.r)(this)}}]),ColorScaleConfig}((ColorScaleConfig_dec=mobx_module.m.ref,ColorScaleConfig_dec2=mobx_module.m.ref,ColorScaleConfig_dec3=mobx_module.m.ref,ColorScaleConfig_descriptor=ColorScaleConfig_applyDecoratedDescriptor((ColorScaleConfig_class=function ColorScaleConfigDefaults(){ColorScaleConfig_classCallCheck(this,ColorScaleConfigDefaults),ColorScaleConfig_initializerDefineProperty(this,"baseColorScheme",ColorScaleConfig_descriptor,this),ColorScaleConfig_initializerDefineProperty(this,"colorSchemeInvert",ColorScaleConfig_descriptor2,this),ColorScaleConfig_initializerDefineProperty(this,"binningStrategy",ColorScaleConfig_descriptor3,this),ColorScaleConfig_initializerDefineProperty(this,"binningStrategyBinCount",ColorScaleConfig_descriptor4,this),ColorScaleConfig_initializerDefineProperty(this,"customNumericMinValue",ColorScaleConfig_descriptor5,this),ColorScaleConfig_initializerDefineProperty(this,"customNumericValues",ColorScaleConfig_descriptor6,this),ColorScaleConfig_initializerDefineProperty(this,"customNumericLabels",ColorScaleConfig_descriptor7,this),ColorScaleConfig_initializerDefineProperty(this,"customNumericColorsActive",_descriptor8,this),ColorScaleConfig_initializerDefineProperty(this,"customNumericColors",_descriptor9,this),ColorScaleConfig_initializerDefineProperty(this,"equalSizeBins",_descriptor10,this),ColorScaleConfig_initializerDefineProperty(this,"customCategoryColors",_descriptor11,this),ColorScaleConfig_initializerDefineProperty(this,"customCategoryLabels",_descriptor12,this),ColorScaleConfig_initializerDefineProperty(this,"customHiddenCategories",_descriptor13,this),ColorScaleConfig_initializerDefineProperty(this,"legendDescription",_descriptor14,this)}).prototype,"baseColorScheme",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ColorScaleConfig_descriptor2=ColorScaleConfig_applyDecoratedDescriptor(ColorScaleConfig_class.prototype,"colorSchemeInvert",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),ColorScaleConfig_descriptor3=ColorScaleConfig_applyDecoratedDescriptor(ColorScaleConfig_class.prototype,"binningStrategy",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return BinningStrategies.a.ckmeans}}),ColorScaleConfig_descriptor4=ColorScaleConfig_applyDecoratedDescriptor(ColorScaleConfig_class.prototype,"binningStrategyBinCount",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ColorScaleConfig_descriptor5=ColorScaleConfig_applyDecoratedDescriptor(ColorScaleConfig_class.prototype,"customNumericMinValue",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ColorScaleConfig_descriptor6=ColorScaleConfig_applyDecoratedDescriptor(ColorScaleConfig_class.prototype,"customNumericValues",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),ColorScaleConfig_descriptor7=ColorScaleConfig_applyDecoratedDescriptor(ColorScaleConfig_class.prototype,"customNumericLabels",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),_descriptor8=ColorScaleConfig_applyDecoratedDescriptor(ColorScaleConfig_class.prototype,"customNumericColorsActive",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor9=ColorScaleConfig_applyDecoratedDescriptor(ColorScaleConfig_class.prototype,"customNumericColors",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),_descriptor10=ColorScaleConfig_applyDecoratedDescriptor(ColorScaleConfig_class.prototype,"equalSizeBins",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor11=ColorScaleConfig_applyDecoratedDescriptor(ColorScaleConfig_class.prototype,"customCategoryColors",[ColorScaleConfig_dec],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),_descriptor12=ColorScaleConfig_applyDecoratedDescriptor(ColorScaleConfig_class.prototype,"customCategoryLabels",[ColorScaleConfig_dec2],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),_descriptor13=ColorScaleConfig_applyDecoratedDescriptor(ColorScaleConfig_class.prototype,"customHiddenCategories",[ColorScaleConfig_dec3],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),_descriptor14=ColorScaleConfig_applyDecoratedDescriptor(ColorScaleConfig_class.prototype,"legendDescription",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),ColorScaleConfig_class));function MapConfig_typeof(obj){return(MapConfig_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function MapConfig_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function MapConfig_setPrototypeOf(o,p){return(MapConfig_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function MapConfig_createSuper(Derived){var hasNativeReflectConstruct=function MapConfig_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=MapConfig_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=MapConfig_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return MapConfig_possibleConstructorReturn(this,result)}}function MapConfig_possibleConstructorReturn(self,call){return!call||"object"!==MapConfig_typeof(call)&&"function"!=typeof call?function MapConfig_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function MapConfig_getPrototypeOf(o){return(MapConfig_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function MapConfig_initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function MapConfig_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function MapConfig_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var Grapher_dec,Grapher_dec2,Grapher_dec3,Grapher_dec4,Grapher_dec5,Grapher_dec6,_dec7,_dec8,_dec9,_dec10,_dec11,_dec12,_dec13,_dec14,_dec15,_dec16,_dec17,_dec18,_dec19,_dec20,_dec21,_dec22,_dec23,_dec24,_dec25,_dec26,_dec27,_dec28,_dec29,_dec30,_dec31,_dec32,_dec33,_dec34,_dec35,_dec36,_dec37,_dec38,_dec39,_dec40,_dec41,_dec42,_dec43,_dec44,Grapher_class,Grapher_descriptor,Grapher_descriptor2,Grapher_descriptor3,Grapher_descriptor4,Grapher_descriptor5,Grapher_descriptor6,Grapher_descriptor7,Grapher_descriptor8,Grapher_descriptor9,Grapher_descriptor10,Grapher_descriptor11,Grapher_descriptor12,Grapher_descriptor13,Grapher_descriptor14,_descriptor15,_descriptor16,_descriptor17,_descriptor18,_descriptor19,_descriptor20,_descriptor21,_descriptor22,_descriptor23,_descriptor24,_descriptor25,_descriptor26,_descriptor27,_descriptor28,_descriptor29,_descriptor30,_descriptor31,_descriptor32,_descriptor33,_descriptor34,_descriptor35,_descriptor36,_descriptor37,_descriptor38,_descriptor39,_descriptor40,_descriptor41,_descriptor42,_descriptor43,_descriptor44,_descriptor45,_descriptor46,_descriptor47,_descriptor48,_descriptor49,_descriptor50,_descriptor51,_dec45,_dec46,_dec47,_dec48,_dec49,_dec50,_dec51,_dec52,_dec53,_dec54,_dec55,_dec56,_dec57,_dec58,_dec59,_dec60,_dec61,_dec62,_dec63,_dec64,_dec65,_dec66,_dec67,_dec68,_dec69,_dec70,_dec71,_dec72,_dec73,_dec74,Grapher_class3,_descriptor52,_descriptor53,_descriptor54,_descriptor55,_descriptor56,_descriptor57,_descriptor58,_descriptor59,_descriptor60,_descriptor61,_descriptor62,_descriptor63,_descriptor64,MapConfigDefaults=(MapConfig_descriptor=MapConfig_applyDecoratedDescriptor((MapConfig_class=function MapConfigDefaults(){MapConfig_classCallCheck(this,MapConfigDefaults),MapConfig_initializerDefineProperty(this,"columnSlug",MapConfig_descriptor,this),MapConfig_initializerDefineProperty(this,"time",MapConfig_descriptor2,this),MapConfig_initializerDefineProperty(this,"timeTolerance",MapConfig_descriptor3,this),MapConfig_initializerDefineProperty(this,"hideTimeline",MapConfig_descriptor4,this),MapConfig_initializerDefineProperty(this,"projection",MapConfig_descriptor5,this),MapConfig_initializerDefineProperty(this,"colorScale",MapConfig_descriptor6,this),MapConfig_initializerDefineProperty(this,"tooltipUseCustomLabels",MapConfig_descriptor7,this)}).prototype,"columnSlug",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),MapConfig_descriptor2=MapConfig_applyDecoratedDescriptor(MapConfig_class.prototype,"time",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),MapConfig_descriptor3=MapConfig_applyDecoratedDescriptor(MapConfig_class.prototype,"timeTolerance",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),MapConfig_descriptor4=MapConfig_applyDecoratedDescriptor(MapConfig_class.prototype,"hideTimeline",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),MapConfig_descriptor5=MapConfig_applyDecoratedDescriptor(MapConfig_class.prototype,"projection",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return"World"}}),MapConfig_descriptor6=MapConfig_applyDecoratedDescriptor(MapConfig_class.prototype,"colorScale",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return new ColorScaleConfig_ColorScaleConfig}}),MapConfig_descriptor7=MapConfig_applyDecoratedDescriptor(MapConfig_class.prototype,"tooltipUseCustomLabels",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),MapConfig_class),MapConfig_MapConfig=function(_MapConfigDefaults){!function MapConfig_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&MapConfig_setPrototypeOf(subClass,superClass)}(MapConfig,_MapConfigDefaults);var _super=MapConfig_createSuper(MapConfig);function MapConfig(obj){var _this;return MapConfig_classCallCheck(this,MapConfig),_this=_super.call(this),obj&&_this.updateFromObject(obj),_this}return function MapConfig_createClass(Constructor,protoProps,staticProps){return protoProps&&MapConfig_defineProperties(Constructor.prototype,protoProps),staticProps&&MapConfig_defineProperties(Constructor,staticProps),Constructor}(MapConfig,[{key:"updateFromObject",value:function updateFromObject(obj){obj.variableId&&!obj.columnSlug&&(obj.columnSlug=obj.variableId.toString()),obj.year&&(this.time=Object(TimeBounds.h)(obj.year)),Object(Persistable.c)(this,obj)}},{key:"toObject",value:function toObject(){var obj=Object(Persistable.b)(this);return Object(Persistable.a)(obj,new MapConfigDefaults),obj.time&&(obj.time=Object(TimeBounds.i)(this.time)),obj.columnSlug&&(obj.variableId=parseInt(obj.columnSlug),delete obj.columnSlug),obj}}]),MapConfig}(MapConfigDefaults);function Grapher_typeof(obj){return(Grapher_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Grapher_toConsumableArray(arr){return function Grapher_arrayWithoutHoles(arr){if(Array.isArray(arr))return Grapher_arrayLikeToArray(arr)}(arr)||function Grapher_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function Grapher_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Grapher_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Grapher_arrayLikeToArray(o,minLen)}(arr)||function Grapher_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Grapher_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function Grapher_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Grapher_setPrototypeOf(o,p){return(Grapher_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Grapher_createSuper(Derived){var hasNativeReflectConstruct=function Grapher_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Grapher_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Grapher_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Grapher_possibleConstructorReturn(this,result)}}function Grapher_possibleConstructorReturn(self,call){return!call||"object"!==Grapher_typeof(call)&&"function"!=typeof call?Grapher_assertThisInitialized(self):call}function Grapher_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function Grapher_getPrototypeOf(o){return(Grapher_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Grapher_initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function Grapher_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Grapher_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var GrapherDefaults=(Grapher_dec=mobx_module.m.ref,Grapher_dec2=mobx_module.m.ref,Grapher_dec3=mobx_module.m.ref,Grapher_dec4=mobx_module.m.ref,Grapher_dec5=mobx_module.m.ref,Grapher_dec6=mobx_module.m.ref,_dec7=mobx_module.m.ref,_dec8=mobx_module.m.ref,_dec9=mobx_module.m.ref,_dec10=mobx_module.m.ref,_dec11=mobx_module.m.ref,_dec12=mobx_module.m.ref,_dec13=mobx_module.m.ref,_dec14=mobx_module.m.ref,_dec15=mobx_module.m.ref,_dec16=mobx_module.m.ref,_dec17=mobx_module.m.ref,_dec18=mobx_module.m.ref,_dec19=mobx_module.m.ref,_dec20=mobx_module.m.ref,_dec21=mobx_module.m.ref,_dec22=mobx_module.m.ref,_dec23=mobx_module.m.ref,_dec24=mobx_module.m.ref,_dec25=mobx_module.m.ref,_dec26=mobx_module.m.ref,_dec27=mobx_module.m.ref,_dec28=mobx_module.m.ref,_dec29=mobx_module.m.ref,_dec30=mobx_module.m.ref,_dec31=mobx_module.m.ref,_dec32=mobx_module.m.ref,_dec33=mobx_module.m.ref,_dec34=mobx_module.m.ref,_dec35=mobx_module.m.ref,_dec36=mobx_module.m.ref,_dec37=mobx_module.m.ref,_dec38=mobx_module.m.ref,_dec39=mobx_module.m.ref,_dec40=mobx_module.m.ref,_dec41=mobx_module.m.ref,_dec42=mobx_module.m.ref,_dec43=mobx_module.m.ref,_dec44=mobx_module.m.ref,Grapher_descriptor=Grapher_applyDecoratedDescriptor((Grapher_class=function GrapherDefaults(){Grapher_classCallCheck(this,GrapherDefaults),Grapher_initializerDefineProperty(this,"type",Grapher_descriptor,this),Grapher_initializerDefineProperty(this,"isExplorable",Grapher_descriptor2,this),Grapher_initializerDefineProperty(this,"id",Grapher_descriptor3,this),Grapher_initializerDefineProperty(this,"version",Grapher_descriptor4,this),Grapher_initializerDefineProperty(this,"slug",Grapher_descriptor5,this),Grapher_initializerDefineProperty(this,"title",Grapher_descriptor6,this),Grapher_initializerDefineProperty(this,"subtitle",Grapher_descriptor7,this),Grapher_initializerDefineProperty(this,"sourceDesc",Grapher_descriptor8,this),Grapher_initializerDefineProperty(this,"note",Grapher_descriptor9,this),Grapher_initializerDefineProperty(this,"hideTitleAnnotation",Grapher_descriptor10,this),Grapher_initializerDefineProperty(this,"minTime",Grapher_descriptor11,this),Grapher_initializerDefineProperty(this,"maxTime",Grapher_descriptor12,this),Grapher_initializerDefineProperty(this,"timelineMinTime",Grapher_descriptor13,this),Grapher_initializerDefineProperty(this,"timelineMaxTime",Grapher_descriptor14,this),Grapher_initializerDefineProperty(this,"addCountryMode",_descriptor15,this),Grapher_initializerDefineProperty(this,"highlightToggle",_descriptor16,this),Grapher_initializerDefineProperty(this,"stackMode",_descriptor17,this),Grapher_initializerDefineProperty(this,"hideLegend",_descriptor18,this),Grapher_initializerDefineProperty(this,"logo",_descriptor19,this),Grapher_initializerDefineProperty(this,"hideLogo",_descriptor20,this),Grapher_initializerDefineProperty(this,"hideRelativeToggle",_descriptor21,this),Grapher_initializerDefineProperty(this,"entityType",_descriptor22,this),Grapher_initializerDefineProperty(this,"entityTypePlural",_descriptor23,this),Grapher_initializerDefineProperty(this,"hideTimeline",_descriptor24,this),Grapher_initializerDefineProperty(this,"zoomToSelection",_descriptor25,this),Grapher_initializerDefineProperty(this,"minPopulationFilter",_descriptor26,this),Grapher_initializerDefineProperty(this,"showYearLabels",_descriptor27,this),Grapher_initializerDefineProperty(this,"hasChartTab",_descriptor28,this),Grapher_initializerDefineProperty(this,"hasMapTab",_descriptor29,this),Grapher_initializerDefineProperty(this,"tab",_descriptor30,this),Grapher_initializerDefineProperty(this,"overlay",_descriptor31,this),Grapher_initializerDefineProperty(this,"internalNotes",_descriptor32,this),Grapher_initializerDefineProperty(this,"variantName",_descriptor33,this),Grapher_initializerDefineProperty(this,"originUrl",_descriptor34,this),Grapher_initializerDefineProperty(this,"isPublished",_descriptor35,this),Grapher_initializerDefineProperty(this,"baseColorScheme",_descriptor36,this),Grapher_initializerDefineProperty(this,"invertColorScheme",_descriptor37,this),Grapher_initializerDefineProperty(this,"hideLinesOutsideTolerance",_descriptor38,this),Grapher_initializerDefineProperty(this,"hideConnectedScatterLines",_descriptor39,this),Grapher_initializerDefineProperty(this,"scatterPointLabelStrategy",_descriptor40,this),Grapher_initializerDefineProperty(this,"compareEndPointsOnly",_descriptor41,this),Grapher_initializerDefineProperty(this,"matchingEntitiesOnly",_descriptor42,this),Grapher_initializerDefineProperty(this,"xAxis",_descriptor43,this),Grapher_initializerDefineProperty(this,"yAxis",_descriptor44,this),Grapher_initializerDefineProperty(this,"colorScale",_descriptor45,this),Grapher_initializerDefineProperty(this,"map",_descriptor46,this),Grapher_initializerDefineProperty(this,"dimensions",_descriptor47,this),Grapher_initializerDefineProperty(this,"excludedEntities",_descriptor48,this),Grapher_initializerDefineProperty(this,"selectedData",_descriptor49,this),Grapher_initializerDefineProperty(this,"comparisonLines",_descriptor50,this),Grapher_initializerDefineProperty(this,"relatedQuestions",_descriptor51,this),this.externalDataUrl=void 0,this.owidDataset=void 0,this.manuallyProvideData=!1}).prototype,"type",[Grapher_dec],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return"LineChart"}}),Grapher_descriptor2=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"isExplorable",[Grapher_dec2],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),Grapher_descriptor3=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"id",[Grapher_dec3],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),Grapher_descriptor4=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"version",[Grapher_dec4],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return 1}}),Grapher_descriptor5=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"slug",[Grapher_dec5],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),Grapher_descriptor6=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"title",[Grapher_dec6],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),Grapher_descriptor7=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"subtitle",[_dec7],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return""}}),Grapher_descriptor8=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"sourceDesc",[_dec8],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),Grapher_descriptor9=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"note",[_dec9],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return""}}),Grapher_descriptor10=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"hideTitleAnnotation",[_dec10],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),Grapher_descriptor11=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"minTime",[_dec11],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),Grapher_descriptor12=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"maxTime",[_dec12],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),Grapher_descriptor13=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"timelineMinTime",[_dec13],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),Grapher_descriptor14=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"timelineMaxTime",[_dec14],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor15=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"addCountryMode",[_dec15],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return"add-country"}}),_descriptor16=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"highlightToggle",[_dec16],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor17=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"stackMode",[_dec17],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return"absolute"}}),_descriptor18=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"hideLegend",[_dec18],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor19=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"logo",[_dec19],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor20=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"hideLogo",[_dec20],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor21=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"hideRelativeToggle",[_dec21],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!0}}),_descriptor22=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"entityType",[_dec22],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return"country"}}),_descriptor23=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"entityTypePlural",[_dec23],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return"countries"}}),_descriptor24=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"hideTimeline",[_dec24],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor25=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"zoomToSelection",[_dec25],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor26=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"minPopulationFilter",[_dec26],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor27=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"showYearLabels",[_dec27],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor28=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"hasChartTab",[_dec28],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!0}}),_descriptor29=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"hasMapTab",[_dec29],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor30=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"tab",[_dec30],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return"chart"}}),_descriptor31=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"overlay",[_dec31],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor32=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"internalNotes",[_dec32],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return""}}),_descriptor33=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"variantName",[_dec33],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor34=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"originUrl",[_dec34],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return""}}),_descriptor35=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"isPublished",[_dec35],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor36=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"baseColorScheme",[_dec36],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor37=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"invertColorScheme",[_dec37],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor38=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"hideLinesOutsideTolerance",[_dec38],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor39=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"hideConnectedScatterLines",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor40=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"scatterPointLabelStrategy",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor41=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"compareEndPointsOnly",[_dec39],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor42=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"matchingEntitiesOnly",[_dec40],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor43=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"xAxis",[_dec41],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return new AxisConfig_AxisConfig}}),_descriptor44=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"yAxis",[_dec42],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return new AxisConfig_AxisConfig}}),_descriptor45=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"colorScale",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return new ColorScaleConfig_ColorScaleConfig}}),_descriptor46=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"map",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return new MapConfig_MapConfig}}),_descriptor47=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"dimensions",[_dec43],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),_descriptor48=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"excludedEntities",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor49=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"selectedData",[_dec44],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),_descriptor50=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"comparisonLines",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),_descriptor51=Grapher_applyDecoratedDescriptor(Grapher_class.prototype,"relatedQuestions",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Grapher_class),defaultObject=Object(Persistable.b)(new GrapherDefaults),Grapher_Grapher=(_dec45=mobx_module.m.ref,_dec46=mobx_module.d.bound,_dec47=mobx_module.d.bound,_dec48=mobx_module.m.ref,_dec49=mobx_module.m.ref,_dec50=mobx_module.m.ref,_dec51=mobx_module.m.ref,_dec52=mobx_module.m.ref,_dec53=mobx_module.d.bound,_dec54=mobx_module.m.ref,_dec55=mobx_module.d.bound,_dec56=mobx_module.d.bound,_dec57=mobx_module.m.ref,_dec58=mobx_module.d.bound,_dec59=mobx_module.d.bound,_dec60=mobx_module.m.ref,_dec61=mobx_module.f.struct,_dec62=mobx_module.d.bound,_dec63=mobx_module.d.bound,_dec64=mobx_module.f.struct,_dec65=mobx_module.d.bound,_dec66=mobx_module.d.bound,_dec67=mobx_module.d.bound,_dec68=mobx_module.f.struct,_dec69=mobx_module.d.bound,_dec70=mobx_module.d.bound,_dec71=mobx_module.d.bound,_dec72=mobx_module.d.bound,_dec73=mobx_module.f.struct,_dec74=mobx_module.f.struct,_descriptor52=Grapher_applyDecoratedDescriptor((Grapher_class3=function(_GrapherDefaults){!function Grapher_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Grapher_setPrototypeOf(subClass,superClass)}(Grapher,_GrapherDefaults);var _downloadDataFromOwidVariableIds,_downloadDataFromUrl,_super=Grapher_createSuper(Grapher);function Grapher(config){var _this,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Grapher_classCallCheck(this,Grapher),(_this=_super.call(this)).isDev="development"===settings.d,_this.adminBaseUrl=settings.a,_this.analytics=new Analytics(settings.d),_this.isEditor=!0===window.isEditor,_this.bakedGrapherURL=settings.c,_this.configOnLoad=void 0,Grapher_initializerDefineProperty(_this,"table",_descriptor52,Grapher_assertThisInitialized(_this)),Grapher_initializerDefineProperty(_this,"isEmbed",_descriptor53,Grapher_assertThisInitialized(_this)),Grapher_initializerDefineProperty(_this,"isMediaCard",_descriptor54,Grapher_assertThisInitialized(_this)),Grapher_initializerDefineProperty(_this,"isExporting",_descriptor55,Grapher_assertThisInitialized(_this)),Grapher_initializerDefineProperty(_this,"tooltip",_descriptor56,Grapher_assertThisInitialized(_this)),Grapher_initializerDefineProperty(_this,"isPlaying",_descriptor57,Grapher_assertThisInitialized(_this)),Grapher_initializerDefineProperty(_this,"isSelectingData",_descriptor58,Grapher_assertThisInitialized(_this)),_this.populationFilterToggleOption=1e6,Grapher_initializerDefineProperty(_this,"useTimelineDomains",_descriptor59,Grapher_assertThisInitialized(_this)),Grapher_initializerDefineProperty(_this,"userHasSetTimeline",_descriptor60,Grapher_assertThisInitialized(_this)),Grapher_initializerDefineProperty(_this,"embedExplorerCheckbox",_descriptor61,Grapher_assertThisInitialized(_this)),Grapher_initializerDefineProperty(_this,"_baseFontSize",_descriptor62,Grapher_assertThisInitialized(_this)),_this.url=void 0,Grapher_initializerDefineProperty(_this,"hideEntityControls",_descriptor63,Grapher_assertThisInitialized(_this)),_this.externalCsvLink="",_this.disposers=[],_this.chartMinPopulationFilter=void 0,Grapher_initializerDefineProperty(_this,"dataTableOnlyDimensions",_descriptor64,Grapher_assertThisInitialized(_this)),_this.table=new OwidTable.c([]),_this.updateFromObject(config),_this.isEmbed=!!options.isEmbed,_this.isMediaCard=!!options.isMediaCard,_this.initFontSizeInAxisContainers(),_this.owidDataset?_this._receiveData(_this.owidDataset):_this.externalDataUrl?_this.downloadDataFromUrl(_this.externalDataUrl):_this.manuallyProvideData||_this.disposers.push(Object(mobx_module.o)((function(){return _this.variableIds}),_this.downloadDataFromOwidVariableIds,{fireImmediately:!0})),_this.disposers.push(Object(mobx_module.o)((function(){return _this.minPopulationFilter}),(function(){_this.updatePopulationFilter()}))),_this.url=new GrapherUrl.b(Grapher_assertThisInitialized(_this),config,_this.bakedGrapherURL),void 0!==options.queryStr&&_this.populateFromQueryParams(Object(GrapherUrl.c)(Object(client_url.e)(options.queryStr))),_this.configOnLoad=_this.toObject(),options.globalEntitySelection&&_this.disposers.push(Object(GlobalEntitySelection.b)(Grapher_assertThisInitialized(_this),options.globalEntitySelection)),_this.isEditor&&_this.ensureValidConfigWhenEditing(),_this}return function Grapher_createClass(Constructor,protoProps,staticProps){return protoProps&&Grapher_defineProperties(Constructor.prototype,protoProps),staticProps&&Grapher_defineProperties(Constructor,staticProps),Constructor}(Grapher,[{key:"toObject",value:function toObject(){var obj=Object(Persistable.b)(this);return delete obj.externalDataUrl,delete obj.owidDataset,delete obj.manuallyProvideData,delete obj.overlay,Object(Persistable.a)(obj,defaultObject),obj.minTime&&(obj.minTime=Object(TimeBounds.k)(this.minTime)),obj.maxTime&&(obj.maxTime=Object(TimeBounds.i)(this.maxTime)),obj}},{key:"updateFromObject",value:function updateFromObject(obj){var _obj$dimensions;obj&&(Object(Persistable.c)(this,obj),null===obj.originUrl&&(this.originUrl=""),obj.minTime&&(this.minTime=Object(TimeBounds.j)(obj.minTime)),obj.maxTime&&(this.maxTime=Object(TimeBounds.h)(obj.maxTime)),(null==obj||null===(_obj$dimensions=obj.dimensions)||void 0===_obj$dimensions?void 0:_obj$dimensions.length)&&this.setDimensionsFromConfigs(obj.dimensions))}},{key:"populateFromQueryParams",value:function populateFromQueryParams(params){var _params$stackMode,_this2=this,tab=params.tab;tab&&(this.availableTabs.includes(tab)?this.tab=tab:console.error("Unexpected tab: "+tab));var overlay=params.overlay;overlay&&(this.availableTabs.includes(overlay)?this.overlay=overlay:console.error("Unexpected overlay: "+overlay)),this.stackMode=null!==(_params$stackMode=params.stackMode)&&void 0!==_params$stackMode?_params$stackMode:this.stackMode,this.zoomToSelection="true"===params.zoomToSelection||this.zoomToSelection,this.minPopulationFilter=params.minPopulationFilter?parseInt(params.minPopulationFilter):this.minPopulationFilter;var xScaleType=params.xScale;xScaleType&&(xScaleType===GrapherConstants.d.linear||xScaleType===GrapherConstants.d.log?this.xAxis.scaleType=xScaleType:console.error("Unexpected xScale: "+xScaleType));var yScaleType=params.yScale;yScaleType&&(yScaleType===GrapherConstants.d.linear||yScaleType===GrapherConstants.d.log?this.yAxis.scaleType=yScaleType:console.error("Unexpected xScale: "+yScaleType));var time=params.time;void 0!==time&&""!==time&&this.setTimeFromTimeQueryParam(time);var endpointsOnly=params.endpointsOnly;void 0!==endpointsOnly&&(this.compareEndPointsOnly="1"===endpointsOnly||void 0);var region=params.region;void 0!==region&&(this.map.projection=region);var country=params.country;!this.manuallyProvideData&&country&&"disabled"!==this.addCountryMode&&Object(mobx_module.t)((function(){return _this2.isReady}),(function(){Object(mobx_module.p)((function(){var entityCodes=EntityUrlBuilder.a.queryParamToEntities(country),matchedEntities=_this2.setSelectedEntitiesByCode(entityCodes),notFoundEntities=Array.from(matchedEntities.keys()).filter((function(key){return!matchedEntities.get(key)}));notFoundEntities.length&&_this2.analytics.logEntitiesNotFoundError(notFoundEntities)}))}))}},{key:"setTimeFromTimeQueryParam",value:function setTimeFromTimeQueryParam(time){this.timeDomain=Object(TimeBounds.d)(time)}},{key:"toggleMinPopulationFilter",value:function toggleMinPopulationFilter(){this.minPopulationFilter=this.minPopulationFilter?void 0:this.populationFilterOption}},{key:"downloadDataFromUrl",value:(_downloadDataFromUrl=_asyncToGenerator(regeneratorRuntime.mark((function _callee(url){var json;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(Util.u)(url);case 2:json=_context.sent,this._receiveData(json);case 4:case"end":return _context.stop()}}),_callee,this)}))),function downloadDataFromUrl(_x){return _downloadDataFromUrl.apply(this,arguments)})},{key:"downloadDataFromOwidVariableIds",value:(_downloadDataFromOwidVariableIds=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var json;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(0!==this.variableIds.length){_context2.next=2;break}return _context2.abrupt("return");case 2:if(_context2.prev=2,!window.admin){_context2.next=10;break}return _context2.next=6,window.admin.getJSON("/api/data/variables/".concat(this.dataFileName));case 6:json=_context2.sent,this._receiveData(json),_context2.next=12;break;case 10:return _context2.next=12,this.downloadDataFromUrl(this.dataUrl);case 12:_context2.next=17;break;case 14:_context2.prev=14,_context2.t0=_context2.catch(2),console.error(_context2.t0);case 17:case"end":return _context2.stop()}}),_callee2,this,[[2,14]])}))),function downloadDataFromOwidVariableIds(){return _downloadDataFromOwidVariableIds.apply(this,arguments)})},{key:"receiveData",value:function receiveData(json){this._receiveData(json)}},{key:"_receiveData",value:function _receiveData(json){this.table.loadFromLegacy(json),this.updatePopulationFilter()}},{key:"dispose",value:function dispose(){this.disposers.forEach((function(dispose){return dispose()}))}},{key:"initFontSizeInAxisContainers",value:function initFontSizeInAxisContainers(){var that=this,axisContainer={get fontSize(){return that.baseFontSize}};this.xAxis.container=axisContainer,this.yAxis.container=axisContainer}},{key:"updatePopulationFilter",value:function updatePopulationFilter(){var minPop=this.minPopulationFilter;minPop?this.table.addFilterColumn("pop_filter",(function(row,index,table){var name=row.entityName,pop=populationMap[name];return!pop||pop>=minPop||table.isSelected(row)})):this.table.deleteColumnBySlug("pop_filter")}},{key:"ensureValidConfigWhenEditing",value:function ensureValidConfigWhenEditing(){var _this$disposers,_this3=this,disposers=[Object(mobx_module.e)((function(){_this3.availableTabs.includes(_this3.tab)||Object(mobx_module.p)((function(){return _this3.tab=_this3.availableTabs[0]}))})),Object(mobx_module.e)((function(){var validDimensions=_this3.validDimensions;Object(Util.P)(_this3.dimensions,validDimensions)||(_this3.dimensions=validDimensions)}))];(_this$disposers=this.disposers).push.apply(_this$disposers,disposers)}},{key:"revertDataTableSpecificState",value:function revertDataTableSpecificState(){var _this$configOnLoad$mi;this.userHasSetTimeline||(this.timeDomain=[null!==(_this$configOnLoad$mi=this.configOnLoad.minTime)&&void 0!==_this$configOnLoad$mi?_this$configOnLoad$mi:TimeBounds.a.unboundedLeft,this.timeDomain[1]]),this.minPopulationFilter=this.chartMinPopulationFilter}},{key:"addDimension",value:function addDimension(config){this.dimensions.push(new ChartDimension.a(config,this.table))}},{key:"setDimensionsForProperty",value:function setDimensionsForProperty(property,newConfigs){var _this4=this,newDimensions=[];this.dimensionSlots.forEach((function(slot){newDimensions=slot.property===property?newDimensions.concat(newConfigs.map((function(config){return new ChartDimension.a(config,_this4.table)}))):newDimensions.concat(slot.dimensions)})),this.dimensions=newDimensions}},{key:"setDimensionsFromConfigs",value:function setDimensionsFromConfigs(configs){var _this5=this;this.dimensions=configs.map((function(config){return new ChartDimension.a(config,_this5.table)}))}},{key:"makeEntityDimensionKey",value:function makeEntityDimensionKey(entityName,dimensionIndex){return"".concat(entityName,"_").concat(dimensionIndex)}},{key:"selectEntityDimensionKey",value:function selectEntityDimensionKey(key){this.selectedKeys=this.selectedKeys.concat([key])}},{key:"setKeyColor",value:function setKeyColor(key,color){var meta=this.lookupKey(key),selectedData=Object(Util.e)(this.selectedData);selectedData.forEach((function(d){d.entityId===meta.entityId&&d.index===meta.index&&(d.color=color)})),this.selectedData=selectedData}},{key:"setSingleSelectedEntity",value:function setSingleSelectedEntity(entityId){var selectedData=Object(Util.e)(this.selectedData);selectedData.forEach((function(d){return d.entityId=entityId})),this.selectedData=selectedData}},{key:"setSelectedEntitiesByCode",value:function setSelectedEntitiesByCode(entityCodes){var _this6=this,matchedEntities=new Map;return entityCodes.forEach((function(code){return matchedEntities.set(code,!1)})),this.canChangeEntity?this.availableEntityNames.forEach((function(entityName){var entityId=_this6.table.entityNameToIdMap.get(entityName);_this6.table.entityNameToCodeMap.get(entityName)!==entityCodes[0]&&entityName!==entityCodes[0]||(matchedEntities.set(entityCodes[0],!0),_this6.setSingleSelectedEntity(entityId))})):this.selectedKeys=this.availableKeys.filter((function(key){var meta=_this6.lookupKey(key),entityName=meta.entityName,entityCode=_this6.table.entityNameToCodeMap.get(entityName);return[meta.shortCode,entityCode,entityName].map((function(key){return!!matchedEntities.has(key)&&(matchedEntities.set(key,!0),!0)})).some((function(item){return item}))})),matchedEntities}},{key:"resetSelectedEntities",value:function resetSelectedEntities(){this.selectedData=this.configOnLoad.selectedData||[]}},{key:"deselect",value:function deselect(entityDimensionKey){this.selectedKeys=this.selectedKeys.filter((function(e){return e!==entityDimensionKey}))}},{key:"selectOnlyThisEntity",value:function selectOnlyThisEntity(entityName){var keys=this.availableKeysByEntity.get(entityName);(null==keys?void 0:keys.length)&&(this.selectedKeys=keys)}},{key:"toggleEntitySelectionStatus",value:function toggleEntitySelectionStatus(entityName){var keys=this.availableKeysByEntity.get(entityName);(null==keys?void 0:keys.length)&&(this.selectedKeys=Object(Util.bc)(keys,this.selectedKeys))}},{key:"toggleRelativeMode",value:function toggleRelativeMode(){this.stackMode=this.isRelativeMode?"absolute":"relative"}},{key:"lookupKey",value:function lookupKey(key){var keyDatum=this.entityDimensionMap.get(key);if(void 0!==keyDatum)return keyDatum;throw new Error("Unknown data key: ".concat(key))}},{key:"getLabelForKey",value:function getLabelForKey(key){return this.lookupKey(key).label}},{key:"toggleKey",value:function toggleKey(key){this.selectedKeys.includes(key)?this.selectedKeys=this.selectedKeys.filter((function(k){return k!==key})):this.selectedKeys=this.selectedKeys.concat([key])}},{key:"isInteractive",get:function get(){return!this.isExporting}},{key:"populationFilterOption",get:function get(){return this.minPopulationFilter&&(this.populationFilterToggleOption=this.minPopulationFilter),this.populationFilterToggleOption}},{key:"hasCountriesSmallerThanFilterOption",get:function get(){var _this7=this;return this.table.availableEntities.some((function(entityName){return populationMap[entityName]&&populationMap[entityName]<_this7.populationFilterOption}))}},{key:"selectedCountryNames",get:function get(){var _this$url,countryCodes=EntityUrlBuilder.a.queryParamToEntities((null===(_this$url=this.url)||void 0===_this$url?void 0:_this$url.params.country)||"");return countryCodes=countryCodes.concat(EntityUrlBuilder.a.queryParamToEntities(Object(client_url.b)().country||"")),new Set(countryCodes.map((function(code){return countries.a.find((function(country){return country.code===code}))})).filter((function(i){return i})).map((function(c){return c.name})))}},{key:"baseFontSize",get:function get(){return this.isMediaCard?24:this.isExporting?18:this._baseFontSize},set:function set(val){this._baseFontSize=val}},{key:"formatYearTickFunction",get:function get(){return this.table.hasDayColumn?function(day,options){return Object(Util.A)(day,(null==options?void 0:options.isFirstOrLastTick)?{}:{format:"MMM D"})}:Util.C}},{key:"sortedUniqueEntitiesAcrossDimensions",get:function get(){return Object(Util.Fb)(Object(Util.Ub)(Object(Util.z)(this.filledDimensions.map((function(d){return d.entityNamesUniq})))))}},{key:"isReady",get:function get(){return 0===this.loadingDimensions.length}},{key:"primaryVariableId",get:function get(){var yDimension=this.dimensions.find((function(d){return"y"===d.property}));return yDimension?yDimension.variableId:void 0}},{key:"primaryColumnSlug",get:function get(){var _this$primaryVariable;return null===(_this$primaryVariable=this.primaryVariableId)||void 0===_this$primaryVariable?void 0:_this$primaryVariable.toString()}},{key:"loadingDimensions",get:function get(){return this.dimensions.filter((function(dim){return!dim.isLoaded}))}},{key:"isIframe",get:function get(){return window.self!==window.top}},{key:"times",get:function get(){return"map"===this.tab?this.mapTransform.timelineTimes:this.activeTransform.timelineTimes}},{key:"startTime",get:function get(){var _this$dataTableTransf,activeTab=this.tab;return"table"===activeTab?null!==(_this$dataTableTransf=this.dataTableTransform.autoSelectedStartTime)&&void 0!==_this$dataTableTransf?_this$dataTableTransf:this.timeDomain[0]:"map"===activeTab?this.mapTransform.startTimelineTime:this.activeTransform.startTimelineTime},set:function set(value){"map"===this.tab?this.timeDomain=[value,value]:this.timeDomain=[value,this.timeDomain[1]]}},{key:"endTime",set:function set(value){var activeTab=this.tab;this.timeDomain="map"===activeTab||"table"===activeTab?[value,value]:[this.timeDomain[0],value]},get:function get(){var activeTab=this.tab;return"table"===activeTab?this.multiMetricTableMode?this.dataTableTransform.startTimelineTime:this.timeDomain[1]:"map"===activeTab?this.mapTransform.endTimelineTime:this.activeTransform.endTimelineTime}},{key:"isNativeEmbed",get:function get(){return this.isEmbed&&!this.isIframe&&!this.isExporting}},{key:"variableIds",get:function get(){return Object(Util.Ub)(this.dimensions.map((function(d){return d.variableId})))}},{key:"dataFileName",get:function get(){return"".concat(this.variableIds.join("+"),".json?v=").concat(this.isEditor?void 0:this.cacheTag)}},{key:"dataUrl",get:function get(){return"".concat(this.bakedGrapherURL,"/data/variables/").concat(this.dataFileName)}},{key:"showAddEntityControls",get:function get(){return!this.hideEntityControls&&this.canAddData}},{key:"areMarksClickable",get:function get(){return this.showAddEntityControls}},{key:"hasOWIDLogo",get:function get(){return!this.hideLogo&&(void 0===this.logo||"owid"===this.logo)}},{key:"hasFatalErrors",get:function get(){var relatedQuestions=this.relatedQuestions;return(null==relatedQuestions?void 0:relatedQuestions.some((function(question){return!!Object(Util.D)(question)})))||!1}},{key:"validDimensions",get:function get(){var dimensions=this.dimensions,validProperties=this.dimensionSlots.map((function(d){return d.property})),validDimensions=dimensions.filter((function(dim){return validProperties.includes(dim.property)}));return this.dimensionSlots.forEach((function(slot){slot.allowMultiple||(validDimensions=Object(Util.Wb)(validDimensions,(function(a,b){return a.property===slot.property&&a.property===b.property})))})),validDimensions}},{key:"isExplorableConstrained",get:function get(){return this.isExplorable&&canBeExplorable(this)}},{key:"originUrlWithProtocol",get:function get(){var url=this.originUrl;return url.startsWith("http")||(url="https://".concat(url)),url}},{key:"primaryTab",get:function get(){return this.tab}},{key:"overlayTab",get:function get(){return this.overlay}},{key:"currentTab",get:function get(){return this.overlay?this.overlay:this.tab},set:function set(value){"chart"===this.tab&&(this.chartMinPopulationFilter=this.minPopulationFilter),"table"===this.tab&&"table"!==value&&this.revertDataTableSpecificState(),"chart"===value||"map"===value||"table"===value?(this.tab=value,this.overlay=void 0):("download"===value&&"table"===this.tab&&(this.tab=this.configOnLoad.tab||"chart"),this.overlay=value)}},{key:"timeDomain",get:function get(){return[Object(TimeBounds.j)(this.minTime),Object(TimeBounds.h)(this.maxTime)]},set:function set(value){this.minTime=value[0],this.maxTime=value[1]}},{key:"dimensionSlots",get:function get(){var xAxis=new DimensionSlot(this,"x"),yAxis=new DimensionSlot(this,"y"),color=new DimensionSlot(this,"color"),size=new DimensionSlot(this,"size");return this.isScatter?[yAxis,xAxis,size,color]:this.isTimeScatter?[yAxis,xAxis]:this.isSlopeChart?[yAxis,size,color]:[yAxis]}},{key:"multiMetricTableMode",get:function get(){return this.dataTableOnlyDimensions.length>0}},{key:"filledDimensions",get:function get(){return this.isReady?this.dimensions:[]}},{key:"primaryDimensions",get:function get(){return this.filledDimensions.filter((function(dim){return"y"===dim.property}))}},{key:"displaySlug",get:function get(){var _this$slug;return null!==(_this$slug=this.slug)&&void 0!==_this$slug?_this$slug:Object(Util.Db)(this.displayTitle)}},{key:"availableTabs",get:function get(){return[this.hasChartTab&&"chart",this.hasMapTab&&"map","table","sources","download"].filter(Util.J)}},{key:"currentTitle",get:function get(){var text=this.displayTitle,selectedEntityNames=this.selectedEntityNames;if("chart"===this.primaryTab&&"add-country"!==this.addCountryMode&&1===selectedEntityNames.length&&(!this.hideTitleAnnotation||this.canChangeEntity)){var entityStr=selectedEntityNames[0];entityStr.length&&(text=text+", "+entityStr)}return!this.hideTitleAnnotation&&this.isLineChart&&this.isRelativeMode&&(text="Change in "+Object(Util.Y)(text)),this.isReady&&(!this.hideTitleAnnotation||this.isLineChart&&this.lineChartTransform.isSingleTime&&this.lineChartTransform.hasTimeline||"map"===this.primaryTab&&this.mapTransform.hasTimeline)&&(text+=this.timeTitleSuffix),text.trim()}},{key:"timeTitleSuffix",get:function get(){if(!this.table.timeColumn)return"";var startTime=this.startTime,endTime=this.endTime,fn=this.table.timeColumn.formatValue,timeFrom=fn(startTime),timeTo=fn(endTime);return", "+(timeFrom===timeTo?timeFrom:timeFrom+" to "+timeTo)}},{key:"isSingleEntity",get:function get(){return 1===this.table.availableEntities.length||"change-country"===this.addCountryMode}},{key:"addButtonLabel",get:function get(){return"Add ".concat(this.isSingleEntity?"data":this.entityType)}},{key:"hasFloatingAddButton",get:function get(){return"chart"===this.primaryTab&&!this.isExporting&&this.canAddData&&(this.isLineChart||this.isStackedArea||this.isDiscreteBar)}},{key:"isSingleVariable",get:function get(){return 1===this.primaryDimensions.length}},{key:"sourcesLine",get:function get(){return void 0!==this.sourceDesc?this.sourceDesc:this.defaultSourcesLine}},{key:"canAddData",get:function get(){return"add-country"===this.addCountryMode&&this.availableKeys.length>1}},{key:"canChangeEntity",get:function get(){return!this.isScatter&&"change-country"===this.addCountryMode&&this.availableEntityNames.length>1}},{key:"sourcesWithDimension",get:function get(){var filledDimensions=this.filledDimensions,sources=[];return filledDimensions.forEach((function(dim){var column=dim.column;"Countries Continents"!==column.name&&"Total population (Gapminder)"!==column.name&&sources.push({source:column.source,dimension:dim})})),sources}},{key:"defaultSourcesLine",get:function get(){var sourceNames=this.sourcesWithDimension.map((function(source){var _source$source;return(null===(_source$source=source.source)||void 0===_source$source?void 0:_source$source.name)||""}));return sourceNames=sourceNames.map((function(sourceName){for(var _i=0,_arr=["World Bank â WDI","World Bank","ILOSTAT"];_i<_arr.length;_i++){var majorSource=_arr[_i];if(sourceName.startsWith(majorSource))return majorSource}return sourceName})),Object(Util.Ub)(sourceNames).join(", ")}},{key:"axisDimensions",get:function get(){return this.filledDimensions.filter((function(dim){return"y"===dim.property||"x"===dim.property}))}},{key:"defaultTitle",get:function get(){var primaryDimensions=this.primaryDimensions;return this.isScatter?this.axisDimensions.map((function(d){return d.displayName})).join(" vs. "):primaryDimensions.length>1&&1===Object(Util.Ub)(primaryDimensions.map((function(d){return d.column.datasetName}))).length?primaryDimensions[0].column.datasetName:2===primaryDimensions.length?primaryDimensions.map((function(d){return d.displayName})).join(" and "):primaryDimensions.map((function(d){return d.displayName})).join(", ")}},{key:"displayTitle",get:function get(){var _this$title;return null!==(_this$title=this.title)&&void 0!==_this$title?_this$title:this.defaultTitle}},{key:"object",get:function get(){return this.toObject()}},{key:"isLineChart",get:function get(){return this.type===GrapherConstants.a.LineChart}},{key:"isScatter",get:function get(){return this.type===GrapherConstants.a.ScatterPlot}},{key:"isTimeScatter",get:function get(){return this.type===GrapherConstants.a.TimeScatter}},{key:"isStackedArea",get:function get(){return this.type===GrapherConstants.a.StackedArea}},{key:"isSlopeChart",get:function get(){return this.type===GrapherConstants.a.SlopeChart}},{key:"isDiscreteBar",get:function get(){return this.type===GrapherConstants.a.DiscreteBar}},{key:"isStackedBar",get:function get(){return this.type===GrapherConstants.a.StackedBar}},{key:"lineChartTransform",get:function get(){return new LineChartTransform_LineChartTransform(this)}},{key:"scatterTransform",get:function get(){return new ScatterTransform_ScatterTransform(this)}},{key:"stackedAreaTransform",get:function get(){return new StackedAreaTransform_StackedAreaTransform(this)}},{key:"slopeChartTransform",get:function get(){return new SlopeChartTransform_SlopeChartTransform(this)}},{key:"discreteBarTransform",get:function get(){return new DiscreteBarTransform_DiscreteBarTransform(this)}},{key:"stackedBarTransform",get:function get(){return new StackedBarTransform_StackedBarTransform(this)}},{key:"mapTransform",get:function get(){return new MapTransform_MapTransform(this)}},{key:"dataTableTransform",get:function get(){return new DataTableTransform.a(this)}},{key:"selectableEntityDimensionKeys",get:function get(){var _this8=this,keys=this.availableKeys;return this.isScatter||this.isTimeScatter?keys=this.scatterTransform.selectableEntityDimensionKeys:this.isSlopeChart&&(keys=this.slopeChartTransform.selectableEntityDimensionKeys),keys.map((function(key){return _this8.lookupKey(key)}))}},{key:"activeColorScale",get:function get(){return this.activeTransform.colorScale}},{key:"activeTransform",get:function get(){if("table"===this.currentTab)return this.dataTableTransform;if(this.isLineChart)return this.lineChartTransform;if(this.isScatter||this.isTimeScatter)return this.scatterTransform;if(this.isStackedArea)return this.stackedAreaTransform;if(this.isSlopeChart)return this.slopeChartTransform;if(this.isDiscreteBar)return this.discreteBarTransform;if(this.isStackedBar)return this.stackedBarTransform;throw new Error("No transform found")}},{key:"idealBounds",get:function get(){return this.isMediaCard?new Bounds.a(0,0,1200,630):new Bounds.a(0,0,850,600)}},{key:"hasYDimension",get:function get(){return this.dimensions.some((function(d){return"y"===d.property}))}},{key:"staticSVG",get:function get(){return server_browser.renderToStaticMarkup(delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(GrapherView.a,{grapher:this,isExport:!0,bounds:this.idealBounds}))}},{key:"cacheTag",get:function get(){return this.version.toString()}},{key:"hasSelection",get:function get(){return this.selectedData.length>0}},{key:"selectionData",get:function get(){var _this9=this,primaryDimensions=this.primaryDimensions,entityIdToNameMap=this.table.entityIdToNameMap,validSelections=this.selectedData.filter((function(sel){var dimension=primaryDimensions[sel.index];if(!dimension)return!1;var entityName=entityIdToNameMap.get(sel.entityId);return!(!entityName||!dimension.entityNamesUniq.includes(entityName))&&("change-country"!==_this9.addCountryMode||sel.entityId===Object(Util.W)(_this9.selectedData).entityId)}));return(validSelections=Object(Util.Wb)(validSelections,(function(a,b){return a.entityId===b.entityId&&a.index===b.index}))).map((function(sel){return{entityDimensionKey:_this9.makeEntityDimensionKey(entityIdToNameMap.get(sel.entityId),sel.index),color:sel.color}}))}},{key:"keyColors",get:function get(){var keyColors={};return this.selectionData.forEach((function(d){d.color&&(keyColors[d.entityDimensionKey]=d.color)})),keyColors}},{key:"selectedEntityNames",get:function get(){var _this10=this;return Object(Util.Ub)(this.selectedKeys.map((function(key){return _this10.lookupKey(key).entityName})))}},{key:"availableEntityNames",get:function get(){var _this11=this,entitiesForDimensions=this.axisDimensions.map((function(dim){return _this11.availableKeys.map((function(key){return _this11.lookupKey(key)})).filter((function(d){return d.dimension.variableId===dim.variableId})).map((function(d){return d.entityName}))}));return Util.Tb.apply(void 0,Grapher_toConsumableArray(entitiesForDimensions))}},{key:"selectedEntityCodes",get:function get(){var _this12=this;return Object(Util.Ub)(this.selectedKeys.map((function(k){return _this12.lookupKey(k).shortCode})))}},{key:"selectedKeys",get:function get(){return this.selectionData.map((function(d){return d.entityDimensionKey}))},set:function set(keys){var _this13=this;if(this.isReady){var selection=keys.map((function(key){var _this13$lookupKey=_this13.lookupKey(key),entity=_this13$lookupKey.entityName,index=_this13$lookupKey.index;return{entityId:_this13.table.entityNameToIdMap.get(entity),index:index,color:_this13.keyColors[key]}}));this.selectedData=selection}}},{key:"selectedKeysByKey",get:function get(){return Object(Util.U)(this.selectedKeys)}},{key:"entityDimensionMap",get:function get(){var _this14=this;if(!this.isReady)return new Map;var isSingleEntity=this.isSingleEntity,isSingleVariable=this.isSingleVariable,primaryDimensions=this.primaryDimensions,dimensions=this.dimensions,keyData=new Map;return primaryDimensions.forEach((function(dimension,dimensionIndex){dimension.entityNamesUniq.forEach((function(entityName){var entityCode=_this14.table.entityNameToCodeMap.get(entityName),entityId=_this14.table.entityNameToIdMap.get(entityName),entityDimensionKey=_this14.makeEntityDimensionKey(entityName,dimensionIndex),fullLabel="".concat(entityName," - ").concat(dimension.displayName),label=fullLabel;isSingleVariable?label=entityName:isSingleEntity&&(label="".concat(dimension.displayName)),keyData.set(entityDimensionKey,{entityDimensionKey:entityDimensionKey,entityId:entityId,entityName:entityName,dimension:dimension,index:dimensionIndex,fullLabel:fullLabel,label:label,shortCode:primaryDimensions.length>1&&"change-country"!==_this14.addCountryMode?"".concat(entityCode||entityName,"-").concat(dimensions.indexOf(dimension)):entityCode||entityName})}))})),keyData}},{key:"isRelativeMode",get:function get(){return"relative"===this.stackMode}},{key:"canToggleRelativeMode",get:function get(){return!this.hideRelativeToggle}},{key:"availableKeys",get:function get(){return Object(Util.Fb)(Array.from(this.entityDimensionMap.keys()))}},{key:"remainingKeys",get:function get(){var availableKeys=this.availableKeys,selectedKeys=this.selectedKeys;return Util.ac.apply(void 0,[availableKeys].concat(Grapher_toConsumableArray(selectedKeys)))}},{key:"availableKeysByEntity",get:function get(){var keysByEntity=new Map;return this.entityDimensionMap.forEach((function(info,key){var keys=keysByEntity.get(info.entityName)||[];keys.push(key),keysByEntity.set(info.entityName,keys)})),keysByEntity}}]),Grapher}(GrapherDefaults)).prototype,"table",[_dec45],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"updateFromObject",[_dec46],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"updateFromObject"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"populateFromQueryParams",[_dec47],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"populateFromQueryParams"),Grapher_class3.prototype),_descriptor53=Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"isEmbed",[_dec48],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor54=Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"isMediaCard",[_dec49],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor55=Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"isExporting",[_dec50],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor56=Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"tooltip",[_dec51],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor57=Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"isPlaying",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor58=Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"isSelectingData",[_dec52],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"isInteractive",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"isInteractive"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"toggleMinPopulationFilter",[_dec53],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"toggleMinPopulationFilter"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"populationFilterOption",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"populationFilterOption"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"hasCountriesSmallerThanFilterOption",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"hasCountriesSmallerThanFilterOption"),Grapher_class3.prototype),_descriptor59=Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"useTimelineDomains",[_dec54],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor60=Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"userHasSetTimeline",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"downloadDataFromUrl",[_dec55],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"downloadDataFromUrl"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"downloadDataFromOwidVariableIds",[_dec56],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"downloadDataFromOwidVariableIds"),Grapher_class3.prototype),_descriptor61=Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"embedExplorerCheckbox",[_dec57],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"receiveData",[_dec58],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"receiveData"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"_receiveData",[_dec59],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"_receiveData"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"selectedCountryNames",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"selectedCountryNames"),Grapher_class3.prototype),_descriptor62=Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"_baseFontSize",[_dec60],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return 16}}),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"baseFontSize",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"baseFontSize"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"formatYearTickFunction",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"formatYearTickFunction"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"sortedUniqueEntitiesAcrossDimensions",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"sortedUniqueEntitiesAcrossDimensions"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"isReady",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"isReady"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"primaryVariableId",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"primaryVariableId"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"primaryColumnSlug",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"primaryColumnSlug"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"loadingDimensions",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"loadingDimensions"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"isIframe",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"isIframe"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"times",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"times"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"startTime",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"startTime"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"endTime",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"endTime"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"isNativeEmbed",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"isNativeEmbed"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"variableIds",[_dec61],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"variableIds"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"dataFileName",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"dataFileName"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"dataUrl",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"dataUrl"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"showAddEntityControls",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"showAddEntityControls"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"areMarksClickable",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"areMarksClickable"),Grapher_class3.prototype),_descriptor63=Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"hideEntityControls",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"hasOWIDLogo",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"hasOWIDLogo"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"hasFatalErrors",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"hasFatalErrors"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"dispose",[decko.bind],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"dispose"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"ensureValidConfigWhenEditing",[_dec62],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"ensureValidConfigWhenEditing"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"validDimensions",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"validDimensions"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"isExplorableConstrained",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"isExplorableConstrained"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"originUrlWithProtocol",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"originUrlWithProtocol"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"primaryTab",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"primaryTab"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"overlayTab",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"overlayTab"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"revertDataTableSpecificState",[_dec63],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"revertDataTableSpecificState"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"currentTab",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"currentTab"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"timeDomain",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"timeDomain"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"dimensionSlots",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"dimensionSlots"),Grapher_class3.prototype),_descriptor64=Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"dataTableOnlyDimensions",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"multiMetricTableMode",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"multiMetricTableMode"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"filledDimensions",[_dec64],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"filledDimensions"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"addDimension",[_dec65],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"addDimension"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"setDimensionsForProperty",[_dec66],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"setDimensionsForProperty"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"setDimensionsFromConfigs",[_dec67],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"setDimensionsFromConfigs"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"primaryDimensions",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"primaryDimensions"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"displaySlug",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"displaySlug"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"availableTabs",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"availableTabs"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"currentTitle",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"currentTitle"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"timeTitleSuffix",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"timeTitleSuffix"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"isSingleEntity",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"isSingleEntity"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"addButtonLabel",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"addButtonLabel"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"hasFloatingAddButton",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"hasFloatingAddButton"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"isSingleVariable",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"isSingleVariable"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"sourcesLine",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"sourcesLine"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"canAddData",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"canAddData"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"canChangeEntity",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"canChangeEntity"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"sourcesWithDimension",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"sourcesWithDimension"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"defaultSourcesLine",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"defaultSourcesLine"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"axisDimensions",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"axisDimensions"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"defaultTitle",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"defaultTitle"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"displayTitle",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"displayTitle"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"object",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"object"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"isLineChart",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"isLineChart"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"isScatter",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"isScatter"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"isTimeScatter",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"isTimeScatter"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"isStackedArea",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"isStackedArea"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"isSlopeChart",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"isSlopeChart"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"isDiscreteBar",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"isDiscreteBar"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"isStackedBar",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"isStackedBar"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"lineChartTransform",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"lineChartTransform"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"scatterTransform",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"scatterTransform"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"stackedAreaTransform",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"stackedAreaTransform"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"slopeChartTransform",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"slopeChartTransform"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"discreteBarTransform",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"discreteBarTransform"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"stackedBarTransform",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"stackedBarTransform"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"mapTransform",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"mapTransform"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"dataTableTransform",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"dataTableTransform"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"selectableEntityDimensionKeys",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"selectableEntityDimensionKeys"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"activeColorScale",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"activeColorScale"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"activeTransform",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"activeTransform"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"idealBounds",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"idealBounds"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"hasYDimension",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"hasYDimension"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"staticSVG",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"staticSVG"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"cacheTag",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"cacheTag"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"hasSelection",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"hasSelection"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"selectionData",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"selectionData"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"keyColors",[_dec68],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"keyColors"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"selectedEntityNames",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"selectedEntityNames"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"availableEntityNames",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"availableEntityNames"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"setSingleSelectedEntity",[_dec69],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"setSingleSelectedEntity"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"setSelectedEntitiesByCode",[_dec70],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"setSelectedEntitiesByCode"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"resetSelectedEntities",[_dec71],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"resetSelectedEntities"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"selectedEntityCodes",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"selectedEntityCodes"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"selectedKeys",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"selectedKeys"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"selectedKeysByKey",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"selectedKeysByKey"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"entityDimensionMap",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"entityDimensionMap"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"isRelativeMode",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"isRelativeMode"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"toggleRelativeMode",[_dec72],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"toggleRelativeMode"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"canToggleRelativeMode",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"canToggleRelativeMode"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"availableKeys",[_dec73],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"availableKeys"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"remainingKeys",[_dec74],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"remainingKeys"),Grapher_class3.prototype),Grapher_applyDecoratedDescriptor(Grapher_class3.prototype,"availableKeysByEntity",[mobx_module.f],Object.getOwnPropertyDescriptor(Grapher_class3.prototype,"availableKeysByEntity"),Grapher_class3.prototype),Grapher_class3)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return BinningStrategy})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getBinMaximums}));__webpack_require__(31),__webpack_require__(21);var BinningStrategy,simple_statistics__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(580),d3_array__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(611),d3_array__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(998),grapher_utils_Util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2);!function(BinningStrategy){BinningStrategy.equalInterval="equalInterval",BinningStrategy.quantiles="quantiles",BinningStrategy.ckmeans="ckmeans",BinningStrategy.manual="manual"}(BinningStrategy||(BinningStrategy={}));function normalizeBinValues(binValues,minBinValue){var values=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_5__.Ub)(Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_5__.s)(binValues));return void 0!==minBinValue?values.filter((function(v){return v>minBinValue})):values}function getBinMaximums(args){var binningStrategy=args.binningStrategy,sortedValues=args.sortedValues,binCount=args.binCount,minBinValue=args.minBinValue,valueCount=sortedValues.length;if(valueCount<1||binCount<1)return[];if(binningStrategy===BinningStrategy.ckmeans)return normalizeBinValues(Object(simple_statistics__WEBPACK_IMPORTED_MODULE_2__.ckmeans)(sortedValues,binCount>valueCount?valueCount:binCount).map(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_5__.V),minBinValue);if(binningStrategy===BinningStrategy.quantiles)return normalizeBinValues(Object(d3_array__WEBPACK_IMPORTED_MODULE_3__.a)(1,binCount+1).map((function(v){return Object(d3_array__WEBPACK_IMPORTED_MODULE_4__.a)(sortedValues,v/binCount)})),minBinValue);var _ref,minValue=null!==(_ref=null!=minBinValue?minBinValue:Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_5__.x)(sortedValues))&&void 0!==_ref?_ref:0,binStepSize=function calcEqualIntervalStepSize(sortedValues,binCount,minBinValue){if(!sortedValues.length)return 10;var stepSizeInitial=(Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_5__.V)(sortedValues)-minBinValue)/binCount;return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_5__.Ab)(stepSizeInitial,1)}(sortedValues,binCount,minValue);return normalizeBinValues(Object(d3_array__WEBPACK_IMPORTED_MODULE_3__.a)(1,binCount+1).map((function(n){return minValue+n*binStepSize})),minBinValue)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ScaleSelector}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(19),__webpack_require__(32),__webpack_require__(14),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var _dec,_class,_class2,react__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(1),mobx__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(0),mobx_react__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(9),grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(17),classnames__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(44),classnames__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_23__);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var ScaleSelector=(_dec=mobx__WEBPACK_IMPORTED_MODULE_20__.d.bound,Object(mobx_react__WEBPACK_IMPORTED_MODULE_21__.a)((_applyDecoratedDescriptor((_class2=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ScaleSelector,_React$Component);var _super=_createSuper(ScaleSelector);function ScaleSelector(){var _this;_classCallCheck(this,ScaleSelector);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).componentWidth=95,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ScaleSelector,[{key:"onClick",value:function onClick(){var scaleType=this.scaleType,scaleTypeOptions=this.scaleTypeOptions,nextScaleTypeIndex=scaleTypeOptions.indexOf(scaleType)+1;nextScaleTypeIndex>=scaleTypeOptions.length&&(nextScaleTypeIndex=0);var newValue=scaleTypeOptions[nextScaleTypeIndex];this.props.scaleTypeConfig.updateChartScaleType&&this.props.scaleTypeConfig.updateChartScaleType(newValue)}},{key:"getLeftShiftIfNeeded",value:function getLeftShiftIfNeeded(xPosition){if(!this.maxX)return 0;var overflow=this.maxX-(xPosition+this.componentWidth),shiftLeft=0;return overflow<0&&(shiftLeft=Math.abs(overflow)),shiftLeft}},{key:"render",value:function render(){var x=this.x,y=this.y,onClick=this.onClick,scaleType=this.scaleType,style={left:x-this.getLeftShiftIfNeeded(x),top:y};return react__WEBPACK_IMPORTED_MODULE_19__.createElement("span",{onClick:onClick,style:this.props.inline?{}:style,className:classnames__WEBPACK_IMPORTED_MODULE_23___default()(["clickable","toggleSwitch",{inline:this.props.inline}])},react__WEBPACK_IMPORTED_MODULE_19__.createElement("span",{"data-track-note":"chart-toggle-scale",className:"leftToggle "+(scaleType===grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_22__.d.linear?"activeToggle":"")},"Linear"),react__WEBPACK_IMPORTED_MODULE_19__.createElement("span",{"data-track-note":"chart-toggle-scale",className:"rightToggle "+(scaleType===grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_22__.d.log?"activeToggle":"")},"Log"))}},{key:"x",get:function get(){var _this$props$x;return null!==(_this$props$x=this.props.x)&&void 0!==_this$props$x?_this$props$x:0}},{key:"y",get:function get(){var _this$props$y;return null!==(_this$props$y=this.props.y)&&void 0!==_this$props$y?_this$props$y:0}},{key:"maxX",get:function get(){return this.props.maxX||0}},{key:"scaleTypeOptions",get:function get(){return this.props.scaleTypeConfig.scaleTypeOptions}},{key:"scaleType",get:function get(){return this.props.scaleTypeConfig.scaleType}}]),ScaleSelector}(react__WEBPACK_IMPORTED_MODULE_19__.Component)).prototype,"x",[mobx__WEBPACK_IMPORTED_MODULE_20__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"x"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"y",[mobx__WEBPACK_IMPORTED_MODULE_20__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"y"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"maxX",[mobx__WEBPACK_IMPORTED_MODULE_20__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"maxX"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"scaleTypeOptions",[mobx__WEBPACK_IMPORTED_MODULE_20__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"scaleTypeOptions"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"scaleType",[mobx__WEBPACK_IMPORTED_MODULE_20__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"scaleType"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"onClick",[_dec],Object.getOwnPropertyDescriptor(_class2.prototype,"onClick"),_class2.prototype),_class=_class2))||_class);try{ScaleSelector.displayName="ScaleSelector",ScaleSelector.__docgenInfo={description:"",displayName:"ScaleSelector",props:{x:{defaultValue:null,description:"",name:"x",required:!1,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!1,type:{name:"number"}},maxX:{defaultValue:null,description:"",name:"maxX",required:!1,type:{name:"number"}},scaleTypeConfig:{defaultValue:null,description:"",name:"scaleTypeConfig",required:!0,type:{name:"ScaleTypeConfig"}},inline:{defaultValue:null,description:"",name:"inline",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/controls/ScaleSelector.tsx#ScaleSelector"]={docgenInfo:ScaleSelector.__docgenInfo,name:"ScaleSelector",path:"grapher/controls/ScaleSelector.tsx#ScaleSelector"})}catch(__react_docgen_typescript_loader_error){}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DiscreteBarChart}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(31),__webpack_require__(19),__webpack_require__(14),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(57),__webpack_require__(11),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var _dec,_dec2,_class,_class2,react__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(1),d3_selection__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(187),grapher_utils_Util__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(2),mobx__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(0),mobx_react__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(9),grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(24),grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(17),grapher_axis_AxisViews__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(73),grapher_chart_NoDataOverlay__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(55);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var DiscreteBarChart=(_dec=mobx__WEBPACK_IMPORTED_MODULE_25__.f.struct,_dec2=mobx__WEBPACK_IMPORTED_MODULE_25__.d.bound,Object(mobx_react__WEBPACK_IMPORTED_MODULE_26__.a)((_applyDecoratedDescriptor((_class2=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DiscreteBarChart,_React$Component);var _super=_createSuper(DiscreteBarChart);function DiscreteBarChart(){var _this;_classCallCheck(this,DiscreteBarChart);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).base=react__WEBPACK_IMPORTED_MODULE_22__.createRef(),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DiscreteBarChart,[{key:"d3Bars",value:function d3Bars(){return Object(d3_selection__WEBPACK_IMPORTED_MODULE_23__.a)(this.base.current).selectAll("g.bar > rect")}},{key:"animateBarWidth",value:function animateBarWidth(){var _this2=this;this.d3Bars().transition().attr("width",(function(_,i){return _this2.barWidths[i]}))}},{key:"componentDidMount",value:function componentDidMount(){this.d3Bars().attr("width",0),this.animateBarWidth()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.animateBarWidth()}},{key:"onAddClick",value:function onAddClick(){this.grapher.isSelectingData=!0}},{key:"render",value:function render(){var _this3=this;if(this.failMessage)return react__WEBPACK_IMPORTED_MODULE_22__.createElement(grapher_chart_NoDataOverlay__WEBPACK_IMPORTED_MODULE_30__.a,{options:this.grapher,bounds:this.bounds,message:this.failMessage});var currentData=this.currentData,bounds=this.bounds,axis=this.axis,innerBounds=this.innerBounds,barHeight=this.barHeight,barSpacing=this.barSpacing,barValueFormat=this.barValueFormat,yOffset=innerBounds.top+barHeight/2,maxX=bounds.width+40;return react__WEBPACK_IMPORTED_MODULE_22__.createElement("g",{ref:this.base,className:"DiscreteBarChart"},react__WEBPACK_IMPORTED_MODULE_22__.createElement("rect",{x:bounds.left,y:bounds.top,width:bounds.width,height:bounds.height,opacity:0,fill:"rgba(255,255,255,0)"}),react__WEBPACK_IMPORTED_MODULE_22__.createElement(grapher_axis_AxisViews__WEBPACK_IMPORTED_MODULE_29__.c,{maxX:maxX,bounds:bounds,isInteractive:this.grapher.isInteractive,axis:axis,axisPosition:innerBounds.bottom}),react__WEBPACK_IMPORTED_MODULE_22__.createElement(grapher_axis_AxisViews__WEBPACK_IMPORTED_MODULE_29__.d,{horizontalAxis:axis,bounds:innerBounds}),currentData.map((function(d){var isNegative=d.value<0,barX=isNegative?axis.place(d.value):axis.place(_this3.x0),barWidth=isNegative?axis.place(_this3.x0)-barX:axis.place(d.value)-barX,valueLabel=barValueFormat(d),labelX=isNegative?barX-grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_27__.a.forText(valueLabel,_this3.valueLabelStyle).width-10:barX-5,result=react__WEBPACK_IMPORTED_MODULE_22__.createElement("g",{key:d.entityDimensionKey,className:"bar",transform:"translate(0, ".concat(yOffset,")"),style:{transition:"transform 200ms ease"}},react__WEBPACK_IMPORTED_MODULE_22__.createElement("text",_extends({x:0,y:0,transform:"translate(".concat(labelX,", 0)"),fill:"#555",dominantBaseline:"middle",textAnchor:"end"},_this3.legendLabelStyle),d.label),react__WEBPACK_IMPORTED_MODULE_22__.createElement("rect",{x:0,y:0,transform:"translate(".concat(barX,", ").concat(-barHeight/2,")"),width:barWidth,height:barHeight,fill:d.color,opacity:.85,style:{transition:"height 200ms ease"}}),react__WEBPACK_IMPORTED_MODULE_22__.createElement("text",_extends({x:0,y:0,transform:"translate(".concat(axis.place(d.value)+(isNegative?-5:5),", 0)"),fill:"#666",dominantBaseline:"middle",textAnchor:isNegative?"end":"start"},_this3.valueLabelStyle),valueLabel));return yOffset+=barHeight+barSpacing,result})))}},{key:"grapher",get:function get(){return this.props.grapher}},{key:"bounds",get:function get(){return this.props.bounds.padRight(10)}},{key:"failMessage",get:function get(){return this.grapher.discreteBarTransform.failMessage}},{key:"currentData",get:function get(){return this.grapher.discreteBarTransform.currentData}},{key:"allData",get:function get(){return this.grapher.discreteBarTransform.allData}},{key:"displayData",get:function get(){return this.grapher.useTimelineDomains?this.allData:this.currentData}},{key:"legendLabelStyle",get:function get(){return{fontSize:.75*this.props.grapher.baseFontSize,fontWeight:700}}},{key:"valueLabelStyle",get:function get(){return{fontSize:.75*this.props.grapher.baseFontSize,fontWeight:400}}},{key:"legendWidth",get:function get(){var labels=this.currentData.map((function(d){return d.label})),longestLabel=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_24__.eb)(labels,(function(d){return d.length}));return grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_27__.a.forText(longestLabel,this.legendLabelStyle).width}},{key:"hasPositive",get:function get(){return this.displayData.some((function(d){return d.value>=0}))}},{key:"hasNegative",get:function get(){return this.displayData.some((function(d){return d.value<0}))}},{key:"rightEndLabelWidth",get:function get(){var _this4=this;if(this.hasPositive){var positiveLabels=this.displayData.filter((function(d){return d.value>=0})).map((function(d){return _this4.barValueFormat(d)})),longestPositiveLabel=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_24__.eb)(positiveLabels,(function(l){return l.length}));return grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_27__.a.forText(longestPositiveLabel,this.valueLabelStyle).width}return 0}},{key:"leftEndLabelWidth",get:function get(){var _this5=this;if(this.hasNegative){var negativeLabels=this.displayData.filter((function(d){return d.value<0})).map((function(d){return _this5.barValueFormat(d)})),longestNegativeLabel=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_24__.eb)(negativeLabels,(function(l){return l.length}));return grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_27__.a.forText(longestNegativeLabel,this.valueLabelStyle).width+10}return 0}},{key:"x0",get:function get(){if(this.isLogScale){var minValue=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_24__.hb)(this.allData.map((function(d){return d.value})));return void 0!==minValue?Math.min(1,minValue):1}return 0}},{key:"xDomainDefault",get:function get(){var allValues=this.displayData.map((function(d){return d.value})),minStart=this.x0;return[Math.min(minStart,Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_24__.hb)(allValues)),Math.max(minStart,Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_24__.db)(allValues))]}},{key:"isLogScale",get:function get(){return this.grapher.yAxis.scaleType===grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_28__.d.log}},{key:"xRange",get:function get(){return[this.bounds.left+this.legendWidth+this.leftEndLabelWidth,this.bounds.right-this.rightEndLabelWidth]}},{key:"axis",get:function get(){var axis=this.grapher.yAxis.toHorizontalAxis();return axis.updateDomainPreservingUserSettings(this.xDomainDefault),axis.tickFormatFn=this.grapher.discreteBarTransform.tickFormat,axis.range=this.xRange,axis.label="",axis}},{key:"innerBounds",get:function get(){return this.bounds.padLeft(this.legendWidth+this.leftEndLabelWidth).padBottom(this.axis.height).padRight(this.rightEndLabelWidth)}},{key:"totalBars",get:function get(){return this.currentData.length}},{key:"barHeight",get:function get(){return.8*this.innerBounds.height/this.totalBars}},{key:"barSpacing",get:function get(){return this.innerBounds.height/this.totalBars-this.barHeight}},{key:"barPlacements",get:function get(){var _this6=this,currentData=this.currentData,axis=this.axis;return currentData.map((function(d){var isNegative=d.value<0,barX=isNegative?axis.place(d.value):axis.place(_this6.x0);return{x:barX,width:isNegative?axis.place(_this6.x0)-barX:axis.place(d.value)-barX}}))}},{key:"barWidths",get:function get(){return this.barPlacements.map((function(b){return b.width}))}},{key:"barValueFormat",get:function get(){return this.grapher.discreteBarTransform.barValueFormat}}]),DiscreteBarChart}(react__WEBPACK_IMPORTED_MODULE_22__.Component)).prototype,"grapher",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"grapher"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"bounds",[_dec],Object.getOwnPropertyDescriptor(_class2.prototype,"bounds"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"failMessage",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"failMessage"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"currentData",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"currentData"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"allData",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"allData"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"displayData",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"displayData"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"legendLabelStyle",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"legendLabelStyle"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"valueLabelStyle",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"valueLabelStyle"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"legendWidth",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"legendWidth"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"hasPositive",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"hasPositive"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"hasNegative",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"hasNegative"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"rightEndLabelWidth",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"rightEndLabelWidth"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"leftEndLabelWidth",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"leftEndLabelWidth"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"x0",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"x0"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"xDomainDefault",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"xDomainDefault"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"isLogScale",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"isLogScale"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"xRange",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"xRange"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"axis",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"axis"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"innerBounds",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"innerBounds"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"totalBars",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"totalBars"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"barHeight",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"barHeight"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"barSpacing",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"barSpacing"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"barPlacements",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"barPlacements"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"barWidths",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"barWidths"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"barValueFormat",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"barValueFormat"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"onAddClick",[_dec2],Object.getOwnPropertyDescriptor(_class2.prototype,"onAddClick"),_class2.prototype),_class=_class2))||_class);try{DiscreteBarChart.displayName="DiscreteBarChart",DiscreteBarChart.__docgenInfo={description:"",displayName:"DiscreteBarChart",props:{bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"Bounds"}},grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/barCharts/DiscreteBarChart.tsx#DiscreteBarChart"]={docgenInfo:DiscreteBarChart.__docgenInfo,name:"DiscreteBarChart",path:"grapher/barCharts/DiscreteBarChart.tsx#DiscreteBarChart"})}catch(__react_docgen_typescript_loader_error){}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return asArray})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getStylesForTargetHeight}));__webpack_require__(30),__webpack_require__(11),__webpack_require__(13);function isMultiValue(value){return Array.isArray(value)}function asArray(value){return null==value?[]:isMultiValue(value)?Array.from(value):[value]}function getStylesForTargetHeight(targetHeight){var props=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_control=props.control,_valueContainer=props.valueContainer,_singleValue=props.singleValue,_clearIndicator=props.clearIndicator,_container=props.container,_dropdownIndicator=props.dropdownIndicator,_option=props.option,_menu=props.menu;return{container:function container(base){return Object.assign({},base,_container)},control:function control(base){return Object.assign({},base,{minHeight:"initial"},_control)},valueContainer:function valueContainer(base){return Object.assign({},base,{height:"".concat(targetHeight-1-1,"px"),padding:"0 4px"},_valueContainer)},singleValue:function singleValue(base){return Object.assign({},base,_singleValue)},clearIndicator:function clearIndicator(base){return Object.assign({},base,{padding:"".concat((targetHeight-20-1-1)/2,"px")},_clearIndicator)},dropdownIndicator:function dropdownIndicator(base){return Object.assign({},base,{padding:"".concat((targetHeight-20-1-1)/2,"px")},_dropdownIndicator)},option:function option(base){return Object.assign({},base,{paddingTop:"5px",paddingBottom:"5px"},_option)},menu:function menu(base){return Object.assign({},base,{zIndex:1e4},_menu)}}}try{isMultiValue.displayName="isMultiValue",isMultiValue.__docgenInfo={description:"",displayName:"isMultiValue",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["utils/client/react-select.tsx#isMultiValue"]={docgenInfo:isMultiValue.__docgenInfo,name:"isMultiValue",path:"utils/client/react-select.tsx#isMultiValue"})}catch(__react_docgen_typescript_loader_error){}try{asArray.displayName="asArray",asArray.__docgenInfo={description:"",displayName:"asArray",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["utils/client/react-select.tsx#asArray"]={docgenInfo:asArray.__docgenInfo,name:"asArray",path:"utils/client/react-select.tsx#asArray"})}catch(__react_docgen_typescript_loader_error){}},,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CountryPicker_CountryPicker}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(31),__webpack_require__(49),__webpack_require__(19),__webpack_require__(30),__webpack_require__(43),__webpack_require__(14),__webpack_require__(46),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(23),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(34),__webpack_require__(16),__webpack_require__(72),__webpack_require__(45),__webpack_require__(13),__webpack_require__(80),__webpack_require__(111),__webpack_require__(20),__webpack_require__(15);var delegated_reactfrom_dll_reference_storybook_docs_dll=__webpack_require__(1),delegated_reactfrom_dll_reference_storybook_docs_dll_default=__webpack_require__.n(delegated_reactfrom_dll_reference_storybook_docs_dll),mobx_module=__webpack_require__(0),index_module=__webpack_require__(9),index_es=__webpack_require__(298),decko=__webpack_require__(77),classnames=__webpack_require__(44),classnames_default=__webpack_require__.n(classnames),linear=__webpack_require__(997),react_select_browser_esm=__webpack_require__(155),react_fontawesome_index_es=__webpack_require__(36),faSearch=__webpack_require__(605),faTimes=__webpack_require__(122),FuzzySearch=__webpack_require__(186),Util=__webpack_require__(2);__webpack_require__(32),__webpack_require__(11);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var VerticalScrollContainer=delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.forwardRef((function(props,ref){var _scrollingShadows,_scrollLock,scrollingShadows=props.scrollingShadows,scrollLock=props.scrollLock,className=props.className,children=props.children,contentsId=props.contentsId,style=props.style,rest=_objectWithoutProperties(props,["scrollingShadows","scrollLock","className","children","contentsId","style"]);scrollingShadows=null===(_scrollingShadows=scrollingShadows)||void 0===_scrollingShadows||_scrollingShadows,scrollLock=null===(_scrollLock=scrollLock)||void 0===_scrollLock||_scrollLock;var scrollContainerRef=function useCombinedRefs(){for(var _len=arguments.length,refs=new Array(_len),_key=0;_key<_len;_key++)refs[_key]=arguments[_key];var targetRef=delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.useRef(null);return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.useEffect((function(){refs.forEach((function(ref){ref&&("function"==typeof ref?ref(targetRef.current||null):ref.current=targetRef.current||null)}))}),[refs]),targetRef}(ref),_useScrollBounds=function useScrollBounds(ref,contentsId){var _useState2=_slicedToArray(Object(delegated_reactfrom_dll_reference_storybook_docs_dll.useState)(void 0),2),scrollTop=_useState2[0],onScrollTop=_useState2[1],_useState4=_slicedToArray(Object(delegated_reactfrom_dll_reference_storybook_docs_dll.useState)(void 0),2),scrollBottom=_useState4[0],onScrollBottom=_useState4[1];return Object(delegated_reactfrom_dll_reference_storybook_docs_dll.useEffect)((function(){var el=ref.current;if(el){var pendingUpdate=!1;function onScroll(){var scrollTop=el.scrollTop,scrollHeight=el.scrollHeight,offsetHeight=el.offsetHeight;onScrollTop(scrollTop),onScrollBottom(scrollHeight-offsetHeight-scrollTop),pendingUpdate=!1}onScroll();var onScrollThrottled=function onScrollThrottled(){pendingUpdate||(window.requestAnimationFrame(onScroll),pendingUpdate=!0)};return el.addEventListener("scroll",onScrollThrottled),function(){el.removeEventListener("scroll",onScrollThrottled)}}}),[contentsId]),[scrollTop,scrollBottom]}(scrollContainerRef,contentsId),_useScrollBounds2=_slicedToArray(_useScrollBounds,2),scrollTop=_useScrollBounds2[0],scrollBottom=_useScrollBounds2[1];return scrollLock&&function useScrollLock(ref,opts){Object(delegated_reactfrom_dll_reference_storybook_docs_dll.useEffect)((function(){var el=ref.current,options=Object.assign({doNotLockIfNoScroll:!1},opts);if(el){function onWheel(ev){var el=ref.current;if(el){var delta=ev.deltaY,up=delta<0,scrollTop=el.scrollTop,scrollHeight=el.scrollHeight,offsetHeight=el.offsetHeight;if(options.doNotLockIfNoScroll&&scrollHeight<=offsetHeight)return;function prevent(){ev.stopPropagation(),ev.preventDefault()}if(!up&&delta>scrollHeight-offsetHeight-scrollTop)return el.scrollTop=scrollHeight,prevent();if(up&&-delta>scrollTop)return el.scrollTop=0,prevent()}}return el.addEventListener("mousewheel",onWheel,{passive:!1}),function(){el&&el.removeEventListener("mousewheel",onWheel)}}}),[])}(scrollContainerRef,{doNotLockIfNoScroll:!0}),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"VerticalScrollContainerShadows",style:{position:"relative",height:"100%"}},scrollingShadows&&delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(VerticalScrollContainer_ScrollingShadow,{direction:"down",size:10,opacity:getShadowOpacity(.15,80,scrollTop)}),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",_extends({className:classnames_default()(className,"VerticalScrollContainer"),style:Object.assign({overflowY:"auto",position:"absolute",top:0,right:0,bottom:0,left:0},style),ref:scrollContainerRef},rest),children),scrollingShadows&&delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(VerticalScrollContainer_ScrollingShadow,{direction:"up",size:10,opacity:getShadowOpacity(.15,80,scrollBottom)}))}));function getShadowOpacity(maxOpacity,maxDistance,scrollDistance){return(void 0!==scrollDistance?Math.min(scrollDistance,maxDistance):0)/maxDistance*maxOpacity}var VerticalScrollContainer_ScrollingShadow=function ScrollingShadow(props){var _ref,background="linear-gradient(\n        to ".concat("up"===props.direction?"bottom":"top",",\n        hsla(0, 0%, 0%, 0) 0%,\n        hsla(0, 0%, 0%, 0.104) 25.8%,\n        hsla(0, 0%, 0%, 0.45) 60.9%,\n        hsla(0, 0%, 0%, 0.825) 88.7%,\n        hsl(0, 0%, 0%) 100%\n    )");return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{style:(_ref={position:"absolute",left:0,right:0},_defineProperty(_ref,"up"===props.direction?"bottom":"top",0),_defineProperty(_ref,"height","".concat(props.size,"px")),_defineProperty(_ref,"background",background),_defineProperty(_ref,"opacity",props.opacity),_defineProperty(_ref,"pointerEvents","none"),_defineProperty(_ref,"zIndex",10),_ref)})};VerticalScrollContainer_ScrollingShadow.displayName="ScrollingShadow";try{VerticalScrollContainer.displayName="VerticalScrollContainer",VerticalScrollContainer.__docgenInfo={description:"",displayName:"VerticalScrollContainer",props:{scrollingShadows:{defaultValue:null,description:"",name:"scrollingShadows",required:!1,type:{name:"boolean"}},scrollLock:{defaultValue:null,description:"",name:"scrollLock",required:!1,type:{name:"boolean"}},contentsId:{defaultValue:null,description:"",name:"contentsId",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/controls/VerticalScrollContainer.tsx#VerticalScrollContainer"]={docgenInfo:VerticalScrollContainer.__docgenInfo,name:"VerticalScrollContainer",path:"grapher/controls/VerticalScrollContainer.tsx#VerticalScrollContainer"})}catch(__react_docgen_typescript_loader_error){}var _dec,_dec2,_dec3,_dec4,_dec5,_dec6,_dec7,_dec8,_dec9,_dec10,_class,_class2,_descriptor,_descriptor2,_descriptor3,_descriptor4,_descriptor5,_descriptor6,_descriptor7,_descriptor8,_class3,_temp,_class4,SortIcon=__webpack_require__(229),GrapherConstants=__webpack_require__(17),react_select=__webpack_require__(121),OwidTable=__webpack_require__(86);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return CountryPicker_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||CountryPicker_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CountryPicker_slicedToArray(arr,i){return function CountryPicker_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function CountryPicker_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||CountryPicker_unsupportedIterableToArray(arr,i)||function CountryPicker_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CountryPicker_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return CountryPicker_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?CountryPicker_arrayLikeToArray(o,minLen):void 0}}function CountryPicker_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var FocusDirection;!function(FocusDirection){FocusDirection.first="first",FocusDirection.last="last",FocusDirection.up="up",FocusDirection.down="down"}(FocusDirection||(FocusDirection={}));var CountryPicker_CountryPicker=(_dec=mobx_module.d.bound,_dec2=mobx_module.d.bound,_dec3=mobx_module.d.bound,_dec4=mobx_module.d.bound,_dec5=mobx_module.d.bound,_dec6=mobx_module.d.bound,_dec7=mobx_module.d.bound,_dec8=mobx_module.d.bound,_dec9=mobx_module.d.bound,_dec10=mobx_module.d.bound,Object(index_module.a)((_temp=_class3=function(_React$Component){_inherits(CountryPicker,_React$Component);var _super=_createSuper(CountryPicker);function CountryPicker(){var _this;_classCallCheck(this,CountryPicker);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _initializerDefineProperty(_this=_super.call.apply(_super,[this].concat(args)),"searchInput",_descriptor,_assertThisInitialized(_this)),_initializerDefineProperty(_this,"searchInputRef",_descriptor2,_assertThisInitialized(_this)),_initializerDefineProperty(_this,"focusIndex",_descriptor3,_assertThisInitialized(_this)),_initializerDefineProperty(_this,"focusRef",_descriptor4,_assertThisInitialized(_this)),_initializerDefineProperty(_this,"scrollFocusedIntoViewOnUpdate",_descriptor5,_assertThisInitialized(_this)),_initializerDefineProperty(_this,"blockOptionHover",_descriptor6,_assertThisInitialized(_this)),_initializerDefineProperty(_this,"scrollContainerRef",_descriptor7,_assertThisInitialized(_this)),_initializerDefineProperty(_this,"isOpen",_descriptor8,_assertThisInitialized(_this)),_this}return _createClass(CountryPicker,[{key:"selectCountryName",value:function selectCountryName(name,checked){var _this$props$analytics;this.props.toggleCountryCommand(name,checked),this.searchInput="",null===(_this$props$analytics=this.props.analytics)||void 0===_this$props$analytics||_this$props$analytics.logCountrySelectorEvent(this.props.explorerSlug,checked?"select":"deselect",name)}},{key:"isSelected",value:function isSelected(option){return this.props.selectedEntities.includes(option.name)}},{key:"normalizeFocusIndex",value:function normalizeFocusIndex(index){if(0!==this.searchResults.length)return function mod(n,m){return(n%m+m)%m}(index,this.searchResults.length)}},{key:"focusOptionDirection",value:function focusOptionDirection(direction){if(direction===FocusDirection.first)this.focusIndex=this.normalizeFocusIndex(0);else if(direction===FocusDirection.last)this.focusIndex=this.normalizeFocusIndex(-1);else if(direction===FocusDirection.up){var newIndex=void 0===this.focusIndex?-1:this.focusIndex-1;this.focusIndex=this.normalizeFocusIndex(newIndex)}else{if(direction!==FocusDirection.down)return;var _newIndex=void 0===this.focusIndex?0:this.focusIndex+1;this.focusIndex=this.normalizeFocusIndex(_newIndex)}this.scrollFocusedIntoViewOnUpdate=!0}},{key:"clearSearchInput",value:function clearSearchInput(){this.searchInput&&(this.searchInput="")}},{key:"onKeyDown",value:function onKeyDown(event){var _this$props$analytics2;switch(this.blockHover(),event.key){case"Enter":if(229===event.keyCode)break;if(!this.focusedOption)return;var _name=this.focusedOption;this.selectCountryName(_name),this.clearSearchInput(),null===(_this$props$analytics2=this.props.analytics)||void 0===_this$props$analytics2||_this$props$analytics2.logCountrySelectorEvent(this.props.explorerSlug,"enter",_name);break;case"ArrowUp":this.focusOptionDirection(FocusDirection.up);break;case"ArrowDown":this.focusOptionDirection(FocusDirection.down);break;default:return}event.preventDefault()}},{key:"focusSearch",value:function focusSearch(){var _this$searchInputRef$;null===(_this$searchInputRef$=this.searchInputRef.current)||void 0===_this$searchInputRef$||_this$searchInputRef$.focus()}},{key:"onSearchFocus",value:function onSearchFocus(){this.isOpen=!0,void 0===this.focusIndex&&this.focusOptionDirection(FocusDirection.first)}},{key:"onSearchBlur",value:function onSearchBlur(){this.scrollContainerRef.current&&this.scrollContainerRef.current.contains(document.activeElement)?this.focusSearch():(this.isOpen=!1,this.focusIndex=void 0)}},{key:"onHover",value:function onHover(index){this.blockOptionHover||(this.focusIndex=index)}},{key:"blockHover",value:function blockHover(){this.blockOptionHover=!0}},{key:"unblockHover",value:function unblockHover(){this.blockOptionHover=!1}},{key:"onMenuMouseDown",value:function onMenuMouseDown(event){event.stopPropagation(),event.preventDefault(),this.focusSearch()}},{key:"highlightLabel",value:function highlightLabel(label){if(this.searchInput){var result=this.fuzzy.single(this.searchInput,label);if(result){for(var tokens=[],i=0;i<result.target.length;i++){var currentToken=Object(Util.V)(tokens),match=result.indexes.includes(i),char=result.target[i];currentToken&&currentToken.match===match?currentToken.text+=char:tokens.push({match:match,text:char})}return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.Fragment,null,tokens.map((function(token,i){return token.match?delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("mark",{key:i},token.text):delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.Fragment,{key:i},token.text)})))}}return label}},{key:"componentDidMount",value:function componentDidMount(){var _this2=this;Object(mobx_module.o)((function(){return _this2.searchInput}),(function(){_this2.focusOptionDirection(FocusDirection.first)}))}},{key:"componentDidUpdate",value:function componentDidUpdate(){var _this3=this;void 0!==this.focusIndex&&this.scrollFocusedIntoViewOnUpdate&&this.scrollContainerRef.current&&this.focusRef.current&&(Object(Util.Bb)(this.scrollContainerRef.current,this.focusRef.current),Object(mobx_module.p)((function(){_this3.scrollFocusedIntoViewOnUpdate=!1})))}},{key:"updateMetric",value:function updateMetric(columnSlug){var _this$props$analytics3;this.props.userState.countryPickerMetric=columnSlug,this.props.userState.countryPickerSort=this.activePickerMetricColumn instanceof OwidTable.b?GrapherConstants.e.desc:GrapherConstants.e.asc,null===(_this$props$analytics3=this.props.analytics)||void 0===_this$props$analytics3||_this$props$analytics3.logCountrySelectorEvent(this.props.explorerSlug,"sortBy",columnSlug)}},{key:"render",value:function render(){var _this$searchInput,_this4=this,countries=this.searchResults,selectedCountries=this.props.selectedEntities,availableCountries=this.availableCountriesForCurrentView,selectedDebugMessage="".concat(selectedCountries.length," selected. ").concat(availableCountries.size," available. ").concat(this.optionsWithMetricValue.length," options total.");return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"CountryPicker",onKeyDown:this.onKeyDown},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"CountryPickerSearchInput"},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("input",{className:classnames_default()("input-field",{"with-done-button":this.showDoneButton}),type:"text",placeholder:"Type to add a country...",value:null!==(_this$searchInput=this.searchInput)&&void 0!==_this$searchInput?_this$searchInput:"",onChange:function onChange(e){return _this4.searchInput=e.currentTarget.value},onFocus:this.onSearchFocus,onBlur:this.onSearchBlur,ref:this.searchInputRef,"data-track-note":"".concat(this.props.explorerSlug,"-country-search-input")}),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"search-icon"},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(react_fontawesome_index_es.a,{icon:faSearch.faSearch})),this.showDoneButton&&delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"done"},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("button",null,"Done"))),this.pickerMenu,delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"CountryListContainer"},(!this.isDropdownMenu||this.isOpen)&&delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:classnames_default()("CountryList",{isDropdown:this.isDropdownMenu}),onMouseDown:this.onMenuMouseDown},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(VerticalScrollContainer,{scrollingShadows:!0,scrollLock:!0,className:"CountrySearchResults",contentsId:countries.map((function(c){return c.name})).join(","),onMouseMove:this.unblockHover,ref:this.scrollContainerRef},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(index_es.b,{spring:{stiffness:300,damping:33},flipKey:selectedCountries.join(",")},countries.map((function(option,index){return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(CountryPicker_PickerOption,{key:index,hasDataForActiveMetric:availableCountries.has(option.name),optionWithMetricValue:option,highlight:_this4.highlightLabel,barScale:_this4.barScale,color:_this4.props.optionColorMap[option.name],onChange:_this4.selectCountryName,onHover:function onHover(){return _this4.onHover(index)},isSelected:_this4.isSelected(option),isFocused:_this4.focusIndex===index,innerRef:_this4.focusIndex===index?_this4.focusRef:void 0})})))),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"CountrySelectionControls"},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{title:selectedDebugMessage,className:"ClearSelectionButton","data-track-note":"".concat(this.props.explorerSlug,"-clear-selection"),onClick:this.props.clearSelectionCommand},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(react_fontawesome_index_es.a,{icon:faTimes.faTimes})," Clear selection")))))}},{key:"isDropdownMenu",get:function get(){return!!this.props.isDropdownMenu}},{key:"metric",get:function get(){return this.props.userState.countryPickerMetric}},{key:"sortOrder",get:function get(){return this.isDropdownMenu?GrapherConstants.e.asc:this.props.userState.countryPickerSort}},{key:"availablePickerColumns",get:function get(){var _this5=this;return this.props.table.columnsAsArray.filter((function(col){return _this5.props.pickerColumnSlugs.has(col.slug)}))}},{key:"metricOptions",get:function get(){return Object(Util.Fb)(this.availablePickerColumns.map((function(col){return{label:col.spec.name,value:col.slug}})),"label")}},{key:"activePickerMetricColumn",get:function get(){var _this6=this;return this.availablePickerColumns.find((function(col){return col.slug===_this6.metric}))}},{key:"availableCountriesForCurrentView",get:function get(){return this.props.countriesMustHaveColumns.length?this.props.table.entitiesWith(this.props.countriesMustHaveColumns):this.props.table.availableEntitiesSet}},{key:"optionsWithMetricValue",get:function get(){var col=this.activePickerMetricColumn;return this.props.availableEntities.map((function(name){var plotValue=null==col?void 0:col.getLatestValueForEntity(name);return{name:name,plotValue:plotValue,formattedValue:null==col?void 0:col.formatValue(plotValue)}}))}},{key:"fuzzy",get:function get(){return new FuzzySearch.a(this.optionsWithMetricValue,"name")}},{key:"searchResults",get:function get(){if(this.searchInput)return this.fuzzy.search(this.searchInput);var _partition2=CountryPicker_slicedToArray(Object(Util.rb)(Object(Util.Gb)(this.optionsWithMetricValue,(function(option){return option.plotValue}),this.sortOrder),this.isSelected),2),selected=_partition2[0],unselected=_partition2[1];return[].concat(_toConsumableArray(selected),_toConsumableArray(unselected))}},{key:"focusedOption",get:function get(){return void 0!==this.focusIndex?this.searchResults[this.focusIndex].name:void 0}},{key:"showDoneButton",get:function get(){return this.isDropdownMenu&&this.isOpen}},{key:"barScale",get:function get(){var maxValue=Object(Util.db)(this.optionsWithMetricValue.map((function(option){return option.plotValue})).filter(Util.R));return Object(linear.a)().domain([0,null!=maxValue?maxValue:1]).range([0,1])}},{key:"pickerMenu",get:function get(){var _this7=this;return!this.isDropdownMenu&&this.props.pickerColumnSlugs.size>0&&delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"MetricSettings"},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("span",{className:"mainLabel"},"Sort by"),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(react_select_browser_esm.a,{className:"metricDropdown",options:this.metricOptions,value:this.metricOptions.find((function(option){return option.value===_this7.metric})),onChange:function onChange(option){var _first,value=null===(_first=Object(Util.x)(Object(react_select.a)(option)))||void 0===_first?void 0:_first.value;value&&_this7.updateMetric(value)},menuPlacement:"bottom",components:{IndicatorSeparator:null},styles:Object(react_select.b)(26),isSearchable:!1}),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("span",{className:"sort",onClick:function onClick(){var _this7$props$analytic,sortOrder=function toggleSort(order){return order===GrapherConstants.e.desc?GrapherConstants.e.asc:GrapherConstants.e.desc}(_this7.sortOrder);_this7.props.userState.countryPickerSort=sortOrder,null===(_this7$props$analytic=_this7.props.analytics)||void 0===_this7$props$analytic||_this7$props$analytic.logCountrySelectorEvent(_this7.props.explorerSlug,"sortOrder",sortOrder)}},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(SortIcon.a,{type:"location"===this.metric?"text":"numeric",order:this.sortOrder})))}}]),CountryPicker}(delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.Component),_class3.defaultProps={explorerSlug:"",table:new OwidTable.c([]),optionColorMap:{},toggleCountryCommand:function toggleCountryCommand(){},clearSelectionCommand:function clearSelectionCommand(){},userState:{},isDropdownMenu:!1,availableEntities:[],selectedEntities:[],countriesMustHaveColumns:[],pickerColumnSlugs:new Set},_descriptor=_applyDecoratedDescriptor((_class2=_temp).prototype,"searchInput",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor2=_applyDecoratedDescriptor(_class2.prototype,"searchInputRef",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createRef()}}),_descriptor3=_applyDecoratedDescriptor(_class2.prototype,"focusIndex",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor4=_applyDecoratedDescriptor(_class2.prototype,"focusRef",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createRef()}}),_descriptor5=_applyDecoratedDescriptor(_class2.prototype,"scrollFocusedIntoViewOnUpdate",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor6=_applyDecoratedDescriptor(_class2.prototype,"blockOptionHover",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor7=_applyDecoratedDescriptor(_class2.prototype,"scrollContainerRef",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createRef()}}),_descriptor8=_applyDecoratedDescriptor(_class2.prototype,"isOpen",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_applyDecoratedDescriptor(_class2.prototype,"isDropdownMenu",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"isDropdownMenu"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"selectCountryName",[_dec],Object.getOwnPropertyDescriptor(_class2.prototype,"selectCountryName"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"metric",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"metric"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"sortOrder",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"sortOrder"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"availablePickerColumns",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"availablePickerColumns"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"metricOptions",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"metricOptions"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"activePickerMetricColumn",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"activePickerMetricColumn"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"availableCountriesForCurrentView",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"availableCountriesForCurrentView"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"optionsWithMetricValue",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"optionsWithMetricValue"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"isSelected",[decko.bind],Object.getOwnPropertyDescriptor(_class2.prototype,"isSelected"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"fuzzy",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"fuzzy"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"searchResults",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"searchResults"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"focusedOption",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"focusedOption"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"showDoneButton",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"showDoneButton"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"focusOptionDirection",[_dec2],Object.getOwnPropertyDescriptor(_class2.prototype,"focusOptionDirection"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"clearSearchInput",[_dec3],Object.getOwnPropertyDescriptor(_class2.prototype,"clearSearchInput"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"onKeyDown",[_dec4],Object.getOwnPropertyDescriptor(_class2.prototype,"onKeyDown"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"focusSearch",[decko.bind],Object.getOwnPropertyDescriptor(_class2.prototype,"focusSearch"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"onSearchFocus",[_dec5],Object.getOwnPropertyDescriptor(_class2.prototype,"onSearchFocus"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"onSearchBlur",[_dec6],Object.getOwnPropertyDescriptor(_class2.prototype,"onSearchBlur"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"onHover",[_dec7],Object.getOwnPropertyDescriptor(_class2.prototype,"onHover"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"blockHover",[_dec8],Object.getOwnPropertyDescriptor(_class2.prototype,"blockHover"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"unblockHover",[_dec9],Object.getOwnPropertyDescriptor(_class2.prototype,"unblockHover"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"onMenuMouseDown",[_dec10],Object.getOwnPropertyDescriptor(_class2.prototype,"onMenuMouseDown"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"highlightLabel",[decko.bind],Object.getOwnPropertyDescriptor(_class2.prototype,"highlightLabel"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"barScale",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"barScale"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"updateMetric",[mobx_module.d],Object.getOwnPropertyDescriptor(_class2.prototype,"updateMetric"),_class2.prototype),_class=_class2))||_class),CountryPicker_PickerOption=(_applyDecoratedDescriptor((_class4=function(_React$Component2){_inherits(PickerOption,_React$Component2);var _super2=_createSuper(PickerOption);function PickerOption(){return _classCallCheck(this,PickerOption),_super2.apply(this,arguments)}return _createClass(PickerOption,[{key:"onClick",value:function onClick(event){event.stopPropagation(),event.preventDefault(),this.props.onChange(this.props.optionWithMetricValue.name,!this.props.isSelected)}},{key:"render",value:function render(){var _this$props=this.props,barScale=_this$props.barScale,optionWithMetricValue=_this$props.optionWithMetricValue,innerRef=_this$props.innerRef,isSelected=_this$props.isSelected,isFocused=_this$props.isFocused,hasDataForActiveMetric=_this$props.hasDataForActiveMetric,highlight=_this$props.highlight,name=optionWithMetricValue.name,plotValue=optionWithMetricValue.plotValue,formattedValue=optionWithMetricValue.formattedValue,metricValue=formattedValue===name?"":formattedValue;return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(index_es.a,{flipId:name,translate:!0,opacity:!0},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("label",{className:classnames_default()("CountryOption",{selected:isSelected,focused:isFocused},hasDataForActiveMetric?void 0:"MissingData"),onMouseMove:this.props.onHover,onMouseOver:this.props.onHover,onClick:this.onClick,ref:innerRef},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"input-container"},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("input",{type:"checkbox",checked:isSelected,value:name,tabIndex:-1,readOnly:!0})),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"info-container"},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"labels-container"},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"name"},highlight(name)),void 0!==plotValue&&delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"metric"},metricValue)),barScale&&Object(Util.R)(plotValue)?delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"plot"},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"bar",style:{width:"".concat(100*barScale(plotValue),"%")}})):delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"plot"}))))}}]),PickerOption}(delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.Component)).prototype,"onClick",[decko.bind],Object.getOwnPropertyDescriptor(_class4.prototype,"onClick"),_class4.prototype),_class4);try{CountryPicker_CountryPicker.displayName="CountryPicker",CountryPicker_CountryPicker.__docgenInfo={description:"",displayName:"CountryPicker",props:{explorerSlug:{defaultValue:{value:""},description:"",name:"explorerSlug",required:!1,type:{name:"string"}},table:{defaultValue:{value:"new OwidTable([])"},description:"",name:"table",required:!1,type:{name:"OwidTable"}},optionColorMap:{defaultValue:{value:"{}"},description:"",name:"optionColorMap",required:!1,type:{name:"{ [key: string]: string; }"}},toggleCountryCommand:{defaultValue:{value:"() => {}"},description:"",name:"toggleCountryCommand",required:!1,type:{name:"(countryName: string, value?: boolean) => void"}},clearSelectionCommand:{defaultValue:{value:"() => {}"},description:"",name:"clearSelectionCommand",required:!1,type:{name:"() => void"}},availableEntities:{defaultValue:{value:"[]"},description:"",name:"availableEntities",required:!1,type:{name:"string[]"}},selectedEntities:{defaultValue:{value:"[]"},description:"",name:"selectedEntities",required:!1,type:{name:"string[]"}},userState:{defaultValue:{value:"{}"},description:"",name:"userState",required:!1,type:{name:"MetricState"}},isDropdownMenu:{defaultValue:{value:!1},description:"",name:"isDropdownMenu",required:!1,type:{name:"boolean"}},countriesMustHaveColumns:{defaultValue:{value:"[]"},description:"",name:"countriesMustHaveColumns",required:!1,type:{name:"string[]"}},pickerColumnSlugs:{defaultValue:{value:"new Set()"},description:"",name:"pickerColumnSlugs",required:!1,type:{name:"Set<string>"}},analytics:{defaultValue:null,description:"",name:"analytics",required:!1,type:{name:"Analytics"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/controls/CountryPicker.tsx#CountryPicker"]={docgenInfo:CountryPicker_CountryPicker.__docgenInfo,name:"CountryPicker",path:"grapher/controls/CountryPicker.tsx#CountryPicker"})}catch(__react_docgen_typescript_loader_error){}},,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return TimelineComponent_TimelineComponent}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(19),__webpack_require__(14),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var delegated_reactfrom_dll_reference_storybook_docs_dll=__webpack_require__(1),src_select=__webpack_require__(187),Util=__webpack_require__(2),Bounds=__webpack_require__(24),mobx_module=__webpack_require__(0),index_module=__webpack_require__(9),faPlay=__webpack_require__(585),faPause=__webpack_require__(584),index_es=__webpack_require__(36),tippy_react_esm=__webpack_require__(233),classnames=__webpack_require__(44),classnames_default=__webpack_require__.n(classnames);__webpack_require__(32),__webpack_require__(96),__webpack_require__(94);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _dec,_dec2,_dec3,_dec4,_dec5,_dec6,_dec7,_dec8,_class,_class2,_descriptor,_descriptor2,_descriptor3,_descriptor4,_temp,delay=function delay(ms){return new Promise((function(resolve){return setTimeout(resolve,ms)}))},TimelineController_TimelineController=function(){function TimelineController(target){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,TimelineController),this.target=void 0,this.options=void 0,this.rangeMode=!0,this.dragOffsets=[0,0],this.target=target,this.options=options}var _togglePlay,_play;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(TimelineController,[{key:"snapTimes",value:function snapTimes(){var _this$target=this.target,startTime=_this$target.startTime,endTime=_this$target.endTime;startTime!==endTime&&(endTime-startTime>1||(this.target.startTime=this.target.endTime))}},{key:"getNextTime",value:function getNextTime(time){var _this$timesAsc;return null!==(_this$timesAsc=this.timesAsc[this.timesAsc.indexOf(time)+1])&&void 0!==_this$timesAsc?_this$timesAsc:this.maxTime}},{key:"toggleRangeMode",value:function toggleRangeMode(){return this.rangeMode=!this.rangeMode,this}},{key:"isAtEnd",value:function isAtEnd(){return this.target.endTime===this.maxTime}},{key:"resetToBeginning",value:function resetToBeginning(){var beginning=this.target.endTime!==this.target.startTime?this.target.startTime:this.minTime;this.target.endTime=beginning}},{key:"play",value:(_play=_asyncToGenerator(regeneratorRuntime.mark((function _callee(numberOfTicks){var tickCount,_this$options$msPerTi,nextTime;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:this.target.isPlaying=!0,this.isAtEnd()&&this.resetToBeginning(),this.options.onPlay&&this.options.onPlay(),tickCount=0;case 4:if(!this.target.isPlaying){_context.next=16;break}if(nextTime=this.getNextTime(this.target.endTime),this.rangeMode||this.updateStartTime(nextTime),this.updateEndTime(nextTime),tickCount++,!(nextTime>=this.maxTime||numberOfTicks===tickCount)){_context.next=12;break}return this.stop(),_context.abrupt("break",16);case 12:return _context.next=14,delay(null!==(_this$options$msPerTi=this.options.msPerTick)&&void 0!==_this$options$msPerTi?_this$options$msPerTi:0);case 14:_context.next=4;break;case 16:return _context.abrupt("return",tickCount);case 17:case"end":return _context.stop()}}),_callee,this)}))),function play(_x){return _play.apply(this,arguments)})},{key:"stop",value:function stop(){this.target.isPlaying=!1}},{key:"pause",value:function pause(){this.target.isPlaying=!1}},{key:"togglePlay",value:(_togglePlay=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!this.target.isPlaying){_context2.next=4;break}this.pause(),_context2.next=6;break;case 4:return _context2.next=6,this.play();case 6:case"end":return _context2.stop()}}),_callee2,this)}))),function togglePlay(){return _togglePlay.apply(this,arguments)})},{key:"setDragOffsets",value:function setDragOffsets(inputTime){var _findClosestTime,target=this.target,closestTime=null!==(_findClosestTime=Object(Util.w)(this.timesAsc,inputTime))&&void 0!==_findClosestTime?_findClosestTime:inputTime;this.dragOffsets=[target.startTime-closestTime,target.endTime-closestTime]}},{key:"getTimeFromDrag",value:function getTimeFromDrag(inputTime){var _findClosestTime2;return this.getClampedTime(null!==(_findClosestTime2=Object(Util.w)(this.timesAsc,inputTime))&&void 0!==_findClosestTime2?_findClosestTime2:inputTime)}},{key:"dragRangeToTime",value:function dragRangeToTime(time){var _findClosestTime3,minTime=this.minTime,maxTime=this.maxTime,closestTime=null!==(_findClosestTime3=Object(Util.w)(this.timesAsc,time))&&void 0!==_findClosestTime3?_findClosestTime3:time,startTime=this.dragOffsets[0]+closestTime,endTime=this.dragOffsets[1]+closestTime;startTime<minTime?(startTime=minTime,endTime=this.getClampedTime(minTime+(this.dragOffsets[1]-this.dragOffsets[0]))):endTime>maxTime&&(startTime=this.getClampedTime(maxTime+(this.dragOffsets[0]-this.dragOffsets[1])),endTime=maxTime),this.updateStartTime(startTime),this.updateEndTime(endTime)}},{key:"dragHandleToTime",value:function dragHandleToTime(handle,inputTime){var target=this.target,time=this.getTimeFromDrag(inputTime),constrainedHandle="start"===handle&&time>target.endTime?"end":"end"===handle&&time<target.startTime?"start":handle;return constrainedHandle!==handle&&("start"===handle?this.updateStartTime(target.endTime):this.updateEndTime(target.startTime)),target.isPlaying&&!this.rangeMode?(this.updateStartTime(time),this.updateEndTime(time)):"both"===handle?this.dragRangeToTime(inputTime):"start"===constrainedHandle?this.updateStartTime(time):"end"===constrainedHandle&&this.updateEndTime(time),constrainedHandle}},{key:"updateStartTime",value:function updateStartTime(time){this.target.startTime=time}},{key:"updateEndTime",value:function updateEndTime(time){this.target.endTime=time}},{key:"resetStartToMin",value:function resetStartToMin(){this.updateStartTime(this.minTime)}},{key:"resetEndToMax",value:function resetEndToMax(){this.updateEndTime(this.maxTime)}},{key:"getClampedTime",value:function getClampedTime(inputTime){var minTime=this.minTime,maxTime=this.maxTime;return Math.min(maxTime,Math.max(minTime,inputTime))}},{key:"timesAsc",get:function get(){return this.target.times}},{key:"minTime",get:function get(){return this.timesAsc[0]}},{key:"maxTime",get:function get(){return Object(Util.V)(this.timesAsc)}},{key:"startTimeProgress",get:function get(){return(this.target.startTime-this.minTime)/(this.maxTime-this.minTime)}},{key:"endTimeProgress",get:function get(){return(this.target.endTime-this.minTime)/(this.maxTime-this.minTime)}}]),TimelineController}();function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function TimelineComponent_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function TimelineComponent_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var TimelineComponent_TimelineComponent=(_dec=mobx_module.d.bound,_dec2=mobx_module.d.bound,_dec3=mobx_module.d.bound,_dec4=mobx_module.d.bound,_dec5=mobx_module.d.bound,_dec6=mobx_module.d.bound,_dec7=mobx_module.d.bound,_dec8=mobx_module.d.bound,Object(index_module.a)((_temp=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(TimelineComponent,_React$Component);var _super=_createSuper(TimelineComponent);function TimelineComponent(){var _this;TimelineComponent_classCallCheck(this,TimelineComponent);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).base=delegated_reactfrom_dll_reference_storybook_docs_dll.createRef(),_initializerDefineProperty(_this,"dragTarget",_descriptor,_assertThisInitialized(_this)),_this.controller=new TimelineController_TimelineController(_this.props.target),_this.slider=void 0,_this.playButton=void 0,_this.queuedDrag=void 0,_this.mouseHoveringOverTimeline=!1,_this.hideStartTooltip=Object(Util.k)((function(){_this.startTooltipVisible=!1}),2e3),_this.hideEndTooltip=Object(Util.k)((function(){_this.endTooltipVisible=!1}),2e3),_initializerDefineProperty(_this,"startTooltipVisible",_descriptor2,_assertThisInitialized(_this)),_initializerDefineProperty(_this,"endTooltipVisible",_descriptor3,_assertThisInitialized(_this)),_initializerDefineProperty(_this,"lastUpdatedTooltip",_descriptor4,_assertThisInitialized(_this)),_this}return function TimelineComponent_createClass(Constructor,protoProps,staticProps){return protoProps&&TimelineComponent_defineProperties(Constructor.prototype,protoProps),staticProps&&TimelineComponent_defineProperties(Constructor,staticProps),Constructor}(TimelineComponent,[{key:"getInputTimeFromMouse",value:function getInputTimeFromMouse(event){var _this$controller=this.controller,minTime=_this$controller.minTime,maxTime=_this$controller.maxTime;return minTime+Object(Util.E)(this.slider,event).x/this.sliderBounds.width*(maxTime-minTime)}},{key:"onDrag",value:function onDrag(inputTime){this.dragTarget=this.controller.dragHandleToTime(this.dragTarget,inputTime),this.showTooltips()}},{key:"showTooltips",value:function showTooltips(){this.hideStartTooltip.cancel(),this.hideEndTooltip.cancel(),this.startTooltipVisible=!0,this.endTooltipVisible=!0,"start"===this.dragTarget&&(this.lastUpdatedTooltip="startMarker"),"end"===this.dragTarget&&(this.lastUpdatedTooltip="endMarker"),this.subject.startTime>this.subject.endTime&&(this.lastUpdatedTooltip="startMarker"===this.lastUpdatedTooltip?"endMarker":"startMarker")}},{key:"getDragTarget",value:function getDragTarget(inputTime,isStartMarker,isEndMarker){var _this$props$target=this.props.target,startTime=_this$props$target.startTime,endTime=_this$props$target.endTime;return startTime===endTime&&(isStartMarker||isEndMarker)?"both":isStartMarker||inputTime<=startTime?"start":isEndMarker||inputTime>=endTime?"end":"both"}},{key:"onMouseDown",value:function onMouseDown(event){var logic=this.controller,targetEl=Object(src_select.a)(event.target),inputTime=this.getInputTimeFromMouse(event);this.dragTarget=this.getDragTarget(inputTime,targetEl.classed("startMarker"),targetEl.classed("endMarker")),"both"===this.dragTarget&&logic.setDragOffsets(inputTime),this.onDrag(inputTime),event.preventDefault()}},{key:"onMouseMove",value:function onMouseMove(event){this.dragTarget&&(this.queuedDrag||(this.queuedDrag=!0,this.onDrag(this.getInputTimeFromMouse(event)),this.queuedDrag=!1))}},{key:"onMouseUp",value:function onMouseUp(){this.dragTarget=void 0,this.subject.isPlaying||(Object(Util.Q)()?(this.startTooltipVisible&&this.hideStartTooltip(),this.endTooltipVisible&&this.hideEndTooltip()):this.mouseHoveringOverTimeline||(this.startTooltipVisible=!1,this.endTooltipVisible=!1),this.controller.snapTimes())}},{key:"onMouseOver",value:function onMouseOver(){this.mouseHoveringOverTimeline=!0,this.hideStartTooltip.cancel(),this.startTooltipVisible=!0,this.hideEndTooltip.cancel(),this.endTooltipVisible=!0}},{key:"onMouseLeave",value:function onMouseLeave(){this.subject.isPlaying||this.isDragging||(this.startTooltipVisible=!1,this.endTooltipVisible=!1),this.mouseHoveringOverTimeline=!1}},{key:"onPlayTouchEnd",value:function onPlayTouchEnd(e){e.preventDefault(),e.stopPropagation(),this.controller.togglePlay()}},{key:"componentDidMount",value:function componentDidMount(){var _this$slider,_this$playButton,current=this.base.current;current&&(this.slider=current.querySelector(".slider"),this.playButton=current.querySelector(".play")),document.documentElement.addEventListener("mouseup",this.onMouseUp),document.documentElement.addEventListener("mouseleave",this.onMouseUp),document.documentElement.addEventListener("mousemove",this.onMouseMove),document.documentElement.addEventListener("touchend",this.onMouseUp),document.documentElement.addEventListener("touchmove",this.onMouseMove),null===(_this$slider=this.slider)||void 0===_this$slider||_this$slider.addEventListener("touchstart",this.onMouseDown,{passive:!1}),null===(_this$playButton=this.playButton)||void 0===_this$playButton||_this$playButton.addEventListener("touchend",this.onPlayTouchEnd,{passive:!1})}},{key:"componentWillUnmount",value:function componentWillUnmount(){var _this$slider2,_this$playButton2;document.documentElement.removeEventListener("mouseup",this.onMouseUp),document.documentElement.removeEventListener("mouseleave",this.onMouseUp),document.documentElement.removeEventListener("mousemove",this.onMouseMove),document.documentElement.removeEventListener("touchend",this.onMouseUp),document.documentElement.removeEventListener("touchmove",this.onMouseMove),null===(_this$slider2=this.slider)||void 0===_this$slider2||_this$slider2.removeEventListener("touchstart",this.onMouseDown,{passive:!1}),null===(_this$playButton2=this.playButton)||void 0===_this$playButton2||_this$playButton2.removeEventListener("touchend",this.onPlayTouchEnd,{passive:!1})}},{key:"formatTime",value:function formatTime(time){return this.props.formatTimeFn?this.props.formatTimeFn(time):time}},{key:"timelineEdgeMarker",value:function timelineEdgeMarker(markerType){var controller=this.controller,time="start"===markerType?controller.minTime:controller.maxTime;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:"date clickable",onClick:function onClick(){return"start"===markerType?controller.resetStartToMin():controller.resetEndToMax()}},this.formatTime(time))}},{key:"togglePlay",value:function togglePlay(){this.controller.togglePlay()}},{key:"render",value:function render(){var subject=this.subject,controller=this.controller,startTimeProgress=controller.startTimeProgress,endTimeProgress=controller.endTimeProgress,startTime=subject.startTime,endTime=subject.endTime;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{ref:this.base,className:"TimelineComponent",onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave},!this.props.disablePlay&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{onMouseDown:function onMouseDown(e){return e.stopPropagation()},onClick:this.togglePlay,className:"play"},subject.isPlaying?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(index_es.a,{icon:faPause.faPause}):delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(index_es.a,{icon:faPlay.faPlay})),this.timelineEdgeMarker("start"),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:"slider clickable",onMouseDown:this.onMouseDown},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(TimelineComponent_TimelineHandle,{type:"startMarker",offsetPercent:100*startTimeProgress,tooltipContent:this.formatTime(startTime),tooltipVisible:this.startTooltipVisible,tooltipZIndex:"startMarker"===this.lastUpdatedTooltip?2:1}),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:"interval",style:{left:"".concat(100*startTimeProgress,"%"),right:"".concat(100-100*endTimeProgress,"%")}}),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(TimelineComponent_TimelineHandle,{type:"endMarker",offsetPercent:100*endTimeProgress,tooltipContent:this.formatTime(endTime),tooltipVisible:this.endTooltipVisible,tooltipZIndex:"endMarker"===this.lastUpdatedTooltip?2:1})),this.timelineEdgeMarker("end"))}},{key:"isDragging",get:function get(){return!!this.dragTarget}},{key:"subject",get:function get(){return this.props.target}},{key:"sliderBounds",get:function get(){return this.slider?Bounds.a.fromRect(this.slider.getBoundingClientRect()):new Bounds.a(0,0,100,100)}},{key:"isPlayingOrDragging",get:function get(){return this.subject.isPlaying||this.isDragging}}]),TimelineComponent}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component),_descriptor=_applyDecoratedDescriptor((_class2=_temp).prototype,"dragTarget",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_applyDecoratedDescriptor(_class2.prototype,"isDragging",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"isDragging"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"subject",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"subject"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"onDrag",[_dec],Object.getOwnPropertyDescriptor(_class2.prototype,"onDrag"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"showTooltips",[mobx_module.d],Object.getOwnPropertyDescriptor(_class2.prototype,"showTooltips"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"onMouseDown",[_dec2],Object.getOwnPropertyDescriptor(_class2.prototype,"onMouseDown"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"onMouseMove",[_dec3],Object.getOwnPropertyDescriptor(_class2.prototype,"onMouseMove"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"onMouseUp",[_dec4],Object.getOwnPropertyDescriptor(_class2.prototype,"onMouseUp"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"onMouseOver",[_dec5],Object.getOwnPropertyDescriptor(_class2.prototype,"onMouseOver"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"onMouseLeave",[_dec6],Object.getOwnPropertyDescriptor(_class2.prototype,"onMouseLeave"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"onPlayTouchEnd",[_dec7],Object.getOwnPropertyDescriptor(_class2.prototype,"onPlayTouchEnd"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"isPlayingOrDragging",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"isPlayingOrDragging"),_class2.prototype),_descriptor2=_applyDecoratedDescriptor(_class2.prototype,"startTooltipVisible",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor3=_applyDecoratedDescriptor(_class2.prototype,"endTooltipVisible",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor4=_applyDecoratedDescriptor(_class2.prototype,"lastUpdatedTooltip",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_applyDecoratedDescriptor(_class2.prototype,"togglePlay",[_dec8],Object.getOwnPropertyDescriptor(_class2.prototype,"togglePlay"),_class2.prototype),_class=_class2))||_class),TimelineComponent_TimelineHandle=function TimelineHandle(_ref){var type=_ref.type,offsetPercent=_ref.offsetPercent,tooltipContent=_ref.tooltipContent,tooltipVisible=_ref.tooltipVisible,tooltipZIndex=_ref.tooltipZIndex;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:classnames_default()("handle",type),style:{left:"".concat(offsetPercent,"%")}},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(tippy_react_esm.a,{content:tooltipContent,visible:tooltipVisible,zIndex:tooltipZIndex},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:"icon"})))};TimelineComponent_TimelineHandle.displayName="TimelineHandle";try{TimelineComponent_TimelineComponent.displayName="TimelineComponent",TimelineComponent_TimelineComponent.__docgenInfo={description:"",displayName:"TimelineComponent",props:{target:{defaultValue:null,description:"",name:"target",required:!0,type:{name:"TimeViz"}},disablePlay:{defaultValue:null,description:"",name:"disablePlay",required:!1,type:{name:"boolean"}},formatTimeFn:{defaultValue:null,description:"",name:"formatTimeFn",required:!1,type:{name:"((value: any) => any)"}},onPlay:{defaultValue:null,description:"",name:"onPlay",required:!1,type:{name:"(() => void)"}},onStartPlayOrDrag:{defaultValue:null,description:"",name:"onStartPlayOrDrag",required:!1,type:{name:"(() => void)"}},onStopPlayOrDrag:{defaultValue:null,description:"",name:"onStopPlayOrDrag",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/timeline/TimelineComponent.tsx#TimelineComponent"]={docgenInfo:TimelineComponent_TimelineComponent.__docgenInfo,name:"TimelineComponent",path:"grapher/timeline/TimelineComponent.tsx#TimelineComponent"})}catch(__react_docgen_typescript_loader_error){}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("vbDw")},,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("zWgn")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return legacyQueryParamsToCurrentQueryParams})),__webpack_require__.d(__webpack_exports__,"b",(function(){return GrapherUrl})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ExtendedGrapherUrl}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(19),__webpack_require__(30),__webpack_require__(14),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(23),__webpack_require__(11),__webpack_require__(28),__webpack_require__(7),__webpack_require__(8),__webpack_require__(16),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var _dec,_dec2,_dec3,_class,_descriptor,_descriptor2,_descriptor3,_class3,mobx__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(0),utils_client_url__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(50),grapher_utils_TimeBounds__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(42),_EntityUrlBuilder__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(74),grapher_utils_Util__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(2);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var legacyQueryParamsToCurrentQueryParams=function legacyQueryParamsToCurrentQueryParams(params){var _obj$time,obj=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_24__.lb)(params,"year");return void 0!==params.year&&(obj.time=null!==(_obj$time=obj.time)&&void 0!==_obj$time?_obj$time:params.year),obj},GrapherUrl=(_dec=mobx__WEBPACK_IMPORTED_MODULE_20__.f.struct,_dec2=mobx__WEBPACK_IMPORTED_MODULE_20__.f.struct,_dec3=mobx__WEBPACK_IMPORTED_MODULE_20__.m.shallow,_applyDecoratedDescriptor((_class=function(){function GrapherUrl(grapher,originalConfig){var urlRoot=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/grapher";_classCallCheck(this,GrapherUrl),this.grapher=void 0,this.debounceMode=!1,this.originalConfig=void 0,this.urlRoot=void 0,_initializerDefineProperty(this,"dropUnchangedParams",_descriptor,this),_initializerDefineProperty(this,"externalBaseUrl",_descriptor2,this),_initializerDefineProperty(this,"externallyProvidedParams",_descriptor3,this),this.grapher=grapher,this.originalConfig=originalConfig||{},this.urlRoot=urlRoot}return _createClass(GrapherUrl,[{key:"allParams",get:function get(){var _grapher$minPopulatio,params={},grapher=this.grapher;return params.tab=grapher.tab,params.xScale=grapher.xAxis.scaleType,params.yScale=grapher.yAxis.scaleType,params.stackMode=grapher.stackMode,params.zoomToSelection=grapher.zoomToSelection?"true":void 0,params.minPopulationFilter=null===(_grapher$minPopulatio=grapher.minPopulationFilter)||void 0===_grapher$minPopulatio?void 0:_grapher$minPopulatio.toString(),params.endpointsOnly=grapher.compareEndPointsOnly?"1":"0",params.time=this.timeParam,params.country=this.countryParam,params.region=grapher.map.projection,params}},{key:"params",get:function get(){return this.dropUnchangedParams?this.changedParams:this.allParams}},{key:"changedParams",get:function get(){var _originalConfig$xAxis,_originalConfig$yAxis,params=this.allParams,grapher=this.grapher,originalConfig=this.originalConfig;return params.tab===originalConfig.tab&&(params.tab=void 0),params.xScale===(null===(_originalConfig$xAxis=originalConfig.xAxis)||void 0===_originalConfig$xAxis?void 0:_originalConfig$xAxis.scaleType)&&(params.xScale=void 0),params.yScale===(null===(_originalConfig$yAxis=originalConfig.yAxis)||void 0===_originalConfig$yAxis?void 0:_originalConfig$yAxis.scaleType)&&(params.yScale=void 0),params.stackMode===originalConfig.stackMode&&(params.stackMode=void 0),grapher.zoomToSelection===originalConfig.zoomToSelection&&(params.zoomToSelection=void 0),grapher.minPopulationFilter===originalConfig.minPopulationFilter&&(params.minPopulationFilter=void 0),grapher.compareEndPointsOnly===originalConfig.compareEndPointsOnly&&(params.endpointsOnly=void 0),originalConfig.map&&params.region===originalConfig.map.projection&&(params.region=void 0),params}},{key:"queryStr",get:function get(){var externalParams=this.externallyProvidedParams||{},queryParams=Object.assign({},this.params,externalParams);return Object(utils_client_url__WEBPACK_IMPORTED_MODULE_21__.c)(queryParams)}},{key:"baseUrl",get:function get(){return this.externalBaseUrl?this.externalBaseUrl:this.grapher.isPublished?"".concat(this.urlRoot,"/").concat(this.grapher.displaySlug):void 0}},{key:"canonicalUrl",get:function get(){return this.baseUrl?this.baseUrl+this.queryStr:void 0}},{key:"timeParam",get:function get(){var grapher=this.grapher,originalConfig=this.originalConfig,formatAsDay=grapher.table.hasDayColumn;if(grapher.minTime!==originalConfig.minTime||grapher.maxTime!==originalConfig.maxTime){var _grapher$timeDomain=_slicedToArray(grapher.timeDomain,2),minTime=_grapher$timeDomain[0],maxTime=_grapher$timeDomain[1],start=Object(grapher_utils_TimeBounds__WEBPACK_IMPORTED_MODULE_22__.b)(minTime,formatAsDay);if(minTime===maxTime)return start;var end=Object(grapher_utils_TimeBounds__WEBPACK_IMPORTED_MODULE_22__.b)(maxTime,formatAsDay);return"".concat(start,"..").concat(end)}if(void 0!==grapher.map.time)return Object(grapher_utils_TimeBounds__WEBPACK_IMPORTED_MODULE_22__.b)(grapher.map.time,formatAsDay)}},{key:"countryParam",get:function get(){var grapher=this.grapher,originalConfig=this.originalConfig;return grapher.isReady&&JSON.stringify(grapher.selectedData)!==JSON.stringify(originalConfig.selectedData)?_EntityUrlBuilder__WEBPACK_IMPORTED_MODULE_23__.a.entitiesToQueryParam(grapher.selectedEntityCodes):void 0}}]),GrapherUrl}()).prototype,"allParams",[_dec],Object.getOwnPropertyDescriptor(_class.prototype,"allParams"),_class.prototype),_descriptor=_applyDecoratedDescriptor(_class.prototype,"dropUnchangedParams",[mobx__WEBPACK_IMPORTED_MODULE_20__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!0}}),_applyDecoratedDescriptor(_class.prototype,"params",[mobx__WEBPACK_IMPORTED_MODULE_20__.f],Object.getOwnPropertyDescriptor(_class.prototype,"params"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"changedParams",[_dec2],Object.getOwnPropertyDescriptor(_class.prototype,"changedParams"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"queryStr",[mobx__WEBPACK_IMPORTED_MODULE_20__.f],Object.getOwnPropertyDescriptor(_class.prototype,"queryStr"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"baseUrl",[mobx__WEBPACK_IMPORTED_MODULE_20__.f],Object.getOwnPropertyDescriptor(_class.prototype,"baseUrl"),_class.prototype),_descriptor2=_applyDecoratedDescriptor(_class.prototype,"externalBaseUrl",[mobx__WEBPACK_IMPORTED_MODULE_20__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return""}}),_descriptor3=_applyDecoratedDescriptor(_class.prototype,"externallyProvidedParams",[_dec3],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_applyDecoratedDescriptor(_class.prototype,"canonicalUrl",[mobx__WEBPACK_IMPORTED_MODULE_20__.f],Object.getOwnPropertyDescriptor(_class.prototype,"canonicalUrl"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"timeParam",[mobx__WEBPACK_IMPORTED_MODULE_20__.f],Object.getOwnPropertyDescriptor(_class.prototype,"timeParam"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"countryParam",[mobx__WEBPACK_IMPORTED_MODULE_20__.f],Object.getOwnPropertyDescriptor(_class.prototype,"countryParam"),_class.prototype),_class),ExtendedGrapherUrl=(_applyDecoratedDescriptor((_class3=function(){function ExtendedGrapherUrl(grapherUrl,objectsWithParams){_classCallCheck(this,ExtendedGrapherUrl),this.grapherUrl=void 0,this.objectsWithParams=void 0,this.grapherUrl=grapherUrl,this.objectsWithParams=objectsWithParams}return _createClass(ExtendedGrapherUrl,[{key:"params",get:function get(){var obj=Object.assign({},this.grapherUrl.params);return this.objectsWithParams.forEach((function(p){obj=Object.assign(obj,p.toQueryParams)})),obj}},{key:"debounceMode",get:function get(){return this.grapherUrl.debounceMode}}]),ExtendedGrapherUrl}()).prototype,"params",[mobx__WEBPACK_IMPORTED_MODULE_20__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"params"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"debounceMode",[mobx__WEBPACK_IMPORTED_MODULE_20__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"debounceMode"),_class3.prototype),_class3)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LineChart}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(31),__webpack_require__(49),__webpack_require__(19),__webpack_require__(30),__webpack_require__(43),__webpack_require__(14),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(57),__webpack_require__(23),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(45),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var _dec,_dec2,_dec3,_class,_class2,_descriptor,_temp,_dec4,_dec5,_dec6,_dec7,_class4,_class5,_descriptor2,_descriptor3,_class6,_temp2,react__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(1),grapher_utils_Util__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(2),mobx__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(0),mobx_react__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(9),d3_selection__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(187),d3_ease__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(299),grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(24),grapher_axis_AxisViews__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(73),grapher_axis_Axis__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(83),grapher_utils_Vector2__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(38),_LineLabels__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(160),grapher_scatterCharts_ComparisonLine__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(156),grapher_chart_Tooltip__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(76),grapher_chart_NoDataOverlay__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__(55),d3_array__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__(610);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var Lines=(_dec=mobx__WEBPACK_IMPORTED_MODULE_28__.m.ref,_dec2=mobx__WEBPACK_IMPORTED_MODULE_28__.d.bound,_dec3=mobx__WEBPACK_IMPORTED_MODULE_28__.d.bound,Object(mobx_react__WEBPACK_IMPORTED_MODULE_29__.a)((_temp=function(_React$Component){_inherits(Lines,_React$Component);var _super=_createSuper(Lines);function Lines(){var _this;_classCallCheck(this,Lines);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).base=react__WEBPACK_IMPORTED_MODULE_26__.createRef(),_initializerDefineProperty(_this,"hover",_descriptor,_assertThisInitialized(_this)),_this.container=void 0,_this}return _createClass(Lines,[{key:"onCursorMove",value:function onCursorMove(ev){var hoverX,_this$props=this.props,dualAxis=_this$props.dualAxis,xAxis=_this$props.xAxis,mouse=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_27__.E)(this.base.current,ev);if(dualAxis.innerBounds.contains(mouse)){var closestValue=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_27__.ib)(this.allValues,(function(d){return Math.abs(xAxis.place(d.x)-mouse.x)}));hoverX=null==closestValue?void 0:closestValue.x}this.props.onHover(hoverX)}},{key:"onCursorLeave",value:function onCursorLeave(ev){this.props.onHover(void 0)}},{key:"renderFocusGroups",value:function renderFocusGroups(){var _this2=this;return this.focusGroups.map((function(series){return react__WEBPACK_IMPORTED_MODULE_26__.createElement("g",{key:series.displayKey,className:series.displayKey},react__WEBPACK_IMPORTED_MODULE_26__.createElement("path",{stroke:series.color,strokeLinecap:"round",d:Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_27__.tb)(series.values.map((function(v){return[v.x,v.y]}))),fill:"none",strokeWidth:1.5,strokeDasharray:series.isProjection?"1,4":void 0}),_this2.hasMarkers&&!series.isProjection&&react__WEBPACK_IMPORTED_MODULE_26__.createElement("g",{fill:series.color},series.values.map((function(v,i){return react__WEBPACK_IMPORTED_MODULE_26__.createElement("circle",{key:i,cx:v.x,cy:v.y,r:2})}))))}))}},{key:"renderBackgroundGroups",value:function renderBackgroundGroups(){return this.backgroundGroups.map((function(series){return react__WEBPACK_IMPORTED_MODULE_26__.createElement("g",{key:series.displayKey,className:series.displayKey},react__WEBPACK_IMPORTED_MODULE_26__.createElement("path",{key:series.entityDimensionKey+"-line",strokeLinecap:"round",stroke:"#ddd",d:Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_27__.tb)(series.values.map((function(v){return[v.x,v.y]}))),fill:"none",strokeWidth:1}))}))}},{key:"componentDidMount",value:function componentDidMount(){var container=this.base.current.closest("svg");container.addEventListener("mousemove",this.onCursorMove),container.addEventListener("mouseleave",this.onCursorLeave),container.addEventListener("touchstart",this.onCursorMove),container.addEventListener("touchmove",this.onCursorMove),container.addEventListener("touchend",this.onCursorLeave),container.addEventListener("touchcancel",this.onCursorLeave),this.container=container}},{key:"componentWillUnmount",value:function componentWillUnmount(){var container=this.container;container&&(container.removeEventListener("mousemove",this.onCursorMove),container.removeEventListener("mouseleave",this.onCursorLeave),container.removeEventListener("touchstart",this.onCursorMove),container.removeEventListener("touchmove",this.onCursorMove),container.removeEventListener("touchend",this.onCursorLeave),container.removeEventListener("touchcancel",this.onCursorLeave))}},{key:"render",value:function render(){var hover=this.hover,bounds=this.bounds;return react__WEBPACK_IMPORTED_MODULE_26__.createElement("g",{ref:this.base,className:"Lines"},react__WEBPACK_IMPORTED_MODULE_26__.createElement("rect",{x:Math.round(bounds.x),y:Math.round(bounds.y),width:Math.round(bounds.width),height:Math.round(bounds.height),fill:"rgba(255,255,255,0)",opacity:0}),this.renderBackgroundGroups(),this.renderFocusGroups(),hover&&react__WEBPACK_IMPORTED_MODULE_26__.createElement("circle",{cx:hover.pos.x,cy:hover.pos.y,r:5,fill:hover.series.color}))}},{key:"renderData",get:function get(){var _this$props2=this.props,data=_this$props2.data,xAxis=_this$props2.xAxis,yAxis=_this$props2.yAxis,focusKeys=_this$props2.focusKeys;return data.map((function(series){return{entityDimensionKey:series.entityDimensionKey,displayKey:"key-".concat(Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_27__.Z)(series.entityDimensionKey)),color:series.color,values:series.values.map((function(v){return new grapher_utils_Vector2__WEBPACK_IMPORTED_MODULE_35__.a(Math.round(xAxis.place(v.x)),Math.round(yAxis.place(v.y)))})),isFocus:!focusKeys.length||focusKeys.includes(series.entityDimensionKey),isProjection:series.isProjection}}))}},{key:"isFocusMode",get:function get(){return this.renderData.some((function(d){return d.isFocus}))}},{key:"allValues",get:function get(){var _step,values=[],_iterator=function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(this.props.data);try{for(_iterator.s();!(_step=_iterator.n()).done;){var series=_step.value;values.push.apply(values,_toConsumableArray(series.values))}}catch(err){_iterator.e(err)}finally{_iterator.f()}return values}},{key:"bounds",get:function get(){var _this$props3=this.props,xAxis=_this$props3.xAxis,yAxis=_this$props3.yAxis;return grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_32__.a.fromCorners(new grapher_utils_Vector2__WEBPACK_IMPORTED_MODULE_35__.a(xAxis.range[0],yAxis.range[0]),new grapher_utils_Vector2__WEBPACK_IMPORTED_MODULE_35__.a(xAxis.range[1],yAxis.range[1]))}},{key:"focusGroups",get:function get(){return this.renderData.filter((function(g){return g.isFocus}))}},{key:"backgroundGroups",get:function get(){return this.renderData.filter((function(g){return!g.isFocus}))}},{key:"hasMarkers",get:function get(){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_27__.Mb)(this.renderData.map((function(g){return g.values.length})))<500}}]),Lines}(react__WEBPACK_IMPORTED_MODULE_26__.Component),_descriptor=_applyDecoratedDescriptor((_class2=_temp).prototype,"hover",[_dec],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),_applyDecoratedDescriptor(_class2.prototype,"renderData",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"renderData"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"isFocusMode",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"isFocusMode"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"allValues",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"allValues"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"onCursorMove",[_dec2],Object.getOwnPropertyDescriptor(_class2.prototype,"onCursorMove"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"onCursorLeave",[_dec3],Object.getOwnPropertyDescriptor(_class2.prototype,"onCursorLeave"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"bounds",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"bounds"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"focusGroups",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"focusGroups"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"backgroundGroups",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"backgroundGroups"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"hasMarkers",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"hasMarkers"),_class2.prototype),_class=_class2))||_class),LineChart=(_dec4=mobx__WEBPACK_IMPORTED_MODULE_28__.d.bound,_dec5=mobx__WEBPACK_IMPORTED_MODULE_28__.d.bound,_dec6=mobx__WEBPACK_IMPORTED_MODULE_28__.d.bound,_dec7=mobx__WEBPACK_IMPORTED_MODULE_28__.d.bound,Object(mobx_react__WEBPACK_IMPORTED_MODULE_29__.a)((_temp2=_class6=function(_React$Component2){_inherits(LineChart,_React$Component2);var _super2=_createSuper(LineChart);function LineChart(){var _this3;_classCallCheck(this,LineChart);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return(_this3=_super2.call.apply(_super2,[this].concat(args))).base=react__WEBPACK_IMPORTED_MODULE_26__.createRef(),_initializerDefineProperty(_this3,"hoverX",_descriptor2,_assertThisInitialized(_this3)),_initializerDefineProperty(_this3,"hoverKey",_descriptor3,_assertThisInitialized(_this3)),_this3.animSelection=void 0,_this3}return _createClass(LineChart,[{key:"onHover",value:function onHover(hoverX){this.hoverX=hoverX}},{key:"seriesIsBlur",value:function seriesIsBlur(series){return this.isFocusMode&&!this.focusKeys.includes(series.entityDimensionKey)}},{key:"onLegendClick",value:function onLegendClick(key){this.options.showAddEntityControls&&(this.options.isSelectingData=!0)}},{key:"onLegendMouseOver",value:function onLegendMouseOver(key){this.hoverKey=key}},{key:"onLegendMouseLeave",value:function onLegendMouseLeave(){this.hoverKey=void 0}},{key:"componentDidMount",value:function componentDidMount(){var _this4=this,base=Object(d3_selection__WEBPACK_IMPORTED_MODULE_30__.a)(this.base.current);this.animSelection=base.selectAll("clipPath > rect").attr("width",0),this.animSelection.transition().duration(800).ease(d3_ease__WEBPACK_IMPORTED_MODULE_31__.a).attr("width",this.bounds.width).on("end",(function(){return _this4.forceUpdate()}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.animSelection&&this.animSelection.interrupt()}},{key:"render",value:function render(){var _this5=this;if(this.transform.failMessage)return react__WEBPACK_IMPORTED_MODULE_26__.createElement(grapher_chart_NoDataOverlay__WEBPACK_IMPORTED_MODULE_39__.a,{options:this.options,bounds:this.props.bounds,message:this.transform.failMessage});var options=this.options,transform=this.transform,bounds=this.bounds,legend=this.legend,tooltip=this.tooltip,dualAxis=this.dualAxis,renderUid=this.renderUid,hoverX=this.hoverX,xAxis=dualAxis.xAxis,yAxis=dualAxis.yAxis,groupedData=transform.groupedData,comparisonLines=options.comparisonLines||[];return react__WEBPACK_IMPORTED_MODULE_26__.createElement("g",{ref:this.base,className:"LineChart"},react__WEBPACK_IMPORTED_MODULE_26__.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_26__.createElement("clipPath",{id:"boundsClip-".concat(renderUid)},react__WEBPACK_IMPORTED_MODULE_26__.createElement("rect",{x:dualAxis.innerBounds.x-10,y:0,width:bounds.width+10,height:2*bounds.height}))),react__WEBPACK_IMPORTED_MODULE_26__.createElement(grapher_axis_AxisViews__WEBPACK_IMPORTED_MODULE_33__.b,{isInteractive:this.transform.grapher.isInteractive,dualAxis:dualAxis,showTickMarks:!0}),react__WEBPACK_IMPORTED_MODULE_26__.createElement("g",{clipPath:"url(#boundsClip-".concat(renderUid,")")},comparisonLines.map((function(line,i){return react__WEBPACK_IMPORTED_MODULE_26__.createElement(grapher_scatterCharts_ComparisonLine__WEBPACK_IMPORTED_MODULE_37__.a,{key:i,dualAxis:dualAxis,comparisonLine:line})})),legend&&react__WEBPACK_IMPORTED_MODULE_26__.createElement(_LineLabels__WEBPACK_IMPORTED_MODULE_36__.a,{x:bounds.right-legend.width,legend:legend,focusKeys:this.focusKeys,yAxis:dualAxis.yAxis,onClick:this.onLegendClick,options:options,onMouseOver:this.onLegendMouseOver,onMouseLeave:this.onLegendMouseLeave}),react__WEBPACK_IMPORTED_MODULE_26__.createElement(Lines,{dualAxis:dualAxis,xAxis:dualAxis.xAxis,yAxis:dualAxis.yAxis,data:groupedData,onHover:this.onHover,focusKeys:this.focusKeys})),void 0!==hoverX&&react__WEBPACK_IMPORTED_MODULE_26__.createElement("g",{className:"hoverIndicator"},transform.groupedData.map((function(series){var value=series.values.find((function(v){return v.x===hoverX}));return!value||_this5.seriesIsBlur(series)?null:react__WEBPACK_IMPORTED_MODULE_26__.createElement("circle",{key:series.entityDimensionKey,cx:xAxis.place(value.x),cy:yAxis.place(value.y),r:4,fill:series.color})})),react__WEBPACK_IMPORTED_MODULE_26__.createElement("line",{x1:xAxis.place(hoverX),y1:yAxis.range[0],x2:xAxis.place(hoverX),y2:yAxis.range[1],stroke:"rgba(180,180,180,.4)"})),tooltip)}},{key:"options",get:function get(){return this.props.grapher}},{key:"bounds",get:function get(){return this.props.bounds}},{key:"transform",get:function get(){return this.options.lineChartTransform}},{key:"legend",get:function get(){var that=this;return new _LineLabels__WEBPACK_IMPORTED_MODULE_36__.b({get maxWidth(){return that.bounds.width/3},get fontSize(){return that.options.baseFontSize},get items(){return that.transform.legendItems}})}},{key:"tooltip",get:function get(){var _this6=this,transform=this.transform,hoverX=this.hoverX,dualAxis=this.dualAxis;if(void 0!==hoverX){var sortedData=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_27__.Fb)(transform.groupedData,(function(series){var value=series.values.find((function(v){return v.x===hoverX}));return void 0!==value?-value.y:1/0})),formatted=this.transform.grapher.table.timeColumnFormatFunction(hoverX);return react__WEBPACK_IMPORTED_MODULE_26__.createElement(grapher_chart_Tooltip__WEBPACK_IMPORTED_MODULE_38__.a,{tooltipContainer:this.options,x:dualAxis.xAxis.place(hoverX),y:dualAxis.yAxis.rangeMin+dualAxis.yAxis.rangeSize/2,style:{padding:"0.3em"},offsetX:5},react__WEBPACK_IMPORTED_MODULE_26__.createElement("table",{style:{fontSize:"0.9em",lineHeight:"1.4em",whiteSpace:"normal"}},react__WEBPACK_IMPORTED_MODULE_26__.createElement("tbody",null,react__WEBPACK_IMPORTED_MODULE_26__.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_26__.createElement("td",{colSpan:3},react__WEBPACK_IMPORTED_MODULE_26__.createElement("strong",null,formatted))),sortedData.map((function(series){var value=series.values.find((function(v){return v.x===hoverX})),annotation=_this6.transform.getAnnotationsForSeries(series.entityName);if(!value){var _extent2=_slicedToArray(Object(d3_array__WEBPACK_IMPORTED_MODULE_40__.a)(series.values,(function(v){return v.x})),2),startX=_extent2[0],endX=_extent2[1];if(void 0===startX||void 0===endX||startX>hoverX||endX<hoverX)return}var isBlur=_this6.seriesIsBlur(series)||void 0===value,textColor=isBlur?"#ddd":"#333",annotationColor=isBlur?"#ddd":"#999",circleColor=isBlur?"#eee":series.color;return react__WEBPACK_IMPORTED_MODULE_26__.createElement("tr",{key:series.entityDimensionKey,style:{color:textColor}},react__WEBPACK_IMPORTED_MODULE_26__.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_26__.createElement("div",{style:{width:"10px",height:"10px",borderRadius:"5px",backgroundColor:circleColor,display:"inline-block",marginRight:"2px"}})),react__WEBPACK_IMPORTED_MODULE_26__.createElement("td",{style:{paddingRight:"0.8em",fontSize:"0.9em"}},_this6.transform.getLabelForKey(series.entityDimensionKey),annotation&&react__WEBPACK_IMPORTED_MODULE_26__.createElement("span",{className:"tooltipAnnotation",style:{color:annotationColor,fontSize:"90%"}}," ",annotation)),react__WEBPACK_IMPORTED_MODULE_26__.createElement("td",{style:{textAlign:"right",whiteSpace:"nowrap"}},value?transform.yAxis.tickFormatFn(value.y,{noTrailingZeroes:!1}):"No data"))})))))}}},{key:"dualAxis",get:function get(){var _this$transform=this.transform,xAxis=_this$transform.xAxis,yAxis=_this$transform.yAxis;return new grapher_axis_Axis__WEBPACK_IMPORTED_MODULE_34__.a({bounds:this.bounds.padRight(this.legend?this.legend.width:20),yAxis:yAxis,xAxis:xAxis})}},{key:"focusKeys",get:function get(){return this.hoverKey?[this.hoverKey]:[]}},{key:"isFocusMode",get:function get(){return this.focusKeys.length>0}},{key:"renderUid",get:function get(){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_27__.H)()}}]),LineChart}(react__WEBPACK_IMPORTED_MODULE_26__.Component),_class6.defaultProps={bounds:new grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_32__.a(0,0,640,480)},_descriptor2=_applyDecoratedDescriptor((_class5=_temp2).prototype,"hoverX",[mobx__WEBPACK_IMPORTED_MODULE_28__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_applyDecoratedDescriptor(_class5.prototype,"onHover",[_dec4],Object.getOwnPropertyDescriptor(_class5.prototype,"onHover"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"options",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"options"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"bounds",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"bounds"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"transform",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"transform"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"legend",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"legend"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"tooltip",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"tooltip"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"dualAxis",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"dualAxis"),_class5.prototype),_descriptor3=_applyDecoratedDescriptor(_class5.prototype,"hoverKey",[mobx__WEBPACK_IMPORTED_MODULE_28__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_applyDecoratedDescriptor(_class5.prototype,"onLegendClick",[_dec5],Object.getOwnPropertyDescriptor(_class5.prototype,"onLegendClick"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"onLegendMouseOver",[_dec6],Object.getOwnPropertyDescriptor(_class5.prototype,"onLegendMouseOver"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"onLegendMouseLeave",[_dec7],Object.getOwnPropertyDescriptor(_class5.prototype,"onLegendMouseLeave"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"focusKeys",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"focusKeys"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"isFocusMode",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"isFocusMode"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"renderUid",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"renderUid"),_class5.prototype),_class4=_class5))||_class4);try{LineChart.displayName="LineChart",LineChart.__docgenInfo={description:"",displayName:"LineChart",props:{bounds:{defaultValue:{value:"new Bounds(0, 0, 640, 480)"},description:"",name:"bounds",required:!1,type:{name:"Bounds"}},grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"LineChartOptions"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/lineCharts/LineChart.tsx#LineChart"]={docgenInfo:LineChart.__docgenInfo,name:"LineChart",path:"grapher/lineCharts/LineChart.tsx#LineChart"})}catch(__react_docgen_typescript_loader_error){}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return StackedAreaChart}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(19),__webpack_require__(43),__webpack_require__(32),__webpack_require__(14),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(57),__webpack_require__(11),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(45),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var _dec,_dec2,_class,_class2,_descriptor,_temp,_dec3,_dec4,_dec5,_dec6,_class4,_class5,_descriptor2,_descriptor3,react__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(1),grapher_utils_Util__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(2),mobx__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(0),mobx_react__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(9),grapher_axis_AxisViews__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(73),grapher_axis_Axis__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(83),grapher_lineCharts_LineLabels__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(160),grapher_chart_NoDataOverlay__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(55),grapher_chart_Tooltip__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(76),d3_selection__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(187),d3_ease__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(299),d3_color__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(188);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var Areas=(_dec=mobx__WEBPACK_IMPORTED_MODULE_26__.d.bound,_dec2=mobx__WEBPACK_IMPORTED_MODULE_26__.d.bound,Object(mobx_react__WEBPACK_IMPORTED_MODULE_27__.a)((_temp=function(_React$Component){_inherits(Areas,_React$Component);var _super=_createSuper(Areas);function Areas(){var _this;_classCallCheck(this,Areas);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).base=react__WEBPACK_IMPORTED_MODULE_24__.createRef(),_initializerDefineProperty(_this,"hoverIndex",_descriptor,_assertThisInitialized(_this)),_this}return _createClass(Areas,[{key:"onCursorMove",value:function onCursorMove(ev){var _this$props=this.props,dualAxis=_this$props.dualAxis,data=_this$props.data,mouse=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_25__.E)(this.base.current,ev.nativeEvent);if(dualAxis.innerBounds.contains(mouse)){var closestPoint=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_25__.ib)(data[0].values,(function(d){return Math.abs(dualAxis.xAxis.place(d.x)-mouse.x)}));if(closestPoint){var index=data[0].values.indexOf(closestPoint);this.hoverIndex=index}else this.hoverIndex=void 0}else this.hoverIndex=void 0;this.props.onHover(this.hoverIndex)}},{key:"onCursorLeave",value:function onCursorLeave(ev){this.hoverIndex=void 0,this.props.onHover(this.hoverIndex)}},{key:"seriesIsBlur",value:function seriesIsBlur(series){return this.props.focusKeys.length>0&&!this.props.focusKeys.includes(series.entityDimensionKey)}},{key:"render",value:function render(){var _this2=this,_this$props2=this.props,dualAxis=_this$props2.dualAxis,data=_this$props2.data,xAxis=dualAxis.xAxis,yAxis=dualAxis.yAxis,hoverIndex=this.hoverIndex;return react__WEBPACK_IMPORTED_MODULE_24__.createElement("g",{ref:this.base,className:"Areas",onMouseMove:this.onCursorMove,onMouseLeave:this.onCursorLeave,onTouchStart:this.onCursorMove,onTouchMove:this.onCursorMove,onTouchEnd:this.onCursorLeave,onTouchCancel:this.onCursorLeave},react__WEBPACK_IMPORTED_MODULE_24__.createElement("rect",{x:xAxis.range[0],y:yAxis.range[1],width:xAxis.range[1]-xAxis.range[0],height:yAxis.range[0]-yAxis.range[1],opacity:0,fill:"rgba(255,255,255,0)"}),this.areas,this.borders,void 0!==hoverIndex&&react__WEBPACK_IMPORTED_MODULE_24__.createElement("g",{className:"hoverIndicator"},data.map((function(series){return _this2.seriesIsBlur(series)?null:react__WEBPACK_IMPORTED_MODULE_24__.createElement("circle",{key:series.entityDimensionKey,cx:xAxis.place(series.values[hoverIndex].x),cy:yAxis.place(series.values[hoverIndex].y),r:2,fill:series.color})})),react__WEBPACK_IMPORTED_MODULE_24__.createElement("line",{x1:xAxis.place(data[0].values[hoverIndex].x),y1:yAxis.range[0],x2:xAxis.place(data[0].values[hoverIndex].x),y2:yAxis.range[1],stroke:"rgba(180,180,180,.4)"})))}},{key:"areas",get:function get(){var _this3=this,_this$props3=this.props,dualAxis=_this$props3.dualAxis,data=_this$props3.data,xAxis=dualAxis.xAxis,yAxis=dualAxis.yAxis,prevPoints=[[xAxis.range[0],yAxis.range[0]],[xAxis.range[1],yAxis.range[0]]];return data.map((function(series){var mainPoints=series.values.map((function(v){return[xAxis.place(v.x),yAxis.place(v.y)]})),points=mainPoints.concat(Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_25__.yb)(Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_25__.d)(prevPoints)));return prevPoints=mainPoints,react__WEBPACK_IMPORTED_MODULE_24__.createElement("path",{className:Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_25__.Z)(series.entityDimensionKey)+"-area",key:series.entityDimensionKey+"-area",strokeLinecap:"round",d:Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_25__.tb)(points),fill:_this3.seriesIsBlur(series)?"#ddd":series.color,fillOpacity:.7,clipPath:_this3.props.clipPath})}))}},{key:"borders",get:function get(){var _this4=this,_this$props4=this.props,dualAxis=_this$props4.dualAxis,data=_this$props4.data,xAxis=dualAxis.xAxis,yAxis=dualAxis.yAxis;return data.map((function(series){var points=series.values.map((function(v){return[xAxis.place(v.x),yAxis.place(v.y)]}));return react__WEBPACK_IMPORTED_MODULE_24__.createElement("path",{className:Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_25__.Z)(series.entityDimensionKey)+"-border",key:series.entityDimensionKey+"-border",strokeLinecap:"round",d:Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_25__.tb)(points),stroke:Object(d3_color__WEBPACK_IMPORTED_MODULE_35__.b)(_this4.seriesIsBlur(series)?"#ddd":series.color).darker(.5).toString(),strokeOpacity:.7,strokeWidth:.5,fill:"none",clipPath:_this4.props.clipPath})}))}}]),Areas}(react__WEBPACK_IMPORTED_MODULE_24__.Component),_descriptor=_applyDecoratedDescriptor((_class2=_temp).prototype,"hoverIndex",[mobx__WEBPACK_IMPORTED_MODULE_26__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_applyDecoratedDescriptor(_class2.prototype,"onCursorMove",[_dec],Object.getOwnPropertyDescriptor(_class2.prototype,"onCursorMove"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"onCursorLeave",[_dec2],Object.getOwnPropertyDescriptor(_class2.prototype,"onCursorLeave"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"areas",[mobx__WEBPACK_IMPORTED_MODULE_26__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"areas"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"borders",[mobx__WEBPACK_IMPORTED_MODULE_26__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"borders"),_class2.prototype),_class=_class2))||_class),StackedAreaChart=(_dec3=mobx__WEBPACK_IMPORTED_MODULE_26__.d.bound,_dec4=mobx__WEBPACK_IMPORTED_MODULE_26__.d.bound,_dec5=mobx__WEBPACK_IMPORTED_MODULE_26__.d.bound,_dec6=mobx__WEBPACK_IMPORTED_MODULE_26__.d.bound,Object(mobx_react__WEBPACK_IMPORTED_MODULE_27__.a)((_applyDecoratedDescriptor((_class5=function(_React$Component2){_inherits(StackedAreaChart,_React$Component2);var _super2=_createSuper(StackedAreaChart);function StackedAreaChart(){var _this5;_classCallCheck(this,StackedAreaChart);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return(_this5=_super2.call.apply(_super2,[this].concat(args))).base=react__WEBPACK_IMPORTED_MODULE_24__.createRef(),_initializerDefineProperty(_this5,"hoverIndex",_descriptor2,_assertThisInitialized(_this5)),_initializerDefineProperty(_this5,"hoverKey",_descriptor3,_assertThisInitialized(_this5)),_this5.animSelection=void 0,_this5}return _createClass(StackedAreaChart,[{key:"onHover",value:function onHover(hoverIndex){this.hoverIndex=hoverIndex}},{key:"onLegendClick",value:function onLegendClick(key){this.grapher.showAddEntityControls&&(this.grapher.isSelectingData=!0)}},{key:"onLegendMouseOver",value:function onLegendMouseOver(key){this.hoverKey=key}},{key:"onLegendMouseLeave",value:function onLegendMouseLeave(){this.hoverKey=void 0}},{key:"seriesIsBlur",value:function seriesIsBlur(series){return this.focusKeys.length>0&&!this.focusKeys.includes(series.entityDimensionKey)}},{key:"componentDidMount",value:function componentDidMount(){var _this6=this;this.animSelection=Object(d3_selection__WEBPACK_IMPORTED_MODULE_33__.a)(this.base.current).selectAll("clipPath > rect").attr("width",0),this.animSelection.transition().duration(800).ease(d3_ease__WEBPACK_IMPORTED_MODULE_34__.a).attr("width",this.bounds.width).on("end",(function(){return _this6.forceUpdate()}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.animSelection&&this.animSelection.interrupt()}},{key:"render",value:function render(){if(this.transform.failMessage)return react__WEBPACK_IMPORTED_MODULE_24__.createElement(grapher_chart_NoDataOverlay__WEBPACK_IMPORTED_MODULE_31__.a,{options:this.grapher,bounds:this.props.bounds,message:this.transform.failMessage});var grapher=this.grapher,bounds=this.bounds,dualAxis=this.dualAxis,legend=this.legend,transform=this.transform,renderUid=this.renderUid;return react__WEBPACK_IMPORTED_MODULE_24__.createElement("g",{ref:this.base,className:"StackedArea"},react__WEBPACK_IMPORTED_MODULE_24__.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_24__.createElement("clipPath",{id:"boundsClip-".concat(renderUid)},react__WEBPACK_IMPORTED_MODULE_24__.createElement("rect",{x:dualAxis.innerBounds.x,y:0,width:bounds.width,height:2*bounds.height}))),react__WEBPACK_IMPORTED_MODULE_24__.createElement(grapher_axis_AxisViews__WEBPACK_IMPORTED_MODULE_28__.b,{isInteractive:grapher.isInteractive,dualAxis:dualAxis,showTickMarks:!0}),react__WEBPACK_IMPORTED_MODULE_24__.createElement("g",{clipPath:"url(#boundsClip-".concat(renderUid,")")},legend&&react__WEBPACK_IMPORTED_MODULE_24__.createElement(grapher_lineCharts_LineLabels__WEBPACK_IMPORTED_MODULE_30__.a,{legend:legend,x:bounds.right-legend.width,yAxis:dualAxis.yAxis,options:grapher,focusKeys:this.focusKeys,onClick:this.onLegendClick,onMouseOver:this.onLegendMouseOver,onMouseLeave:this.onLegendMouseLeave}),react__WEBPACK_IMPORTED_MODULE_24__.createElement(Areas,{dualAxis:dualAxis,data:transform.stackedData,focusKeys:this.focusKeys,onHover:this.onHover})),this.tooltip)}},{key:"grapher",get:function get(){return this.props.grapher}},{key:"bounds",get:function get(){return this.props.bounds}},{key:"transform",get:function get(){return this.grapher.stackedAreaTransform}},{key:"midpoints",get:function get(){var prevY=0;return this.transform.stackedData.map((function(series){var lastValue=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_25__.V)(series.values);if(lastValue){var middleY=prevY+(lastValue.y-prevY)/2;return prevY=lastValue.y,middleY}return 0}))}},{key:"legendItems",get:function get(){var _this7=this,transform=this.transform,midpoints=this.midpoints;return transform.stackedData.map((function(d,i){return{color:d.color,entityDimensionKey:d.entityDimensionKey,label:_this7.grapher.getLabelForKey(d.entityDimensionKey),yValue:midpoints[i]}})).reverse()}},{key:"legend",get:function get(){if(!this.grapher.hideLegend){var that=this;return new grapher_lineCharts_LineLabels__WEBPACK_IMPORTED_MODULE_30__.b({get maxWidth(){return Math.min(150,that.bounds.width/3)},get fontSize(){return that.grapher.baseFontSize},get items(){return that.legendItems}})}}},{key:"dualAxis",get:function get(){var bounds=this.bounds,legend=this.legend,_this$transform=this.transform,xAxis=_this$transform.xAxis,yAxis=_this$transform.yAxis;return new grapher_axis_Axis__WEBPACK_IMPORTED_MODULE_29__.a({bounds:bounds.padRight(legend?legend.width:20),xAxis:xAxis,yAxis:yAxis})}},{key:"focusKeys",get:function get(){return this.hoverKey?[this.hoverKey]:[]}},{key:"isFocusMode",get:function get(){return this.focusKeys.length>0}},{key:"tooltip",get:function get(){var _this8=this;if(void 0!==this.hoverIndex){var transform=this.transform,hoverIndex=this.hoverIndex,dualAxis=this.dualAxis,grapher=this.grapher,refValue=transform.stackedData[0].values[hoverIndex],someMissing=transform.stackedData.some((function(g){return!!g.values[hoverIndex].isFake})),legendBlockStyle={width:"10px",height:"10px",display:"inline-block",marginRight:"2px"};return react__WEBPACK_IMPORTED_MODULE_24__.createElement(grapher_chart_Tooltip__WEBPACK_IMPORTED_MODULE_32__.a,{tooltipContainer:this.props.grapher,x:dualAxis.xAxis.place(refValue.x),y:dualAxis.yAxis.rangeMin+dualAxis.yAxis.rangeSize/2,style:{padding:"0.3em"},offsetX:5},react__WEBPACK_IMPORTED_MODULE_24__.createElement("table",{style:{fontSize:"0.9em",lineHeight:"1.4em"}},react__WEBPACK_IMPORTED_MODULE_24__.createElement("tbody",null,react__WEBPACK_IMPORTED_MODULE_24__.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_24__.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_24__.createElement("strong",null,this.grapher.table.timeColumnFormatFunction(refValue.x))),react__WEBPACK_IMPORTED_MODULE_24__.createElement("td",null)),Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_25__.yb)(Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_25__.d)(transform.stackedData)).map((function(series){var value=series.values[hoverIndex],isBlur=_this8.seriesIsBlur(series),textColor=isBlur?"#ddd":"#333",blockColor=isBlur?"#ddd":series.color;return react__WEBPACK_IMPORTED_MODULE_24__.createElement("tr",{key:series.entityDimensionKey,style:{color:textColor}},react__WEBPACK_IMPORTED_MODULE_24__.createElement("td",{style:{paddingRight:"0.8em",fontSize:"0.9em"}},react__WEBPACK_IMPORTED_MODULE_24__.createElement("div",{style:Object.assign({},legendBlockStyle,{backgroundColor:blockColor})})," ",grapher.getLabelForKey(series.entityDimensionKey)),react__WEBPACK_IMPORTED_MODULE_24__.createElement("td",{style:{textAlign:"right"}},value.isFake?"No data":transform.formatYTick(value.origY)))})),!someMissing&&react__WEBPACK_IMPORTED_MODULE_24__.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_24__.createElement("td",{style:{fontSize:"0.9em"}},react__WEBPACK_IMPORTED_MODULE_24__.createElement("div",{style:Object.assign({},legendBlockStyle,{backgroundColor:"transparent"})})," ",react__WEBPACK_IMPORTED_MODULE_24__.createElement("strong",null,"Total")),react__WEBPACK_IMPORTED_MODULE_24__.createElement("td",{style:{textAlign:"right"}},react__WEBPACK_IMPORTED_MODULE_24__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_24__.createElement("strong",null,transform.formatYTick(transform.stackedData[transform.stackedData.length-1].values[hoverIndex].y))))))))}}},{key:"renderUid",get:function get(){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_25__.H)()}}]),StackedAreaChart}(react__WEBPACK_IMPORTED_MODULE_24__.Component)).prototype,"grapher",[mobx__WEBPACK_IMPORTED_MODULE_26__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"grapher"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"bounds",[mobx__WEBPACK_IMPORTED_MODULE_26__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"bounds"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"transform",[mobx__WEBPACK_IMPORTED_MODULE_26__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"transform"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"midpoints",[mobx__WEBPACK_IMPORTED_MODULE_26__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"midpoints"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"legendItems",[mobx__WEBPACK_IMPORTED_MODULE_26__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"legendItems"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"legend",[mobx__WEBPACK_IMPORTED_MODULE_26__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"legend"),_class5.prototype),_descriptor2=_applyDecoratedDescriptor(_class5.prototype,"hoverIndex",[mobx__WEBPACK_IMPORTED_MODULE_26__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_applyDecoratedDescriptor(_class5.prototype,"onHover",[_dec3],Object.getOwnPropertyDescriptor(_class5.prototype,"onHover"),_class5.prototype),_descriptor3=_applyDecoratedDescriptor(_class5.prototype,"hoverKey",[mobx__WEBPACK_IMPORTED_MODULE_26__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_applyDecoratedDescriptor(_class5.prototype,"onLegendClick",[_dec4],Object.getOwnPropertyDescriptor(_class5.prototype,"onLegendClick"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"dualAxis",[mobx__WEBPACK_IMPORTED_MODULE_26__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"dualAxis"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"onLegendMouseOver",[_dec5],Object.getOwnPropertyDescriptor(_class5.prototype,"onLegendMouseOver"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"onLegendMouseLeave",[_dec6],Object.getOwnPropertyDescriptor(_class5.prototype,"onLegendMouseLeave"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"focusKeys",[mobx__WEBPACK_IMPORTED_MODULE_26__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"focusKeys"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"isFocusMode",[mobx__WEBPACK_IMPORTED_MODULE_26__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"isFocusMode"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"tooltip",[mobx__WEBPACK_IMPORTED_MODULE_26__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"tooltip"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"renderUid",[mobx__WEBPACK_IMPORTED_MODULE_26__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"renderUid"),_class5.prototype),_class4=_class5))||_class4);try{StackedAreaChart.displayName="StackedAreaChart",StackedAreaChart.__docgenInfo={description:"",displayName:"StackedAreaChart",props:{bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"Bounds"}},grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/areaCharts/StackedAreaChart.tsx#StackedAreaChart"]={docgenInfo:StackedAreaChart.__docgenInfo,name:"StackedAreaChart",path:"grapher/areaCharts/StackedAreaChart.tsx#StackedAreaChart"})}catch(__react_docgen_typescript_loader_error){}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CommandPalette}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(14),__webpack_require__(21),__webpack_require__(29),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(13),__webpack_require__(15);var _class,mobx_react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9),react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_12__);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var CommandPalette=Object(mobx_react__WEBPACK_IMPORTED_MODULE_11__.a)(_class=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(CommandPalette,_React$Component);var _super=_createSuper(CommandPalette);function CommandPalette(){return _classCallCheck(this,CommandPalette),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(CommandPalette,[{key:"render",value:function render(){var style={display:this.props.display},lastCat="",commands=this.props.commands.map((function(command,index){var cat=void 0;return command.category!==lastCat&&(lastCat=command.category,cat=react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{className:"commandCategory"},lastCat)),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{key:"command".concat(index)},cat,react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{className:"commandOption"},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("span",{className:"commandCombo"},command.combo),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("a",{onClick:function onClick(){return command.fn()}},command.title)))}));return react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{className:"CommandPalette",style:style},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{className:"paletteTitle"},"Keyboard Shortcuts"),commands)}}]),CommandPalette}(react__WEBPACK_IMPORTED_MODULE_12___default.a.Component))||_class;try{CommandPalette.displayName="CommandPalette",CommandPalette.__docgenInfo={description:"",displayName:"CommandPalette",props:{commands:{defaultValue:null,description:"",name:"commands",required:!0,type:{name:"Command[]"}},display:{defaultValue:null,description:"",name:"display",required:!0,type:{name:"enum",value:[{value:'"none"'},{value:'"block"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/controls/CommandPalette.tsx#CommandPalette"]={docgenInfo:CommandPalette.__docgenInfo,name:"CommandPalette",path:"grapher/controls/CommandPalette.tsx#CommandPalette"})}catch(__react_docgen_typescript_loader_error){}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ScatterPlot_ScatterPlot}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(31),__webpack_require__(49),__webpack_require__(19),__webpack_require__(30),__webpack_require__(43),__webpack_require__(14),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(23),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(45),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var _class,delegated_reactfrom_dll_reference_storybook_docs_dll=__webpack_require__(1),mobx_module=__webpack_require__(0),Util=__webpack_require__(2),index_module=__webpack_require__(9),Bounds=__webpack_require__(24),NoDataOverlay=__webpack_require__(55),linear=(__webpack_require__(57),__webpack_require__(106),__webpack_require__(997)),Vector2=__webpack_require__(38);__webpack_require__(46),__webpack_require__(11);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Triangle_Triangle=Object(index_module.a)(_class=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Triangle,_React$Component);var _super=_createSuper(Triangle);function Triangle(){return _classCallCheck(this,Triangle),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Triangle,[{key:"render",value:function render(){var _this$props=this.props,cx=_this$props.cx,cy=_this$props.cy,r=_this$props.r,x=cx-r,y=cy-r,points=[[x,y+2*r],[x+2*r/2,y],[x+2*r,y+2*r]];return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("polygon",_extends({points:points.map((function(p){return"".concat(p[0].toFixed(2),",").concat(p[1].toFixed(2))})).join(" ")},this.props))}}]),Triangle}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component))||_class;try{Triangle_Triangle.displayName="Triangle",Triangle_Triangle.__docgenInfo={description:"",displayName:"Triangle",props:{cx:{defaultValue:null,description:"",name:"cx",required:!1,type:{name:"number"}},cy:{defaultValue:null,description:"",name:"cy",required:!1,type:{name:"number"}},r:{defaultValue:null,description:"",name:"r",required:!1,type:{name:"number"}},fill:{defaultValue:null,description:"",name:"fill",required:!1,type:{name:"string"}},stroke:{defaultValue:null,description:"",name:"stroke",required:!1,type:{name:"string"}},strokeWidth:{defaultValue:null,description:"",name:"strokeWidth",required:!1,type:{name:"number"}},transform:{defaultValue:null,description:"",name:"transform",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/scatterCharts/Triangle.tsx#Triangle"]={docgenInfo:Triangle_Triangle.__docgenInfo,name:"Triangle",path:"grapher/scatterCharts/Triangle.tsx#Triangle"})}catch(__react_docgen_typescript_loader_error){}var MultiColorPolyline_class,_class2,src_select=__webpack_require__(187),Halos=__webpack_require__(183),GrapherConstants=__webpack_require__(17);__webpack_require__(32);function MultiColorPolyline_typeof(obj){return(MultiColorPolyline_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function MultiColorPolyline_extends(){return(MultiColorPolyline_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function MultiColorPolyline_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function MultiColorPolyline_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function MultiColorPolyline_setPrototypeOf(o,p){return(MultiColorPolyline_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function MultiColorPolyline_createSuper(Derived){var hasNativeReflectConstruct=function MultiColorPolyline_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=MultiColorPolyline_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=MultiColorPolyline_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return MultiColorPolyline_possibleConstructorReturn(this,result)}}function MultiColorPolyline_possibleConstructorReturn(self,call){return!call||"object"!==MultiColorPolyline_typeof(call)&&"function"!=typeof call?function MultiColorPolyline_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function MultiColorPolyline_getPrototypeOf(o){return(MultiColorPolyline_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function toPoint(point){return{x:point.x,y:point.y}}function getSegmentsFromPoints(points){var segments=[];return points.forEach((function(currentPoint){var currentSegment=segments[segments.length-1];if(currentSegment)if(currentSegment.color===currentPoint.color)currentSegment.points.push(toPoint(currentPoint));else{var midPoint=function getMidpoint(a,b){return{x:(a.x+b.x)/2,y:(a.y+b.y)/2}}(Object(Util.V)(currentSegment.points),currentPoint);currentSegment.points.push(midPoint),segments.push({points:[midPoint,toPoint(currentPoint)],color:currentPoint.color})}else segments.push({points:[toPoint(currentPoint)],color:currentPoint.color})})),segments}var PointsWithLabels_class,PointsWithLabels_class2,_dec,_dec2,_dec3,_class3,_class4,MultiColorPolyline_MultiColorPolyline=Object(index_module.a)((function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}((_class2=function(_React$Component){!function MultiColorPolyline_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&MultiColorPolyline_setPrototypeOf(subClass,superClass)}(MultiColorPolyline,_React$Component);var _super=MultiColorPolyline_createSuper(MultiColorPolyline);function MultiColorPolyline(){return MultiColorPolyline_classCallCheck(this,MultiColorPolyline),_super.apply(this,arguments)}return function MultiColorPolyline_createClass(Constructor,protoProps,staticProps){return protoProps&&MultiColorPolyline_defineProperties(Constructor.prototype,protoProps),staticProps&&MultiColorPolyline_defineProperties(Constructor,staticProps),Constructor}(MultiColorPolyline,[{key:"render",value:function render(){var _this=this,_this$props=this.props,markerStart=_this$props.markerStart,markerMid=_this$props.markerMid,markerEnd=_this$props.markerEnd,polylineProps=_objectWithoutProperties(_this$props,["markerStart","markerMid","markerEnd"]);return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(delegated_reactfrom_dll_reference_storybook_docs_dll.Fragment,null,this.segments.map((function(group,index){return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("polyline",MultiColorPolyline_extends({},polylineProps,{key:index,points:(points=group.points,points.map((function(p){return"".concat(p.x.toFixed(2),",").concat(p.y.toFixed(2))})).join(" ")),stroke:group.color,fill:"none",strokeLinecap:"butt",markerStart:0===index?markerStart:void 0,markerMid:markerMid,markerEnd:index===_this.segments.length-1?markerEnd:void 0}));var points})))}},{key:"segments",get:function get(){return getSegmentsFromPoints(this.props.points)}}]),MultiColorPolyline}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component)).prototype,"segments",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"segments"),_class2.prototype),MultiColorPolyline_class=_class2))||MultiColorPolyline_class;try{getSegmentsFromPoints.displayName="getSegmentsFromPoints",getSegmentsFromPoints.__docgenInfo={description:"",displayName:"getSegmentsFromPoints",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/scatterCharts/MultiColorPolyline.tsx#getSegmentsFromPoints"]={docgenInfo:getSegmentsFromPoints.__docgenInfo,name:"getSegmentsFromPoints",path:"grapher/scatterCharts/MultiColorPolyline.tsx#getSegmentsFromPoints"})}catch(__react_docgen_typescript_loader_error){}try{MultiColorPolyline_MultiColorPolyline.displayName="MultiColorPolyline",MultiColorPolyline_MultiColorPolyline.__docgenInfo={description:"",displayName:"MultiColorPolyline",props:{points:{defaultValue:null,description:"",name:"points",required:!0,type:{name:"MultiColorPolylinePoint[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/scatterCharts/MultiColorPolyline.tsx#MultiColorPolyline"]={docgenInfo:MultiColorPolyline_MultiColorPolyline.__docgenInfo,name:"MultiColorPolyline",path:"grapher/scatterCharts/MultiColorPolyline.tsx#MultiColorPolyline"})}catch(__react_docgen_typescript_loader_error){}function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function PointsWithLabels_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function PointsWithLabels_typeof(obj){return(PointsWithLabels_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function PointsWithLabels_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function PointsWithLabels_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function PointsWithLabels_createClass(Constructor,protoProps,staticProps){return protoProps&&PointsWithLabels_defineProperties(Constructor.prototype,protoProps),staticProps&&PointsWithLabels_defineProperties(Constructor,staticProps),Constructor}function PointsWithLabels_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&PointsWithLabels_setPrototypeOf(subClass,superClass)}function PointsWithLabels_setPrototypeOf(o,p){return(PointsWithLabels_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function PointsWithLabels_createSuper(Derived){var hasNativeReflectConstruct=function PointsWithLabels_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=PointsWithLabels_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=PointsWithLabels_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return PointsWithLabels_possibleConstructorReturn(this,result)}}function PointsWithLabels_possibleConstructorReturn(self,call){return!call||"object"!==PointsWithLabels_typeof(call)&&"function"!=typeof call?function PointsWithLabels_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function PointsWithLabels_getPrototypeOf(o){return(PointsWithLabels_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var PointsWithLabels_ScatterGroupSingle=Object(index_module.a)(PointsWithLabels_class=function(_React$Component){PointsWithLabels_inherits(ScatterGroupSingle,_React$Component);var _super=PointsWithLabels_createSuper(ScatterGroupSingle);function ScatterGroupSingle(){return PointsWithLabels_classCallCheck(this,ScatterGroupSingle),_super.apply(this,arguments)}return PointsWithLabels_createClass(ScatterGroupSingle,[{key:"render",value:function render(){var _this$props=this.props,group=_this$props.group,isLayerMode=_this$props.isLayerMode,isConnected=_this$props.isConnected,value=Object(Util.x)(group.values);if(void 0===value)return null;var color=group.isFocus||!isLayerMode?value.color:"#e2e2e2",isLabelled=group.allLabels.some((function(label){return!label.isHidden})),size=!group.isFocus&&isConnected?1+value.size/16:value.size,cx=value.position.x.toFixed(2),cy=value.position.y.toFixed(2),stroke=isLayerMode?"#bbb":isLabelled?"#333":"#666";return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",{key:group.displayKey,className:group.displayKey},group.isFocus&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("circle",{cx:cx,cy:cy,fill:"none",stroke:color,r:(size+3).toFixed(2)}),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("circle",{cx:cx,cy:cy,r:size.toFixed(2),fill:color,opacity:.8,stroke:stroke,strokeWidth:.5}))}}]),ScatterGroupSingle}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component))||PointsWithLabels_class,PointsWithLabels_ScatterBackgroundLine=Object(index_module.a)(PointsWithLabels_class2=function(_React$Component2){PointsWithLabels_inherits(ScatterBackgroundLine,_React$Component2);var _super2=PointsWithLabels_createSuper(ScatterBackgroundLine);function ScatterBackgroundLine(){return PointsWithLabels_classCallCheck(this,ScatterBackgroundLine),_super2.apply(this,arguments)}return PointsWithLabels_createClass(ScatterBackgroundLine,[{key:"render",value:function render(){var _this$props2=this.props,group=_this$props2.group,isLayerMode=_this$props2.isLayerMode,isConnected=_this$props2.isConnected;if(1===group.values.length)return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(PointsWithLabels_ScatterGroupSingle,{group:group,isLayerMode:isLayerMode,isConnected:isConnected});var firstValue=Object(Util.x)(group.values),lastValue=Object(Util.V)(group.values);if(void 0===firstValue||void 0===lastValue)return null;var rotation=Vector2.a.angle(group.offsetVector,Vector2.a.up);group.offsetVector.x<0&&(rotation=-rotation);return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",{key:group.displayKey,className:group.displayKey},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("circle",{cx:firstValue.position.x.toFixed(2),cy:firstValue.position.y.toFixed(2),r:(1+firstValue.size/25).toFixed(1),fill:isLayerMode?"#e2e2e2":firstValue.color,stroke:"none",opacity:.7}),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(MultiColorPolyline_MultiColorPolyline,{points:group.values.map((function(v){return{x:v.position.x,y:v.position.y,color:isLayerMode?"#ccc":v.color}})),strokeWidth:(.3+group.size/16).toFixed(2),opacity:.7}),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(Triangle_Triangle,{transform:"rotate(".concat(rotation,", ").concat(lastValue.position.x.toFixed(2),", ").concat(lastValue.position.y.toFixed(2),")"),cx:lastValue.position.x,cy:lastValue.position.y,r:1.5+lastValue.size/16,fill:isLayerMode?"#e2e2e2":lastValue.color,opacity:.7}))}}]),ScatterBackgroundLine}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component))||PointsWithLabels_class2,PointsWithLabels_PointsWithLabels=(_dec=mobx_module.d.bound,_dec2=mobx_module.d.bound,_dec3=mobx_module.d.bound,Object(index_module.a)((PointsWithLabels_applyDecoratedDescriptor((_class4=function(_React$Component3){PointsWithLabels_inherits(PointsWithLabels,_React$Component3);var _super3=PointsWithLabels_createSuper(PointsWithLabels);function PointsWithLabels(){var _this;PointsWithLabels_classCallCheck(this,PointsWithLabels);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super3.call.apply(_super3,[this].concat(args))).base=delegated_reactfrom_dll_reference_storybook_docs_dll.createRef(),_this.mouseFrame=void 0,_this.animSelection=void 0,_this}return PointsWithLabels_createClass(PointsWithLabels,[{key:"labelPriority",value:function labelPriority(l){var priority=l.fontSize;return l.series.isHover&&(priority+=1e4),l.series.isFocus&&(priority+=1e3),l.isEnd&&(priority+=100),priority}},{key:"makeStartLabel",value:function makeStartLabel(series){if(series.isForeground&&!(series.values.length<=1)){var labelFontFamily=this.labelFontFamily,fontSize=series.isForeground?this.isSubtleForeground?8:9:7,firstValue=series.values[0],nextSegment=series.values[1].position.subtract(firstValue.position),pos=firstValue.position.subtract(nextSegment.normalize().times(5)),bounds=Bounds.a.forText(firstValue.label,{x:pos.x,y:pos.y,fontSize:fontSize,fontFamily:labelFontFamily});return pos.x<firstValue.position.x&&(bounds=new Bounds.a(bounds.x-bounds.width+2,bounds.y,bounds.width,bounds.height)),pos.y>firstValue.position.y&&(bounds=new Bounds.a(bounds.x,bounds.y+bounds.height/2,bounds.width,bounds.height)),{text:firstValue.label,fontSize:fontSize,fontWeight:400,color:firstValue.color,bounds:bounds,series:series,isStart:!0}}}},{key:"makeMidLabels",value:function makeMidLabels(series){if(!series.isForeground||series.values.length<=1||!series.isHover&&this.isSubtleForeground)return[];var fontSize=series.isForeground?this.isSubtleForeground?8:9:7,labelFontFamily=this.labelFontFamily;return series.values.slice(1,-1).map((function(v,i){var prevPos=i>0&&series.values[i-1].position,prevSegment=prevPos&&v.position.subtract(prevPos),nextPos=series.values[i+1].position,nextSegment=nextPos.subtract(v.position),pos=v.position;if(prevPos&&prevSegment){var potentialSpots=prevSegment.add(nextSegment).normalize().normals().map((function(x){return x.times(5)})).map((function(n){return v.position.add(n)}));pos=Object(Util.eb)(potentialSpots,(function(p){return Vector2.a.distance(p,prevPos)+Vector2.a.distance(p,nextPos)}))}else pos=v.position.subtract(nextSegment.normalize().times(5));var bounds=Bounds.a.forText(v.label,{x:pos.x,y:pos.y,fontSize:fontSize,fontWeight:400,fontFamily:labelFontFamily});return pos.x<v.position.x&&(bounds=new Bounds.a(bounds.x-bounds.width+2,bounds.y,bounds.width,bounds.height)),pos.y>v.position.y&&(bounds=new Bounds.a(bounds.x,bounds.y+bounds.height/2,bounds.width,bounds.height)),{text:v.label,fontSize:fontSize,fontWeight:400,color:v.color,bounds:bounds,series:series,isMid:!0}}))}},{key:"makeEndLabel",value:function makeEndLabel(series){var isSubtleForeground=this.isSubtleForeground,labelFontFamily=this.labelFontFamily,hideLines=this.hideLines,lastValue=Object(Util.V)(series.values),lastPos=lastValue.position,fontSize=hideLines?series.isForeground?this.isSubtleForeground?8:9:7:lastValue.fontSize*(series.isForeground?isSubtleForeground?1.2:1.3:1.1),fontWeight=series.isForeground?700:400,offsetVector=Vector2.a.up;if(series.values.length>1){var prevPos=series.values[series.values.length-2].position;offsetVector=lastPos.subtract(prevPos)}series.offsetVector=offsetVector;var labelPos=lastPos.add(offsetVector.normalize().times(1===series.values.length?lastValue.size+1:5)),labelBounds=Bounds.a.forText(series.text,{x:labelPos.x,y:labelPos.y,fontSize:fontSize,fontFamily:labelFontFamily});return labelPos.x<lastPos.x&&(labelBounds=labelBounds.extend({x:labelBounds.x-labelBounds.width})),labelPos.y>lastPos.y&&(labelBounds=labelBounds.extend({y:labelBounds.y+labelBounds.height/2})),{text:hideLines&&series.isForeground?lastValue.label:series.text,fontSize:fontSize,fontWeight:fontWeight,color:lastValue.color,bounds:labelBounds,series:series,isEnd:!0}}},{key:"hideUnselectedLabels",value:function hideUnselectedLabels(labelsByPriority){labelsByPriority.filter((function(label){return!label.series.isFocus&&!label.series.isHover})).forEach((function(label){return label.isHidden=!0}))}},{key:"hideCollidingLabelsByPriority",value:function hideCollidingLabelsByPriority(labelsByPriority){for(var i=0;i<labelsByPriority.length;i++){var higherPriorityLabel=labelsByPriority[i];if(!higherPriorityLabel.isHidden)for(var j=i+1;j<labelsByPriority.length;j++){var lowerPriorityLabel=labelsByPriority[j];if(!lowerPriorityLabel.isHidden)(lowerPriorityLabel.isEnd&&(lowerPriorityLabel.series.isHover||lowerPriorityLabel.series.isFocus)&&higherPriorityLabel.series.isHover===lowerPriorityLabel.series.isHover&&higherPriorityLabel.series.isFocus===lowerPriorityLabel.series.isFocus?higherPriorityLabel.bounds.pad(6).intersects(lowerPriorityLabel.bounds):higherPriorityLabel.bounds.pad(-6).intersects(lowerPriorityLabel.bounds))&&(lowerPriorityLabel.isHidden=!0)}}}},{key:"moveLabelsInsideChartBounds",value:function moveLabelsInsideChartBounds(labels,bounds){var _step,_iterator=_createForOfIteratorHelper(labels);try{for(_iterator.s();!(_step=_iterator.n()).done;){var label=_step.value;label.bounds.left<bounds.left-1?label.bounds=label.bounds.extend({x:label.bounds.x+label.bounds.width}):label.bounds.right>bounds.right+1&&(label.bounds=label.bounds.extend({x:label.bounds.x-label.bounds.width})),label.bounds.top<bounds.top-1?label.bounds=label.bounds.extend({y:bounds.top}):label.bounds.bottom>bounds.bottom+1&&(label.bounds=label.bounds.extend({y:bounds.bottom-label.bounds.height}))}}catch(err){_iterator.e(err)}finally{_iterator.f()}}},{key:"onMouseLeave",value:function onMouseLeave(){void 0!==this.mouseFrame&&cancelAnimationFrame(this.mouseFrame),this.props.onMouseLeave&&this.props.onMouseLeave()}},{key:"onMouseMove",value:function onMouseMove(ev){var _this2=this;void 0!==this.mouseFrame&&cancelAnimationFrame(this.mouseFrame);var nativeEvent=ev.nativeEvent;this.mouseFrame=requestAnimationFrame((function(){var mouse=Object(Util.E)(_this2.base.current,nativeEvent),closestSeries=Object(Util.ib)(_this2.renderData,(function(series){return series.values.length>1?Object(Util.hb)(series.values.slice(0,-1).map((function(d,i){return Vector2.a.distanceFromPointToLineSq(mouse,d.position,series.values[i+1].position)}))):Object(Util.hb)(series.values.map((function(v){return Vector2.a.distanceSq(v.position,mouse)})))}));if(closestSeries&&_this2.props.onMouseOver){var datum=_this2.data.find((function(d){return d.entityDimensionKey===closestSeries.entityDimensionKey}));datum&&_this2.props.onMouseOver(datum)}}))}},{key:"onClick",value:function onClick(){this.props.onClick&&this.props.onClick()}},{key:"renderBackgroundGroups",value:function renderBackgroundGroups(){var backgroundGroups=this.backgroundGroups,isLayerMode=this.isLayerMode,isConnected=this.isConnected;return this.hideLines?[]:backgroundGroups.map((function(group){return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(PointsWithLabels_ScatterBackgroundLine,{key:group.entityDimensionKey,group:group,isLayerMode:isLayerMode,isConnected:isConnected})}))}},{key:"renderBackgroundLabels",value:function renderBackgroundLabels(){var backgroundGroups=this.backgroundGroups,isLayerMode=this.isLayerMode;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",{className:"backgroundLabels",fill:isLayerMode?"#aaa":"#333"},backgroundGroups.map((function(series){return series.allLabels.filter((function(l){return!l.isHidden})).map((function(l){return Object(Halos.a)(series.displayKey+"-endLabel",delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("text",{x:l.bounds.x.toFixed(2),y:(l.bounds.y+l.bounds.height).toFixed(2),fontSize:l.fontSize.toFixed(2),fontWeight:l.fontWeight,fill:isLayerMode?"#aaa":l.color},l.text))}))})))}},{key:"renderForegroundGroups",value:function renderForegroundGroups(){var foregroundGroups=this.foregroundGroups,isSubtleForeground=this.isSubtleForeground,hideLines=this.hideLines;return foregroundGroups.map((function(series){var lastValue=Object(Util.V)(series.values),strokeWidth=(series.isHover?3:isSubtleForeground?1.5:2)+.05*lastValue.size;if(1===series.values.length)return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(PointsWithLabels_ScatterGroupSingle,{key:series.displayKey,group:series});var firstValue=Object(Util.x)(series.values),opacity=isSubtleForeground?.9:1,radius=strokeWidth/2+1,rotation=Vector2.a.angle(series.offsetVector,Vector2.a.up);return series.offsetVector.x<0&&(rotation=-rotation),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",{key:series.displayKey,className:series.displayKey},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(MultiColorPolyline_MultiColorPolyline,{points:series.values.map((function(v){return{x:v.position.x,y:v.position.y,color:hideLines?"rgba(0,0,0,0)":v.color}})),strokeWidth:strokeWidth,opacity:opacity}),series.isFocus&&!hideLines&&firstValue&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("circle",{cx:firstValue.position.x.toFixed(2),cy:firstValue.position.y.toFixed(2),r:radius,fill:firstValue.color,opacity:opacity,stroke:firstValue.color,strokeOpacity:.6}),series.isHover&&!hideLines&&series.values.slice(1,-1).map((function(v,index){return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("circle",{key:index,cx:v.position.x,cy:v.position.y,r:radius,fill:v.color,stroke:"none"})})),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(Triangle_Triangle,{transform:"rotate(".concat(rotation,", ").concat(lastValue.position.x.toFixed(2),", ").concat(lastValue.position.y.toFixed(2),")"),cx:lastValue.position.x,cy:lastValue.position.y,r:2*strokeWidth,fill:lastValue.color,opacity:opacity}))}))}},{key:"renderForegroundLabels",value:function renderForegroundLabels(){var foregroundGroups=this.foregroundGroups,labelFontFamily=this.labelFontFamily;return foregroundGroups.map((function(series){return series.allLabels.filter((function(l){return!l.isHidden})).map((function(l,i){return Object(Halos.a)("".concat(series.displayKey,"-label-").concat(i),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("text",{x:l.bounds.x.toFixed(2),y:(l.bounds.y+l.bounds.height).toFixed(2),fontSize:l.fontSize,fontFamily:labelFontFamily,fontWeight:l.fontWeight,fill:l.color},l.text))}))}))}},{key:"componentDidMount",value:function componentDidMount(){var _this3=this,radiuses=[];this.animSelection=Object(src_select.a)(this.base.current).selectAll("circle"),this.animSelection.each((function(){radiuses.push(this.getAttribute("r")),this.setAttribute("r","0")})).transition().duration(500).attr("r",(function(_,i){return radiuses[i]})).on("end",(function(){return _this3.forceUpdate()}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.animSelection&&this.animSelection.interrupt()}},{key:"render",value:function render(){var bounds=this.bounds,renderData=this.renderData,renderUid=this.renderUid,labelFontFamily=this.labelFontFamily,clipBounds=bounds.pad(-10);return Object(Util.O)(renderData)?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(NoDataOverlay.a,{options:this.props.grapher,bounds:bounds}):delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",{ref:this.base,className:"PointsWithLabels clickable",clipPath:"url(#scatterBounds-".concat(renderUid,")"),onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,onClick:this.onClick,fontFamily:labelFontFamily},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("rect",{key:"background",x:bounds.x,y:bounds.y,width:bounds.width,height:bounds.height,fill:"rgba(255,255,255,0)"}),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("defs",null,delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("clipPath",{id:"scatterBounds-".concat(renderUid)},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("rect",{x:clipBounds.x,y:clipBounds.y,width:clipBounds.width,height:clipBounds.height}))),this.renderBackgroundGroups(),this.renderBackgroundLabels(),this.renderForegroundGroups(),this.renderForegroundLabels())}},{key:"data",get:function get(){return this.props.data}},{key:"isConnected",get:function get(){return this.data.some((function(g){return g.values.length>1}))}},{key:"focusKeys",get:function get(){return Object(Util.L)(this.props.focusKeys||[],this.data.map((function(g){return g.entityDimensionKey})))}},{key:"hoverKeys",get:function get(){return this.props.hoverKeys}},{key:"isLayerMode",get:function get(){return this.focusKeys.length>0||this.hoverKeys.length>0}},{key:"bounds",get:function get(){return this.props.dualAxis.innerBounds}},{key:"isSubtleForeground",get:function get(){return this.focusKeys.length>1&&this.props.data.some((function(series){return series.values.length>2}))}},{key:"colorScale",get:function get(){return this.props.colorScale}},{key:"sizeScale",get:function get(){return Object(linear.a)().range([10,1e3]).domain(this.props.sizeDomain)}},{key:"fontScale",get:function get(){return Object(linear.a)().range([10,13]).domain(this.sizeScale.domain())}},{key:"labelFontFamily",get:function get(){return"Arial, sans-serif"}},{key:"hideLines",get:function get(){return this.props.hideLines}},{key:"initialRenderData",get:function get(){var _this4=this,data=this.data,sizeScale=this.sizeScale,fontScale=this.fontScale,colorScale=this.colorScale,bounds=this.bounds,xAxis=this.props.dualAxis.xAxis.clone();xAxis.range=bounds.xRange();var yAxis=this.props.dualAxis.yAxis.clone();return yAxis.range=this.bounds.yRange(),Object(Util.Hb)(data.map((function(d){var values=d.values.map((function(v){var area=sizeScale(v.size||4),scaleColor=void 0!==colorScale?colorScale.getColor(v.color):void 0;return{position:new Vector2.a(Math.floor(xAxis.place(v.x)),Math.floor(yAxis.place(v.y))),color:null!=scaleColor?scaleColor:d.color,size:Math.sqrt(area/Math.PI),fontSize:fontScale(d.size||1),time:v.time,label:_this4.props.formatLabel(v)}}));return{entityDimensionKey:d.entityDimensionKey,displayKey:"key-"+Object(Util.Z)(d.entityDimensionKey),color:d.color,size:Object(Util.V)(values).size,values:values,text:d.label,midLabels:[],allLabels:[],offsetVector:Vector2.a.zero}})),(function(d){return d.size}),GrapherConstants.e.desc)}},{key:"renderData",get:function get(){var _step2,_this5=this,renderData=this.initialRenderData,_iterator2=_createForOfIteratorHelper(renderData);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _series=_step2.value;_series.isHover=this.hoverKeys.includes(_series.entityDimensionKey),_series.isFocus=this.focusKeys.includes(_series.entityDimensionKey),_series.isForeground=_series.isHover||_series.isFocus,_series.isHover&&(_series.size+=1)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}var _step3,_iterator3=_createForOfIteratorHelper(renderData);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _series2=_step3.value;_series2.startLabel=this.makeStartLabel(_series2),_series2.midLabels=this.makeMidLabels(_series2),_series2.endLabel=this.makeEndLabel(_series2),_series2.allLabels=[_series2.startLabel].concat(_series2.midLabels).concat([_series2.endLabel]).filter((function(x){return x}))}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}var labels=Object(Util.z)(renderData.map((function(series){return series.allLabels})));this.moveLabelsInsideChartBounds(labels,this.bounds);var labelsByPriority=Object(Util.Hb)(labels,(function(l){return _this5.labelPriority(l)}),GrapherConstants.e.desc);return this.focusKeys.length>0&&this.hideUnselectedLabels(labelsByPriority),this.hideCollidingLabelsByPriority(labelsByPriority),renderData}},{key:"backgroundGroups",get:function get(){return this.renderData.filter((function(group){return!group.isForeground}))}},{key:"foregroundGroups",get:function get(){return this.renderData.filter((function(group){return!!group.isForeground}))}},{key:"renderUid",get:function get(){return Object(Util.H)()}}]),PointsWithLabels}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component)).prototype,"data",[mobx_module.f],Object.getOwnPropertyDescriptor(_class4.prototype,"data"),_class4.prototype),PointsWithLabels_applyDecoratedDescriptor(_class4.prototype,"isConnected",[mobx_module.f],Object.getOwnPropertyDescriptor(_class4.prototype,"isConnected"),_class4.prototype),PointsWithLabels_applyDecoratedDescriptor(_class4.prototype,"focusKeys",[mobx_module.f],Object.getOwnPropertyDescriptor(_class4.prototype,"focusKeys"),_class4.prototype),PointsWithLabels_applyDecoratedDescriptor(_class4.prototype,"hoverKeys",[mobx_module.f],Object.getOwnPropertyDescriptor(_class4.prototype,"hoverKeys"),_class4.prototype),PointsWithLabels_applyDecoratedDescriptor(_class4.prototype,"isLayerMode",[mobx_module.f],Object.getOwnPropertyDescriptor(_class4.prototype,"isLayerMode"),_class4.prototype),PointsWithLabels_applyDecoratedDescriptor(_class4.prototype,"bounds",[mobx_module.f],Object.getOwnPropertyDescriptor(_class4.prototype,"bounds"),_class4.prototype),PointsWithLabels_applyDecoratedDescriptor(_class4.prototype,"isSubtleForeground",[mobx_module.f],Object.getOwnPropertyDescriptor(_class4.prototype,"isSubtleForeground"),_class4.prototype),PointsWithLabels_applyDecoratedDescriptor(_class4.prototype,"colorScale",[mobx_module.f],Object.getOwnPropertyDescriptor(_class4.prototype,"colorScale"),_class4.prototype),PointsWithLabels_applyDecoratedDescriptor(_class4.prototype,"sizeScale",[mobx_module.f],Object.getOwnPropertyDescriptor(_class4.prototype,"sizeScale"),_class4.prototype),PointsWithLabels_applyDecoratedDescriptor(_class4.prototype,"fontScale",[mobx_module.f],Object.getOwnPropertyDescriptor(_class4.prototype,"fontScale"),_class4.prototype),PointsWithLabels_applyDecoratedDescriptor(_class4.prototype,"labelFontFamily",[mobx_module.f],Object.getOwnPropertyDescriptor(_class4.prototype,"labelFontFamily"),_class4.prototype),PointsWithLabels_applyDecoratedDescriptor(_class4.prototype,"hideLines",[mobx_module.f],Object.getOwnPropertyDescriptor(_class4.prototype,"hideLines"),_class4.prototype),PointsWithLabels_applyDecoratedDescriptor(_class4.prototype,"initialRenderData",[mobx_module.f],Object.getOwnPropertyDescriptor(_class4.prototype,"initialRenderData"),_class4.prototype),PointsWithLabels_applyDecoratedDescriptor(_class4.prototype,"renderData",[mobx_module.f],Object.getOwnPropertyDescriptor(_class4.prototype,"renderData"),_class4.prototype),PointsWithLabels_applyDecoratedDescriptor(_class4.prototype,"onMouseLeave",[_dec],Object.getOwnPropertyDescriptor(_class4.prototype,"onMouseLeave"),_class4.prototype),PointsWithLabels_applyDecoratedDescriptor(_class4.prototype,"onMouseMove",[_dec2],Object.getOwnPropertyDescriptor(_class4.prototype,"onMouseMove"),_class4.prototype),PointsWithLabels_applyDecoratedDescriptor(_class4.prototype,"onClick",[_dec3],Object.getOwnPropertyDescriptor(_class4.prototype,"onClick"),_class4.prototype),PointsWithLabels_applyDecoratedDescriptor(_class4.prototype,"backgroundGroups",[mobx_module.f],Object.getOwnPropertyDescriptor(_class4.prototype,"backgroundGroups"),_class4.prototype),PointsWithLabels_applyDecoratedDescriptor(_class4.prototype,"foregroundGroups",[mobx_module.f],Object.getOwnPropertyDescriptor(_class4.prototype,"foregroundGroups"),_class4.prototype),PointsWithLabels_applyDecoratedDescriptor(_class4.prototype,"renderUid",[mobx_module.f],Object.getOwnPropertyDescriptor(_class4.prototype,"renderUid"),_class4.prototype),_class3=_class4))||_class3);try{PointsWithLabels_PointsWithLabels.displayName="PointsWithLabels",PointsWithLabels_PointsWithLabels.__docgenInfo={description:"",displayName:"PointsWithLabels",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"ScatterSeries[]"}},hoverKeys:{defaultValue:null,description:"",name:"hoverKeys",required:!0,type:{name:"string[]"}},focusKeys:{defaultValue:null,description:"",name:"focusKeys",required:!0,type:{name:"string[]"}},dualAxis:{defaultValue:null,description:"",name:"dualAxis",required:!0,type:{name:"DualAxis"}},colorScale:{defaultValue:null,description:"",name:"colorScale",required:!1,type:{name:"ColorScale"}},sizeDomain:{defaultValue:null,description:"",name:"sizeDomain",required:!0,type:{name:"[number, number]"}},onMouseOver:{defaultValue:null,description:"",name:"onMouseOver",required:!0,type:{name:"(series: ScatterSeries) => void"}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!0,type:{name:"() => void"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},hideLines:{defaultValue:null,description:"",name:"hideLines",required:!0,type:{name:"boolean"}},formatLabel:{defaultValue:null,description:"",name:"formatLabel",required:!0,type:{name:"(v: ScatterValue) => string"}},grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/scatterCharts/PointsWithLabels.tsx#PointsWithLabels"]={docgenInfo:PointsWithLabels_PointsWithLabels.__docgenInfo,name:"PointsWithLabels",path:"grapher/scatterCharts/PointsWithLabels.tsx#PointsWithLabels"})}catch(__react_docgen_typescript_loader_error){}var ConnectedScatterLegend_class,TextWrap=__webpack_require__(47);function ConnectedScatterLegend_extends(){return(ConnectedScatterLegend_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function ConnectedScatterLegend_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function ConnectedScatterLegend_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var ConnectedScatterLegend_ConnectedScatterLegend=(ConnectedScatterLegend_applyDecoratedDescriptor((ConnectedScatterLegend_class=function(){function ConnectedScatterLegend(props){!function ConnectedScatterLegend_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ConnectedScatterLegend),this.props=void 0,this.props=props}return function ConnectedScatterLegend_createClass(Constructor,protoProps,staticProps){return protoProps&&ConnectedScatterLegend_defineProperties(Constructor.prototype,protoProps),staticProps&&ConnectedScatterLegend_defineProperties(Constructor,staticProps),Constructor}(ConnectedScatterLegend,[{key:"render",value:function render(targetX,targetY){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},props=this.props,startLabel=this.startLabel,endLabel=this.endLabel,fontColor=this.fontColor,lineLeft=targetX+startLabel.width+5,lineRight=targetX+props.maxWidth-endLabel.width-5,lineY=targetY+this.height/2-.5;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",ConnectedScatterLegend_extends({className:"ConnectedScatterLegend"},options),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("rect",{x:targetX,y:targetY,width:this.width,height:this.height,fill:"#fff",opacity:0}),startLabel.render(targetX,targetY,{fill:fontColor}),endLabel.render(targetX+props.maxWidth-endLabel.width,targetY,{fill:fontColor}),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("line",{x1:lineLeft,y1:lineY,x2:lineRight,y2:lineY,stroke:"#666",strokeWidth:1}),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("circle",{cx:lineLeft,cy:lineY,r:2,fill:"#666",stroke:"#ccc",strokeWidth:.2}),!props.endpointsOnly&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(delegated_reactfrom_dll_reference_storybook_docs_dll.Fragment,null,delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("circle",{cx:lineLeft+(lineRight-lineLeft)/3,cy:lineY,r:2,fill:"#666",stroke:"#ccc",strokeWidth:.2}),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("circle",{cx:lineLeft+2*(lineRight-lineLeft)/3,cy:lineY,r:2,fill:"#666",stroke:"#ccc",strokeWidth:.2})),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(Triangle_Triangle,{cx:lineRight,cy:lineY,r:3,fill:"#666",stroke:"#ccc",strokeWidth:.2,transform:"rotate(".concat(90,", ",lineRight,", ").concat(lineY,")")}))}},{key:"fontSize",get:function get(){return.7*this.props.fontSize}},{key:"fontColor",get:function get(){return"#333"}},{key:"maxLabelWidth",get:function get(){return this.props.maxWidth/3}},{key:"startLabel",get:function get(){var props=this.props,maxLabelWidth=this.maxLabelWidth,fontSize=this.fontSize;return new TextWrap.a({text:props.startTime,fontSize:fontSize,maxWidth:maxLabelWidth})}},{key:"endLabel",get:function get(){var props=this.props,maxLabelWidth=this.maxLabelWidth,fontSize=this.fontSize;return new TextWrap.a({text:props.endTime,fontSize:fontSize,maxWidth:maxLabelWidth})}},{key:"width",get:function get(){return this.props.maxWidth}},{key:"height",get:function get(){return Math.max(this.startLabel.height,this.endLabel.height)}}]),ConnectedScatterLegend}()).prototype,"fontSize",[mobx_module.f],Object.getOwnPropertyDescriptor(ConnectedScatterLegend_class.prototype,"fontSize"),ConnectedScatterLegend_class.prototype),ConnectedScatterLegend_applyDecoratedDescriptor(ConnectedScatterLegend_class.prototype,"fontColor",[mobx_module.f],Object.getOwnPropertyDescriptor(ConnectedScatterLegend_class.prototype,"fontColor"),ConnectedScatterLegend_class.prototype),ConnectedScatterLegend_applyDecoratedDescriptor(ConnectedScatterLegend_class.prototype,"maxLabelWidth",[mobx_module.f],Object.getOwnPropertyDescriptor(ConnectedScatterLegend_class.prototype,"maxLabelWidth"),ConnectedScatterLegend_class.prototype),ConnectedScatterLegend_applyDecoratedDescriptor(ConnectedScatterLegend_class.prototype,"startLabel",[mobx_module.f],Object.getOwnPropertyDescriptor(ConnectedScatterLegend_class.prototype,"startLabel"),ConnectedScatterLegend_class.prototype),ConnectedScatterLegend_applyDecoratedDescriptor(ConnectedScatterLegend_class.prototype,"endLabel",[mobx_module.f],Object.getOwnPropertyDescriptor(ConnectedScatterLegend_class.prototype,"endLabel"),ConnectedScatterLegend_class.prototype),ConnectedScatterLegend_applyDecoratedDescriptor(ConnectedScatterLegend_class.prototype,"width",[mobx_module.f],Object.getOwnPropertyDescriptor(ConnectedScatterLegend_class.prototype,"width"),ConnectedScatterLegend_class.prototype),ConnectedScatterLegend_applyDecoratedDescriptor(ConnectedScatterLegend_class.prototype,"height",[mobx_module.f],Object.getOwnPropertyDescriptor(ConnectedScatterLegend_class.prototype,"height"),ConnectedScatterLegend_class.prototype),ConnectedScatterLegend_class);try{ConnectedScatterLegend_ConnectedScatterLegend.displayName="ConnectedScatterLegend",ConnectedScatterLegend_ConnectedScatterLegend.__docgenInfo={description:"",displayName:"ConnectedScatterLegend",props:{maxWidth:{defaultValue:null,description:"",name:"maxWidth",required:!0,type:{name:"number"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!0,type:{name:"number"}},startTime:{defaultValue:null,description:"",name:"startTime",required:!0,type:{name:"string"}},endTime:{defaultValue:null,description:"",name:"endTime",required:!0,type:{name:"string"}},endpointsOnly:{defaultValue:null,description:"",name:"endpointsOnly",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/scatterCharts/ConnectedScatterLegend.tsx#ConnectedScatterLegend"]={docgenInfo:ConnectedScatterLegend_ConnectedScatterLegend.__docgenInfo,name:"ConnectedScatterLegend",path:"grapher/scatterCharts/ConnectedScatterLegend.tsx#ConnectedScatterLegend"})}catch(__react_docgen_typescript_loader_error){}var ScatterPlot_dec,ScatterPlot_dec2,ScatterPlot_dec3,_dec4,_dec5,_dec6,_dec7,_dec8,_dec9,_dec10,ScatterPlot_class,ScatterPlot_class2,_descriptor,_descriptor2,ScatterPlot_class3,ScatterPlot_temp,ScatterPlot_class4,ScatterColorLegend=__webpack_require__(108),AxisViews=__webpack_require__(73),Axis=__webpack_require__(83),ComparisonLine=__webpack_require__(156);function ScatterPlot_typeof(obj){return(ScatterPlot_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return ScatterPlot_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function ScatterPlot_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return ScatterPlot_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ScatterPlot_arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ScatterPlot_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function ScatterPlot_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function ScatterPlot_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function ScatterPlot_createClass(Constructor,protoProps,staticProps){return protoProps&&ScatterPlot_defineProperties(Constructor.prototype,protoProps),staticProps&&ScatterPlot_defineProperties(Constructor,staticProps),Constructor}function ScatterPlot_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ScatterPlot_setPrototypeOf(subClass,superClass)}function ScatterPlot_setPrototypeOf(o,p){return(ScatterPlot_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function ScatterPlot_createSuper(Derived){var hasNativeReflectConstruct=function ScatterPlot_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=ScatterPlot_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=ScatterPlot_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return ScatterPlot_possibleConstructorReturn(this,result)}}function ScatterPlot_possibleConstructorReturn(self,call){return!call||"object"!==ScatterPlot_typeof(call)&&"function"!=typeof call?ScatterPlot_assertThisInitialized(self):call}function ScatterPlot_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function ScatterPlot_getPrototypeOf(o){return(ScatterPlot_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ScatterPlot_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var ScatterPlot_ScatterPlot=(ScatterPlot_dec=mobx_module.f.struct,ScatterPlot_dec2=mobx_module.d.bound,ScatterPlot_dec3=mobx_module.d.bound,_dec4=mobx_module.d.bound,_dec5=mobx_module.d.bound,_dec6=mobx_module.d.bound,_dec7=mobx_module.d.bound,_dec8=mobx_module.d.bound,_dec9=mobx_module.f.struct,_dec10=mobx_module.d.bound,Object(index_module.a)((ScatterPlot_temp=ScatterPlot_class3=function(_React$Component){ScatterPlot_inherits(ScatterPlot,_React$Component);var _super=ScatterPlot_createSuper(ScatterPlot);function ScatterPlot(){var _this;ScatterPlot_classCallCheck(this,ScatterPlot);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _initializerDefineProperty(_this=_super.call.apply(_super,[this].concat(args)),"hoverKey",_descriptor,ScatterPlot_assertThisInitialized(_this)),_initializerDefineProperty(_this,"hoverColor",_descriptor2,ScatterPlot_assertThisInitialized(_this)),_this}return ScatterPlot_createClass(ScatterPlot,[{key:"onSelectEntity",value:function onSelectEntity(key){"disabled"!==this.grapher.addCountryMode&&this.grapher.toggleKey(key)}},{key:"onLegendMouseOver",value:function onLegendMouseOver(color){this.hoverColor=color}},{key:"onLegendMouseLeave",value:function onLegendMouseLeave(){this.hoverColor=void 0}},{key:"onLegendClick",value:function onLegendClick(){var grapher=this.grapher,hoverColor=this.hoverColor;if("disabled"!==grapher.addCountryMode&&void 0!==hoverColor){var keysToToggle=this.transform.currentData.filter((function(g){return g.color===hoverColor})).map((function(g){return g.entityDimensionKey})),allKeysActive=Object(Util.L)(keysToToggle,grapher.selectedKeys).length===keysToToggle.length;grapher.selectedKeys=allKeysActive?Util.ac.apply(void 0,[grapher.selectedKeys].concat(_toConsumableArray(keysToToggle))):Object(Util.Ub)(grapher.selectedKeys.concat(keysToToggle))}}},{key:"onScatterMouseOver",value:function onScatterMouseOver(series){this.hoverKey=series.entityDimensionKey}},{key:"onScatterMouseLeave",value:function onScatterMouseLeave(){this.hoverKey=void 0}},{key:"onScatterClick",value:function onScatterClick(){this.hoverKey&&this.onSelectEntity(this.hoverKey)}},{key:"onToggleEndpoints",value:function onToggleEndpoints(){this.transform.compareEndPointsOnly=!this.transform.compareEndPointsOnly}},{key:"render",value:function render(){if(this.transform.failMessage)return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(NoDataOverlay.a,{options:this.grapher,bounds:this.bounds,message:this.transform.failMessage});var transform=this.transform,bounds=this.bounds,dualAxis=this.dualAxis,legend=this.legend,focusKeys=this.focusKeys,hoverKeys=this.hoverKeys,focusColors=this.focusColors,activeColors=this.activeColors,arrowLegend=this.arrowLegend,sidebarWidth=this.sidebarWidth,tooltipSeries=this.tooltipSeries,comparisonLines=this.comparisonLines,hideLines=this.hideLines,grapher=this.grapher,currentData=transform.currentData,sizeDomain=transform.sizeDomain,colorScale=transform.colorScale;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",{className:"ScatterPlot"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(AxisViews.b,{isInteractive:grapher.isInteractive,dualAxis:dualAxis,showTickMarks:!1}),comparisonLines&&comparisonLines.map((function(line,i){return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(ComparisonLine.a,{key:i,dualAxis:dualAxis,comparisonLine:line})})),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(PointsWithLabels_PointsWithLabels,{grapher:grapher,hideLines:hideLines,data:currentData,dualAxis:dualAxis,colorScale:this.transform.colorDimension?colorScale:void 0,sizeDomain:sizeDomain,focusKeys:focusKeys,hoverKeys:hoverKeys,onMouseOver:this.onScatterMouseOver,onMouseLeave:this.onScatterMouseLeave,onClick:this.onScatterClick,formatLabel:this.scatterPointLabelFormatFunction}),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(ScatterColorLegend.a,{legend:legend,x:bounds.right-sidebarWidth,y:bounds.top,onMouseOver:this.onLegendMouseOver,onMouseLeave:this.onLegendMouseLeave,onClick:this.onLegendClick,focusColors:focusColors,activeColors:activeColors}),(arrowLegend||tooltipSeries)&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("line",{x1:bounds.right-sidebarWidth,y1:bounds.top+legend.height+2,x2:bounds.right-5,y2:bounds.top+legend.height+2,stroke:"#ccc"}),arrowLegend&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",{className:"clickable",onClick:this.onToggleEndpoints},arrowLegend.render(bounds.right-sidebarWidth,bounds.top+legend.height+11)),tooltipSeries&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(ScatterPlot_ScatterTooltip,{formatY:transform.yFormatTooltip,formatX:transform.xFormatTooltip,formatYYear:transform.yFormatYear,formatXYear:transform.xFormatYear,series:tooltipSeries,maxWidth:sidebarWidth,fontSize:this.grapher.baseFontSize,x:bounds.right-sidebarWidth,y:bounds.top+legend.height+11+(arrowLegend?arrowLegend.height+10:0)}))}},{key:"grapher",get:function get(){return this.props.grapher}},{key:"transform",get:function get(){return this.grapher.scatterTransform}},{key:"bounds",get:function get(){return this.props.bounds}},{key:"colorsInUse",get:function get(){var _this2=this;return Object(Util.s)(Object(Util.Ub)(this.transform.allPoints.map((function(point){return _this2.transform.colorScale.getColor(point.color)}))))}},{key:"legend",get:function get(){var that=this;return new ScatterColorLegend.b({get maxWidth(){return that.sidebarMaxWidth},get fontSize(){return that.grapher.baseFontSize},get colorables(){return that.transform.colorScale.legendData.filter((function(bin){return that.colorsInUse.includes(bin.color)})).map((function(bin){var _bin$label,_bin$label2;return{key:null!==(_bin$label=bin.label)&&void 0!==_bin$label?_bin$label:"",label:null!==(_bin$label2=bin.label)&&void 0!==_bin$label2?_bin$label2:"",color:bin.color}}))},get title(){return that.transform.colorScale.legendDescription}})}},{key:"focusColors",get:function get(){var colorsInUse=this.colorsInUse,transform=this.transform,grapher=this.grapher;return colorsInUse.filter((function(color){var matchingKeys=transform.currentData.filter((function(g){return g.color===color})).map((function(g){return g.entityDimensionKey}));return Object(Util.L)(matchingKeys,grapher.selectedKeys).length===matchingKeys.length}))}},{key:"hoverKeys",get:function get(){var hoverColor=this.hoverColor,hoverKey=this.hoverKey,transform=this.transform,hoverKeys=void 0===hoverColor?[]:Object(Util.Ub)(transform.currentData.filter((function(g){return g.color===hoverColor})).map((function(g){return g.entityDimensionKey})));return void 0!==hoverKey&&hoverKeys.push(hoverKey),hoverKeys}},{key:"focusKeys",get:function get(){return this.grapher.selectedKeys}},{key:"arrowLegend",get:function get(){var transform=this.transform;if(transform.startTimelineTime!==transform.endTimelineTime&&!this.grapher.isRelativeMode){var that=this,formatFn=this.grapher.table.timeColumnFormatFunction;return new ConnectedScatterLegend_ConnectedScatterLegend({get maxWidth(){return that.sidebarWidth},get fontSize(){return that.grapher.baseFontSize},get startTime(){return formatFn(that.transform.startTimelineTime)},get endTime(){return formatFn(that.transform.endTimelineTime)},get endpointsOnly(){return that.transform.compareEndPointsOnly}})}}},{key:"tooltipSeries",get:function get(){var hoverKey=this.hoverKey,focusKeys=this.focusKeys,transform=this.transform;return void 0!==hoverKey?transform.currentData.find((function(g){return g.entityDimensionKey===hoverKey})):focusKeys&&1===focusKeys.length?transform.currentData.find((function(g){return g.entityDimensionKey===focusKeys[0]})):void 0}},{key:"sidebarMaxWidth",get:function get(){return Math.max(.2*this.bounds.width,this.sidebarMinWidth)}},{key:"sidebarMinWidth",get:function get(){return Math.max(.1*this.bounds.width,60)}},{key:"sidebarWidth",get:function get(){var sidebarMinWidth=this.sidebarMinWidth,sidebarMaxWidth=this.sidebarMaxWidth,legend=this.legend;return Math.max(Math.min(legend.width,sidebarMaxWidth),sidebarMinWidth)}},{key:"dualAxis",get:function get(){var _this$transform=this.transform,xAxis=_this$transform.xAxis,yAxis=_this$transform.yAxis;return new Axis.a({bounds:this.bounds.padRight(this.sidebarWidth+20),xAxis:xAxis,yAxis:yAxis})}},{key:"comparisonLines",get:function get(){return this.grapher.comparisonLines}},{key:"activeColors",get:function get(){var hoverKeys=this.hoverKeys,focusKeys=this.focusKeys,transform=this.transform,activeKeys=hoverKeys.concat(focusKeys),series=transform.currentData;activeKeys.length&&(series=series.filter((function(g){return activeKeys.includes(g.entityDimensionKey)})));var colorValues=Object(Util.Ub)(Object(Util.z)(series.map((function(s){return s.values.map((function(p){return p.color}))}))));return Object(Util.s)(colorValues.map(transform.colorScale.getColor))}},{key:"hideLines",get:function get(){return!!this.grapher.hideConnectedScatterLines}},{key:"scatterPointLabelFormatFunction",get:function get(){var _this3=this;return{year:function year(scatterValue){return _this3.grapher.table.timeColumnFormatFunction(scatterValue.year)},y:function y(scatterValue){return _this3.transform.yFormatTooltip(scatterValue.y)},x:function x(scatterValue){return _this3.transform.xFormatTooltip(scatterValue.x)}}[this.grapher.scatterPointLabelStrategy||"year"]}}]),ScatterPlot}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component),ScatterPlot_class3.defaultProps={bounds:new Bounds.a(0,0,640,480)},_descriptor=ScatterPlot_applyDecoratedDescriptor((ScatterPlot_class2=ScatterPlot_temp).prototype,"hoverKey",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor2=ScatterPlot_applyDecoratedDescriptor(ScatterPlot_class2.prototype,"hoverColor",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ScatterPlot_applyDecoratedDescriptor(ScatterPlot_class2.prototype,"grapher",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterPlot_class2.prototype,"grapher"),ScatterPlot_class2.prototype),ScatterPlot_applyDecoratedDescriptor(ScatterPlot_class2.prototype,"transform",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterPlot_class2.prototype,"transform"),ScatterPlot_class2.prototype),ScatterPlot_applyDecoratedDescriptor(ScatterPlot_class2.prototype,"bounds",[ScatterPlot_dec],Object.getOwnPropertyDescriptor(ScatterPlot_class2.prototype,"bounds"),ScatterPlot_class2.prototype),ScatterPlot_applyDecoratedDescriptor(ScatterPlot_class2.prototype,"onSelectEntity",[ScatterPlot_dec2],Object.getOwnPropertyDescriptor(ScatterPlot_class2.prototype,"onSelectEntity"),ScatterPlot_class2.prototype),ScatterPlot_applyDecoratedDescriptor(ScatterPlot_class2.prototype,"colorsInUse",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterPlot_class2.prototype,"colorsInUse"),ScatterPlot_class2.prototype),ScatterPlot_applyDecoratedDescriptor(ScatterPlot_class2.prototype,"legend",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterPlot_class2.prototype,"legend"),ScatterPlot_class2.prototype),ScatterPlot_applyDecoratedDescriptor(ScatterPlot_class2.prototype,"onLegendMouseOver",[ScatterPlot_dec3],Object.getOwnPropertyDescriptor(ScatterPlot_class2.prototype,"onLegendMouseOver"),ScatterPlot_class2.prototype),ScatterPlot_applyDecoratedDescriptor(ScatterPlot_class2.prototype,"onLegendMouseLeave",[_dec4],Object.getOwnPropertyDescriptor(ScatterPlot_class2.prototype,"onLegendMouseLeave"),ScatterPlot_class2.prototype),ScatterPlot_applyDecoratedDescriptor(ScatterPlot_class2.prototype,"onLegendClick",[_dec5],Object.getOwnPropertyDescriptor(ScatterPlot_class2.prototype,"onLegendClick"),ScatterPlot_class2.prototype),ScatterPlot_applyDecoratedDescriptor(ScatterPlot_class2.prototype,"focusColors",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterPlot_class2.prototype,"focusColors"),ScatterPlot_class2.prototype),ScatterPlot_applyDecoratedDescriptor(ScatterPlot_class2.prototype,"hoverKeys",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterPlot_class2.prototype,"hoverKeys"),ScatterPlot_class2.prototype),ScatterPlot_applyDecoratedDescriptor(ScatterPlot_class2.prototype,"focusKeys",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterPlot_class2.prototype,"focusKeys"),ScatterPlot_class2.prototype),ScatterPlot_applyDecoratedDescriptor(ScatterPlot_class2.prototype,"arrowLegend",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterPlot_class2.prototype,"arrowLegend"),ScatterPlot_class2.prototype),ScatterPlot_applyDecoratedDescriptor(ScatterPlot_class2.prototype,"onScatterMouseOver",[_dec6],Object.getOwnPropertyDescriptor(ScatterPlot_class2.prototype,"onScatterMouseOver"),ScatterPlot_class2.prototype),ScatterPlot_applyDecoratedDescriptor(ScatterPlot_class2.prototype,"onScatterMouseLeave",[_dec7],Object.getOwnPropertyDescriptor(ScatterPlot_class2.prototype,"onScatterMouseLeave"),ScatterPlot_class2.prototype),ScatterPlot_applyDecoratedDescriptor(ScatterPlot_class2.prototype,"onScatterClick",[_dec8],Object.getOwnPropertyDescriptor(ScatterPlot_class2.prototype,"onScatterClick"),ScatterPlot_class2.prototype),ScatterPlot_applyDecoratedDescriptor(ScatterPlot_class2.prototype,"tooltipSeries",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterPlot_class2.prototype,"tooltipSeries"),ScatterPlot_class2.prototype),ScatterPlot_applyDecoratedDescriptor(ScatterPlot_class2.prototype,"sidebarMaxWidth",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterPlot_class2.prototype,"sidebarMaxWidth"),ScatterPlot_class2.prototype),ScatterPlot_applyDecoratedDescriptor(ScatterPlot_class2.prototype,"sidebarMinWidth",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterPlot_class2.prototype,"sidebarMinWidth"),ScatterPlot_class2.prototype),ScatterPlot_applyDecoratedDescriptor(ScatterPlot_class2.prototype,"sidebarWidth",[_dec9],Object.getOwnPropertyDescriptor(ScatterPlot_class2.prototype,"sidebarWidth"),ScatterPlot_class2.prototype),ScatterPlot_applyDecoratedDescriptor(ScatterPlot_class2.prototype,"dualAxis",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterPlot_class2.prototype,"dualAxis"),ScatterPlot_class2.prototype),ScatterPlot_applyDecoratedDescriptor(ScatterPlot_class2.prototype,"comparisonLines",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterPlot_class2.prototype,"comparisonLines"),ScatterPlot_class2.prototype),ScatterPlot_applyDecoratedDescriptor(ScatterPlot_class2.prototype,"onToggleEndpoints",[_dec10],Object.getOwnPropertyDescriptor(ScatterPlot_class2.prototype,"onToggleEndpoints"),ScatterPlot_class2.prototype),ScatterPlot_applyDecoratedDescriptor(ScatterPlot_class2.prototype,"activeColors",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterPlot_class2.prototype,"activeColors"),ScatterPlot_class2.prototype),ScatterPlot_applyDecoratedDescriptor(ScatterPlot_class2.prototype,"hideLines",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterPlot_class2.prototype,"hideLines"),ScatterPlot_class2.prototype),ScatterPlot_applyDecoratedDescriptor(ScatterPlot_class2.prototype,"scatterPointLabelFormatFunction",[mobx_module.f],Object.getOwnPropertyDescriptor(ScatterPlot_class2.prototype,"scatterPointLabelFormatFunction"),ScatterPlot_class2.prototype),ScatterPlot_class=ScatterPlot_class2))||ScatterPlot_class),ScatterPlot_ScatterTooltip=Object(index_module.a)(ScatterPlot_class4=function(_React$Component2){ScatterPlot_inherits(ScatterTooltip,_React$Component2);var _super2=ScatterPlot_createSuper(ScatterTooltip);function ScatterTooltip(){return ScatterPlot_classCallCheck(this,ScatterTooltip),_super2.apply(this,arguments)}return ScatterPlot_createClass(ScatterTooltip,[{key:"formatValueY",value:function formatValueY(value){return"Y Axis: "+this.props.formatY(value.y)}},{key:"formatValueX",value:function formatValueX(value){var s="X Axis: "+this.props.formatX(value.x),formatYear=this.props.formatXYear;return value.time.span||value.time.y===value.time.x||(s+=" (data from ".concat(formatYear(value.time.x),")")),s}},{key:"render",value:function render(){var _this4=this,_this$props=this.props,x=_this$props.x,y=_this$props.y,maxWidth=_this$props.maxWidth,fontSize=_this$props.fontSize,series=_this$props.series,firstValue=Object(Util.x)(series.values),lastValue=Object(Util.V)(series.values),values=Object(Util.f)(Object(Util.Ub)([firstValue,lastValue])),elements=[],offset=0,heading={x:x,y:y+offset,wrap:new TextWrap.a({maxWidth:maxWidth,fontSize:.75*fontSize,text:series.label})};elements.push(heading),offset+=heading.wrap.height+5;var formatYYear=this.props.formatYYear;return values.forEach((function(v){var year={x:x,y:y+offset,wrap:new TextWrap.a({maxWidth:maxWidth,fontSize:.65*fontSize,text:v.time.span?"".concat(formatYYear(v.time.span[0])," to ").concat(formatYYear(v.time.span[1])):formatYYear(v.time.y)})};offset+=year.wrap.height;var line1={x:x,y:y+offset,wrap:new TextWrap.a({maxWidth:maxWidth,fontSize:.55*fontSize,text:_this4.formatValueY(v)})};offset+=line1.wrap.height;var line2={x:x,y:y+offset,wrap:new TextWrap.a({maxWidth:maxWidth,fontSize:.55*fontSize,text:_this4.formatValueX(v)})};offset+=line2.wrap.height+5,elements.push.apply(elements,[year,line1,line2])})),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",{className:"scatterTooltip"},elements.map((function(el,i){return el.wrap.render(el.x,el.y,{key:i})})))}}]),ScatterTooltip}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component))||ScatterPlot_class4;try{ScatterPlot_ScatterPlot.displayName="ScatterPlot",ScatterPlot_ScatterPlot.__docgenInfo={description:"",displayName:"ScatterPlot",props:{bounds:{defaultValue:{value:"new Bounds(0, 0, 640, 480)"},description:"",name:"bounds",required:!1,type:{name:"Bounds"}},grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/scatterCharts/ScatterPlot.tsx#ScatterPlot"]={docgenInfo:ScatterPlot_ScatterPlot.__docgenInfo,name:"ScatterPlot",path:"grapher/scatterCharts/ScatterPlot.tsx#ScatterPlot"})}catch(__react_docgen_typescript_loader_error){}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Text}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(14),__webpack_require__(11),__webpack_require__(29),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(13),__webpack_require__(15);var react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(1),grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(24),grapher_utils_Util__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Text=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Text,_React$Component);var _super=_createSuper(Text);function Text(){return _classCallCheck(this,Text),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Text,[{key:"render",value:function render(){var bounds=grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_12__.a.forText(this.props.children,{fontSize:this.props.fontSize,fontFamily:this.props.fontFamily}),y=this.props.y+bounds.height-.2*bounds.height;return react__WEBPACK_IMPORTED_MODULE_11__.createElement("text",_extends({},Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_13__.lb)(this.props,["children"]),{y:y,dangerouslySetInnerHTML:{__html:this.props.children}}))}}]),Text}(react__WEBPACK_IMPORTED_MODULE_11__.Component);try{Text.displayName="Text",Text.__docgenInfo={description:"",displayName:"Text",props:{x:{defaultValue:null,description:"",name:"x",required:!0,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!0,type:{name:"number"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/text/Text.tsx#Text"]={docgenInfo:Text.__docgenInfo,name:"Text",path:"grapher/text/Text.tsx#Text"})}catch(__react_docgen_typescript_loader_error){}},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("Yct5")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("3voH")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("Ee2X")},,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("wxYD")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("H87J")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("R3TX")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("i7Kn")},,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Tippy}));__webpack_require__(11);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_tippyjs_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(233);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}var Tippy=function Tippy(props){return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_tippyjs_react__WEBPACK_IMPORTED_MODULE_2__.a,_extends({theme:"light"},props))};Tippy.displayName="Tippy";try{Tippy.displayName="Tippy",Tippy.__docgenInfo={description:"",displayName:"Tippy",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/chart/Tippy.tsx#Tippy"]={docgenInfo:Tippy.__docgenInfo,name:"Tippy",path:"grapher/chart/Tippy.tsx#Tippy"})}catch(__react_docgen_typescript_loader_error){}},,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ComparisonLine_ComparisonLine}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(31),__webpack_require__(19),__webpack_require__(14),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var src_line=__webpack_require__(1017),linear=__webpack_require__(595),Util=__webpack_require__(2),delegated_reactfrom_dll_reference_storybook_docs_dll=__webpack_require__(1),mobx_module=__webpack_require__(0),index_module=__webpack_require__(9),dist=(__webpack_require__(192),__webpack_require__(326),__webpack_require__(594)),log=__webpack_require__(999),src_linear=__webpack_require__(997),GrapherConstants=__webpack_require__(17);function evalExpression(expr,context,defaultOnError){if(void 0===expr)return defaultOnError;try{return expr.evaluate(context)}catch(e){return defaultOnError}}function parseEquation(equation){try{return dist.a.parse(equation)}catch(e){return void console.error(e)}}var _class,_class2,Bounds=__webpack_require__(24),Vector2=__webpack_require__(38),Halos=__webpack_require__(183);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var ComparisonLine_ComparisonLine=Object(index_module.a)((_applyDecoratedDescriptor((_class2=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ComparisonLine,_React$Component);var _super=_createSuper(ComparisonLine);function ComparisonLine(){var _this;_classCallCheck(this,ComparisonLine);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).renderUid=Object(Util.H)(),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ComparisonLine,[{key:"render",value:function render(){var innerBounds=this.props.dualAxis.innerBounds,linePath=this.linePath,renderUid=this.renderUid,placedLabel=this.placedLabel;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",null,delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("defs",null,delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("clipPath",{id:"axisBounds-".concat(renderUid)},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("rect",{x:innerBounds.x,y:innerBounds.y,width:innerBounds.width,height:innerBounds.height}))),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("path",{style:{opacity:.9,fill:"none",stroke:"#ccc",strokeDasharray:"2 2"},id:"path-".concat(renderUid),d:linePath||void 0,clipPath:"url(#axisBounds-".concat(renderUid,")")}),placedLabel&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("text",{style:{fontSize:"80%",opacity:.9,textAnchor:"end",fill:"#999"},clipPath:"url(#axisBounds-".concat(renderUid,")")},Object(Halos.a)("path-".concat(renderUid),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("textPath",{baselineShift:"-0.2rem",href:"#path-".concat(renderUid),startOffset:"90%"},placedLabel.text))))}},{key:"controlData",get:function get(){var _this$props=this.props,comparisonLine=_this$props.comparisonLine,dualAxis=_this$props.dualAxis,xAxis=dualAxis.xAxis,yAxis=dualAxis.yAxis;return function generateComparisonLinePoints(){for(var _parseEquation,lineFunction=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x",xScaleDomain=arguments.length>1?arguments[1]:void 0,yScaleDomain=arguments.length>2?arguments[2]:void 0,xScaleType=arguments.length>3?arguments[3]:void 0,yScaleType=arguments.length>4?arguments[4]:void 0,expr=null===(_parseEquation=parseEquation(lineFunction))||void 0===_parseEquation?void 0:_parseEquation.simplify({e:Math.E,pi:Math.PI}),yFunc=function yFunc(x){return evalExpression(expr,{x:x},void 0)},numPoints=500,scaleFunction=xScaleType===GrapherConstants.d.log?log.a:src_linear.a,scale=scaleFunction().domain(xScaleDomain).range([0,numPoints]),controlData=[],i=0;i<numPoints;i++){var x=scale.invert(i),y=yFunc(x);void 0===y||Number.isNaN(x)||Number.isNaN(y)||(xScaleType===GrapherConstants.d.log&&x<=0||yScaleType===GrapherConstants.d.log&&y<=0||y>yScaleDomain[1]||controlData.push([x,y]))}return controlData}(comparisonLine.yEquals,xAxis.domain,yAxis.domain,xAxis.scaleType,yAxis.scaleType)}},{key:"linePath",get:function get(){var controlData=this.controlData,_this$props$dualAxis=this.props.dualAxis,xAxis=_this$props$dualAxis.xAxis,yAxis=_this$props$dualAxis.yAxis;return Object(src_line.a)().curve(linear.a).x((function(d){return xAxis.place(d[0])})).y((function(d){return yAxis.place(d[1])}))(controlData)}},{key:"placedLabel",get:function get(){var label=this.props.comparisonLine.label;if(label){var controlData=this.controlData,_this$props$dualAxis2=this.props.dualAxis,xAxis=_this$props$dualAxis2.xAxis,yAxis=_this$props$dualAxis2.yAxis,innerBounds=_this$props$dualAxis2.innerBounds,linePoints=controlData.map((function(d){return new Vector2.a(xAxis.place(d[0]),yAxis.place(d[1]))})).filter((function(p){return innerBounds.contains(p)}));if(linePoints.length){var midPoint=linePoints[Math.floor(linePoints.length/2)],p1=linePoints[0],p2=linePoints[linePoints.length-1],angle=180*Math.atan2(p2.y-p1.y,p2.x-p1.x)/Math.PI,bounds=Bounds.a.forText(label);return{x:midPoint.x,y:midPoint.y,bounds:bounds,angle:angle,text:label}}}}}]),ComparisonLine}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component)).prototype,"controlData",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"controlData"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"linePath",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"linePath"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"placedLabel",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"placedLabel"),_class2.prototype),_class=_class2))||_class;try{ComparisonLine_ComparisonLine.displayName="ComparisonLine",ComparisonLine_ComparisonLine.__docgenInfo={description:"",displayName:"ComparisonLine",props:{dualAxis:{defaultValue:null,description:"",name:"dualAxis",required:!0,type:{name:"DualAxis"}},comparisonLine:{defaultValue:null,description:"",name:"comparisonLine",required:!0,type:{name:"ComparisonLineConfig"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/scatterCharts/ComparisonLine.tsx#ComparisonLine"]={docgenInfo:ComparisonLine_ComparisonLine.__docgenInfo,name:"ComparisonLine",path:"grapher/scatterCharts/ComparisonLine.tsx#ComparisonLine"})}catch(__react_docgen_typescript_loader_error){}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ChartDimension}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(31),__webpack_require__(19),__webpack_require__(30),__webpack_require__(14),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(57),__webpack_require__(23),__webpack_require__(60),__webpack_require__(11),__webpack_require__(28),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var _class,_descriptor,_descriptor2,_descriptor3,_descriptor4,_dec,_class3,_descriptor5,mobx__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(0),grapher_utils_Util__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(2),owidTable_OwidTable__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(86),owidTable_LegacyVariableCode__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(214),grapher_persistable_Persistable__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(58);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var ChartDimensionDefaults=(_descriptor=_applyDecoratedDescriptor((_class=function ChartDimensionDefaults(){_classCallCheck(this,ChartDimensionDefaults),_initializerDefineProperty(this,"property",_descriptor,this),_initializerDefineProperty(this,"variableId",_descriptor2,this),_initializerDefineProperty(this,"display",_descriptor3,this),_initializerDefineProperty(this,"targetYear",_descriptor4,this)}).prototype,"property",[mobx__WEBPACK_IMPORTED_MODULE_24__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor2=_applyDecoratedDescriptor(_class.prototype,"variableId",[mobx__WEBPACK_IMPORTED_MODULE_24__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor3=_applyDecoratedDescriptor(_class.prototype,"display",[mobx__WEBPACK_IMPORTED_MODULE_24__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return new owidTable_LegacyVariableCode__WEBPACK_IMPORTED_MODULE_27__.a}}),_descriptor4=_applyDecoratedDescriptor(_class.prototype,"targetYear",[mobx__WEBPACK_IMPORTED_MODULE_24__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_class),ChartDimension=(_dec=mobx__WEBPACK_IMPORTED_MODULE_24__.m.ref,_descriptor5=_applyDecoratedDescriptor((_class3=function(_ChartDimensionDefaul){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ChartDimension,_ChartDimensionDefaul);var _super=_createSuper(ChartDimension);function ChartDimension(obj,table){var _this;return _classCallCheck(this,ChartDimension),_initializerDefineProperty(_this=_super.call(this),"table",_descriptor5,_assertThisInitialized(_this)),_this.table=table,obj&&_this.updateFromObject(obj),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ChartDimension,[{key:"updateFromObject",value:function updateFromObject(obj){Object(grapher_persistable_Persistable__WEBPACK_IMPORTED_MODULE_28__.c)(this,obj),this.targetYear=obj.targetYear,this.variableId=obj.variableId,this.property=obj.property}},{key:"toObject",value:function toObject(){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_25__.Sb)(Object(grapher_persistable_Persistable__WEBPACK_IMPORTED_MODULE_28__.a)(Object(grapher_persistable_Persistable__WEBPACK_IMPORTED_MODULE_28__.b)(this),new ChartDimensionDefaults))}},{key:"timeAndValueOfLatestValueforEntity",value:function timeAndValueOfLatestValueforEntity(entity){var _last,valueByTime=this.valueByEntityAndTime.get(entity);return valueByTime&&null!==(_last=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_25__.V)(Array.from(valueByTime)))&&void 0!==_last?_last:null}},{key:"column",get:function get(){var _this$variableId;return this.table.columnsByOwidVarId.get(this.variableId)||new owidTable_OwidTable__WEBPACK_IMPORTED_MODULE_26__.a(this.table,{slug:(null===(_this$variableId=this.variableId)||void 0===_this$variableId?void 0:_this$variableId.toString())||"loading"})}},{key:"columnSlug",get:function get(){return this.variableId.toString()}},{key:"isLoaded",get:function get(){return this.table.columnsByOwidVarId.has(this.variableId)}},{key:"displayName",get:function get(){var _ref,_this$display$name;return null!==(_ref=null!==(_this$display$name=this.display.name)&&void 0!==_this$display$name?_this$display$name:this.columnDisplay.name)&&void 0!==_ref?_ref:this.column.name}},{key:"columnDisplay",get:function get(){return this.column.display}},{key:"includeInTable",get:function get(){var _this$columnDisplay$i;return"color"!==this.property&&(null===(_this$columnDisplay$i=this.columnDisplay.includeInTable)||void 0===_this$columnDisplay$i||_this$columnDisplay$i)}},{key:"unit",get:function get(){var _ref2,_this$display$unit;return null!==(_ref2=null!==(_this$display$unit=this.display.unit)&&void 0!==_this$display$unit?_this$display$unit:this.columnDisplay.unit)&&void 0!==_ref2?_ref2:this.column.unit}},{key:"fullNameWithUnit",get:function get(){return"".concat(this.displayName).concat(this.unit?" (".concat(this.unit,")"):"")}},{key:"unitConversionFactor",get:function get(){var _ref3,_this$display$convers;return null!==(_ref3=null!==(_this$display$convers=this.display.conversionFactor)&&void 0!==_this$display$convers?_this$display$convers:this.columnDisplay.conversionFactor)&&void 0!==_ref3?_ref3:1}},{key:"isProjection",get:function get(){var _this$display$isProje;return!!(null!==(_this$display$isProje=this.display.isProjection)&&void 0!==_this$display$isProje?_this$display$isProje:this.columnDisplay.isProjection)}},{key:"tolerance",get:function get(){var _ref4,_this$display$toleran;return null!==(_ref4=null!==(_this$display$toleran=this.display.tolerance)&&void 0!==_this$display$toleran?_this$display$toleran:this.columnDisplay.tolerance)&&void 0!==_ref4?_ref4:"color"===this.property?1/0:0}},{key:"numDecimalPlaces",get:function get(){var _ref5,_this$display$numDeci;return null!==(_ref5=null!==(_this$display$numDeci=this.display.numDecimalPlaces)&&void 0!==_this$display$numDeci?_this$display$numDeci:this.columnDisplay.numDecimalPlaces)&&void 0!==_ref5?_ref5:2}},{key:"shortUnit",get:function get(){var _ref6,_this$display$shortUn,unit=this.unit,shortUnit=null!==(_ref6=null!==(_this$display$shortUn=this.display.shortUnit)&&void 0!==_this$display$shortUn?_this$display$shortUn:this.columnDisplay.shortUnit)&&void 0!==_ref6?_ref6:this.column.shortUnit||void 0;if(void 0!==shortUnit)return shortUnit;if(!unit)return"";if(unit.length<3)return unit;return["$","Â£","â¬","%"].some((function(u){return unit[0]===u}))?unit[0]:""}},{key:"formatValueShortFn",get:function get(){var shortUnit=this.shortUnit,numDecimalPlaces=this.numDecimalPlaces;return function(value,options){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_25__.S)(value)?value:Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_25__.B)(value,Object.assign({unit:shortUnit,numDecimalPlaces:numDecimalPlaces},options))}}},{key:"formatValueLongFn",get:function get(){var unit=this.unit,numDecimalPlaces=this.numDecimalPlaces;return function(value,options){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_25__.S)(value)?value:Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_25__.B)(value,Object.assign({unit:unit,numDecimalPlaces:numDecimalPlaces},options))}}},{key:"formatTimeFn",get:function get(){return this.column.isDailyMeasurement?function(day,options){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_25__.A)(day,options)}:grapher_utils_Util__WEBPACK_IMPORTED_MODULE_25__.C}},{key:"values",get:function get(){var unitConversionFactor=this.unitConversionFactor;return 1===unitConversionFactor?this.column.values:this.column.values.map((function(v){return v*unitConversionFactor}))}},{key:"sortedNumericValues",get:function get(){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_25__.Hb)(this.values.filter(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_25__.R).filter((function(v){return!isNaN(v)})))}},{key:"timesUniq",get:function get(){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_25__.Jb)(this.times)}},{key:"times",get:function get(){return this.column.times}},{key:"entityNamesUniq",get:function get(){return Array.from(this.column.entityNamesUniq)}},{key:"entityNames",get:function get(){return this.column.entityNames}},{key:"valueByEntityAndTime",get:function get(){for(var valueByEntityAndTime=new Map,i=0;i<this.values.length;i++){var entity=this.entityNames[i],_time=this.times[i],_value=this.values[i],valueByTime=valueByEntityAndTime.get(entity);valueByTime||(valueByTime=new Map,valueByEntityAndTime.set(entity,valueByTime)),valueByTime.set(_time,_value)}return valueByEntityAndTime}}]),ChartDimension}(ChartDimensionDefaults)).prototype,"table",[_dec],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_applyDecoratedDescriptor(_class3.prototype,"column",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"column"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"columnSlug",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"columnSlug"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"isLoaded",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"isLoaded"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"displayName",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"displayName"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"columnDisplay",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"columnDisplay"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"includeInTable",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"includeInTable"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"unit",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"unit"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"fullNameWithUnit",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"fullNameWithUnit"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"unitConversionFactor",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"unitConversionFactor"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"isProjection",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"isProjection"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"tolerance",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"tolerance"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"numDecimalPlaces",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"numDecimalPlaces"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"shortUnit",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"shortUnit"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"formatValueShortFn",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"formatValueShortFn"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"formatValueLongFn",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"formatValueLongFn"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"formatTimeFn",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"formatTimeFn"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"values",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"values"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"sortedNumericValues",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"sortedNumericValues"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"valueByEntityAndTime",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"valueByEntityAndTime"),_class3.prototype),_class3)},,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return LineLabelsHelper})),__webpack_require__.d(__webpack_exports__,"a",(function(){return LineLabelsComponent}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(31),__webpack_require__(19),__webpack_require__(30),__webpack_require__(43),__webpack_require__(14),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(57),__webpack_require__(142),__webpack_require__(23),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(45),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var _dec,_class,_class3,_class4,_class5,react__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(1),grapher_utils_Util__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(2),mobx__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(0),mobx_react__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(9),grapher_text_TextWrap__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(47),grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(24);function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function groupBounds(group){var first=group[0],last=group[group.length-1],height=last.bounds.bottom-first.bounds.top,width=Math.max(first.bounds.width,last.bounds.width);return new grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_31__.a(first.bounds.x,first.bounds.y,width,height)}function stackGroupVertically(group,y){var currentY=y;return group.forEach((function(mark){mark.bounds=mark.bounds.extend({y:currentY}),mark.repositions+=1,currentY+=mark.bounds.height+2})),group}var LineLabelsHelper=(_dec=mobx__WEBPACK_IMPORTED_MODULE_28__.f.struct,_applyDecoratedDescriptor((_class=function(){function LineLabelsHelper(props){_classCallCheck(this,LineLabelsHelper),this.props=void 0,this.props=props}return _createClass(LineLabelsHelper,[{key:"fontSize",get:function get(){return.75*this.props.fontSize}},{key:"leftPadding",get:function get(){return 35}},{key:"maxWidth",get:function get(){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_27__.l)(this.props.maxWidth,1/0)}},{key:"marks",get:function get(){var fontSize=this.fontSize,leftPadding=this.leftPadding,maxTextWidth=this.maxWidth-leftPadding,maxAnnotationWidth=Math.min(maxTextWidth,150);return this.props.items.map((function(item){var annotationTextWrap=item.annotation?new grapher_text_TextWrap__WEBPACK_IMPORTED_MODULE_30__.a({text:item.annotation,maxWidth:maxAnnotationWidth,fontSize:.9*fontSize}):void 0,textWrap=new grapher_text_TextWrap__WEBPACK_IMPORTED_MODULE_30__.a({text:item.label,maxWidth:maxTextWidth,fontSize:fontSize});return{item:item,textWrap:textWrap,annotationTextWrap:annotationTextWrap,width:leftPadding+Math.max(textWrap.width,annotationTextWrap?annotationTextWrap.width:0),height:textWrap.height+(annotationTextWrap?annotationTextWrap.height:0)}}))}},{key:"width",get:function get(){return 0===this.marks.length?0:Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_27__.l)(Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_27__.db)(this.marks.map((function(d){return d.width}))),0)}}]),LineLabelsHelper}()).prototype,"fontSize",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class.prototype,"fontSize"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"leftPadding",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class.prototype,"leftPadding"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"maxWidth",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class.prototype,"maxWidth"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"marks",[_dec],Object.getOwnPropertyDescriptor(_class.prototype,"marks"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"width",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class.prototype,"width"),_class.prototype),_class),PlacedMarkComponent=Object(mobx_react__WEBPACK_IMPORTED_MODULE_29__.a)(_class3=function(_React$Component){_inherits(PlacedMarkComponent,_React$Component);var _super=_createSuper(PlacedMarkComponent);function PlacedMarkComponent(){return _classCallCheck(this,PlacedMarkComponent),_super.apply(this,arguments)}return _createClass(PlacedMarkComponent,[{key:"render",value:function render(){var _this$props=this.props,mark=_this$props.mark,legend=_this$props.legend,isFocus=_this$props.isFocus,needsLines=_this$props.needsLines,onMouseOver=_this$props.onMouseOver,onMouseLeave=_this$props.onMouseLeave,onClick=_this$props.onClick,x=mark.origBounds.x,markerX1=x+4,markerX2=x+legend.leftPadding-4,step=(markerX2-markerX1)/(mark.totalLevels+1),markerXMid=markerX1+step+mark.level*step,lineColor=isFocus?"#999":"#eee",textColor=isFocus?mark.mark.item.color:"#ddd",annotationColor=isFocus?"#333":"#ddd";return react__WEBPACK_IMPORTED_MODULE_26__.createElement("g",{className:"legendMark",onMouseOver:onMouseOver,onMouseLeave:onMouseLeave,onClick:onClick},needsLines&&react__WEBPACK_IMPORTED_MODULE_26__.createElement("g",{className:"indicator"},react__WEBPACK_IMPORTED_MODULE_26__.createElement("path",{d:"M".concat(markerX1,",").concat(mark.origBounds.centerY," H").concat(markerXMid," V").concat(mark.bounds.centerY," H").concat(markerX2),stroke:lineColor,strokeWidth:.5,fill:"none"})),react__WEBPACK_IMPORTED_MODULE_26__.createElement("rect",{x:x,y:mark.bounds.y,width:mark.bounds.width,height:mark.bounds.height,fill:"#fff",opacity:0}),mark.mark.textWrap.render(needsLines?markerX2+4:markerX1,mark.bounds.y,{fill:textColor}),mark.mark.annotationTextWrap&&mark.mark.annotationTextWrap.render(needsLines?markerX2+4:markerX1,mark.bounds.y+mark.mark.textWrap.height,{fill:annotationColor,className:"textAnnotation",style:{fontWeight:"lighter"}}))}}]),PlacedMarkComponent}(react__WEBPACK_IMPORTED_MODULE_26__.Component))||_class3,LineLabelsComponent=Object(mobx_react__WEBPACK_IMPORTED_MODULE_29__.a)((_applyDecoratedDescriptor((_class5=function(_React$Component2){_inherits(LineLabelsComponent,_React$Component2);var _super2=_createSuper(LineLabelsComponent);function LineLabelsComponent(){return _classCallCheck(this,LineLabelsComponent),_super2.apply(this,arguments)}return _createClass(LineLabelsComponent,[{key:"renderBackground",value:function renderBackground(){var _this=this;return this.backgroundMarks.map((function(mark){return react__WEBPACK_IMPORTED_MODULE_26__.createElement(PlacedMarkComponent,{key:mark.mark.item.entityDimensionKey,mark:mark,legend:_this.props.legend,needsLines:_this.needsLines,onMouseOver:function onMouseOver(){return _this.onMouseOver(mark.mark.item.entityDimensionKey)},onClick:function onClick(){return _this.onClick(mark.mark.item.entityDimensionKey)}})}))}},{key:"renderFocus",value:function renderFocus(){var _this2=this;return this.focusMarks.map((function(mark){return react__WEBPACK_IMPORTED_MODULE_26__.createElement(PlacedMarkComponent,{key:mark.mark.item.entityDimensionKey,mark:mark,legend:_this2.props.legend,isFocus:!0,needsLines:_this2.needsLines,onMouseOver:function onMouseOver(){return _this2.onMouseOver(mark.mark.item.entityDimensionKey)},onClick:function onClick(){return _this2.onClick(mark.mark.item.entityDimensionKey)},onMouseLeave:function onMouseLeave(){return _this2.onMouseLeave(mark.mark.item.entityDimensionKey)}})}))}},{key:"render",value:function render(){return react__WEBPACK_IMPORTED_MODULE_26__.createElement("g",{className:"LineLabels",style:{cursor:this.options.areMarksClickable?"pointer":"default"}},this.renderBackground(),this.renderFocus())}},{key:"onMouseOver",get:function get(){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_27__.l)(this.props.onMouseOver,grapher_utils_Util__WEBPACK_IMPORTED_MODULE_27__.kb)}},{key:"onMouseLeave",get:function get(){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_27__.l)(this.props.onMouseLeave,grapher_utils_Util__WEBPACK_IMPORTED_MODULE_27__.kb)}},{key:"onClick",get:function get(){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_27__.l)(this.props.onClick,grapher_utils_Util__WEBPACK_IMPORTED_MODULE_27__.kb)}},{key:"isFocusMode",get:function get(){var _this3=this;return this.props.legend.marks.some((function(m){return _this3.props.focusKeys.includes(m.item.entityDimensionKey)}))}},{key:"initialMarks",get:function get(){var _this$props2=this.props,legend=_this$props2.legend,x=_this$props2.x,yAxis=_this$props2.yAxis;return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_27__.Fb)(legend.marks.map((function(mark){var initialY=yAxis.place(mark.item.yValue)-mark.height/2,origBounds=new grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_31__.a(x,initialY,mark.width,mark.height),y=Math.min(Math.max(initialY,yAxis.rangeMin),yAxis.rangeMax-mark.height);return{mark:mark,y:y,origBounds:origBounds,bounds:new grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_31__.a(x,y,mark.width,mark.height),isOverlap:!1,repositions:0,level:0,totalLevels:0}})),(function(mark){return yAxis.place(mark.mark.item.yValue)}))}},{key:"standardPlacement",get:function get(){var hasOverlap,yAxis=this.props.yAxis,groups=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_27__.e)(this.initialMarks).map((function(mark){return[mark]}));do{hasOverlap=!1;for(var i=0;i<groups.length-1;i++){var topGroup=groups[i],bottomGroup=groups[i+1],topBounds=groupBounds(topGroup),bottomBounds=groupBounds(bottomGroup);if(topBounds.intersects(bottomBounds)){var overlapHeight=topBounds.bottom-bottomBounds.top+2,newHeight=topBounds.height+2+bottomBounds.height,targetY=topBounds.top-overlapHeight*(bottomGroup.length/(topGroup.length+bottomGroup.length)),newY=targetY+Math.max(yAxis.rangeMin-targetY,0)-Math.max(targetY+newHeight-yAxis.rangeMax,0),newGroup=[].concat(_toConsumableArray(topGroup),_toConsumableArray(bottomGroup));stackGroupVertically(newGroup,newY),groups.splice(i,2,newGroup),hasOverlap=!0;break}}}while(hasOverlap&&groups.length>1);var _step,_iterator=_createForOfIteratorHelper(groups);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step2,group=_step.value,currentLevel=0,prevSign=0,_iterator2=_createForOfIteratorHelper(group);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var mark=_step2.value,currentSign=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_27__.Cb)(mark.bounds.y-mark.origBounds.y);prevSign===currentSign&&(currentLevel-=currentSign),mark.level=currentLevel,prevSign=currentSign}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}var _step3,minLevel=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_27__.hb)(group.map((function(mark){return mark.level}))),maxLevel=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_27__.db)(group.map((function(mark){return mark.level}))),_iterator3=_createForOfIteratorHelper(group);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _mark=_step3.value;_mark.level-=minLevel,_mark.totalLevels=maxLevel-minLevel+1}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_27__.z)(groups)}},{key:"overlappingPlacement",get:function get(){for(var marks=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_27__.e)(this.initialMarks),i=0;i<marks.length;i++)for(var m1=marks[i],j=i+1;j<marks.length;j++){var m2=marks[j];!m1.isOverlap&&m1.bounds.intersects(m2.bounds)&&(m2.isOverlap=!0)}return marks}},{key:"placedMarks",get:function get(){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_27__.Nb)(this.initialMarks,(function(mark){return mark.bounds.height}))+2*this.initialMarks.length>(this.options.canAddData?this.props.yAxis.rangeSize-30:this.props.yAxis.rangeSize)?this.overlappingPlacement:this.standardPlacement}},{key:"backgroundMarks",get:function get(){var focusKeys=this.props.focusKeys,isFocusMode=this.isFocusMode;return this.placedMarks.filter((function(m){return isFocusMode?!focusKeys.includes(m.mark.item.entityDimensionKey):m.isOverlap}))}},{key:"focusMarks",get:function get(){var focusKeys=this.props.focusKeys,isFocusMode=this.isFocusMode;return this.placedMarks.filter((function(m){return isFocusMode?focusKeys.includes(m.mark.item.entityDimensionKey):!m.isOverlap}))}},{key:"numMovesNeeded",get:function get(){return this.placedMarks.filter((function(m){return m.isOverlap||!m.bounds.equals(m.origBounds)})).length}},{key:"needsLines",get:function get(){return this.placedMarks.some((function(mark){return mark.totalLevels>1}))}},{key:"options",get:function get(){return this.props.options}}]),LineLabelsComponent}(react__WEBPACK_IMPORTED_MODULE_26__.Component)).prototype,"onMouseOver",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"onMouseOver"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"onMouseLeave",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"onMouseLeave"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"onClick",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"onClick"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"isFocusMode",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"isFocusMode"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"initialMarks",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"initialMarks"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"standardPlacement",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"standardPlacement"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"overlappingPlacement",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"overlappingPlacement"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"placedMarks",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"placedMarks"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"backgroundMarks",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"backgroundMarks"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"focusMarks",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"focusMarks"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"numMovesNeeded",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"numMovesNeeded"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"needsLines",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"needsLines"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"options",[mobx__WEBPACK_IMPORTED_MODULE_28__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"options"),_class5.prototype),_class4=_class5))||_class4;try{LineLabelsHelper.displayName="LineLabelsHelper",LineLabelsHelper.__docgenInfo={description:"",displayName:"LineLabelsHelper",props:{items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"LineLabel[]"}},maxWidth:{defaultValue:null,description:"",name:"maxWidth",required:!1,type:{name:"number"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/lineCharts/LineLabels.tsx#LineLabelsHelper"]={docgenInfo:LineLabelsHelper.__docgenInfo,name:"LineLabelsHelper",path:"grapher/lineCharts/LineLabels.tsx#LineLabelsHelper"})}catch(__react_docgen_typescript_loader_error){}try{LineLabelsComponent.displayName="LineLabelsComponent",LineLabelsComponent.__docgenInfo={description:"",displayName:"LineLabelsComponent",props:{x:{defaultValue:null,description:"",name:"x",required:!0,type:{name:"number"}},legend:{defaultValue:null,description:"",name:"legend",required:!0,type:{name:"LineLabelsHelper"}},yAxis:{defaultValue:null,description:"",name:"yAxis",required:!0,type:{name:"VerticalAxis"}},focusKeys:{defaultValue:null,description:"",name:"focusKeys",required:!0,type:{name:"string[]"}},onMouseOver:{defaultValue:null,description:"",name:"onMouseOver",required:!1,type:{name:"((key: string) => void)"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((key: string) => void)"}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!1,type:{name:"(() => void)"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"ObservableObject"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/lineCharts/LineLabels.tsx#LineLabelsComponent"]={docgenInfo:LineLabelsComponent.__docgenInfo,name:"LineLabelsComponent",path:"grapher/lineCharts/LineLabels.tsx#LineLabelsComponent"})}catch(__react_docgen_typescript_loader_error){}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CollapsibleList})),__webpack_require__.d(__webpack_exports__,"b",(function(){return MoreButton}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(19),__webpack_require__(14),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var _class,_class2,_descriptor,_descriptor2,_temp,react__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_19__),mobx__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(0),mobx_react__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(9),grapher_utils_Util__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(2),grapher_chart_Tippy__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(153),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(36),_fortawesome_free_solid_svg_icons_faCog__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(596);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var CollapsibleList=Object(mobx_react__WEBPACK_IMPORTED_MODULE_21__.a)((_temp=function(_React$Component){_inherits(CollapsibleList,_React$Component);var _super=_createSuper(CollapsibleList);function CollapsibleList(){var _this;_classCallCheck(this,CollapsibleList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).outerContainerRef=react__WEBPACK_IMPORTED_MODULE_19___default.a.createRef(),_this.moreButtonRef=react__WEBPACK_IMPORTED_MODULE_19___default.a.createRef(),_this.outerContainerWidth=0,_this.moreButtonWidth=0,_this.itemsWidths=[],_initializerDefineProperty(_this,"numItemsVisible",_descriptor,_assertThisInitialized(_this)),_initializerDefineProperty(_this,"onResize",_descriptor2,_assertThisInitialized(_this)),_this}return _createClass(CollapsibleList,[{key:"updateOuterContainerWidth",value:function updateOuterContainerWidth(){var _this$outerContainerR,_this$outerContainerR2;this.outerContainerWidth=null!==(_this$outerContainerR=null===(_this$outerContainerR2=this.outerContainerRef.current)||void 0===_this$outerContainerR2?void 0:_this$outerContainerR2.clientWidth)&&void 0!==_this$outerContainerR?_this$outerContainerR:0}},{key:"calculateItemWidths",value:function calculateItemWidths(){var _this$outerContainerR3,_this2=this;null===(_this$outerContainerR3=this.outerContainerRef.current)||void 0===_this$outerContainerR3||_this$outerContainerR3.querySelectorAll(".list-item.visible").forEach((function(item){return _this2.itemsWidths.push(item.clientWidth)}))}},{key:"updateNumItemsVisible",value:function updateNumItemsVisible(){var numItemsVisibleWithoutMoreButton=numItemsVisible(this.itemsWidths,this.outerContainerWidth);this.numItemsVisible=numItemsVisibleWithoutMoreButton>=this.children.length?numItemsVisibleWithoutMoreButton:numItemsVisible(this.itemsWidths,this.outerContainerWidth,this.moreButtonWidth)}},{key:"updateItemVisibility",value:function updateItemVisibility(){this.updateOuterContainerWidth(),this.updateNumItemsVisible()}},{key:"componentDidMount",value:function componentDidMount(){var _this$moreButtonRef$c,_this$moreButtonRef$c2;window.addEventListener("resize",this.onResize),this.moreButtonWidth=null!==(_this$moreButtonRef$c=null===(_this$moreButtonRef$c2=this.moreButtonRef.current)||void 0===_this$moreButtonRef$c2?void 0:_this$moreButtonRef$c2.clientWidth)&&void 0!==_this$moreButtonRef$c?_this$moreButtonRef$c:0,this.calculateItemWidths(),this.updateItemVisibility()}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("resize",this.onResize)}},{key:"render",value:function render(){return react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("div",{className:"collapsibleList",ref:this.outerContainerRef},react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("ul",null,this.visibleItems.map((function(item){return react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("li",{key:item.index,className:"list-item visible"},item.child)})),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("li",{className:"list-item moreButton",ref:this.moreButtonRef,style:{visibility:this.dropdownItems.length?"visible":"hidden"}},react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(MoreButton,{options:this.dropdownItems.map((function(item){return react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("li",{key:item.index,className:"list-item dropdown"},item.child)}))}))))}},{key:"children",get:function get(){var _React$Children$map;return null!==(_React$Children$map=react__WEBPACK_IMPORTED_MODULE_19___default.a.Children.map(this.props.children,(function(child,i){return{index:i,child:child}})))&&void 0!==_React$Children$map?_React$Children$map:[]}},{key:"visibleItems",get:function get(){return this.children.slice(0,this.numItemsVisible)}},{key:"dropdownItems",get:function get(){return this.numItemsVisible?this.children.slice(this.numItemsVisible):[]}}]),CollapsibleList}(react__WEBPACK_IMPORTED_MODULE_19___default.a.Component),_descriptor=_applyDecoratedDescriptor((_class2=_temp).prototype,"numItemsVisible",[mobx__WEBPACK_IMPORTED_MODULE_20__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_applyDecoratedDescriptor(_class2.prototype,"updateNumItemsVisible",[mobx__WEBPACK_IMPORTED_MODULE_20__.d],Object.getOwnPropertyDescriptor(_class2.prototype,"updateNumItemsVisible"),_class2.prototype),_descriptor2=_applyDecoratedDescriptor(_class2.prototype,"onResize",[mobx__WEBPACK_IMPORTED_MODULE_20__.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){var _this3=this;return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_22__.Pb)((function(){_this3.updateItemVisibility()}),100)}}),_applyDecoratedDescriptor(_class2.prototype,"updateItemVisibility",[mobx__WEBPACK_IMPORTED_MODULE_20__.d],Object.getOwnPropertyDescriptor(_class2.prototype,"updateItemVisibility"),_class2.prototype),_class=_class2))||_class,MoreButton=function(_React$Component2){_inherits(MoreButton,_React$Component2);var _super2=_createSuper(MoreButton);function MoreButton(){return _classCallCheck(this,MoreButton),_super2.apply(this,arguments)}return _createClass(MoreButton,[{key:"render",value:function render(){var options=this.props.options;return react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(grapher_chart_Tippy__WEBPACK_IMPORTED_MODULE_23__.a,{content:options,interactive:!0,trigger:"click",placement:"bottom"},react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_24__.a,{icon:_fortawesome_free_solid_svg_icons_faCog__WEBPACK_IMPORTED_MODULE_25__.faCog}),"Â More"))}}]),MoreButton}(react__WEBPACK_IMPORTED_MODULE_19___default.a.Component);function numItemsVisible(itemWidths,containerWidth){for(var startingWidth=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,total=startingWidth,i=0;i<itemWidths.length;i++){if(total+itemWidths[i]>containerWidth)return i;total+=itemWidths[i]}return itemWidths.length}try{numItemsVisible.displayName="numItemsVisible",numItemsVisible.__docgenInfo={description:"Given: an array of item widths, a container width, and a starting width\nReturns the number of items that can fit in the container",displayName:"numItemsVisible",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/controls/CollapsibleList/CollapsibleList.tsx#numItemsVisible"]={docgenInfo:numItemsVisible.__docgenInfo,name:"numItemsVisible",path:"grapher/controls/CollapsibleList/CollapsibleList.tsx#numItemsVisible"})}catch(__react_docgen_typescript_loader_error){}try{CollapsibleList.displayName="CollapsibleList",CollapsibleList.__docgenInfo={description:'A UI component inspired by the "Priority+ Navbar" or "Progressively Collapsing Navbar"',displayName:"CollapsibleList",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/controls/CollapsibleList/CollapsibleList.tsx#CollapsibleList"]={docgenInfo:CollapsibleList.__docgenInfo,name:"CollapsibleList",path:"grapher/controls/CollapsibleList/CollapsibleList.tsx#CollapsibleList"})}catch(__react_docgen_typescript_loader_error){}try{MoreButton.displayName="MoreButton",MoreButton.__docgenInfo={description:"",displayName:"MoreButton",props:{options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"ReactElement<any, string | ((props: any) => ReactElement<any, string | ... | (new (props: any) => Component<any, any, any>)> | null) | (new (props: any) => Component<any, any, any>)>[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/controls/CollapsibleList/CollapsibleList.tsx#MoreButton"]={docgenInfo:MoreButton.__docgenInfo,name:"MoreButton",path:"grapher/controls/CollapsibleList/CollapsibleList.tsx#MoreButton"})}catch(__react_docgen_typescript_loader_error){}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DataTable}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(19),__webpack_require__(43),__webpack_require__(14),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(57),__webpack_require__(23),__webpack_require__(11),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(45),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var _dec,_class,_class2,_descriptor,_temp,react__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(1),mobx__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(0),mobx_react__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(9),classnames__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(44),classnames__WEBPACK_IMPORTED_MODULE_27___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_27__),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(36),_fortawesome_free_solid_svg_icons_faInfoCircle__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(601),grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(17),grapher_utils_Util__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(2),grapher_controls_SortIcon__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(229),grapher_chart_Tippy__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(153),_DataTableTransform__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(89);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var DEFAULT_SORT_STATE={dimIndex:-1,columnKey:void 0,order:grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_30__.e.asc},columnNameByType={single:"Value",start:"Start",end:"End",delta:"Absolute Change",deltaRatio:"Relative Change"};var DataTable=(_dec=mobx__WEBPACK_IMPORTED_MODULE_25__.d.bound,Object(mobx_react__WEBPACK_IMPORTED_MODULE_26__.a)((_temp=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DataTable,_React$Component);var _super=_createSuper(DataTable);function DataTable(){var _this;_classCallCheck(this,DataTable);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _initializerDefineProperty(_this=_super.call.apply(_super,[this].concat(args)),"storedState",_descriptor,_assertThisInitialized(_this)),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DataTable,[{key:"updateSort",value:function updateSort(dimIndex,columnKey){var sort=this.tableState.sort,order=sort.dimIndex===dimIndex&&sort.columnKey===columnKey?function inverseSortOrder(order){return order===grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_30__.e.asc?grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_30__.e.desc:grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_30__.e.asc}(sort.order):-1===dimIndex?grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_30__.e.asc:grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_30__.e.desc;this.storedState.sort.dimIndex=dimIndex,this.storedState.sort.columnKey=columnKey,this.storedState.sort.order=order}},{key:"renderValueCell",value:function renderValueCell(key,column,dv,sorted,formatTime){if(void 0===dv||!(column.key in dv))return react__WEBPACK_IMPORTED_MODULE_24__.createElement("td",{key:key,className:"dimension"});var value;if((Object(_DataTableTransform__WEBPACK_IMPORTED_MODULE_34__.f)(dv)||Object(_DataTableTransform__WEBPACK_IMPORTED_MODULE_34__.e)(dv))&&(value=dv[column.key]),void 0===value)return react__WEBPACK_IMPORTED_MODULE_24__.createElement("td",{key:key,className:"dimension"});var shouldShowClosestTimeNotice=void 0!==value.time&&column.targetTimeMode===_DataTableTransform__WEBPACK_IMPORTED_MODULE_34__.d.point&&void 0!==column.targetTime&&column.targetTime!==value.time;return react__WEBPACK_IMPORTED_MODULE_24__.createElement("td",{key:key,className:classnames__WEBPACK_IMPORTED_MODULE_27___default()(["dimension","dimension-".concat(column.key),{sorted:sorted}])},shouldShowClosestTimeNotice&&makeClosestTimeNotice(formatTime(column.targetTime),formatTime(value.time,{format:"MMM D"})),value.formattedValue,void 0!==value.time&&column.targetTimeMode===_DataTableTransform__WEBPACK_IMPORTED_MODULE_34__.d.range&&react__WEBPACK_IMPORTED_MODULE_24__.createElement("span",{className:"range-time"}," in ",value.time))}},{key:"renderEntityRow",value:function renderEntityRow(row,dimensions){var _this2=this,sort=this.tableState.sort;return react__WEBPACK_IMPORTED_MODULE_24__.createElement("tr",{key:row.entity},react__WEBPACK_IMPORTED_MODULE_24__.createElement("td",{key:"entity",className:classnames__WEBPACK_IMPORTED_MODULE_27___default()({entity:!0,sorted:-1===sort.dimIndex})},row.entity),row.dimensionValues.map((function(dv,dimIndex){var dimension=dimensions[dimIndex];return dimension.columns.map((function(column,colIndex){var key="".concat(dimIndex,"-").concat(colIndex);return _this2.renderValueCell(key,column,dv,sort.dimIndex===dimIndex&&sort.columnKey===column.key,dimension.formatTime)}))})))}},{key:"render",value:function render(){return react__WEBPACK_IMPORTED_MODULE_24__.createElement("table",{className:"data-table"},react__WEBPACK_IMPORTED_MODULE_24__.createElement("thead",null,this.headerRow),react__WEBPACK_IMPORTED_MODULE_24__.createElement("tbody",null,this.valueRows))}},{key:"tableState",get:function get(){return{sort:this.sortState}}},{key:"sortState",get:function get(){var _DEFAULT_SORT_STATE$t=Object.assign({},DEFAULT_SORT_STATE,this.storedState.sort),dimIndex=_DEFAULT_SORT_STATE$t.dimIndex,columnKey=_DEFAULT_SORT_STATE$t.columnKey,order=_DEFAULT_SORT_STATE$t.order;if(-1!==(dimIndex=Math.min(dimIndex,this.transform.dimensions.length-1))){var availableColumns=this.transform.dimensionsWithValues[dimIndex].columns.map((function(sub){return sub.key}));void 0!==columnKey&&availableColumns.includes(columnKey)||(columnKey=availableColumns[0])}return{dimIndex:dimIndex,columnKey:columnKey,order:order}}},{key:"entityType",get:function get(){return this.grapher.entityType}},{key:"grapher",get:function get(){return this.props.grapher}},{key:"transform",get:function get(){return this.grapher.dataTableTransform}},{key:"sortValueMapper",get:function get(){var _this$tableState$sort=this.tableState.sort,dimIndex=_this$tableState$sort.dimIndex,columnKey=_this$tableState$sort.columnKey,order=_this$tableState$sort.order;return-1===dimIndex?function(row){return row.entity}:function(row){var value,_dv$single,_dv,dv=row.dimensionValues[dimIndex];dv&&(Object(_DataTableTransform__WEBPACK_IMPORTED_MODULE_34__.f)(dv)?value=null===(_dv$single=dv.single)||void 0===_dv$single?void 0:_dv$single.value:Object(_DataTableTransform__WEBPACK_IMPORTED_MODULE_34__.e)(dv)&&void 0!==columnKey&&columnKey in _DataTableTransform__WEBPACK_IMPORTED_MODULE_34__.b&&(value=null===(_dv=dv[columnKey])||void 0===_dv?void 0:_dv.value));return void 0===value||"number"==typeof value&&(!isFinite(value)||isNaN(value))?order===grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_30__.e.asc?1/0:-1/0:value}}},{key:"displayDimensions",get:function get(){return this.transform.displayDimensions}},{key:"displayRows",get:function get(){var order=this.tableState.sort.order;return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_31__.nb)(this.transform.displayRows,this.sortValueMapper,[order])}},{key:"hasSubheaders",get:function get(){return this.displayDimensions.some((function(header){return header.columns.length>1}))}},{key:"entityHeader",get:function get(){var _this3=this,sort=this.tableState.sort;return react__WEBPACK_IMPORTED_MODULE_24__.createElement(ColumnHeader,{key:"entity",sortable:!0,sortedCol:-1===sort.dimIndex,sortOrder:sort.order,onClick:function onClick(){return _this3.updateSort(-1)},rowSpan:this.hasSubheaders?2:1,headerText:Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_31__.c)(this.entityType),colType:"entity",dataType:"text"})}},{key:"dimensionHeaders",get:function get(){var _this4=this,sort=this.tableState.sort;return this.displayDimensions.map((function(dim,dimIndex){var dimensionHeaderText=react__WEBPACK_IMPORTED_MODULE_24__.createElement(react__WEBPACK_IMPORTED_MODULE_24__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_24__.createElement("span",{className:"name"},Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_31__.Xb)(dim.name)),react__WEBPACK_IMPORTED_MODULE_24__.createElement("span",{className:"unit"},dim.unit)),props={sortable:dim.sortable,sortedCol:dim.sortable&&sort.dimIndex===dimIndex,sortOrder:sort.order,onClick:function onClick(){return dim.sortable&&_this4.updateSort(dimIndex,_DataTableTransform__WEBPACK_IMPORTED_MODULE_34__.c.single)},rowSpan:_this4.hasSubheaders&&dim.columns.length<2?2:1,colSpan:dim.columns.length,headerText:dimensionHeaderText,colType:"dimension",dataType:"numeric"};return react__WEBPACK_IMPORTED_MODULE_24__.createElement(ColumnHeader,_extends({key:dim.key},props))}))}},{key:"dimensionSubheaders",get:function get(){var _this5=this,sort=this.tableState.sort;return this.displayDimensions.map((function(dim,dimIndex){return dim.columns.map((function(column){var headerText=column.targetTimeMode===_DataTableTransform__WEBPACK_IMPORTED_MODULE_34__.d.point?dim.formatTime(column.targetTime):columnNameByType[column.key];return react__WEBPACK_IMPORTED_MODULE_24__.createElement(ColumnHeader,{key:column.key,sortable:column.sortable,sortedCol:sort.dimIndex===dimIndex&&sort.columnKey===column.key,sortOrder:sort.order,onClick:function onClick(){return _this5.updateSort(dimIndex,column.key)},headerText:headerText,colType:"subdimension",dataType:"numeric"})}))}))}},{key:"headerRow",get:function get(){return react__WEBPACK_IMPORTED_MODULE_24__.createElement(react__WEBPACK_IMPORTED_MODULE_24__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_24__.createElement("tr",null,this.entityHeader,this.dimensionHeaders),this.hasSubheaders&&react__WEBPACK_IMPORTED_MODULE_24__.createElement("tr",null,this.dimensionSubheaders))}},{key:"valueRows",get:function get(){var _this6=this;return this.displayRows.map((function(row){return _this6.renderEntityRow(row,_this6.displayDimensions)}))}}]),DataTable}(react__WEBPACK_IMPORTED_MODULE_24__.Component),_descriptor=_applyDecoratedDescriptor((_class2=_temp).prototype,"storedState",[mobx__WEBPACK_IMPORTED_MODULE_25__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{sort:DEFAULT_SORT_STATE}}}),_applyDecoratedDescriptor(_class2.prototype,"tableState",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"tableState"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"sortState",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"sortState"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"entityType",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"entityType"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"grapher",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"grapher"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"transform",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"transform"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"sortValueMapper",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"sortValueMapper"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"displayDimensions",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"displayDimensions"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"displayRows",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"displayRows"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"hasSubheaders",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"hasSubheaders"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"updateSort",[_dec],Object.getOwnPropertyDescriptor(_class2.prototype,"updateSort"),_class2.prototype),_class=_class2))||_class);function ColumnHeader(props){var _props$rowSpan,_props$colSpan,sortable=props.sortable,sortedCol=props.sortedCol,colType=props.colType;return react__WEBPACK_IMPORTED_MODULE_24__.createElement("th",{className:classnames__WEBPACK_IMPORTED_MODULE_27___default()(colType,{sortable:sortable,sorted:sortedCol}),rowSpan:null!==(_props$rowSpan=props.rowSpan)&&void 0!==_props$rowSpan?_props$rowSpan:1,colSpan:null!==(_props$colSpan=props.colSpan)&&void 0!==_props$colSpan?_props$colSpan:1,onClick:props.onClick},props.headerText,sortable&&react__WEBPACK_IMPORTED_MODULE_24__.createElement(grapher_controls_SortIcon__WEBPACK_IMPORTED_MODULE_32__.a,{type:props.dataType,isActiveIcon:sortedCol,order:sortedCol?props.sortOrder:"entity"===colType?grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_30__.e.asc:grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_30__.e.desc}))}ColumnHeader.displayName="ColumnHeader";var makeClosestTimeNotice=function makeClosestTimeNotice(targetTime,closestTime){return react__WEBPACK_IMPORTED_MODULE_24__.createElement(grapher_chart_Tippy__WEBPACK_IMPORTED_MODULE_33__.a,{content:react__WEBPACK_IMPORTED_MODULE_24__.createElement("div",{className:"closest-time-notice-tippy"},react__WEBPACK_IMPORTED_MODULE_24__.createElement("strong",null,"Data not available for ",targetTime),react__WEBPACK_IMPORTED_MODULE_24__.createElement("br",null),"Showing closest available data point (",closestTime,")"),arrow:!1},react__WEBPACK_IMPORTED_MODULE_24__.createElement("span",{className:"closest-time-notice-icon"},closestTime," ",react__WEBPACK_IMPORTED_MODULE_24__.createElement("span",{className:"icon"},react__WEBPACK_IMPORTED_MODULE_24__.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_28__.a,{icon:_fortawesome_free_solid_svg_icons_faInfoCircle__WEBPACK_IMPORTED_MODULE_29__.faInfoCircle}))))};makeClosestTimeNotice.displayName="makeClosestTimeNotice";try{DataTable.displayName="DataTable",DataTable.__docgenInfo={description:"",displayName:"DataTable",props:{grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/dataTable/DataTable.tsx#DataTable"]={docgenInfo:DataTable.__docgenInfo,name:"DataTable",path:"grapher/dataTable/DataTable.tsx#DataTable"})}catch(__react_docgen_typescript_loader_error){}},,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ChartLayout_ChartLayout})),__webpack_require__.d(__webpack_exports__,"b",(function(){return ChartLayout_ChartLayoutView}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(19),__webpack_require__(30),__webpack_require__(14),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(23),__webpack_require__(71),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var _class,delegated_reactfrom_dll_reference_storybook_docs_dll=__webpack_require__(1),delegated_reactfrom_dll_reference_storybook_docs_dll_default=__webpack_require__.n(delegated_reactfrom_dll_reference_storybook_docs_dll),mobx_module=__webpack_require__(0),TextWrap=(__webpack_require__(11),__webpack_require__(47)),index_module=__webpack_require__(9);__webpack_require__(106),__webpack_require__(34),__webpack_require__(80);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var Header_class,_class3,_class4,logos={owid:{svg:'<svg width="210" height="120" viewBox="0 0 210 120" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0)">\n  <path d="M0 0h210v107.89H0V0z" fill="#002147" />\n  <path\n    d="M40.98 32.25c0 2.36-.38 4.53-1.12 6.51a14.26 14.26 0 01-8.1 8.4c-1.9.78-4.02 1.17-6.34 1.17-2.31 0-4.42-.39-6.33-1.17a14.31 14.31 0 01-8.08-8.4 18.29 18.29 0 01-1.12-6.51c0-2.36.38-4.53 1.12-6.5.75-1.97 1.8-3.67 3.17-5.1 1.37-1.43 3-2.55 4.9-3.34 1.92-.8 4.03-1.19 6.34-1.19 2.32 0 4.43.4 6.34 1.19 1.92.8 3.56 1.9 4.93 3.34a14.87 14.87 0 013.17 5.1 18.1 18.1 0 011.12 6.5zm-4.38 0c0-1.94-.26-3.68-.8-5.22a10.91 10.91 0 00-2.24-3.89 9.68 9.68 0 00-3.52-2.46 11.95 11.95 0 00-4.62-.86c-1.68 0-3.21.28-4.6.86a9.88 9.88 0 00-3.54 2.46 10.91 10.91 0 00-2.24 3.9c-.53 1.53-.8 3.27-.8 5.2 0 1.94.27 3.68.8 5.22a11.17 11.17 0 002.24 3.9 10.01 10.01 0 003.55 2.44c1.38.56 2.9.83 4.6.83 1.7 0 3.24-.27 4.61-.83a9.8 9.8 0 003.52-2.44 11.17 11.17 0 002.25-3.9c.53-1.54.8-3.28.8-5.21zm26.22-6.54V48H60.5c-.56 0-.9-.27-1.05-.81l-.31-2.4a12.45 12.45 0 01-3.26 2.6c-1.2.64-2.58.96-4.13.96-1.22 0-2.3-.2-3.24-.6a6.52 6.52 0 01-2.33-1.7 7.37 7.37 0 01-1.43-2.67c-.3-1.04-.46-2.2-.46-3.45V25.7h3.91v14.22c0 1.68.38 2.99 1.15 3.91.77.93 1.96 1.39 3.54 1.39 1.16 0 2.24-.27 3.23-.82a10.42 10.42 0 002.8-2.28V25.7h3.91zm8.61 4.47a9.94 9.94 0 012.6-3.56 5.64 5.64 0 013.76-1.3c.47 0 .92.05 1.34.15.44.1.83.27 1.17.49L80 28.88c-.09.37-.3.55-.66.55-.2 0-.5-.04-.9-.13a6.21 6.21 0 00-3.24.18c-.54.2-1.03.5-1.47.92-.42.4-.81.9-1.17 1.5-.33.58-.64 1.26-.92 2.02V48h-3.94V25.71h2.25c.42 0 .72.08.88.25.16.16.27.44.33.83l.26 3.39zm61.16-13.7L122.75 48h-3.82l-7.99-24.05a21.95 21.95 0 01-.42-1.58 38.36 38.36 0 01-.44 1.58L102.05 48h-3.83L88.4 16.47h3.54c.38 0 .7.1.95.29.26.2.43.43.5.73l6.52 21.9c.1.4.2.83.28 1.28.1.46.2.94.29 1.46l.3-1.46c.12-.47.25-.9.38-1.27l7.41-21.91c.1-.25.26-.48.51-.69.27-.22.58-.33.95-.33h1.23c.38 0 .69.1.92.29.24.2.41.43.53.73l7.4 21.9a28.4 28.4 0 01.68 2.62 29.52 29.52 0 01.52-2.61l6.54-21.91c.07-.27.23-.5.48-.7.27-.21.58-.32.95-.32h3.32zm9.35 8.88c1.63 0 3.1.27 4.4.82a9.43 9.43 0 015.46 5.94c.5 1.4.74 2.98.74 4.73 0 1.76-.25 3.34-.74 4.75a9.43 9.43 0 01-5.46 5.92c-1.3.52-2.77.79-4.4.79-1.64 0-3.12-.27-4.44-.8a9.42 9.42 0 01-3.35-2.3c-.92-1-1.63-2.2-2.13-3.61-.49-1.41-.73-3-.73-4.75s.24-3.33.73-4.73c.5-1.43 1.2-2.64 2.13-3.63.93-1 2.04-1.77 3.35-2.31 1.32-.55 2.8-.82 4.44-.82zm0 19.89c2.2 0 3.84-.73 4.93-2.2 1.08-1.48 1.63-3.54 1.63-6.18 0-2.66-.55-4.72-1.63-6.2-1.09-1.49-2.73-2.23-4.93-2.23-1.12 0-2.09.2-2.93.57-.82.39-1.5.94-2.06 1.65-.55.72-.96 1.61-1.24 2.67-.26 1.04-.4 2.22-.4 3.54 0 2.64.55 4.7 1.64 6.18 1.1 1.47 2.76 2.2 4.99 2.2zm17.97-15.07a9.94 9.94 0 012.6-3.56 5.64 5.64 0 013.76-1.3c.47 0 .91.05 1.34.15.44.1.83.27 1.16.49l-.28 2.92c-.09.37-.31.55-.66.55-.2 0-.5-.04-.9-.13a6.2 6.2 0 00-3.24.18c-.54.2-1.03.5-1.47.92-.43.4-.82.9-1.17 1.5a13.1 13.1 0 00-.92 2.02V48h-3.94V25.71h2.24c.43 0 .72.08.88.25.17.16.28.44.33.83l.27 3.39zm15.04-14.59V48h-3.92V15.6h3.92zm19.55 15.43a6.22 6.22 0 00-2.38-2.05 6.7 6.7 0 00-2.86-.6c-2.07 0-3.66.75-4.77 2.23-1.12 1.48-1.68 3.6-1.68 6.33 0 1.46.13 2.7.38 3.74a7.29 7.29 0 001.1 2.56 4.35 4.35 0 001.78 1.45c.7.3 1.5.46 2.4.46 1.29 0 2.41-.3 3.36-.88a9.6 9.6 0 002.67-2.49V31.02zm3.91-15.43V48h-2.33c-.56 0-.9-.27-1.06-.81l-.35-2.71a12.13 12.13 0 01-3.25 2.77 8.28 8.28 0 01-4.23 1.06 7.31 7.31 0 01-6.14-2.9c-.73-.96-1.3-2.15-1.69-3.57a18.35 18.35 0 01.07-9.48 11.29 11.29 0 011.89-3.7 8.7 8.7 0 017.06-3.34 7.96 7.96 0 016.12 2.62V15.59h3.91zM46.61 70.71V93H42.7V70.71h3.91zm.84-7c0 .39-.08.75-.24 1.09-.15.32-.35.61-.62.88-.25.25-.55.44-.9.59a2.67 2.67 0 01-2.16 0 2.9 2.9 0 01-1.45-1.47 2.67 2.67 0 010-2.16c.15-.35.35-.65.6-.9.25-.27.53-.47.85-.62a2.67 2.67 0 012.16 0c.35.15.65.35.9.62.27.25.47.55.62.9.16.34.24.7.24 1.08zm7.97 10.24c.49-.54 1-1.04 1.54-1.48a9.85 9.85 0 013.66-1.84 8.96 8.96 0 015.43.35c.94.4 1.72.97 2.33 1.71.63.74 1.11 1.62 1.43 2.67.32 1.04.49 2.19.49 3.45V93h-3.94V78.81c0-1.69-.4-3-1.17-3.92-.76-.93-1.93-1.4-3.5-1.4-1.15 0-2.24.27-3.25.83-1 .56-1.92 1.31-2.77 2.27V93h-3.94V70.71h2.35c.56 0 .9.28 1.04.82l.3 2.42zm57.7 3.3c0 2.36-.37 4.5-1.11 6.44a14.3 14.3 0 01-3.17 4.98c-1.37 1.37-3 2.45-4.93 3.2-1.9.76-4.02 1.13-6.33 1.13H85.8V61.47h11.77c2.31 0 4.42.39 6.33 1.15a13.8 13.8 0 018.1 8.18 17.75 17.75 0 011.12 6.45zm-4.37 0c0-1.94-.26-3.67-.8-5.2a10.94 10.94 0 00-2.23-3.87 9.57 9.57 0 00-3.53-2.42 12.23 12.23 0 00-4.61-.83h-7.5v24.62h7.5c1.7 0 3.24-.28 4.61-.84a9.7 9.7 0 003.53-2.4 10.94 10.94 0 002.24-3.87c.53-1.53.8-3.26.8-5.2zm19.8 5.72c-1.8.06-3.34.2-4.62.44-1.26.22-2.3.51-3.1.88-.8.36-1.37.8-1.74 1.3-.35.5-.53 1.05-.53 1.67 0 .58.1 1.1.3 1.52a3 3 0 00.76 1.05c.34.27.73.46 1.17.6.45.11.94.17 1.45.17a7.28 7.28 0 003.5-.81 11.95 11.95 0 002.82-2.2v-4.62zm-12.65-9.11a12.73 12.73 0 013.98-2.66c1.43-.59 3-.88 4.73-.88 1.25 0 2.36.2 3.33.61a6.81 6.81 0 013.94 4.38c.33 1.04.5 2.19.5 3.43V93h-1.74a1.8 1.8 0 01-.88-.18c-.2-.13-.36-.38-.48-.74l-.44-2.12c-.59.55-1.16 1.03-1.72 1.46a9.48 9.48 0 01-3.74 1.7c-.69.15-1.46.23-2.3.23-.87 0-1.69-.12-2.45-.35a5.34 5.34 0 01-3.34-2.93 6.64 6.64 0 01-.49-2.64c0-.88.25-1.72.73-2.53a6.33 6.33 0 012.35-2.17c1.09-.63 2.5-1.15 4.25-1.54 1.75-.41 3.89-.65 6.42-.7v-1.75c0-1.73-.37-3.03-1.12-3.91-.75-.9-1.84-1.34-3.28-1.34-.97 0-1.78.12-2.44.37-.64.23-1.2.5-1.7.81l-1.23.82c-.33.23-.67.35-1 .35-.27 0-.5-.07-.69-.2a2.1 2.1 0 01-.48-.53l-.7-1.25zm27.67 19.5c-1.76 0-3.12-.5-4.07-1.48-.94-.98-1.41-2.4-1.41-4.25V74h-2.68a.9.9 0 01-.6-.2c-.16-.14-.24-.36-.24-.66v-1.56l3.65-.46.9-6.89c.05-.22.14-.4.29-.52a.88.88 0 01.62-.22H142v7.67h6.44V74h-6.44v13.38c0 .94.22 1.63.68 2.09.45.45 1.04.68 1.76.68a3.21 3.21 0 001.85-.53l.55-.35c.16-.12.3-.18.41-.18.2 0 .4.13.55.38l1.15 1.87a7.45 7.45 0 01-2.44 1.5c-.96.35-1.94.52-2.95.52zm19.68-10.4c-1.8.07-3.34.21-4.62.45-1.26.22-2.3.51-3.1.88-.8.36-1.37.8-1.74 1.3-.35.5-.53 1.05-.53 1.67 0 .58.1 1.1.3 1.52.18.42.44.77.76 1.05.34.27.73.46 1.17.6.45.11.94.17 1.45.17a7.3 7.3 0 003.5-.81 12.04 12.04 0 002.82-2.2v-4.62zm-12.65-9.1a12.72 12.72 0 013.99-2.66c1.42-.59 3-.88 4.72-.88 1.25 0 2.36.2 3.33.61a6.81 6.81 0 013.94 4.38c.33 1.04.5 2.19.5 3.43V93h-1.74a1.8 1.8 0 01-.88-.18c-.2-.13-.36-.38-.48-.74l-.44-2.12c-.59.55-1.16 1.03-1.72 1.46a9.48 9.48 0 01-3.74 1.7c-.69.15-1.46.23-2.3.23-.87 0-1.69-.12-2.45-.35a5.33 5.33 0 01-3.34-2.93 6.62 6.62 0 01-.49-2.64c0-.88.25-1.72.73-2.53a6.33 6.33 0 012.35-2.17c1.09-.63 2.5-1.15 4.25-1.54 1.74-.41 3.89-.65 6.42-.7v-1.75c0-1.73-.37-3.03-1.12-3.91-.75-.9-1.84-1.34-3.28-1.34-.97 0-1.78.12-2.44.37-.64.23-1.2.5-1.7.81-.46.3-.87.57-1.22.82-.34.23-.68.35-1.02.35-.26 0-.49-.07-.68-.2-.19-.14-.35-.32-.48-.53l-.7-1.25z"\n    fill="#fff"\n  />\n  <path fill="#D42B21" d="M0 106.79h210V120H0z" />\n</g>\n<defs>\n  <clipPath id="clip0"><path fill="#fff" d="M0 0h210v120H0z" /></clipPath>\n</defs>\n</svg>',width:210,height:120,targetHeight:35,url:"https://ourworldindata.org"},"core+owid":{svg:'<svg width="102" height="37" viewBox="0 0 102 37" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M47 0H0v37h47V0z" fill="#EA4148" />\n<path\n  d="M3.78 11.85c0-3.55 2.67-5.6 5.68-5.6a4.63 4.63 0 013.09 1.1l-1.7 2.36c-.31-.32-.74-.5-1.18-.52-1.36 0-2.16 1.03-2.16 2.66 0 1.62.89 2.65 2.03 2.65a2.93 2.93 0 001.7-.69l1.4 2.4a5.29 5.29 0 01-3.52 1.24c-3 0-5.34-2.05-5.34-5.6z"\n  fill="#fff"\n/>\n<path\n  d="M18.85 11.85c0-1.63-.42-2.66-1.52-2.66s-1.52 1.03-1.52 2.66c0 1.62.42 2.65 1.52 2.65s1.52-1.03 1.52-2.65zm-6.77 0c0-3.55 2.54-5.6 5.25-5.6 2.7 0 5.25 2.05 5.25 5.6s-2.54 5.6-5.25 5.6-5.25-2.05-5.25-5.6M23.34 6.5h2.97l.25 1.84h.09c.78-1.46 1.97-2.1 3-2.1.45-.02.9.05 1.32.22l-.6 3.16c-.38-.1-.78-.16-1.18-.17-.76 0-1.7.47-2.2 1.8v5.94h-3.65V6.5zM36.98 10.56c0-.81-.34-1.54-1.44-1.54-.8 0-1.49.47-1.7 1.54h3.14zm-6.6 1.29c0-3.47 2.49-5.6 5.07-5.6 3.13 0 4.62 2.3 4.62 5.17 0 .52-.05 1.03-.15 1.54h-6.04c.34 1.28 1.27 1.71 2.46 1.71a4.3 4.3 0 002.16-.64l1.18 2.18a7.08 7.08 0 01-3.85 1.24c-3.09 0-5.46-2.05-5.46-5.6"\n  fill="#fff"\n/>\n<path\n  d="M10.43 23.87c0-.81-.34-1.54-1.44-1.54-.8 0-1.48.47-1.69 1.54h3.13zm-6.6 1.28c0-3.46 2.5-5.6 5.08-5.6 3.13 0 4.61 2.3 4.61 5.18 0 .51-.05 1.03-.15 1.54H7.34c.34 1.28 1.27 1.7 2.46 1.7.76-.01 1.5-.23 2.16-.63l1.18 2.18a7.08 7.08 0 01-3.85 1.24c-3.1 0-5.46-2.06-5.46-5.6M13.9 25.15c0-3.55 2.67-5.6 5.68-5.6a4.63 4.63 0 013.09 1.11l-1.7 2.35c-.32-.31-.74-.5-1.18-.51-1.36 0-2.16 1.03-2.16 2.65 0 1.63.89 2.66 2.03 2.66a2.93 2.93 0 001.7-.69l1.39 2.4a5.29 5.29 0 01-3.51 1.24c-3 0-5.34-2.06-5.34-5.6"\n  fill="#1A1818"\n/>\n<path\n  d="M28.97 25.15c0-1.62-.42-2.65-1.52-2.65s-1.52 1.03-1.52 2.65c0 1.63.42 2.66 1.52 2.66s1.52-1.03 1.52-2.66zm-6.77 0c0-3.55 2.54-5.6 5.25-5.6 2.7 0 5.25 2.05 5.25 5.6s-2.54 5.6-5.25 5.6-5.25-2.04-5.25-5.6M33.54 19.8h2.97l.25 1.29h.09a4.76 4.76 0 013.34-1.54c2.33 0 3.3 1.71 3.3 4.36v6.6h-3.64v-6.13c0-1.37-.34-1.7-1.06-1.7-.67 0-1.05.3-1.6.8v7.02h-3.65V19.8z"\n  fill="#1A1818"\n/>\n<path fill="#fff" d="M48 0h54v37H48z" />\n<path d="M48 0h53.93v33H48V0z" fill="#002147" />\n<path\n  d="M58.42 10.86c0 .61-.1 1.18-.3 1.7a3.83 3.83 0 01-2.15 2.21c-.5.21-1.07.32-1.7.32-.6 0-1.17-.1-1.68-.32a3.9 3.9 0 01-2.15-2.21c-.2-.52-.3-1.09-.3-1.7 0-.61.1-1.18.3-1.7a3.93 3.93 0 012.15-2.22 4.38 4.38 0 011.69-.31c.62 0 1.18.1 1.69.31a3.79 3.79 0 012.15 2.22c.2.52.3 1.09.3 1.7zm-1.38 0c0-.48-.06-.9-.2-1.28A2.38 2.38 0 0055.43 8a2.97 2.97 0 00-1.14-.21c-.42 0-.8.07-1.15.21-.34.14-.63.35-.87.61-.24.27-.43.59-.56.97-.13.38-.2.8-.2 1.28s.07.9.2 1.29a2.46 2.46 0 001.43 1.57c.35.14.73.2 1.15.2.42 0 .8-.06 1.15-.2a2.4 2.4 0 001.42-1.57c.13-.38.2-.81.2-1.29zm7.14-1.72V15h-.74c-.17 0-.27-.08-.32-.24l-.1-.54a3.42 3.42 0 01-.81.63 2.3 2.3 0 01-1.06.24c-.32 0-.6-.05-.85-.16a1.72 1.72 0 01-1-1.15 3.1 3.1 0 01-.12-.91V9.14h1.24v3.73c0 .4.09.7.27.92.18.22.46.32.83.32.27 0 .53-.06.76-.18.24-.13.46-.3.67-.52V9.13h1.23zm2.33 1.08c.18-.37.4-.66.66-.87.27-.22.58-.32.94-.32a1.34 1.34 0 01.66.17l-.09.93c-.01.06-.04.11-.07.14a.2.2 0 01-.13.03c-.06 0-.14 0-.25-.03a1.62 1.62 0 00-.8.04c-.13.05-.25.13-.35.22-.1.1-.2.21-.28.35-.08.14-.15.3-.22.47V15h-1.24V9.13h.72c.13 0 .22.03.27.08.05.05.08.13.1.25l.08.76zm16-3.5L79.94 15h-1.21l-1.95-5.95a4.7 4.7 0 01-.12-.46 3.32 3.32 0 01-.13.46L74.57 15h-1.22l-2.57-8.28h1.13c.11 0 .2.03.28.09.08.05.14.12.16.22l1.56 5.3a6.11 6.11 0 01.16.8 10 10 0 01.2-.8l1.78-5.3a.48.48 0 01.16-.21c.08-.07.17-.1.28-.1h.4c.11 0 .21.03.28.1.08.05.13.12.17.21l1.77 5.3.1.37.1.4a59.35 59.35 0 00.16-.76L81 7.03a.4.4 0 01.16-.22c.08-.06.18-.09.3-.09h1.04zm2.41 2.32c.44 0 .83.07 1.18.22a2.49 2.49 0 011.47 1.55c.13.37.2.79.2 1.25 0 .47-.07.88-.2 1.26-.14.37-.33.69-.58.95-.24.26-.54.46-.9.6-.34.15-.73.22-1.17.22-.43 0-.83-.07-1.18-.22a2.55 2.55 0 01-1.47-1.55c-.14-.38-.2-.8-.2-1.26 0-.46.06-.88.2-1.25a2.55 2.55 0 011.47-1.55c.35-.15.75-.22 1.18-.22zm0 5.08c.53 0 .92-.18 1.18-.53.26-.36.4-.86.4-1.52s-.14-1.17-.4-1.53c-.26-.36-.65-.54-1.18-.54-.53 0-.93.18-1.2.54-.25.36-.38.87-.38 1.53s.13 1.16.39 1.52c.26.35.66.53 1.2.53zm4.86-3.9c.18-.37.4-.66.67-.87.26-.22.57-.32.93-.32a1.34 1.34 0 01.66.17l-.09.93c-.01.06-.04.11-.07.14a.2.2 0 01-.13.03c-.06 0-.14 0-.25-.03a1.62 1.62 0 00-.8.04c-.13.05-.24.13-.35.22-.1.1-.2.21-.28.35-.08.14-.15.3-.22.47V15H88.6V9.13h.72c.13 0 .22.03.27.08.05.05.08.13.1.25l.08.76zm4-3.73V15h-1.25V6.49h1.24zm4.91 4.09a1.45 1.45 0 00-1.24-.6c-.48 0-.86.18-1.13.54-.27.35-.4.87-.4 1.56 0 .37.02.67.08.93.07.25.15.46.27.62.11.16.25.28.42.35.16.08.35.11.56.11.31 0 .58-.07.8-.2.24-.14.45-.33.64-.58v-2.73zm1.24-4.09V15h-.75c-.16 0-.27-.08-.31-.24l-.11-.63c-.25.28-.53.52-.84.7-.31.17-.67.26-1.09.26a1.96 1.96 0 01-1.59-.78c-.19-.25-.34-.57-.44-.94a4.86 4.86 0 01.01-2.5c.12-.37.3-.7.51-.96a2.3 2.3 0 011.85-.88c.34 0 .63.05.88.16.24.11.45.26.64.46V6.49h1.24zm-39.9 14.65V27h-1.24v-5.86h1.24zm.2-1.78c0 .12-.02.22-.06.32a.83.83 0 01-1.34.26.8.8 0 01-.24-.58c0-.11.02-.22.06-.32a.89.89 0 01.43-.43.76.76 0 01.64 0 .81.81 0 01.45.43c.04.1.06.2.06.32zm2.16 2.55a3.67 3.67 0 01.83-.63 2.32 2.32 0 011.9-.08c.24.11.45.26.61.46.17.2.3.43.38.7.09.28.13.58.13.9V27H65v-3.73c0-.4-.1-.7-.28-.92-.18-.22-.45-.33-.83-.33-.27 0-.53.06-.77.19-.23.13-.45.3-.66.52V27h-1.23v-5.86h.74c.17 0 .28.07.33.23l.08.54zm14.96.95c0 .61-.1 1.17-.3 1.68a3.78 3.78 0 01-2.15 2.16c-.5.2-1.07.3-1.69.3H70.1v-8.28h3.12c.62 0 1.19.1 1.7.3a3.71 3.71 0 012.14 2.16c.2.5.3 1.07.3 1.68zm-1.37 0c0-.48-.07-.9-.2-1.28a2.6 2.6 0 00-.55-.96 2.35 2.35 0 00-.87-.6 2.97 2.97 0 00-1.15-.21h-1.77v6.1h1.77c.43 0 .81-.07 1.15-.2.34-.14.63-.34.87-.6.24-.27.43-.59.55-.96.13-.38.2-.81.2-1.29zm5.27 1.58a7.5 7.5 0 00-1.12.1c-.3.06-.55.13-.73.22a.97.97 0 00-.41.3.68.68 0 00-.12.4c0 .13.02.25.06.35.05.1.1.18.18.24.08.06.18.1.28.14a1.78 1.78 0 001.18-.14c.23-.12.46-.3.68-.53v-1.08zm-3.28-2.49a3.36 3.36 0 012.37-.92c.34 0 .63.05.9.16.26.11.48.26.66.46.18.2.31.44.4.72.1.27.15.57.15.9V27h-.55a.56.56 0 01-.27-.05c-.06-.04-.12-.11-.16-.23l-.12-.47-.44.36c-.15.1-.3.2-.46.26a2.77 2.77 0 01-1.75.12c-.2-.06-.38-.16-.53-.29a1.46 1.46 0 01-.48-1.18c0-.23.06-.45.18-.66.12-.22.32-.41.6-.58.27-.17.64-.31 1.1-.43a8.03 8.03 0 011.68-.19v-.39c0-.42-.1-.73-.27-.94-.18-.2-.45-.3-.8-.3-.23-.01-.43.02-.6.08a6.05 6.05 0 00-.74.39.54.54 0 01-.28.08.38.38 0 01-.22-.06.6.6 0 01-.15-.17l-.22-.4zm7.38 5.14c-.48 0-.86-.13-1.12-.4-.26-.28-.4-.67-.4-1.17v-3.41h-.64a.27.27 0 01-.18-.07c-.05-.04-.07-.11-.07-.2v-.5l.95-.14.27-1.7a.31.31 0 01.1-.15c.04-.04.1-.06.18-.06h.63v1.93h1.63v.89h-1.63v3.33c0 .2.05.37.16.48.1.11.24.17.41.17a.79.79 0 00.43-.12 4 4 0 00.12-.08.2.2 0 01.11-.04c.07 0 .13.04.17.11l.37.6c-.2.18-.42.3-.68.4a2.5 2.5 0 01-.8.13zm5.11-2.65a7.5 7.5 0 00-1.11.1 3 3 0 00-.74.22.97.97 0 00-.4.3.68.68 0 00-.13.4c0 .13.02.25.06.35.05.1.11.18.19.24s.17.1.28.14a1.78 1.78 0 001.18-.14c.23-.12.45-.3.67-.53v-1.08zm-3.28-2.49a3.36 3.36 0 012.37-.92c.34 0 .64.05.9.16.27.11.49.26.66.46.18.2.32.44.41.72.1.27.14.57.14.9V27h-.55a.56.56 0 01-.27-.05c-.06-.04-.11-.11-.15-.23l-.12-.47-.45.36c-.14.1-.3.2-.45.26a2.77 2.77 0 01-1.75.12c-.2-.06-.38-.16-.53-.29a1.46 1.46 0 01-.49-1.18c0-.23.06-.45.18-.66.12-.22.32-.41.6-.58.28-.17.65-.31 1.1-.43a8.03 8.03 0 011.68-.19v-.39c0-.42-.09-.73-.27-.94-.18-.2-.44-.3-.8-.3-.23-.01-.43.02-.59.08a6.09 6.09 0 00-.74.39.54.54 0 01-.29.08.38.38 0 01-.22-.06.6.6 0 01-.14-.17l-.23-.4z"\n  fill="#fff"\n/>\n<path fill="#D42B21" d="M48 32.65h54V37H48z" />\n</svg>',width:102,height:37,targetHeight:35},"gv+owid":{svg:'<svg width="420" height="350" viewBox="0 0 420 350" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0)">\n  <path fill="#fff" d="M0 0h420v350H0z" />\n  <path d="M0 0h420v214H0V0z" fill="#002147" />\n  <path\n    d="M80.1 63.5c0 4.7-.7 9-2.2 13a28.5 28.5 0 01-16.2 16.8c-3.8 1.6-8 2.4-12.7 2.4-4.6 0-8.8-.8-12.6-2.4a28.6 28.6 0 01-16.2-16.8c-1.5-4-2.2-8.3-2.2-13 0-4.7.7-9 2.2-13a29.7 29.7 0 0116.2-16.9c3.8-1.6 8-2.4 12.6-2.4 4.7 0 8.9.8 12.7 2.4a28.2 28.2 0 0116.2 17c1.5 3.8 2.2 8.2 2.2 12.9zm-8.7 0a32 32 0 00-1.6-10.4c-1-3.1-2.6-5.7-4.5-7.8-2-2.2-4.3-3.8-7-5a23.9 23.9 0 00-9.3-1.7c-3.4 0-6.4.6-9.2 1.8A19.8 19.8 0 0028.3 53a32 32 0 00-1.6 10.4c0 3.9.5 7.3 1.6 10.4 1 3 2.5 5.7 4.4 7.8a20 20 0 007.1 4.9c2.8 1.1 5.8 1.7 9.2 1.7 3.4 0 6.5-.6 9.3-1.7a19.6 19.6 0 0011.5-12.7c1-3 1.6-6.5 1.6-10.4zm23.3-13v28.4c0 3.3.8 6 2.3 7.8 1.6 1.8 4 2.8 7 2.8 2.3 0 4.5-.6 6.5-1.7 2-1 4-2.6 5.6-4.5V50.4h7.8V95h-4.6c-1.1 0-1.8-.5-2.1-1.6l-.7-4.8c-1.9 2.1-4 3.8-6.5 5.2-2.4 1.3-5.1 1.9-8.2 1.9-2.5 0-4.6-.4-6.5-1.2a13 13 0 01-4.7-3.4 14.7 14.7 0 01-2.8-5.3c-.6-2.1-1-4.4-1-7V50.5h7.9zM134.2 95V50.4h4.5c.8 0 1.4.2 1.7.5.3.3.6.9.7 1.7l.5 7c1.5-3.2 3.4-5.6 5.6-7.3 2.3-1.8 5-2.7 8-2.7a11.8 11.8 0 016 1.6l-1 5.9c-.1.7-.6 1-1.3 1-.4 0-1 0-1.9-.3-.8-.3-2-.5-3.6-.5-2.7 0-5 .8-6.8 2.4a18 18 0 00-4.6 7V95h-7.8zm41.4-63h7a3 3 0 012 .5c.5.4.8.9 1 1.5l13 43.8.6 2.5.6 3a162.5 162.5 0 011.3-5.5L215.9 34c.2-.5.5-1 1-1.4.6-.4 1.2-.7 2-.7h2.4c.8 0 1.4.2 1.8.6.5.4.9.9 1.1 1.5l14.7 43.8c.6 1.5 1 3.3 1.5 5.2a183 183 0 001-5.2l13-43.8a3 3 0 012.9-2h6.7l-19.7 63h-7.6l-16-48-.9-3.3a126.5 126.5 0 01-.8 3.2L203 95h-7.7l-19.7-63zM285 49.6c3.2 0 6.1.6 8.8 1.7 2.6 1 4.8 2.6 6.6 4.6a20 20 0 014.3 7.2c1 2.8 1.5 6 1.5 9.5s-.5 6.7-1.5 9.5a20 20 0 01-4.3 7.2c-1.8 2-4 3.5-6.6 4.6-2.7 1-5.6 1.6-8.8 1.6-3.3 0-6.3-.5-8.9-1.6a18.9 18.9 0 01-11-11.8c-1-2.8-1.4-6-1.4-9.5s.5-6.7 1.4-9.5c1-2.8 2.5-5.2 4.3-7.2 1.9-2 4.1-3.6 6.7-4.6a23 23 0 018.9-1.7zm0 39.8c4.3 0 7.6-1.5 9.8-4.4 2.2-3 3.3-7 3.3-12.4 0-5.3-1.1-9.4-3.3-12.4-2.2-3-5.4-4.4-9.8-4.4-2.3 0-4.2.4-5.9 1.1a11 11 0 00-4 3.3c-1.2 1.5-2 3.2-2.6 5.4a28.9 28.9 0 000 14.2c.6 2 1.4 3.8 2.5 5.2 1.1 1.4 2.5 2.5 4.1 3.3 1.7.7 3.6 1.1 5.9 1.1zm28.2 5.5V50.4h4.5c.8 0 1.4.2 1.7.5.3.3.6.9.7 1.7l.5 7c1.5-3.2 3.4-5.6 5.6-7.3 2.3-1.8 5-2.7 8-2.7a11.8 11.8 0 016 1.6l-1 5.9c-.1.7-.6 1-1.3 1-.4 0-1 0-1.9-.3-.8-.3-2-.5-3.6-.5-2.7 0-5 .8-6.8 2.4a18 18 0 00-4.6 7V95h-7.8zm41.5-64.8V95H347V30.2h7.8zM397.4 95c-1.1 0-1.8-.5-2.1-1.6l-.7-5.4c-2 2.3-4.1 4.1-6.6 5.5-2.4 1.4-5.2 2.1-8.4 2.1-2.6 0-4.9-.5-7-1.4-2-1-3.8-2.5-5.3-4.4-1.4-1.9-2.6-4.3-3.4-7.1a36.7 36.7 0 01.2-19c.8-2.8 2.1-5.3 3.7-7.4a17.8 17.8 0 0114.2-6.7 16 16 0 0112.2 5.3V30.2h7.8V95h-4.6zm-15.2-5.7c2.5 0 4.8-.6 6.7-1.8 2-1.2 3.7-2.8 5.3-5V61a12.2 12.2 0 00-10.4-5.2c-4.2 0-7.4 1.4-9.6 4.4-2.2 3-3.4 7.2-3.4 12.7 0 2.9.3 5.4.8 7.4.5 2.1 1.2 3.8 2.2 5.2 1 1.3 2.1 2.2 3.5 2.9 1.5.6 3 .9 4.9.9zM96 140.4V185h-7.8v-44.6H96zm1.8-14a5 5 0 01-.5 2.2 6 6 0 01-3 3 5.4 5.4 0 01-4.3 0l-1.8-1.2-1.2-1.8a5.3 5.3 0 010-4.3 6 6 0 013-3 5.4 5.4 0 014.3 0c.7.2 1.3.6 1.8 1.2.5.5.9 1 1.2 1.8.3.7.5 1.4.5 2.1zm9.4 58.6v-44.6h4.6c1.2 0 1.9.6 2.2 1.7l.6 4.8c2-2.1 4-3.9 6.4-5.2a17 17 0 018.4-2c2.4 0 4.5.4 6.4 1.3 1.9.7 3.4 1.9 4.6 3.4 1.3 1.5 2.3 3.2 2.9 5.3.6 2 1 4.4 1 7V185h-7.9v-28.4c0-3.4-.7-6-2.3-7.8-1.5-1.9-3.9-2.8-7-2.8-2.3 0-4.5.5-6.5 1.6-2 1.2-3.9 2.7-5.6 4.6V185h-7.8zm116.5-31.5c0 4.7-.8 9-2.3 12.9a28.6 28.6 0 01-16.1 16.4c-3.8 1.5-8 2.2-12.7 2.2H169v-63h23.6c4.7 0 8.9.7 12.7 2.2a27.7 27.7 0 0116.1 16.4c1.5 3.9 2.3 8.2 2.3 12.9zm-8.8 0c0-3.9-.5-7.3-1.5-10.4-1.1-3-2.6-5.6-4.5-7.7-2-2.1-4.3-3.8-7-4.9a24.3 24.3 0 00-9.3-1.6h-15V178h15c3.4 0 6.5-.6 9.2-1.7a19.4 19.4 0 0011.6-12.5c1-3 1.5-6.5 1.5-10.4zm49.3 31.5h-3.5c-.8 0-1.4-.1-1.9-.4-.4-.2-.7-.7-.9-1.4l-.9-4.2-3.4 2.9a19 19 0 01-12.1 3.8c-1.7 0-3.4-.2-4.9-.7a10.6 10.6 0 01-6.6-5.9c-.6-1.4-1-3.2-1-5.2 0-1.8.5-3.5 1.5-5 1-1.7 2.5-3.2 4.7-4.4 2.1-1.3 5-2.3 8.5-3.1 3.5-.8 7.7-1.3 12.8-1.4v-3.5c0-3.5-.8-6-2.3-7.8-1.4-1.8-3.6-2.7-6.5-2.7-2 0-3.6.2-4.9.7-1.3.5-2.4 1-3.4 1.6L237 150c-.7.4-1.4.7-2 .7-.6 0-1-.2-1.5-.4l-.9-1-1.4-2.6a24.6 24.6 0 0117.4-7c2.5 0 4.7.3 6.7 1.2a13.6 13.6 0 017.9 8.7c.6 2.1 1 4.4 1 6.9V185zm-20.4-4.8c1.4 0 2.7-.1 3.8-.4a16 16 0 006.1-3 24 24 0 002.8-2.6V165c-3.6.2-6.7.4-9.2 1-2.6.4-4.6 1-6.2 1.7a8.8 8.8 0 00-3.5 2.6c-.7 1-1 2-1 3.3 0 1.2.2 2.2.6 3a6 6 0 001.5 2.2c.6.5 1.4.9 2.3 1.2.9.2 1.8.3 2.8.3zm43.1 5.5c-3.5 0-6.2-1-8.1-3-2-2-2.9-4.7-2.9-8.4V147h-5.3c-.5 0-.9-.1-1.2-.4-.3-.3-.5-.7-.5-1.3V142l7.3-.9 1.8-13.8c0-.4.3-.7.6-1 .3-.3.7-.4 1.2-.4h4v15.3h12.7v5.7h-12.7v26.7c0 2 .4 3.3 1.3 4.2 1 1 2.1 1.4 3.6 1.4a6.4 6.4 0 003.7-1l1-.8.9-.3c.4 0 .8.2 1 .7l2.4 3.8c-1.4 1.2-3 2.2-4.9 3-2 .7-3.9 1-5.9 1zm49.4-.7h-3.5c-.7 0-1.3-.1-1.8-.4-.5-.2-.8-.7-1-1.4l-.8-4.2-3.4 2.9c-1.2.8-2.3 1.5-3.6 2a19 19 0 01-8.5 1.8c-1.8 0-3.4-.2-5-.7a10.6 10.6 0 01-6.6-5.9c-.6-1.4-.9-3.2-.9-5.2 0-1.8.5-3.5 1.5-5 1-1.7 2.5-3.2 4.6-4.4 2.2-1.3 5-2.3 8.5-3.1 3.5-.8 7.8-1.3 12.8-1.4v-3.5c0-3.5-.7-6-2.2-7.8-1.5-1.8-3.7-2.7-6.6-2.7-1.9 0-3.5.2-4.8.7-1.3.5-2.4 1-3.4 1.6L309 150c-.6.4-1.3.7-2 .7-.5 0-1-.2-1.4-.4l-1-1-1.3-2.6a24.6 24.6 0 0117.4-7c2.5 0 4.7.3 6.6 1.2a13.6 13.6 0 018 8.7c.6 2.1 1 4.4 1 6.9V185zm-20.3-4.8c1.4 0 2.6-.1 3.8-.4a16 16 0 006-3 24 24 0 002.8-2.6V165c-3.6.2-6.7.4-9.2 1-2.5.4-4.6 1-6.1 1.7a8.8 8.8 0 00-3.5 2.6c-.7 1-1 2-1 3.3 0 1.2.1 2.2.5 3a6 6 0 001.5 2.2c.7.5 1.4.9 2.3 1.2 1 .2 1.9.3 2.9.3z"\n    fill="#fff"\n  />\n  <path fill="#D42B21" d="M0 213.6h420V240H0z" />\n  <path\n    d="M55.6 284.6l-16-9.1-16 9.1 16 9.2 16-9.2zM37 316.7v-18.5l-16-9.1v18.5l16 9zM58.1 307.6V289l-16 9.1-.1 18.5 16.1-9.1z"\n    fill="#FF6400"\n  />\n  <path\n    d="M79.1 319.6v-42.8l-16 9.4v42.7l16-9.3zM58.1 331.9v-18.5L42 322.7v18.5l16.1-9.3zM37 341v-18.5L0 301.1v18.5L37 341zM16 304.4v-18.2l-16-9.4v18.5l16 9.1zM60.6 281.7l16-9.3-16-9.2-15.9 9.2 16 9.3zM39.6 251l-37 21.4 15.9 9.3 37-21.4-15.9-9.3z"\n    fill="#0098A7"\n  />\n  <path\n    d="M103.8 267.5h24v7.2h-15.7v6.4h12.7v7.2H112v7.2H128v7.2h-24.1v-35.2zM146.3 284.6l-10.6-17h9.3l6.2 10.6 6.2-10.7h9l-11 17.3 11.2 17.7h-9.4l-6.6-10.9-6.6 10.9h-8.7l11-17.9zM174.5 267.5h24.1v7.2H183v6.4h12.6v7.2H183v7.2h15.7v7.2h-24v-35.2zM207.6 267.5h9.3l8.6 19.5 8.5-19.5h9.1v35H235v-21.2l-7 16.7h-5.5l-7-16.7v21.2h-8v-35zM252.9 267.5h19.4c4.7 0 7 2.2 7 7v10c0 4.6-2.3 7-7 7H261v11.2h-8.3v-35.2h.2zm17.3 16.5c.7 0 1-.2 1-1v-7.5c0-.8-.3-1-1-1h-9v9.5h9zM288 267.5h8.4v27.8H311v7.4h-23v-35.2zM339.1 295.1h-11l-2 7.4h-8.5l10.7-35h11.4l10.7 35h-9l-2.3-7.4zm-1.9-7l-3.7-13.8-3.7 13.8h7.4zM386 302.5h-8.8l-5.8-12h-4.8v12h-8.4v-35h19.4c4.7 0 7 2.2 7 7v8.8c0 3.8-1.5 6-4.8 6.6l6.2 12.6zm-10.5-19c.8 0 1-.2 1-1v-7.2c0-.8-.2-1-1-1h-9v9h9v.2zM393.4 295.5v-4.7h8.1v3.5c0 .8.2 1 1 1h8c.8 0 1-.2 1-1v-3.7c0-.7-.4-1-1.4-1.3l-9.3-2.3c-4.7-1.2-7.2-2.6-7.2-7.2v-5.9c0-4.6 2.3-7 7-7h11.8c4.7 0 7 2.2 7 7v4.3h-8.1v-3.1c0-.8-.2-1-1-1H403c-.8 0-1 .2-1 1v3.3c0 .8.4 1 1.4 1.4l9.3 2.3c4.7 1.2 7.2 2.5 7.2 7.2v6.2c0 4.7-2.3 7-7 7h-12.4c-4.9 0-7.2-2.3-7.2-7zM106 326h-2.2v-14h2.1v14zM123.6 326h-2.1l-6.6-10h-.2v10h-2.2v-14h2.2l6.6 10.3h.2V312h2.1v14zM148.5 320.8c0 3.3-2.5 5.4-5.6 5.4-3.7 0-6.3-2.7-6.3-7.2 0-4.4 2.6-7.2 6-7.2 2.8 0 5 1.6 5.7 4.5l-2.1.2c-.6-1.8-2-2.7-3.5-2.7-2.2 0-4 1.7-4 5.2s1.8 5.3 4.2 5.3c2 0 3.6-1.4 3.6-3.5h-3V319h5.2v1.8h-.2zM162.9 326h-8.4v-14h2.2v12h6.2v2zM174 326.2c-3.6 0-6.3-2.7-6.3-7.2 0-4.4 2.6-7.2 6.2-7.2 3.5 0 6.3 2.8 6.3 7.2-.2 4.5-2.8 7.2-6.3 7.2zm0-12.2c-2.4 0-4.1 1.7-4.1 5.2s1.7 5.3 4 5.3c2.4 0 4.1-1.8 4.1-5.3s-2-5.2-4-5.2zM186 326v-14h5c3.2 0 4.5 1.6 4.5 3.7 0 1.8-1 2.5-2.3 3v.1c1.3.2 2.7 1.4 2.7 3.5 0 2.2-1.5 3.7-4.7 3.7H186zm2.1-7.8h2.8c1.5 0 2.5-.7 2.5-2s-.8-2-2.5-2H188v4zm3.1 1.6h-3v4.5h3c2 0 2.8-.8 2.8-2 0-1.3-1-2.5-2.8-2.5zM200.8 326l5-14h2.4l5 14H211l-1.2-3.3h-5.6l-1.2 3.3h-2.1zm4-5h4.3l-2.1-6h-.2l-2 6zM227 326h-8.4v-14h2.2v12h6.2v2zM242.2 318.2h6.6v-6h2.1v14h-2.1v-6h-6.6v6H240v-14h2.2v6zM266.3 326h-8.8v-14h8.8v2h-6.6v4.2h5.8v2h-5.8v4.3h6.6v1.5zM271.5 326l5-14h2.4l5 14h-2.3l-1.1-3.3h-5.7l-1.1 3.3h-2.2zm4.1-5h4.3l-2.2-6h-.2l-1.9 6zM298 326h-8.4v-14h2.1v12h6.2v2zM311.7 314h-4.2v12h-2.2v-12h-4.2v-2h10.6v2zM319.5 318.2h6.6v-6h2.2v14H326v-6h-6.6v6h-2.1v-14h2.1v6z"\n    fill="#00416B"\n  />\n</g>\n<defs>\n  <clipPath id="clip0"><path fill="#fff" d="M0 0h420v350H0z" /></clipPath>\n</defs>\n</svg>',width:420,height:350,targetHeight:52}},Logos_Logo=(_applyDecoratedDescriptor((_class=function(){function Logo(props){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Logo),this.props=void 0,this.props=props}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Logo,[{key:"renderSVG",value:function renderSVG(targetX,targetY){var scale=this.scale,svg=(this.spec.svg.match(/<svg>(.*)<\/svg>/)||"")[1]||this.spec.svg;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",{transform:"translate(".concat(Math.round(targetX),", ").concat(targetY,") scale(").concat(parseFloat(scale.toFixed(2)),")"),dangerouslySetInnerHTML:{__html:svg}})}},{key:"renderHTML",value:function renderHTML(){var props={className:"logo",dangerouslySetInnerHTML:{__html:this.spec.svg},style:{height:"".concat(this.spec.targetHeight,"px")}};return this.props.isLink||!this.spec.url?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",props):delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("a",_extends({},props,{href:this.spec.url,target:"_blank"}))}},{key:"spec",get:function get(){return void 0!==this.props.logo?logos[this.props.logo]:logos.owid}},{key:"scale",get:function get(){return this.spec.targetHeight/this.spec.height}},{key:"width",get:function get(){return this.spec.width*this.scale}},{key:"height",get:function get(){return this.spec.height*this.scale}}]),Logo}()).prototype,"spec",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"spec"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"scale",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"scale"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"width",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"width"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"height",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"height"),_class.prototype),_class);try{Logos_Logo.displayName="Logo",Logos_Logo.__docgenInfo={description:"",displayName:"Logo",props:{logo:{defaultValue:null,description:"",name:"logo",required:!0,type:{name:'"owid" | "core+owid" | "gv+owid" | undefined'}},isLink:{defaultValue:null,description:"",name:"isLink",required:!0,type:{name:"boolean"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/chart/Logos.tsx#Logo"]={docgenInfo:Logos_Logo.__docgenInfo,name:"Logo",path:"grapher/chart/Logos.tsx#Logo"})}catch(__react_docgen_typescript_loader_error){}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Header_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Header_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Header_createClass(Constructor,protoProps,staticProps){return protoProps&&Header_defineProperties(Constructor.prototype,protoProps),staticProps&&Header_defineProperties(Constructor,staticProps),Constructor}function Header_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var Header_Header=(Header_applyDecoratedDescriptor((Header_class=function(){function Header(props){Header_classCallCheck(this,Header),this.props=void 0,this.props=props}return Header_createClass(Header,[{key:"render",value:function render(x,y){return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(Header_HeaderView,{x:x,y:y,header:this})}},{key:"titleText",get:function get(){return this.props.grapher.currentTitle}},{key:"subtitleText",get:function get(){return this.props.grapher.subtitle}},{key:"logo",get:function get(){return this.props.grapher.hideLogo?void 0:new Logos_Logo({logo:this.props.grapher.logo,isLink:!this.props.grapher.isNativeEmbed,fontSize:this.props.grapher.baseFontSize})}},{key:"logoWidth",get:function get(){return this.logo?this.logo.width:0}},{key:"logoHeight",get:function get(){return this.logo?this.logo.height:0}},{key:"title",get:function get(){for(var title,props=this.props,logoWidth=this.logoWidth,maxWidth=props.maxWidth-logoWidth-20,fontScale=1.4;title=new TextWrap.a({maxWidth:maxWidth,fontSize:fontScale*props.grapher.baseFontSize,text:this.titleText,lineHeight:1}),!(fontScale<=1.2||title.lines.length<=1);)fontScale-=.05;return new TextWrap.a({maxWidth:maxWidth,fontSize:fontScale*props.grapher.baseFontSize,text:this.titleText,lineHeight:1})}},{key:"titleMarginBottom",get:function get(){return 4}},{key:"subtitleWidth",get:function get(){return this.title.height>this.logoHeight?this.props.maxWidth:this.props.maxWidth-this.logoWidth-10}},{key:"subtitle",get:function get(){var that=this;return new TextWrap.a({get maxWidth(){return that.subtitleWidth},get fontSize(){return.8*that.props.grapher.baseFontSize},get text(){return that.subtitleText},get lineHeight(){return 1.2},get linkifyText(){return!0}})}},{key:"height",get:function get(){return this.props.grapher.isMediaCard?0:Math.max(this.title.height+this.subtitle.height+this.titleMarginBottom,this.logoHeight)}}]),Header}()).prototype,"titleText",[mobx_module.f],Object.getOwnPropertyDescriptor(Header_class.prototype,"titleText"),Header_class.prototype),Header_applyDecoratedDescriptor(Header_class.prototype,"subtitleText",[mobx_module.f],Object.getOwnPropertyDescriptor(Header_class.prototype,"subtitleText"),Header_class.prototype),Header_applyDecoratedDescriptor(Header_class.prototype,"logo",[mobx_module.f],Object.getOwnPropertyDescriptor(Header_class.prototype,"logo"),Header_class.prototype),Header_applyDecoratedDescriptor(Header_class.prototype,"logoWidth",[mobx_module.f],Object.getOwnPropertyDescriptor(Header_class.prototype,"logoWidth"),Header_class.prototype),Header_applyDecoratedDescriptor(Header_class.prototype,"logoHeight",[mobx_module.f],Object.getOwnPropertyDescriptor(Header_class.prototype,"logoHeight"),Header_class.prototype),Header_applyDecoratedDescriptor(Header_class.prototype,"title",[mobx_module.f],Object.getOwnPropertyDescriptor(Header_class.prototype,"title"),Header_class.prototype),Header_applyDecoratedDescriptor(Header_class.prototype,"titleMarginBottom",[mobx_module.f],Object.getOwnPropertyDescriptor(Header_class.prototype,"titleMarginBottom"),Header_class.prototype),Header_applyDecoratedDescriptor(Header_class.prototype,"subtitleWidth",[mobx_module.f],Object.getOwnPropertyDescriptor(Header_class.prototype,"subtitleWidth"),Header_class.prototype),Header_applyDecoratedDescriptor(Header_class.prototype,"subtitle",[mobx_module.f],Object.getOwnPropertyDescriptor(Header_class.prototype,"subtitle"),Header_class.prototype),Header_applyDecoratedDescriptor(Header_class.prototype,"height",[mobx_module.f],Object.getOwnPropertyDescriptor(Header_class.prototype,"height"),Header_class.prototype),Header_class),Header_HeaderView=Object(index_module.a)(_class3=function(_React$Component){_inherits(HeaderView,_React$Component);var _super=_createSuper(HeaderView);function HeaderView(){return Header_classCallCheck(this,HeaderView),_super.apply(this,arguments)}return Header_createClass(HeaderView,[{key:"render",value:function render(){var props=this.props,_props$header=props.header,title=_props$header.title,logo=_props$header.logo,subtitle=_props$header.subtitle,_props$header$props=props.header.props,grapher=_props$header$props.grapher,maxWidth=_props$header$props.maxWidth;return grapher.isMediaCard?null:delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",{className:"HeaderView"},logo&&logo.height>0&&logo.renderSVG(props.x+maxWidth-logo.width,props.y),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("a",{href:grapher.url.canonicalUrl,style:{fontFamily:'"Playfair Display", Georgia, "Times New Roman", serif'},target:"_blank"},title.render(props.x,props.y,{fill:"#555"})),subtitle.render(props.x,props.y+title.height+props.header.titleMarginBottom,{fill:"#666"}))}}]),HeaderView}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component))||_class3,Header_HeaderHTML=Object(index_module.a)(_class4=function(_React$Component2){_inherits(HeaderHTML,_React$Component2);var _super2=_createSuper(HeaderHTML);function HeaderHTML(){return Header_classCallCheck(this,HeaderHTML),_super2.apply(this,arguments)}return Header_createClass(HeaderHTML,[{key:"render",value:function render(){var _this$props=this.props,grapher=_this$props.grapher,header=_this$props.header,titleStyle=Object.assign({},header.title.htmlStyle,{marginBottom:header.titleMarginBottom}),subtitleStyle=Object.assign({},header.subtitle.htmlStyle,{overflowY:"hidden"});return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:"HeaderHTML"},header.logo&&header.logo.renderHTML(),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("a",{href:grapher.url.canonicalUrl,target:"_blank"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("h1",{style:titleStyle},header.title.renderHTML())),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("p",{style:subtitleStyle},header.subtitle.renderHTML()))}}]),HeaderHTML}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component))||_class4;try{Header_Header.displayName="Header",Header_Header.__docgenInfo={description:"",displayName:"Header",props:{maxWidth:{defaultValue:null,description:"",name:"maxWidth",required:!0,type:{name:"number"}},grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/chart/Header.tsx#Header"]={docgenInfo:Header_Header.__docgenInfo,name:"Header",path:"grapher/chart/Header.tsx#Header"})}catch(__react_docgen_typescript_loader_error){}try{Header_HeaderHTML.displayName="HeaderHTML",Header_HeaderHTML.__docgenInfo={description:"",displayName:"HeaderHTML",props:{grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}},header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"Header"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/chart/Header.tsx#HeaderHTML"]={docgenInfo:Header_HeaderHTML.__docgenInfo,name:"HeaderHTML",path:"grapher/chart/Header.tsx#HeaderHTML"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(52);var _dec,Footer_class,Footer_class3,_dec2,_dec3,Footer_class4,_class5,_descriptor,_temp2,url_parse=__webpack_require__(179),url_parse_default=__webpack_require__.n(url_parse),Bounds=__webpack_require__(24),Util=__webpack_require__(2),Tooltip=__webpack_require__(76);function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function Footer_typeof(obj){return(Footer_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Footer_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Footer_setPrototypeOf(subClass,superClass)}function Footer_setPrototypeOf(o,p){return(Footer_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Footer_createSuper(Derived){var hasNativeReflectConstruct=function Footer_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Footer_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Footer_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Footer_possibleConstructorReturn(this,result)}}function Footer_possibleConstructorReturn(self,call){return!call||"object"!==Footer_typeof(call)&&"function"!=typeof call?Footer_assertThisInitialized(self):call}function Footer_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function Footer_getPrototypeOf(o){return(Footer_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Footer_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Footer_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Footer_createClass(Constructor,protoProps,staticProps){return protoProps&&Footer_defineProperties(Constructor.prototype,protoProps),staticProps&&Footer_defineProperties(Constructor,staticProps),Constructor}function Footer_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var Footer_SourcesFooter=(_dec=mobx_module.d.bound,Footer_applyDecoratedDescriptor((Footer_class=function(){function SourcesFooter(props){Footer_classCallCheck(this,SourcesFooter),this.props=void 0,this.props=props}return Footer_createClass(SourcesFooter,[{key:"onSourcesClick",value:function onSourcesClick(){this.props.grapher.currentTab="sources"}},{key:"render",value:function render(targetX,targetY){return this.props.grapher.isMediaCard?null:delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(Footer_SourcesFooterView,{footer:this,targetX:targetX,targetY:targetY})}},{key:"maxWidth",get:function get(){return this.props.maxWidth}},{key:"sourcesText",get:function get(){var sourcesLine=this.props.grapher.sourcesLine;return sourcesLine?"Source: ".concat(sourcesLine):""}},{key:"noteText",get:function get(){return this.props.grapher.note?"Note: ".concat(this.props.grapher.note):""}},{key:"ccSvg",get:function get(){return this.props.grapher.hasOWIDLogo?'<a style="fill: #777;" class="cclogo" href="http://creativecommons.org/licenses/by/4.0/deed.en_US" target="_blank">CC BY</a>':'<a href="https://ourworldindata.org" target="_blank">Powered by ourworldindata.org</a>'}},{key:"finalUrl",get:function get(){var originUrl=this.props.grapher.originUrlWithProtocol,url=url_parse_default()(originUrl);return"https://".concat(url.hostname).concat(url.pathname)}},{key:"finalUrlText",get:function get(){var originUrl=this.props.grapher.originUrlWithProtocol;if(originUrl&&originUrl.toLowerCase().match(/^https?:\/\/./)){var url=url_parse_default()(originUrl),finalUrlText="".concat(url.hostname).concat(url.pathname).replace("ourworldindata.org","OurWorldInData.org");return this.props.grapher.isNativeEmbed||Bounds.a.forText(finalUrlText,{fontSize:this.fontSize}).width>.7*this.maxWidth?void 0:finalUrlText}}},{key:"licenseSvg",get:function get(){var finalUrl=this.finalUrl,finalUrlText=this.finalUrlText;if(finalUrlText){var licenseSvg="*data-entry* â¢ ".concat(this.ccSvg);return licenseSvg=licenseSvg.replace(/\*data-entry\*/,"<a target='_blank' style='fill: #777;' href='"+finalUrl+"'>"+finalUrlText+"</a>")}return this.ccSvg}},{key:"fontSize",get:function get(){return.7*this.props.grapher.baseFontSize}},{key:"sources",get:function get(){var maxWidth=this.maxWidth,fontSize=this.fontSize,sourcesText=this.sourcesText;return new TextWrap.a({maxWidth:maxWidth,fontSize:fontSize,text:sourcesText,linkifyText:!0})}},{key:"note",get:function get(){var maxWidth=this.maxWidth,fontSize=this.fontSize,noteText=this.noteText;return new TextWrap.a({maxWidth:maxWidth,fontSize:fontSize,text:noteText,linkifyText:!0})}},{key:"license",get:function get(){var maxWidth=this.maxWidth,fontSize=this.fontSize,licenseSvg=this.licenseSvg;return new TextWrap.a({maxWidth:3*maxWidth,fontSize:fontSize,text:licenseSvg,rawHtml:!0})}},{key:"isCompact",get:function get(){return this.maxWidth-this.sources.width-5>this.license.width}},{key:"paraMargin",get:function get(){return 2}},{key:"height",get:function get(){if(this.props.grapher.isMediaCard)return 0;var sources=this.sources,note=this.note,license=this.license,isCompact=this.isCompact,paraMargin=this.paraMargin;return sources.height+(note.height?paraMargin+note.height:0)+(isCompact?0:paraMargin+license.height)}}]),SourcesFooter}()).prototype,"maxWidth",[mobx_module.f],Object.getOwnPropertyDescriptor(Footer_class.prototype,"maxWidth"),Footer_class.prototype),Footer_applyDecoratedDescriptor(Footer_class.prototype,"sourcesText",[mobx_module.f],Object.getOwnPropertyDescriptor(Footer_class.prototype,"sourcesText"),Footer_class.prototype),Footer_applyDecoratedDescriptor(Footer_class.prototype,"noteText",[mobx_module.f],Object.getOwnPropertyDescriptor(Footer_class.prototype,"noteText"),Footer_class.prototype),Footer_applyDecoratedDescriptor(Footer_class.prototype,"ccSvg",[mobx_module.f],Object.getOwnPropertyDescriptor(Footer_class.prototype,"ccSvg"),Footer_class.prototype),Footer_applyDecoratedDescriptor(Footer_class.prototype,"finalUrl",[mobx_module.f],Object.getOwnPropertyDescriptor(Footer_class.prototype,"finalUrl"),Footer_class.prototype),Footer_applyDecoratedDescriptor(Footer_class.prototype,"finalUrlText",[mobx_module.f],Object.getOwnPropertyDescriptor(Footer_class.prototype,"finalUrlText"),Footer_class.prototype),Footer_applyDecoratedDescriptor(Footer_class.prototype,"licenseSvg",[mobx_module.f],Object.getOwnPropertyDescriptor(Footer_class.prototype,"licenseSvg"),Footer_class.prototype),Footer_applyDecoratedDescriptor(Footer_class.prototype,"fontSize",[mobx_module.f],Object.getOwnPropertyDescriptor(Footer_class.prototype,"fontSize"),Footer_class.prototype),Footer_applyDecoratedDescriptor(Footer_class.prototype,"sources",[mobx_module.f],Object.getOwnPropertyDescriptor(Footer_class.prototype,"sources"),Footer_class.prototype),Footer_applyDecoratedDescriptor(Footer_class.prototype,"note",[mobx_module.f],Object.getOwnPropertyDescriptor(Footer_class.prototype,"note"),Footer_class.prototype),Footer_applyDecoratedDescriptor(Footer_class.prototype,"license",[mobx_module.f],Object.getOwnPropertyDescriptor(Footer_class.prototype,"license"),Footer_class.prototype),Footer_applyDecoratedDescriptor(Footer_class.prototype,"isCompact",[mobx_module.f],Object.getOwnPropertyDescriptor(Footer_class.prototype,"isCompact"),Footer_class.prototype),Footer_applyDecoratedDescriptor(Footer_class.prototype,"paraMargin",[mobx_module.f],Object.getOwnPropertyDescriptor(Footer_class.prototype,"paraMargin"),Footer_class.prototype),Footer_applyDecoratedDescriptor(Footer_class.prototype,"height",[mobx_module.f],Object.getOwnPropertyDescriptor(Footer_class.prototype,"height"),Footer_class.prototype),Footer_applyDecoratedDescriptor(Footer_class.prototype,"onSourcesClick",[_dec],Object.getOwnPropertyDescriptor(Footer_class.prototype,"onSourcesClick"),Footer_class.prototype),Footer_class),Footer_SourcesFooterView=Object(index_module.a)(Footer_class3=function(_React$Component){Footer_inherits(SourcesFooterView,_React$Component);var _super=Footer_createSuper(SourcesFooterView);function SourcesFooterView(){return Footer_classCallCheck(this,SourcesFooterView),_super.apply(this,arguments)}return Footer_createClass(SourcesFooterView,[{key:"render",value:function render(){var _this$props=this.props,targetX=_this$props.targetX,targetY=_this$props.targetY,_this$props$footer=this.props.footer,sources=_this$props$footer.sources,note=_this$props$footer.note,license=_this$props$footer.license,maxWidth=_this$props$footer.maxWidth,isCompact=_this$props$footer.isCompact,paraMargin=_this$props$footer.paraMargin,onSourcesClick=_this$props$footer.onSourcesClick;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",{className:"SourcesFooter",style:{fill:"#777"}},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",{className:"clickable",onClick:onSourcesClick,style:{fill:"#777"}},sources.render(targetX,targetY)),note.render(targetX,targetY+sources.height+paraMargin),isCompact?license.render(targetX+maxWidth-license.width,targetY):license.render(targetX,targetY+sources.height+paraMargin+(note.height?note.height+paraMargin:0)))}}]),SourcesFooterView}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component))||Footer_class3,Footer_SourcesFooterHTML=(_dec2=mobx_module.m.ref,_dec3=mobx_module.d.bound,Object(index_module.a)((_temp2=function(_React$Component2){Footer_inherits(SourcesFooterHTML,_React$Component2);var _super2=Footer_createSuper(SourcesFooterHTML);function SourcesFooterHTML(){var _this;Footer_classCallCheck(this,SourcesFooterHTML);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super2.call.apply(_super2,[this].concat(args))).base=delegated_reactfrom_dll_reference_storybook_docs_dll.createRef(),_initializerDefineProperty(_this,"tooltipTarget",_descriptor,Footer_assertThisInitialized(_this)),_this}return Footer_createClass(SourcesFooterHTML,[{key:"onMouseMove",value:function onMouseMove(e){var cc=this.base.current.querySelector(".cclogo");if(cc&&cc.matches(":hover")){var div=this.base.current,mouse=Object(Util.E)(div.closest(".chart"),e);this.tooltipTarget={x:mouse.x,y:mouse.y}}else this.tooltipTarget=void 0}},{key:"componentDidMount",value:function componentDidMount(){window.addEventListener("mousemove",this.onMouseMove)}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("mousemove",this.onMouseMove)}},{key:"render",value:function render(){var footer=this.props.footer,tooltipTarget=this.tooltipTarget,license=delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:"license",style:{fontSize:footer.license.fontSize,lineHeight:footer.sources.lineHeight}},footer.finalUrlText&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("a",{href:footer.finalUrl,target:"_blank"},footer.finalUrlText," â¢"," "),this.props.grapher.hasOWIDLogo?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("a",{className:"cclogo",href:"http://creativecommons.org/licenses/by/4.0/deed.en_US",target:"_blank"},"CC BY"):delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("a",{href:"https://ourworldindata.org",target:"_blank"},"Powered by ourworldindata.org"));return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("footer",{className:"SourcesFooterHTML"+(footer.isCompact?" compact":""),ref:this.base,style:{color:"#777"}},footer.isCompact&&license,delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("p",{style:footer.sources.htmlStyle,className:"clickable",onClick:footer.onSourcesClick},footer.sources.renderHTML()),footer.note&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("p",{style:footer.note.htmlStyle},footer.note.renderHTML()),!footer.isCompact&&license,tooltipTarget&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(Tooltip.a,{tooltipContainer:this.props.grapher,x:tooltipTarget.x,y:tooltipTarget.y,style:{textAlign:"center",maxWidth:"300px",whiteSpace:"inherit",padding:"10px",fontSize:"0.8em"}},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("p",null,"Our World in Data charts are licensed under Creative Commons; you are free to use, share, and adapt this material. Click through to the CC BY page for more information.")))}}]),SourcesFooterHTML}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component),_descriptor=Footer_applyDecoratedDescriptor((_class5=_temp2).prototype,"tooltipTarget",[_dec2],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Footer_applyDecoratedDescriptor(_class5.prototype,"onMouseMove",[_dec3],Object.getOwnPropertyDescriptor(_class5.prototype,"onMouseMove"),_class5.prototype),Footer_class4=_class5))||Footer_class4);try{Footer_SourcesFooter.displayName="SourcesFooter",Footer_SourcesFooter.__docgenInfo={description:"",displayName:"SourcesFooter",props:{grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}},maxWidth:{defaultValue:null,description:"",name:"maxWidth",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/chart/Footer.tsx#SourcesFooter"]={docgenInfo:Footer_SourcesFooter.__docgenInfo,name:"SourcesFooter",path:"grapher/chart/Footer.tsx#SourcesFooter"})}catch(__react_docgen_typescript_loader_error){}try{Footer_SourcesFooterHTML.displayName="SourcesFooterHTML",Footer_SourcesFooterHTML.__docgenInfo={description:"",displayName:"SourcesFooterHTML",props:{grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}},footer:{defaultValue:null,description:"",name:"footer",required:!0,type:{name:"SourcesFooter"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/chart/Footer.tsx#SourcesFooterHTML"]={docgenInfo:Footer_SourcesFooterHTML.__docgenInfo,name:"SourcesFooterHTML",path:"grapher/chart/Footer.tsx#SourcesFooterHTML"})}catch(__react_docgen_typescript_loader_error){}var CollapsibleList=__webpack_require__(161);function ControlsRow_typeof(obj){return(ControlsRow_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ControlsRow_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function ControlsRow_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function ControlsRow_setPrototypeOf(o,p){return(ControlsRow_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function ControlsRow_createSuper(Derived){var hasNativeReflectConstruct=function ControlsRow_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=ControlsRow_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=ControlsRow_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return ControlsRow_possibleConstructorReturn(this,result)}}function ControlsRow_possibleConstructorReturn(self,call){return!call||"object"!==ControlsRow_typeof(call)&&"function"!=typeof call?function ControlsRow_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function ControlsRow_getPrototypeOf(o){return(ControlsRow_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var ChartLayout_dec,ChartLayout_class,_class2,ChartLayout_class3,ChartLayout_class5,ControlsRow_ControlsRow=function(_React$Component){!function ControlsRow_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ControlsRow_setPrototypeOf(subClass,superClass)}(ControlsRow,_React$Component);var _super=ControlsRow_createSuper(ControlsRow);function ControlsRow(){return ControlsRow_classCallCheck(this,ControlsRow),_super.apply(this,arguments)}return function ControlsRow_createClass(Constructor,protoProps,staticProps){return protoProps&&ControlsRow_defineProperties(Constructor.prototype,protoProps),staticProps&&ControlsRow_defineProperties(Constructor,staticProps),Constructor}(ControlsRow,[{key:"render",value:function render(){return this.props.controls.length?delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"controlsRow"},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(CollapsibleList.a,{key:this.props.controls.length},this.props.controls)):null}}]),ControlsRow}(delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.Component);try{ControlsRow_ControlsRow.displayName="ControlsRow",ControlsRow_ControlsRow.__docgenInfo={description:"",displayName:"ControlsRow",props:{controls:{defaultValue:null,description:"",name:"controls",required:!0,type:{name:"ReactElement<any, string | ((props: any) => ReactElement<any, string | ... | (new (props: any) => Component<any, any, any>)> | null) | (new (props: any) => Component<any, any, any>)>[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/controls/ControlsRow.tsx#ControlsRow"]={docgenInfo:ControlsRow_ControlsRow.__docgenInfo,name:"ControlsRow",path:"grapher/controls/ControlsRow.tsx#ControlsRow"})}catch(__react_docgen_typescript_loader_error){}function ChartLayout_typeof(obj){return(ChartLayout_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ChartLayout_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function ChartLayout_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function ChartLayout_createClass(Constructor,protoProps,staticProps){return protoProps&&ChartLayout_defineProperties(Constructor.prototype,protoProps),staticProps&&ChartLayout_defineProperties(Constructor,staticProps),Constructor}function ChartLayout_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ChartLayout_setPrototypeOf(subClass,superClass)}function ChartLayout_setPrototypeOf(o,p){return(ChartLayout_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function ChartLayout_createSuper(Derived){var hasNativeReflectConstruct=function ChartLayout_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=ChartLayout_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=ChartLayout_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return ChartLayout_possibleConstructorReturn(this,result)}}function ChartLayout_possibleConstructorReturn(self,call){return!call||"object"!==ChartLayout_typeof(call)&&"function"!=typeof call?function ChartLayout_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function ChartLayout_getPrototypeOf(o){return(ChartLayout_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ChartLayout_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var ChartLayout_ControlsOverlayView=(ChartLayout_dec=mobx_module.d.bound,Object(index_module.a)((ChartLayout_applyDecoratedDescriptor((_class2=function(_React$Component){ChartLayout_inherits(ControlsOverlayView,_React$Component);var _super=ChartLayout_createSuper(ControlsOverlayView);function ControlsOverlayView(){return ChartLayout_classCallCheck(this,ControlsOverlayView),_super.apply(this,arguments)}return ChartLayout_createClass(ControlsOverlayView,[{key:"onDataSelect",value:function onDataSelect(){this.props.grapherView.grapher.isSelectingData=!0}},{key:"render",value:function render(){var overlayPadding=this.props.grapherView.overlayPadding,containerStyle={position:"relative",clear:"both",paddingTop:"".concat(overlayPadding.top,"px"),paddingRight:"".concat(overlayPadding.right,"px"),paddingBottom:"".concat(overlayPadding.bottom,"px"),paddingLeft:"".concat(overlayPadding.left,"px")},overlayStyle={position:"absolute",top:"".concat(overlayPadding.top,"px"),left:"".concat(overlayPadding.left,"px"),width:"0px",height:"0px"};return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{style:containerStyle},this.props.children,delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"ControlsOverlay",style:overlayStyle},Object.entries(this.props.grapherView.overlays).map((function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],overlay=_ref2[1];return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.Fragment,{key:key},overlay.props.children)}))))}}]),ControlsOverlayView}(delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.Component)).prototype,"onDataSelect",[ChartLayout_dec],Object.getOwnPropertyDescriptor(_class2.prototype,"onDataSelect"),_class2.prototype),ChartLayout_class=_class2))||ChartLayout_class),ChartLayout_ChartLayout=(ChartLayout_applyDecoratedDescriptor((ChartLayout_class3=function(){function ChartLayout(props){ChartLayout_classCallCheck(this,ChartLayout),this.props=void 0,this.props=props}return ChartLayout_createClass(ChartLayout,[{key:"paddedBounds",get:function get(){return this.props.bounds.pad(15)}},{key:"header",get:function get(){var that=this;return new Header_Header({get grapher(){return that.props.grapher},get maxWidth(){return that.paddedBounds.width}})}},{key:"footer",get:function get(){var that=this;return new Footer_SourcesFooter({get grapher(){return that.props.grapher},get maxWidth(){return that.paddedBounds.width}})}},{key:"isExporting",get:function get(){return!!this.props.grapher.isExporting}},{key:"svgWidth",get:function get(){if(this.isExporting)return this.props.bounds.width;var overlayPadding=this.props.grapherView.overlayPadding;return this.props.bounds.width-overlayPadding.left-overlayPadding.right}},{key:"svgHeight",get:function get(){if(this.isExporting)return this.props.bounds.height;var overlayPadding=this.props.grapherView.overlayPadding;return this.props.bounds.height-this.header.height-(this.props.renderControlsRow?36:0)-this.footer.height-overlayPadding.top-overlayPadding.bottom-25}},{key:"innerBounds",get:function get(){return this.isExporting?this.paddedBounds.padTop(this.header.height).padBottom(this.footer.height):new Bounds.a(0,0,this.svgWidth,this.svgHeight).padWidth(15)}}]),ChartLayout}()).prototype,"paddedBounds",[mobx_module.f],Object.getOwnPropertyDescriptor(ChartLayout_class3.prototype,"paddedBounds"),ChartLayout_class3.prototype),ChartLayout_applyDecoratedDescriptor(ChartLayout_class3.prototype,"header",[mobx_module.f],Object.getOwnPropertyDescriptor(ChartLayout_class3.prototype,"header"),ChartLayout_class3.prototype),ChartLayout_applyDecoratedDescriptor(ChartLayout_class3.prototype,"footer",[mobx_module.f],Object.getOwnPropertyDescriptor(ChartLayout_class3.prototype,"footer"),ChartLayout_class3.prototype),ChartLayout_applyDecoratedDescriptor(ChartLayout_class3.prototype,"isExporting",[mobx_module.f],Object.getOwnPropertyDescriptor(ChartLayout_class3.prototype,"isExporting"),ChartLayout_class3.prototype),ChartLayout_applyDecoratedDescriptor(ChartLayout_class3.prototype,"svgWidth",[mobx_module.f],Object.getOwnPropertyDescriptor(ChartLayout_class3.prototype,"svgWidth"),ChartLayout_class3.prototype),ChartLayout_applyDecoratedDescriptor(ChartLayout_class3.prototype,"svgHeight",[mobx_module.f],Object.getOwnPropertyDescriptor(ChartLayout_class3.prototype,"svgHeight"),ChartLayout_class3.prototype),ChartLayout_applyDecoratedDescriptor(ChartLayout_class3.prototype,"innerBounds",[mobx_module.f],Object.getOwnPropertyDescriptor(ChartLayout_class3.prototype,"innerBounds"),ChartLayout_class3.prototype),ChartLayout_class3),ChartLayout_ChartLayoutView=(ChartLayout_applyDecoratedDescriptor((ChartLayout_class5=function(_React$Component2){ChartLayout_inherits(ChartLayoutView,_React$Component2);var _super2=ChartLayout_createSuper(ChartLayoutView);function ChartLayoutView(){return ChartLayout_classCallCheck(this,ChartLayoutView),_super2.apply(this,arguments)}return ChartLayout_createClass(ChartLayoutView,[{key:"renderWithSVGText",value:function renderWithSVGText(){var layout=this.props.layout,paddedBounds=layout.paddedBounds;return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:this.svgStyle,width:layout.svgWidth,height:layout.svgHeight,viewBox:"0 0 ".concat(layout.svgWidth," ").concat(layout.svgHeight)},layout.header.render(paddedBounds.x,paddedBounds.y),this.props.children,layout.footer.render(paddedBounds.x,paddedBounds.bottom-layout.footer.height))}},{key:"renderWithHTMLText",value:function renderWithHTMLText(){var _this$props=this.props,layout=_this$props.layout,controlsRowControls=_this$props.controlsRowControls,_layout$props=layout.props,grapher=_layout$props.grapher,grapherView=_layout$props.grapherView;return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.Fragment,null,delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(Header_HeaderHTML,{grapher:grapher,header:layout.header}),controlsRowControls&&delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(ControlsRow_ControlsRow,{controls:controlsRowControls}),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(ChartLayout_ControlsOverlayView,{grapherView:grapherView},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:this.svgStyle,width:layout.svgWidth,height:layout.svgHeight,viewBox:"0 0 ".concat(layout.svgWidth," ").concat(layout.svgHeight)},this.props.children)),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(Footer_SourcesFooterHTML,{grapher:layout.props.grapher,footer:layout.footer}))}},{key:"render",value:function render(){return this.props.layout.isExporting?this.renderWithSVGText():this.renderWithHTMLText()}},{key:"svgStyle",get:function get(){return{fontFamily:"Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif",fontSize:this.props.layout.props.grapher.baseFontSize,backgroundColor:"white",textRendering:"optimizeLegibility",WebkitFontSmoothing:"antialiased"}}}]),ChartLayoutView}(delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.Component)).prototype,"svgStyle",[mobx_module.f],Object.getOwnPropertyDescriptor(ChartLayout_class5.prototype,"svgStyle"),ChartLayout_class5.prototype),ChartLayout_class5);try{ChartLayout_ChartLayout.displayName="ChartLayout",ChartLayout_ChartLayout.__docgenInfo={description:"",displayName:"ChartLayout",props:{grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}},grapherView:{defaultValue:null,description:"",name:"grapherView",required:!0,type:{name:"GrapherView"}},bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"Bounds"}},renderControlsRow:{defaultValue:null,description:"",name:"renderControlsRow",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/chart/ChartLayout.tsx#ChartLayout"]={docgenInfo:ChartLayout_ChartLayout.__docgenInfo,name:"ChartLayout",path:"grapher/chart/ChartLayout.tsx#ChartLayout"})}catch(__react_docgen_typescript_loader_error){}try{ChartLayout_ChartLayoutView.displayName="ChartLayoutView",ChartLayout_ChartLayoutView.__docgenInfo={description:"",displayName:"ChartLayoutView",props:{layout:{defaultValue:null,description:"",name:"layout",required:!0,type:{name:"ChartLayout"}},controlsRowControls:{defaultValue:null,description:"",name:"controlsRowControls",required:!1,type:{name:"ReactElement<any, string | ((props: any) => ReactElement<any, string | ... | (new (props: any) => Component<any, any, any>)> | null) | (new (props: any) => Component<any, any, any>)>[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/chart/ChartLayout.tsx#ChartLayoutView"]={docgenInfo:ChartLayout_ChartLayoutView.__docgenInfo,name:"ChartLayoutView",path:"grapher/chart/ChartLayout.tsx#ChartLayoutView"})}catch(__react_docgen_typescript_loader_error){}},,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("aYSr")},,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("1Mu/")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("Ndl3")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("Qzre")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("dw5g")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("5IAQ")},,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MapTopology}));var MapTopology={type:"Topology",objects:{world:{type:"GeometryCollection",geometries:[{type:"Polygon",arcs:[[0,1,2,3,4,5]],id:"Afghanistan"},{type:"MultiPolygon",arcs:[[[6,7,8,9]],[[10,11,12]]],id:"Angola"},{type:"Polygon",arcs:[[13,14,15,16,17]],id:"Albania"},{type:"Polygon",arcs:[[18,19,20,21,22]],id:"United Arab Emirates"},{type:"MultiPolygon",arcs:[[[23,24]],[[25,26,27,28,29,30]]],id:"Argentina"},{type:"Polygon",arcs:[[31,32,33,34,35]],id:"Armenia"},{type:"Polygon",arcs:[[44]],id:"French Southern Territories"},{type:"MultiPolygon",arcs:[[[45]],[[46]]],id:"Australia"},{type:"Polygon",arcs:[[47,48,49,50,51,52,53,54,55,56,57]],id:"Austria"},{type:"MultiPolygon",arcs:[[[58,-35]],[[59,60,-33,61,62]]],id:"Azerbaijan"},{type:"Polygon",arcs:[[63,64,65,66]],id:"Burundi"},{type:"Polygon",arcs:[[67,68,69,70,71]],id:"Belgium"},{type:"Polygon",arcs:[[72,73,74,75,76]],id:"Benin"},{type:"Polygon",arcs:[[77,78,79,-75,80,81]],id:"Burkina Faso"},{type:"Polygon",arcs:[[82,83,84]],id:"Bangladesh"},{type:"Polygon",arcs:[[85,86,87,88,89,90]],id:"Bulgaria"},{type:"MultiPolygon",arcs:[[[91]],[[92]],[[93]]],id:"Bahamas"},{type:"Polygon",arcs:[[94,95,96,97]],id:"Bosnia and Herzegovina"},{type:"Polygon",arcs:[[98,99,100,101,102,103,104,105]],id:"Belarus"},{type:"Polygon",arcs:[[106,107,108]],id:"Belize"},{type:"Polygon",arcs:[[109,110,111,112,-31]],id:"Bolivia"},{type:"Polygon",arcs:[[-27,113,-112,114,115,116,117,118,119,120,121]],id:"Brazil"},{type:"Polygon",arcs:[[122,123]],id:"Brunei"},{type:"Polygon",arcs:[[124,125]],id:"Bhutan"},{type:"Polygon",arcs:[[126,127,128,129]],id:"Botswana"},{type:"Polygon",arcs:[[130,131,132,133,134,135,136]],id:"Central African Republic"},{type:"MultiPolygon",arcs:[[[137]],[[138]],[[139]],[[140]],[[141]],[[142]],[[143]],[[144]],[[145]],[[146]],[[147,148,149,150,151,152]],[[153]],[[154]],[[155]],[[156]],[[157]],[[158]],[[159]],[[160]],[[161]],[[162]],[[163]],[[164]],[[165]],[[166]],[[167]],[[168]],[[169]],[[170]],[[171]]],id:"Canada"},{type:"Polygon",arcs:[[-55,172,173,174,-51,175,176,177]],id:"Switzerland"},{type:"MultiPolygon",arcs:[[[-24,178]],[[-30,179,180,-110]]],id:"Chile"},{type:"MultiPolygon",arcs:[[[181]],[[182,183,184,185,186,187,188,189,190,191,192,193,194,195,-126,196,197,198,199,-4,200,201,202,203,204,205,206,207,208,209,210]]],id:"China"},{type:"Polygon",arcs:[[211,212,213,214,-78,215]],id:"Cote d'Ivoire"},{type:"Polygon",arcs:[[216,217,218,219,220,221,222,-137,223]],id:"Cameroon"},{type:"Polygon",arcs:[[224,225,226,227,-64,228,229,230,-10,231,-13,232,-135,233,234]],id:"Democratic Republic of Congo"},{type:"Polygon",arcs:[[-12,235,236,-224,-136,-233]],id:"Congo"},{type:"Polygon",arcs:[[237,238,239,240,241,-116,242]],id:"Colombia"},{type:"Polygon",arcs:[[243,244,245,246]],id:"Costa Rica"},{type:"Polygon",arcs:[[247]],id:"Cuba"},{type:"Polygon",arcs:[[248]],id:"Cyprus"},{type:"Polygon",arcs:[[-57,249,250,251]],id:"Czech Republic"},{type:"Polygon",arcs:[[252,253,-250,-56,-178,254,255,-69,256,257,258]],id:"Germany"},{type:"Polygon",arcs:[[259,260,261,262]],id:"Djibouti"},{type:"MultiPolygon",arcs:[[[263]],[[-259,264]]],id:"Denmark"},{type:"MultiPolygon",arcs:[[[265]]],id:"Greenland"},{type:"Polygon",arcs:[[266,267]],id:"Dominican Republic"},{type:"Polygon",arcs:[[268,269,270,271,272,273,274,275]],id:"Algeria"},{type:"Polygon",arcs:[[276,-238,277]],id:"Ecuador"},{type:"Polygon",arcs:[[278,279,280]],id:"Egypt"},{type:"Polygon",arcs:[[281,282,283,284,285,286,287,-263]],id:"Eritrea"},{type:"Polygon",arcs:[[288,289,290,291]],id:"Spain"},{type:"Polygon",arcs:[[292,293,294,295]],id:"Estonia"},{type:"Polygon",arcs:[[296,297,-282,-262,298,299,300,301,302,303,304,305,-285]],id:"Ethiopia"},{type:"Polygon",arcs:[[306,307,308,309]],id:"Finland"},{type:"MultiPolygon",arcs:[[[310]],[[311]],[[312]]],id:"Fiji"},{type:"MultiPolygon",arcs:[[[313]],[[314,-255,-177,315,316,-290,317,-71]]],id:"France"},{type:"Polygon",arcs:[[318,319,320,-120]],id:"French Guiana"},{type:"Polygon",arcs:[[321,322,-217,-237]],id:"Gabon"},{type:"MultiPolygon",arcs:[[[323,324]],[[325]]],id:"United Kingdom"},{type:"Polygon",arcs:[[326,327,328,329,330,-62,-32,331]],id:"Georgia"},{type:"Polygon",arcs:[[332,-216,-82,333]],id:"Ghana"},{type:"Polygon",arcs:[[334,335,336,337,338,339,-214]],id:"Guinea"},{type:"Polygon",arcs:[[340,341]],id:"Gambia"},{type:"Polygon",arcs:[[342,343,-338]],id:"Guinea-Bissau"},{type:"Polygon",arcs:[[344,-218,-323]],id:"Equatorial Guinea"},{type:"MultiPolygon",arcs:[[[345]],[[346,-14,347,-89,348]]],id:"Greece"},{type:"Polygon",arcs:[[349,350,-109,351,352,353]],id:"Guatemala"},{type:"Polygon",arcs:[[354,355,-118,356]],id:"Guyana"},{type:"Polygon",arcs:[[357,358,-353,359,360]],id:"Honduras"},{type:"Polygon",arcs:[[361,362,363,-98,364,365,366]],id:"Croatia"},{type:"Polygon",arcs:[[-268,367]],id:"Haiti"},{type:"Polygon",arcs:[[-48,368,369,370,371,372,-367,373]],id:"Hungary"},{type:"MultiPolygon",arcs:[[[374]],[[375,376]],[[377]],[[378]],[[379]],[[380]],[[381]],[[382]],[[383,384]],[[385]],[[386]],[[387,388]],[[389]]],id:"Indonesia"},{type:"Polygon",arcs:[[-199,390,-197,-125,-196,391,-85,392,393]],id:"India"},{type:"Polygon",arcs:[[394,-324]],id:"Ireland"},{type:"Polygon",arcs:[[395,-6,396,397,398,399,400,-59,-34,-61,401]],id:"Iran"},{type:"Polygon",arcs:[[-399,402,403,404,405,406,407,408]],id:"Iraq"},{type:"Polygon",arcs:[[409]],id:"Iceland"},{type:"Polygon",arcs:[[410,411,412,413,414,415]],id:"Israel"},{type:"MultiPolygon",arcs:[[[416]],[[417]],[[418,419,-316,-176,-50]]],id:"Italy"},{type:"Polygon",arcs:[[420]],id:"Jamaica"},{type:"Polygon",arcs:[[-411,421,-406,422,423,-413,424]],id:"Jordan"},{type:"MultiPolygon",arcs:[[[425]],[[426]],[[427]]],id:"Japan"},{type:"Polygon",arcs:[[428,429,430,431,432,433,434,435,436,437,438,439,440,-203,441]],id:"Kazakhstan"},{type:"Polygon",arcs:[[442,443,444,445,-303,446]],id:"Kenya"},{type:"Polygon",arcs:[[-442,-202,447,448]],id:"Kyrgyzstan"},{type:"Polygon",arcs:[[449,450,451,452]],id:"Cambodia"},{type:"Polygon",arcs:[[453,454]],id:"South Korea"},{type:"Polygon",arcs:[[455,456,457,458,459]],id:"Kosovo"},{type:"Polygon",arcs:[[460,461,-404]],id:"Kuwait"},{type:"Polygon",arcs:[[462,463,-194,464,-451]],id:"Laos"},{type:"Polygon",arcs:[[-415,465,466]],id:"Lebanon"},{type:"Polygon",arcs:[[467,468,-335,-213]],id:"Liberia"},{type:"Polygon",arcs:[[469,-276,470,471,-280,472,473]],id:"Libya"},{type:"Polygon",arcs:[[474]],id:"Sri Lanka"},{type:"Polygon",arcs:[[475]],id:"Lesotho"},{type:"Polygon",arcs:[[476,477,478,-99,479]],id:"Lithuania"},{type:"Polygon",arcs:[[-256,-315,-70]],id:"Luxembourg"},{type:"Polygon",arcs:[[480,-296,481,-100,-479]],id:"Latvia"},{type:"Polygon",arcs:[[-273,482,483]],id:"Morocco"},{type:"Polygon",arcs:[[484,485]],id:"Moldova"},{type:"Polygon",arcs:[[486]],id:"Madagascar"},{type:"Polygon",arcs:[[-107,-351,487,488,489]],id:"Mexico"},{type:"Polygon",arcs:[[-460,490,-90,-348,491]],id:"Macedonia"},{type:"Polygon",arcs:[[492,-270,493,-79,-215,-340,494]],id:"Mali"},{type:"Polygon",arcs:[[495,-83,-392,-195,-464,496]],id:"Myanmar"},{type:"Polygon",arcs:[[497,-97,498,-458,-16]],id:"Montenegro"},{type:"Polygon",arcs:[[499,500,501,502,503,504,505,506,-205]],id:"Mongolia"},{type:"Polygon",arcs:[[507,508,509,510,511,512,513,514,515]],id:"Mozambique"},{type:"Polygon",arcs:[[516,517,518,-271,-493]],id:"Mauritania"},{type:"Polygon",arcs:[[-516,519,520,521]],id:"Malawi"},{type:"MultiPolygon",arcs:[[[522,523,524,525]],[[-388,526,-124,527]]],id:"Malaysia"},{type:"Polygon",arcs:[[528,-8,529,-128,530]],id:"Namibia"},{type:"Polygon",arcs:[[531]],id:"New Caledonia"},{type:"Polygon",arcs:[[-80,-494,-269,-470,532,533,534,535,536,-221,537,-76]],id:"Niger"},{type:"Polygon",arcs:[[538,-77,-538,-220]],id:"Nigeria"},{type:"Polygon",arcs:[[539,-361,540,-245]],id:"Nicaragua"},{type:"Polygon",arcs:[[-257,-68,541]],id:"Netherlands"},{type:"MultiPolygon",arcs:[[[-310,542,543]],[[544]],[[545]],[[546]]],id:"Norway"},{type:"Polygon",arcs:[[-391,-198]],id:"Nepal"},{type:"MultiPolygon",arcs:[[[547]],[[548]]],id:"New Zealand"},{type:"MultiPolygon",arcs:[[[549,550,-22,551]],[[-20,552]]],id:"Oman"},{type:"Polygon",arcs:[[-200,-394,553,-397,-5]],id:"Pakistan"},{type:"Polygon",arcs:[[554,-247,555,-240]],id:"Panama"},{type:"Polygon",arcs:[[-181,556,-278,-243,-115,-111]],id:"Peru"},{type:"MultiPolygon",arcs:[[[557]],[[558]],[[559]],[[560]],[[561]],[[562]],[[563]]],id:"Philippines"},{type:"MultiPolygon",arcs:[[[564]],[[565]],[[-384,566]],[[567]]],id:"Papua New Guinea"},{type:"Polygon",arcs:[[-254,568,569,-480,-106,570,571,-251]],id:"Poland"},{type:"Polygon",arcs:[[572]],id:"Puerto Rico"},{type:"Polygon",arcs:[[573,-455,574,-191]],id:"North Korea"},{type:"Polygon",arcs:[[-292,575]],id:"Portugal"},{type:"Polygon",arcs:[[-113,-114,-26]],id:"Paraguay"},{type:"Polygon",arcs:[[576,577]],id:"Qatar"},{type:"Polygon",arcs:[[578,-486,579,580,-86,581,-371]],id:"Romania"},{type:"MultiPolygon",arcs:[[[582]],[[-570,583,-477]],[[584]],[[585]],[[586]],[[587]],[[588]],[[589]],[[590]],[[-189,591,592,593,-185,594,-183,595,-210,596,-208,597,-206,-507,598,599,-504,600,-502,601,-500,-204,-441,602,-439,603,604,-436,605,-434,606,607,608,-63,609,-330,610,-328,611,612,613,614,615,616,617,618,619,-103,620,-101,-482,-295,621,622,-307,623]],[[624]],[[625]],[[626]]],id:"Russia"},{type:"Polygon",arcs:[[627,628,-65,-228,629]],id:"Rwanda"},{type:"Polygon",arcs:[[-483,-272,-519,630]],id:"Western Sahara"},{type:"Polygon",arcs:[[631,-423,-405,-462,632,-578,633,-23,-551,634]],id:"Saudi Arabia"},{type:"Polygon",arcs:[[635,636,-132,637,-473,-279,638,-287,639,-306,640]],id:"Sudan"},{type:"Polygon",arcs:[[641,-304,-446,642,643,-234,-134,644,-636]],id:"South Sudan"},{type:"Polygon",arcs:[[645,-517,-495,-339,-344,646,-342]],id:"Senegal"},{type:"MultiPolygon",arcs:[[[647]],[[648]],[[649]],[[650]],[[651]]],id:"Solomon Islands"},{type:"Polygon",arcs:[[652,-336,-469]],id:"Sierra Leone"},{type:"Polygon",arcs:[[653,-354,-359]],id:"El Salvador"},{type:"Polygon",arcs:[[654,655,-299,-261,656,-447,-302]],id:"Somalia"},{type:"Polygon",arcs:[[-91,-491,-459,-499,-96,657,-363,658,-372,-582]],id:"Serbia"},{type:"Polygon",arcs:[[659,-320,660,-119,-356]],id:"Suriname"},{type:"Polygon",arcs:[[-572,661,-369,-58,-252]],id:"Slovakia"},{type:"Polygon",arcs:[[-49,-374,-366,662,-419]],id:"Slovenia"},{type:"Polygon",arcs:[[-543,-309,663]],id:"Sweden"},{type:"Polygon",arcs:[[664,-512]],id:"Swaziland"},{type:"Polygon",arcs:[[-422,-416,-467,665,666,-407]],id:"Syria"},{type:"Polygon",arcs:[[-537,667,-535,668,-533,-474,-638,-131,-223,669]],id:"Chad"},{type:"Polygon",arcs:[[670,-334,-81,-74]],id:"Togo"},{type:"Polygon",arcs:[[671,-526,672,-497,-463,-450]],id:"Thailand"},{type:"Polygon",arcs:[[-448,-201,-3,673]],id:"Tajikistan"},{type:"Polygon",arcs:[[-396,674,-430,675,-1]],id:"Turkmenistan"},{type:"Polygon",arcs:[[676,-376]],id:"Timor"},{type:"Polygon",arcs:[[677]],id:"Trinidad and Tobago"},{type:"Polygon",arcs:[[-275,678,-471]],id:"Tunisia"},{type:"MultiPolygon",arcs:[[[-332,-36,-401,679,-408,-667,680]],[[-349,-88,681]]],id:"Turkey"},{type:"Polygon",arcs:[[682]],id:"Taiwan"},{type:"Polygon",arcs:[[-444,683,684,-508,685,686,687,688,-229,-67,689,-628,690]],id:"Tanzania"},{type:"Polygon",arcs:[[-630,-227,691,-225,692,-643,-445,-691]],id:"Uganda"},{type:"Polygon",arcs:[[693,-619,694,-617,695,696,697,-613,698,-580,-485,-579,-370,-662,-571,-105]],id:"Ukraine"},{type:"Polygon",arcs:[[-122,699,-28]],id:"Uruguay"},{type:"MultiPolygon",arcs:[[[700]],[[701]],[[702]],[[703]],[[704]],[[705,-489,706,-148]],[[707]],[[708]],[[709]],[[-152,710,-150,711]]],id:"United States"},{type:"Polygon",arcs:[[-676,-429,-449,-674,-2]],id:"Uzbekistan"},{type:"Polygon",arcs:[[712,-357,-117,-242]],id:"Venezuela"},{type:"Polygon",arcs:[[713,-452,-465,-193]],id:"Vietnam"},{type:"MultiPolygon",arcs:[[[714]],[[715]]],id:"Vanuatu"},{type:"Polygon",arcs:[[-425,-412]],id:"West Bank"},{type:"Polygon",arcs:[[716,-635,-550]],id:"Yemen"},{type:"Polygon",arcs:[[-531,-127,717,-513,-665,-511,718],[-476]],id:"South Africa"},{type:"Polygon",arcs:[[-520,-515,719,-129,-530,-7,-231,720,-688]],id:"Zambia"},{type:"Polygon",arcs:[[-718,-130,-720,-514]],id:"Zimbabwe"},{type:"MultiPolygon",arcs:[[[721]],[[722]],[[723]],[[724]],[[725]],[[726]],[[727]],[[728]]],id:"Cape Verde"},{type:"MultiPolygon",arcs:[[[729]],[[730]],[[731]]],id:"Comoros"},{type:"Polygon",arcs:[[732]],id:"Mauritius"},{type:"Polygon",arcs:[[733]],id:"Seychelles"},{type:"Polygon",arcs:[[734]],id:"Bahrain"},{type:"MultiPolygon",arcs:[[[735]],[[736]]],id:"Maldives"},{type:"MultiPolygon",arcs:[[[737]],[[738]]],id:"Marshall Islands"},{type:"MultiPolygon",arcs:[[[739]],[[740]],[[741]],[[742]],[[743]]],id:"Micronesia (country)"},{type:"Polygon",arcs:[[744]],id:"Nauru"},{type:"Polygon",arcs:[[745]],id:"Palau"},{type:"MultiPolygon",arcs:[[[746]],[[747]]],id:"Samoa"},{type:"Polygon",arcs:[[523,748]],id:"Singapore"},{type:"MultiPolygon",arcs:[[[749]],[[750]],[[751]]],id:"Tonga"},{type:"MultiPolygon",arcs:[[[752]],[[753]],[[754]],[[755]],[[756]],[[757]],[[758]]],id:"Tuvalu"},{type:"MultiPolygon",arcs:[[[759]],[[760]]],id:"Antigua and Barbuda"},{type:"Polygon",arcs:[[761]],id:"Barbados"},{type:"Polygon",arcs:[[762]],id:"Dominica"},{type:"Polygon",arcs:[[763]],id:"Grenada"},{type:"MultiPolygon",arcs:[[[764]],[[765]]],id:"Saint Kitts and Nevis"},{type:"Polygon",arcs:[[766]],id:"Saint Lucia"},{type:"Polygon",arcs:[[767]],id:"Saint Vincent and the Grenadines"},{type:"Polygon",arcs:[[768]],id:"Andorra"},{type:"Polygon",arcs:[[-53,769,-174,770]],id:"Liechtenstein"},{type:"Polygon",arcs:[[771]],id:"Malta"},{type:"Polygon",arcs:[[772]],id:"Monaco"},{type:"Polygon",arcs:[[773]],id:"San Marino"},{type:"Polygon",arcs:[[774]],id:"Kiribati"},{type:"Polygon",arcs:[[775]],id:"Sao Tome and Principe"}]}},arcs:[[[61.210817,35.650072],[62.230651,35.270664],[62.984662,35.404041],[63.193538,35.857166],[63.982896,36.007957],[64.546479,36.312073],[64.746105,37.111818],[65.588948,37.305217],[65.745631,37.661164],[66.217385,37.39379],[66.518607,37.362784]],[[66.518607,37.362784],[67.075782,37.356144],[67.83,37.144994]],[[67.83,37.144994],[68.135562,37.023115],[68.859446,37.344336],[69.196273,37.151144],[69.518785,37.608997],[70.116578,37.588223],[70.270574,37.735165],[70.376304,38.138396],[70.806821,38.486282],[71.348131,38.258905],[71.239404,37.953265],[71.541918,37.905774],[71.448693,37.065645],[71.844638,36.738171],[72.193041,36.948288],[72.63689,37.047558],[73.260056,37.495257],[73.948696,37.421566],[74.980002,37.41999]],[[74.980002,37.41999],[75.158028,37.133031]],[[75.158028,37.133031],[74.575893,37.020841],[74.067552,36.836176],[72.920025,36.720007],[71.846292,36.509942],[71.262348,36.074388],[71.498768,35.650563],[71.613076,35.153203],[71.115019,34.733126],[71.156773,34.348911],[70.881803,33.988856],[69.930543,34.02012],[70.323594,33.358533],[69.687147,33.105499],[69.262522,32.501944],[69.317764,31.901412],[68.926677,31.620189],[68.556932,31.71331],[67.792689,31.58293],[67.683394,31.303154],[66.938891,31.304911],[66.381458,30.738899],[66.346473,29.887943],[65.046862,29.472181],[64.350419,29.560031],[64.148002,29.340819],[63.550261,29.468331],[62.549857,29.318572],[60.874248,29.829239]],[[60.874248,29.829239],[61.781222,30.73585],[61.699314,31.379506],[60.941945,31.548075],[60.863655,32.18292],[60.536078,32.981269],[60.9637,33.528832],[60.52843,33.676446],[60.803193,34.404102],[61.210817,35.650072]],[[23.912215,-10.926826],[24.017894,-11.237298],[23.904154,-11.722282],[24.079905,-12.191297],[23.930922,-12.565848],[24.016137,-12.911046],[21.933886,-12.898437],[21.887843,-16.08031],[22.562478,-16.898451],[23.215048,-17.523116]],[[23.215048,-17.523116],[21.377176,-17.930636],[18.956187,-17.789095],[18.263309,-17.309951],[14.209707,-17.353101],[14.058501,-17.423381],[13.462362,-16.971212],[12.814081,-16.941343],[12.215461,-17.111668],[11.734199,-17.301889]],[[11.734199,-17.301889],[11.640096,-16.673142],[11.778537,-15.793816],[12.123581,-14.878316],[12.175619,-14.449144],[12.500095,-13.5477],[12.738479,-13.137906],[13.312914,-12.48363],[13.633721,-12.038645],[13.738728,-11.297863],[13.686379,-10.731076],[13.387328,-10.373578],[13.120988,-9.766897],[12.87537,-9.166934],[12.929061,-8.959091],[13.236433,-8.562629],[12.93304,-7.596539],[12.728298,-6.927122],[12.227347,-6.294448],[12.322432,-6.100092]],[[12.322432,-6.100092],[12.735171,-5.965682],[13.024869,-5.984389],[13.375597,-5.864241],[16.326528,-5.87747],[16.57318,-6.622645],[16.860191,-7.222298],[17.089996,-7.545689],[17.47297,-8.068551],[18.134222,-7.987678],[18.464176,-7.847014],[19.016752,-7.988246],[19.166613,-7.738184],[19.417502,-7.155429],[20.037723,-7.116361],[20.091622,-6.94309],[20.601823,-6.939318],[20.514748,-7.299606],[21.728111,-7.290872],[21.746456,-7.920085],[21.949131,-8.305901],[21.801801,-8.908707],[21.875182,-9.523708],[22.208753,-9.894796],[22.155268,-11.084801],[22.402798,-10.993075],[22.837345,-11.017622],[23.456791,-10.867863],[23.912215,-10.926826]],[[12.182337,-5.789931],[11.914963,-5.037987]],[[11.914963,-5.037987],[12.318608,-4.60623],[12.62076,-4.438023],[12.995517,-4.781103]],[[12.995517,-4.781103],[12.631612,-4.991271],[12.468004,-5.248362],[12.436688,-5.684304],[12.182337,-5.789931]],[[21.02004,40.842727],[20.99999,40.580004],[20.674997,40.435],[20.615,40.110007],[20.150016,39.624998]],[[20.150016,39.624998],[19.98,39.694993],[19.960002,39.915006],[19.406082,40.250773],[19.319059,40.72723],[19.40355,41.409566],[19.540027,41.719986],[19.371769,41.877548],[19.304486,42.195745],[19.738051,42.688247]],[[19.738051,42.688247],[19.801613,42.500093],[20.0707,42.58863]],[[20.0707,42.58863],[20.283755,42.32026],[20.52295,42.21787]],[[20.52295,42.21787],[20.590247,41.855404],[20.463175,41.515089],[20.605182,41.086226],[21.02004,40.842727]],[[51.579519,24.245497],[51.757441,24.294073],[51.794389,24.019826],[52.577081,24.177439],[53.404007,24.151317],[54.008001,24.121758],[54.693024,24.797892],[55.439025,25.439145],[56.070821,26.055464]],[[56.070821,26.055464],[56.261042,25.714606]],[[56.261042,25.714606],[56.396847,24.924732]],[[56.396847,24.924732],[55.886233,24.920831],[55.804119,24.269604],[55.981214,24.130543],[55.528632,23.933604],[55.525841,23.524869],[55.234489,23.110993],[55.208341,22.70833]],[[55.208341,22.70833],[55.006803,22.496948],[52.000733,23.001154],[51.617708,24.014219],[51.579519,24.245497]],[[-66.95992,-54.89681],[-67.56244,-54.87001],[-68.63335,-54.8695],[-68.63401,-52.63637]],[[-68.63401,-52.63637],[-68.25,-53.1],[-67.75,-53.85],[-66.45,-54.45],[-65.05,-54.7],[-65.5,-55.2],[-66.45,-55.25],[-66.95992,-54.89681]],[[-62.685057,-22.249029],[-60.846565,-23.880713],[-60.028966,-24.032796],[-58.807128,-24.771459],[-57.777217,-25.16234],[-57.63366,-25.603657],[-58.618174,-27.123719],[-57.60976,-27.395899],[-56.486702,-27.548499],[-55.695846,-27.387837],[-54.788795,-26.621786],[-54.625291,-25.739255]],[[-54.625291,-25.739255],[-54.13005,-25.547639],[-53.628349,-26.124865],[-53.648735,-26.923473],[-54.490725,-27.474757],[-55.162286,-27.881915],[-56.2909,-28.852761],[-57.625133,-30.216295]],[[-57.625133,-30.216295],[-57.874937,-31.016556],[-58.14244,-32.044504],[-58.132648,-33.040567],[-58.349611,-33.263189],[-58.427074,-33.909454]],[[-58.427074,-33.909454],[-58.495442,-34.43149],[-57.22583,-35.288027],[-57.362359,-35.97739],[-56.737487,-36.413126],[-56.788285,-36.901572],[-57.749157,-38.183871],[-59.231857,-38.72022],[-61.237445,-38.928425],[-62.335957,-38.827707],[-62.125763,-39.424105],[-62.330531,-40.172586],[-62.145994,-40.676897],[-62.745803,-41.028761],[-63.770495,-41.166789],[-64.73209,-40.802677],[-65.118035,-41.064315],[-64.978561,-42.058001],[-64.303408,-42.359016],[-63.755948,-42.043687],[-63.458059,-42.563138],[-64.378804,-42.873558],[-65.181804,-43.495381],[-65.328823,-44.501366],[-65.565269,-45.036786],[-66.509966,-45.039628],[-67.293794,-45.551896],[-67.580546,-46.301773],[-66.597066,-47.033925],[-65.641027,-47.236135],[-65.985088,-48.133289],[-67.166179,-48.697337],[-67.816088,-49.869669],[-68.728745,-50.264218],[-69.138539,-50.73251],[-68.815561,-51.771104],[-68.149995,-52.349983],[-68.571545,-52.299444]],[[-68.571545,-52.299444],[-69.498362,-52.142761],[-71.914804,-52.009022],[-72.329404,-51.425956],[-72.309974,-50.67701],[-72.975747,-50.74145],[-73.328051,-50.378785],[-73.415436,-49.318436],[-72.648247,-48.878618],[-72.331161,-48.244238],[-72.447355,-47.738533],[-71.917258,-46.884838],[-71.552009,-45.560733],[-71.659316,-44.973689],[-71.222779,-44.784243],[-71.329801,-44.407522],[-71.793623,-44.207172],[-71.464056,-43.787611],[-71.915424,-43.408565],[-72.148898,-42.254888],[-71.746804,-42.051386],[-71.915734,-40.832339],[-71.680761,-39.808164],[-71.413517,-38.916022],[-70.814664,-38.552995],[-71.118625,-37.576827],[-71.121881,-36.658124],[-70.364769,-36.005089],[-70.388049,-35.169688],[-69.817309,-34.193571],[-69.814777,-33.273886],[-70.074399,-33.09121],[-70.535069,-31.36501],[-69.919008,-30.336339],[-70.01355,-29.367923],[-69.65613,-28.459141],[-69.001235,-27.521214],[-68.295542,-26.89934],[-68.5948,-26.506909],[-68.386001,-26.185016],[-68.417653,-24.518555],[-67.328443,-24.025303],[-66.985234,-22.986349],[-67.106674,-22.735925]],[[-67.106674,-22.735925],[-66.273339,-21.83231],[-64.964892,-22.075862],[-64.377021,-22.798091],[-63.986838,-21.993644],[-62.846468,-22.034985],[-62.685057,-22.249029]],[[43.582746,41.092143],[44.97248,41.248129]],[[44.97248,41.248129],[45.179496,40.985354],[45.560351,40.81229],[45.359175,40.561504],[45.891907,40.218476],[45.610012,39.899994],[46.034534,39.628021],[46.483499,39.464155],[46.50572,38.770605]],[[46.50572,38.770605],[46.143623,38.741201]],[[46.143623,38.741201],[45.735379,39.319719],[45.739978,39.473999],[45.298145,39.471751],[45.001987,39.740004],[44.79399,39.713003]],[[44.79399,39.713003],[44.400009,40.005],[43.656436,40.253564],[43.752658,40.740201],[43.582746,41.092143]],[[-59.572095,-80.040179],[-59.865849,-80.549657],[-60.159656,-81.000327],[-62.255393,-80.863178],[-64.488125,-80.921934],[-65.741666,-80.588827],[-65.741666,-80.549657],[-66.290031,-80.255773],[-64.037688,-80.294944],[-61.883246,-80.39287],[-61.138976,-79.981371],[-60.610119,-79.628679],[-59.572095,-80.040179]],[[-159.208184,-79.497059],[-161.127601,-79.634209],[-162.439847,-79.281465],[-163.027408,-78.928774],[-163.066604,-78.869966],[-163.712896,-78.595667],[-163.712896,-78.595667],[-163.105801,-78.223338],[-161.245113,-78.380176],[-160.246208,-78.693645],[-159.482405,-79.046338],[-159.208184,-79.497059]],[[-45.154758,-78.04707],[-43.920828,-78.478103],[-43.48995,-79.08556],[-43.372438,-79.516645],[-43.333267,-80.026123],[-44.880537,-80.339644],[-46.506174,-80.594357],[-48.386421,-80.829485],[-50.482107,-81.025442],[-52.851988,-80.966685],[-54.164259,-80.633528],[-53.987991,-80.222028],[-51.853134,-79.94773],[-50.991326,-79.614623],[-50.364595,-79.183487],[-49.914131,-78.811209],[-49.306959,-78.458569],[-48.660616,-78.047018],[-48.660616,-78.047019],[-48.151396,-78.04707],[-46.662857,-77.831476],[-45.154758,-78.04707]],[[-121.211511,-73.50099],[-119.918851,-73.657725],[-118.724143,-73.481353],[-119.292119,-73.834097],[-120.232217,-74.08881],[-121.62283,-74.010468],[-122.621735,-73.657778],[-122.621735,-73.657777],[-122.406245,-73.324619],[-121.211511,-73.50099]],[[-125.559566,-73.481353],[-124.031882,-73.873268],[-124.619469,-73.834097],[-125.912181,-73.736118],[-127.28313,-73.461769],[-127.28313,-73.461768],[-126.558472,-73.246226],[-125.559566,-73.481353]],[[-98.98155,-71.933334],[-97.884743,-72.070535],[-96.787937,-71.952971],[-96.20035,-72.521205],[-96.983765,-72.442864],[-98.198083,-72.482035],[-99.432013,-72.442864],[-100.783455,-72.50162],[-101.801868,-72.305663],[-102.330725,-71.894164],[-102.330725,-71.894164],[-101.703967,-71.717792],[-100.430919,-71.854993],[-98.98155,-71.933334]],[[-68.451346,-70.955823],[-68.333834,-71.406493],[-68.510128,-71.798407],[-68.784297,-72.170736],[-69.959471,-72.307885],[-71.075889,-72.503842],[-72.388134,-72.484257],[-71.8985,-72.092343],[-73.073622,-72.229492],[-74.19004,-72.366693],[-74.953895,-72.072757],[-75.012625,-71.661258],[-73.915819,-71.269345],[-73.915819,-71.269344],[-73.230331,-71.15178],[-72.074717,-71.190951],[-71.780962,-70.681473],[-71.72218,-70.309196],[-71.741791,-69.505782],[-71.173815,-69.035475],[-70.253252,-68.87874],[-69.724447,-69.251017],[-69.489422,-69.623346],[-69.058518,-70.074016],[-68.725541,-70.505153],[-68.451346,-70.955823]],[[-58.614143,-64.152467],[-59.045073,-64.36801],[-59.789342,-64.211223],[-60.611928,-64.309202],[-61.297416,-64.54433],[-62.0221,-64.799094],[-62.51176,-65.09303],[-62.648858,-65.484942],[-62.590128,-65.857219],[-62.120079,-66.190326],[-62.805567,-66.425505],[-63.74569,-66.503847],[-64.294106,-66.837004],[-64.881693,-67.150474],[-65.508425,-67.58161],[-65.665082,-67.953887],[-65.312545,-68.365335],[-64.783715,-68.678908],[-63.961103,-68.913984],[-63.1973,-69.227556],[-62.785955,-69.619419],[-62.570516,-69.991747],[-62.276736,-70.383661],[-61.806661,-70.716768],[-61.512906,-71.089045],[-61.375809,-72.010074],[-61.081977,-72.382351],[-61.003661,-72.774265],[-60.690269,-73.166179],[-60.827367,-73.695242],[-61.375809,-74.106742],[-61.96337,-74.439848],[-63.295201,-74.576997],[-63.74569,-74.92974],[-64.352836,-75.262847],[-65.860987,-75.635124],[-67.192818,-75.79191],[-68.446282,-76.007452],[-69.797724,-76.222995],[-70.600724,-76.634494],[-72.206776,-76.673665],[-73.969536,-76.634494],[-75.555977,-76.712887],[-77.24037,-76.712887],[-76.926979,-77.104802],[-75.399294,-77.28107],[-74.282876,-77.55542],[-73.656119,-77.908112],[-74.772536,-78.221633],[-76.4961,-78.123654],[-77.925858,-78.378419],[-77.984666,-78.789918],[-78.023785,-79.181833],[-76.848637,-79.514939],[-76.633224,-79.887216],[-75.360097,-80.259545],[-73.244852,-80.416331],[-71.442946,-80.69063],[-70.013163,-81.004151],[-68.191646,-81.317672],[-65.704279,-81.474458],[-63.25603,-81.748757],[-61.552026,-82.042692],[-59.691416,-82.37585],[-58.712121,-82.846106],[-58.222487,-83.218434],[-57.008117,-82.865691],[-55.362894,-82.571755],[-53.619771,-82.258235],[-51.543644,-82.003521],[-49.76135,-81.729171],[-47.273931,-81.709586],[-44.825708,-81.846735],[-42.808363,-82.081915],[-42.16202,-81.65083],[-40.771433,-81.356894],[-38.244818,-81.337309],[-36.26667,-81.121715],[-34.386397,-80.906172],[-32.310296,-80.769023],[-30.097098,-80.592651],[-28.549802,-80.337938],[-29.254901,-79.985195],[-29.685805,-79.632503],[-29.685805,-79.260226],[-31.624808,-79.299397],[-33.681324,-79.456132],[-35.639912,-79.456132],[-35.914107,-79.083855],[-35.77701,-78.339248],[-35.326546,-78.123654],[-33.896763,-77.888526],[-32.212369,-77.65345],[-30.998051,-77.359515],[-29.783732,-77.065579],[-28.882779,-76.673665],[-27.511752,-76.497345],[-26.160336,-76.360144],[-25.474822,-76.281803],[-23.927552,-76.24258],[-22.458598,-76.105431],[-21.224694,-75.909474],[-20.010375,-75.674346],[-18.913543,-75.439218],[-17.522982,-75.125698],[-16.641589,-74.79254],[-15.701491,-74.498604],[-15.40771,-74.106742],[-16.46532,-73.871614],[-16.112784,-73.460114],[-15.446855,-73.146542],[-14.408805,-72.950585],[-13.311973,-72.715457],[-12.293508,-72.401936],[-11.510067,-72.010074],[-11.020433,-71.539767],[-10.295774,-71.265416],[-9.101015,-71.324224],[-8.611381,-71.65733],[-7.416622,-71.696501],[-7.377451,-71.324224],[-6.868232,-70.93231],[-5.790985,-71.030289],[-5.536375,-71.402617],[-4.341667,-71.461373],[-3.048981,-71.285053],[-1.795492,-71.167438],[-.659489,-71.226246],[-.228637,-71.637745],[.868195,-71.304639],[1.886686,-71.128267],[3.022638,-70.991118],[4.139055,-70.853917],[5.157546,-70.618789],[6.273912,-70.462055],[7.13572,-70.246512],[7.742866,-69.893769],[8.48711,-70.148534],[9.525135,-70.011333],[10.249845,-70.48164],[10.817821,-70.834332],[11.953824,-70.638375],[12.404287,-70.246512],[13.422778,-69.972162],[14.734998,-70.030918],[15.126757,-70.403247],[15.949342,-70.030918],[17.026589,-69.913354],[18.201711,-69.874183],[19.259373,-69.893769],[20.375739,-70.011333],[21.452985,-70.07014],[21.923034,-70.403247],[22.569403,-70.697182],[23.666184,-70.520811],[24.841357,-70.48164],[25.977309,-70.48164],[27.093726,-70.462055],[28.09258,-70.324854],[29.150242,-70.20729],[30.031583,-69.93294],[30.971733,-69.75662],[31.990172,-69.658641],[32.754053,-69.384291],[33.302443,-68.835642],[33.870419,-68.502588],[34.908495,-68.659271],[35.300202,-69.012014],[36.16201,-69.247142],[37.200035,-69.168748],[37.905108,-69.52144],[38.649404,-69.776205],[39.667894,-69.541077],[40.020431,-69.109941],[40.921358,-68.933621],[41.959434,-68.600514],[42.938702,-68.463313],[44.113876,-68.267408],[44.897291,-68.051866],[45.719928,-67.816738],[46.503343,-67.601196],[47.44344,-67.718759],[48.344419,-67.366068],[48.990736,-67.091718],[49.930885,-67.111303],[50.753471,-66.876175],[50.949325,-66.523484],[51.791547,-66.249133],[52.614133,-66.053176],[53.613038,-65.89639],[54.53355,-65.818049],[55.414943,-65.876805],[56.355041,-65.974783],[57.158093,-66.249133],[57.255968,-66.680218],[58.137361,-67.013324],[58.744508,-67.287675],[59.939318,-67.405239],[60.605221,-67.679589],[61.427806,-67.953887],[62.387489,-68.012695],[63.19049,-67.816738],[64.052349,-67.405239],[64.992447,-67.620729],[65.971715,-67.738345],[66.911864,-67.855909],[67.891133,-67.934302],[68.890038,-67.934302],[69.712624,-68.972791],[69.673453,-69.227556],[69.555941,-69.678226],[68.596258,-69.93294],[67.81274,-70.305268],[67.949889,-70.697182],[69.066307,-70.677545],[68.929157,-71.069459],[68.419989,-71.441788],[67.949889,-71.853287],[68.71377,-72.166808],[69.869307,-72.264787],[71.024895,-72.088415],[71.573285,-71.696501],[71.906288,-71.324224],[72.454627,-71.010703],[73.08141,-70.716768],[73.33602,-70.364024],[73.864877,-69.874183],[74.491557,-69.776205],[75.62756,-69.737034],[76.626465,-69.619419],[77.644904,-69.462684],[78.134539,-69.07077],[78.428371,-68.698441],[79.113859,-68.326216],[80.093127,-68.071503],[80.93535,-67.875546],[81.483792,-67.542388],[82.051767,-67.366068],[82.776426,-67.209282],[83.775331,-67.30726],[84.676206,-67.209282],[85.655527,-67.091718],[86.752359,-67.150474],[87.477017,-66.876175],[87.986289,-66.209911],[88.358411,-66.484261],[88.828408,-66.954568],[89.67063,-67.150474],[90.630365,-67.228867],[91.5901,-67.111303],[92.608539,-67.189696],[93.548637,-67.209282],[94.17542,-67.111303],[95.017591,-67.170111],[95.781472,-67.385653],[96.682399,-67.248504],[97.759646,-67.248504],[98.68021,-67.111303],[99.718182,-67.248504],[100.384188,-66.915346],[100.893356,-66.58224],[101.578896,-66.30789],[102.832411,-65.563284],[103.478676,-65.700485],[104.242557,-65.974783],[104.90846,-66.327527],[106.181561,-66.934931],[107.160881,-66.954568],[108.081393,-66.954568],[109.15864,-66.837004],[110.235835,-66.699804],[111.058472,-66.425505],[111.74396,-66.13157],[112.860378,-66.092347],[113.604673,-65.876805],[114.388088,-66.072762],[114.897308,-66.386283],[115.602381,-66.699804],[116.699161,-66.660633],[117.384701,-66.915346],[118.57946,-67.170111],[119.832924,-67.268089],[120.871,-67.189696],[121.654415,-66.876175],[122.320369,-66.562654],[123.221296,-66.484261],[124.122274,-66.621462],[125.160247,-66.719389],[126.100396,-66.562654],[127.001427,-66.562654],[127.882768,-66.660633],[128.80328,-66.758611],[129.704259,-66.58224],[130.781454,-66.425505],[131.799945,-66.386283],[132.935896,-66.386283],[133.85646,-66.288304],[134.757387,-66.209963],[135.031582,-65.72007],[135.070753,-65.308571],[135.697485,-65.582869],[135.873805,-66.033591],[136.206705,-66.44509],[136.618049,-66.778197],[137.460271,-66.954568],[138.596223,-66.895761],[139.908442,-66.876175],[140.809421,-66.817367],[142.121692,-66.817367],[143.061842,-66.797782],[144.374061,-66.837004],[145.490427,-66.915346],[146.195552,-67.228867],[145.999699,-67.601196],[146.646067,-67.895131],[147.723263,-68.130259],[148.839629,-68.385024],[150.132314,-68.561292],[151.483705,-68.71813],[152.502247,-68.874813],[153.638199,-68.894502],[154.284567,-68.561292],[155.165857,-68.835642],[155.92979,-69.149215],[156.811132,-69.384291],[158.025528,-69.482269],[159.181013,-69.599833],[159.670699,-69.991747],[160.80665,-70.226875],[161.570479,-70.579618],[162.686897,-70.736353],[163.842434,-70.716768],[164.919681,-70.775524],[166.11444,-70.755938],[167.309095,-70.834332],[168.425616,-70.971481],[169.463589,-71.20666],[170.501665,-71.402617],[171.20679,-71.696501],[171.089227,-72.088415],[170.560422,-72.441159],[170.109958,-72.891829],[169.75737,-73.24452],[169.287321,-73.65602],[167.975101,-73.812806],[167.387489,-74.165498],[166.094803,-74.38104],[165.644391,-74.772954],[164.958851,-75.145283],[164.234193,-75.458804],[163.822797,-75.870303],[163.568239,-76.24258],[163.47026,-76.693302],[163.489897,-77.065579],[164.057873,-77.457442],[164.273363,-77.82977],[164.743464,-78.182514],[166.604126,-78.319611],[166.995781,-78.750748],[165.193876,-78.907483],[163.666217,-79.123025],[161.766385,-79.162248],[160.924162,-79.730482],[160.747894,-80.200737],[160.316964,-80.573066],[159.788211,-80.945395],[161.120016,-81.278501],[161.629287,-81.690001],[162.490992,-82.062278],[163.705336,-82.395435],[165.095949,-82.708956],[166.604126,-83.022477],[168.895665,-83.335998],[169.404782,-83.825891],[172.283934,-84.041433],[172.477049,-84.117914],[173.224083,-84.41371],[175.985672,-84.158997],[178.277212,-84.472518],[180,-84.71338],[-179.942499,-84.721443],[-179.058677,-84.139412],[-177.256772,-84.452933],[-177.140807,-84.417941],[-176.084673,-84.099259],[-175.947235,-84.110449],[-175.829882,-84.117914],[-174.382503,-84.534323],[-173.116559,-84.117914],[-172.889106,-84.061019],[-169.951223,-83.884647],[-168.999989,-84.117914],[-168.530199,-84.23739],[-167.022099,-84.570497],[-164.182144,-84.82521],[-161.929775,-85.138731],[-158.07138,-85.37391],[-155.192253,-85.09956],[-150.942099,-85.295517],[-148.533073,-85.609038],[-145.888918,-85.315102],[-143.107718,-85.040752],[-142.892279,-84.570497],[-146.829068,-84.531274],[-150.060732,-84.296146],[-150.902928,-83.904232],[-153.586201,-83.68869],[-153.409907,-83.23802],[-153.037759,-82.82652],[-152.665637,-82.454192],[-152.861517,-82.042692],[-154.526299,-81.768394],[-155.29018,-81.41565],[-156.83745,-81.102129],[-154.408787,-81.160937],[-152.097662,-81.004151],[-150.648293,-81.337309],[-148.865998,-81.043373],[-147.22075,-80.671045],[-146.417749,-80.337938],[-146.770286,-79.926439],[-148.062947,-79.652089],[-149.531901,-79.358205],[-151.588416,-79.299397],[-153.390322,-79.162248],[-155.329376,-79.064269],[-155.975668,-78.69194],[-157.268302,-78.378419],[-158.051768,-78.025676],[-158.365134,-76.889207],[-157.875474,-76.987238],[-156.974573,-77.300759],[-155.329376,-77.202728],[-153.742832,-77.065579],[-152.920247,-77.496664],[-151.33378,-77.398737],[-150.00195,-77.183143],[-148.748486,-76.908845],[-147.612483,-76.575738],[-146.104409,-76.47776],[-146.143528,-76.105431],[-146.496091,-75.733154],[-146.20231,-75.380411],[-144.909624,-75.204039],[-144.322037,-75.537197],[-142.794353,-75.34124],[-141.638764,-75.086475],[-140.209007,-75.06689],[-138.85759,-74.968911],[-137.5062,-74.733783],[-136.428901,-74.518241],[-135.214583,-74.302699],[-134.431194,-74.361455],[-133.745654,-74.439848],[-132.257168,-74.302699],[-130.925311,-74.479019],[-129.554284,-74.459433],[-128.242038,-74.322284],[-126.890622,-74.420263],[-125.402082,-74.518241],[-124.011496,-74.479019],[-122.562152,-74.498604],[-121.073613,-74.518241],[-119.70256,-74.479019],[-118.684145,-74.185083],[-117.469801,-74.028348],[-116.216312,-74.243891],[-115.021552,-74.067519],[-113.944331,-73.714828],[-113.297988,-74.028348],[-112.945452,-74.38104],[-112.299083,-74.714198],[-111.261059,-74.420263],[-110.066325,-74.79254],[-108.714909,-74.910103],[-107.559346,-75.184454],[-106.149148,-75.125698],[-104.876074,-74.949326],[-103.367949,-74.988497],[-102.016507,-75.125698],[-100.645531,-75.302018],[-100.1167,-74.870933],[-100.763043,-74.537826],[-101.252703,-74.185083],[-102.545337,-74.106742],[-103.113313,-73.734413],[-103.328752,-73.362084],[-103.681289,-72.61753],[-102.917485,-72.754679],[-101.60524,-72.813436],[-100.312528,-72.754679],[-99.13738,-72.911414],[-98.118889,-73.20535],[-97.688037,-73.558041],[-96.336595,-73.616849],[-95.043961,-73.4797],[-93.672907,-73.283743],[-92.439003,-73.166179],[-91.420564,-73.401307],[-90.088733,-73.322914],[-89.226951,-72.558722],[-88.423951,-73.009393],[-87.268337,-73.185764],[-86.014822,-73.087786],[-85.192236,-73.4797],[-83.879991,-73.518871],[-82.665646,-73.636434],[-81.470913,-73.851977],[-80.687447,-73.4797],[-80.295791,-73.126956],[-79.296886,-73.518871],[-77.925858,-73.420892],[-76.907367,-73.636434],[-76.221879,-73.969541],[-74.890049,-73.871614],[-73.852024,-73.65602],[-72.833533,-73.401307],[-71.619215,-73.264157],[-70.209042,-73.146542],[-68.935916,-73.009393],[-67.956622,-72.79385],[-67.369061,-72.480329],[-67.134036,-72.049244],[-67.251548,-71.637745],[-67.56494,-71.245831],[-67.917477,-70.853917],[-68.230843,-70.462055],[-68.485452,-70.109311],[-68.544209,-69.717397],[-68.446282,-69.325535],[-67.976233,-68.953206],[-67.5845,-68.541707],[-67.427843,-68.149844],[-67.62367,-67.718759],[-67.741183,-67.326845],[-67.251548,-66.876175],[-66.703184,-66.58224],[-66.056815,-66.209963],[-65.371327,-65.89639],[-64.568276,-65.602506],[-64.176542,-65.171423],[-63.628152,-64.897073],[-63.001394,-64.642308],[-62.041686,-64.583552],[-61.414928,-64.270031],[-60.709855,-64.074074],[-59.887269,-63.95651],[-59.162585,-63.701745],[-58.594557,-63.388224],[-57.811143,-63.27066],[-57.223582,-63.525425],[-57.59573,-63.858532],[-58.614143,-64.152467]],[[68.935,-48.625],[69.58,-48.94],[70.525,-49.065],[70.56,-49.255],[70.28,-49.71],[68.745,-49.775],[68.72,-49.2425],[68.8675,-48.83],[68.935,-48.625]],[[145.397978,-40.792549],[146.364121,-41.137695],[146.908584,-41.000546],[147.689259,-40.808258],[148.289068,-40.875438],[148.359865,-42.062445],[148.017301,-42.407024],[147.914052,-43.211522],[147.564564,-42.937689],[146.870343,-43.634597],[146.663327,-43.580854],[146.048378,-43.549745],[145.43193,-42.693776],[145.29509,-42.03361],[144.718071,-41.162552],[144.743755,-40.703975],[145.397978,-40.792549]],[[143.561811,-13.763656],[143.922099,-14.548311],[144.563714,-14.171176],[144.894908,-14.594458],[145.374724,-14.984976],[145.271991,-15.428205],[145.48526,-16.285672],[145.637033,-16.784918],[145.888904,-16.906926],[146.160309,-17.761655],[146.063674,-18.280073],[146.387478,-18.958274],[147.471082,-19.480723],[148.177602,-19.955939],[148.848414,-20.39121],[148.717465,-20.633469],[149.28942,-21.260511],[149.678337,-22.342512],[150.077382,-22.122784],[150.482939,-22.556142],[150.727265,-22.402405],[150.899554,-23.462237],[151.609175,-24.076256],[152.07354,-24.457887],[152.855197,-25.267501],[153.136162,-26.071173],[153.161949,-26.641319],[153.092909,-27.2603],[153.569469,-28.110067],[153.512108,-28.995077],[153.339095,-29.458202],[153.069241,-30.35024],[153.089602,-30.923642],[152.891578,-31.640446],[152.450002,-32.550003],[151.709117,-33.041342],[151.343972,-33.816023],[151.010555,-34.31036],[150.714139,-35.17346],[150.32822,-35.671879],[150.075212,-36.420206],[149.946124,-37.109052],[149.997284,-37.425261],[149.423882,-37.772681],[148.304622,-37.809061],[147.381733,-38.219217],[146.922123,-38.606532],[146.317922,-39.035757],[145.489652,-38.593768],[144.876976,-38.417448],[145.032212,-37.896188],[144.485682,-38.085324],[143.609974,-38.809465],[142.745427,-38.538268],[142.17833,-38.380034],[141.606582,-38.308514],[140.638579,-38.019333],[139.992158,-37.402936],[139.806588,-36.643603],[139.574148,-36.138362],[139.082808,-35.732754],[138.120748,-35.612296],[138.449462,-35.127261],[138.207564,-34.384723],[137.71917,-35.076825],[136.829406,-35.260535],[137.352371,-34.707339],[137.503886,-34.130268],[137.890116,-33.640479],[137.810328,-32.900007],[136.996837,-33.752771],[136.372069,-34.094766],[135.989043,-34.890118],[135.208213,-34.47867],[135.239218,-33.947953],[134.613417,-33.222778],[134.085904,-32.848072],[134.273903,-32.617234],[132.990777,-32.011224],[132.288081,-31.982647],[131.326331,-31.495803],[129.535794,-31.590423],[128.240938,-31.948489],[127.102867,-32.282267],[126.148714,-32.215966],[125.088623,-32.728751],[124.221648,-32.959487],[124.028947,-33.483847],[123.659667,-33.890179],[122.811036,-33.914467],[122.183064,-34.003402],[121.299191,-33.821036],[120.580268,-33.930177],[119.893695,-33.976065],[119.298899,-34.509366],[119.007341,-34.464149],[118.505718,-34.746819],[118.024972,-35.064733],[117.295507,-35.025459],[116.625109,-35.025097],[115.564347,-34.386428],[115.026809,-34.196517],[115.048616,-33.623425],[115.545123,-33.487258],[115.714674,-33.259572],[115.679379,-32.900369],[115.801645,-32.205062],[115.689611,-31.612437],[115.160909,-30.601594],[114.997043,-30.030725],[115.040038,-29.461095],[114.641974,-28.810231],[114.616498,-28.516399],[114.173579,-28.118077],[114.048884,-27.334765],[113.477498,-26.543134],[113.338953,-26.116545],[113.778358,-26.549025],[113.440962,-25.621278],[113.936901,-25.911235],[114.232852,-26.298446],[114.216161,-25.786281],[113.721255,-24.998939],[113.625344,-24.683971],[113.393523,-24.384764],[113.502044,-23.80635],[113.706993,-23.560215],[113.843418,-23.059987],[113.736552,-22.475475],[114.149756,-21.755881],[114.225307,-22.517488],[114.647762,-21.82952],[115.460167,-21.495173],[115.947373,-21.068688],[116.711615,-20.701682],[117.166316,-20.623599],[117.441545,-20.746899],[118.229559,-20.374208],[118.836085,-20.263311],[118.987807,-20.044203],[119.252494,-19.952942],[119.805225,-19.976506],[120.85622,-19.683708],[121.399856,-19.239756],[121.655138,-18.705318],[122.241665,-18.197649],[122.286624,-17.798603],[122.312772,-17.254967],[123.012574,-16.4052],[123.433789,-17.268558],[123.859345,-17.069035],[123.503242,-16.596506],[123.817073,-16.111316],[124.258287,-16.327944],[124.379726,-15.56706],[124.926153,-15.0751],[125.167275,-14.680396],[125.670087,-14.51007],[125.685796,-14.230656],[126.125149,-14.347341],[126.142823,-14.095987],[126.582589,-13.952791],[127.065867,-13.817968],[127.804633,-14.276906],[128.35969,-14.86917],[128.985543,-14.875991],[129.621473,-14.969784],[129.4096,-14.42067],[129.888641,-13.618703],[130.339466,-13.357376],[130.183506,-13.10752],[130.617795,-12.536392],[131.223495,-12.183649],[131.735091,-12.302453],[132.575298,-12.114041],[132.557212,-11.603012],[131.824698,-11.273782],[132.357224,-11.128519],[133.019561,-11.376411],[133.550846,-11.786515],[134.393068,-12.042365],[134.678632,-11.941183],[135.298491,-12.248606],[135.882693,-11.962267],[136.258381,-12.049342],[136.492475,-11.857209],[136.95162,-12.351959],[136.685125,-12.887223],[136.305407,-13.29123],[135.961758,-13.324509],[136.077617,-13.724278],[135.783836,-14.223989],[135.428664,-14.715432],[135.500184,-14.997741],[136.295175,-15.550265],[137.06536,-15.870762],[137.580471,-16.215082],[138.303217,-16.807604],[138.585164,-16.806622],[139.108543,-17.062679],[139.260575,-17.371601],[140.215245,-17.710805],[140.875463,-17.369069],[141.07111,-16.832047],[141.274095,-16.38887],[141.398222,-15.840532],[141.702183,-15.044921],[141.56338,-14.561333],[141.63552,-14.270395],[141.519869,-13.698078],[141.65092,-12.944688],[141.842691,-12.741548],[141.68699,-12.407614],[141.928629,-11.877466],[142.118488,-11.328042],[142.143706,-11.042737],[142.51526,-10.668186],[142.79731,-11.157355],[142.866763,-11.784707],[143.115947,-11.90563],[143.158632,-12.325656],[143.522124,-12.834358],[143.597158,-13.400422],[143.561811,-13.763656]],[[16.979667,48.123497],[16.903754,47.714866],[16.340584,47.712902],[16.534268,47.496171],[16.202298,46.852386]],[[16.202298,46.852386],[16.011664,46.683611],[15.137092,46.658703],[14.632472,46.431817],[13.806475,46.509306]],[[13.806475,46.509306],[12.376485,46.767559],[12.153088,47.115393],[11.164828,46.941579],[11.048556,46.751359],[10.442701,46.893546]],[[10.442701,46.893546],[9.879180119440742,46.93372025967713],[9.871798391640267,47.02000494258236]],[[9.871798391640267,47.02000494258236],[9.60754621634599,47.0613932427273]],[[9.60754621634599,47.0613932427273],[9.63857721710096,47.095217766375],[9.62032689725713,47.1478826137045],[9.56494495232072,47.1709657502944],[9.57917146014346,47.2077927269191]],[[9.57917146014346,47.2077927269191],[9.530220755311232,47.2730326940506],[9.629127151388623,47.364783895095464]],[[9.629127151388623,47.364783895095464],[9.594226,47.525058]],[[9.594226,47.525058],[9.896068,47.580197],[10.402084,47.302488],[10.544504,47.566399],[11.426414,47.523766],[12.141357,47.703083],[12.62076,47.672388],[12.932627,47.467646],[13.025851,47.637584],[12.884103,48.289146],[13.243357,48.416115],[13.595946,48.877172]],[[13.595946,48.877172],[14.338898,48.555305],[14.901447,48.964402],[15.253416,49.039074],[16.029647,48.733899],[16.499283,48.785808],[16.960288,48.596982]],[[16.960288,48.596982],[16.879983,48.470013],[16.979667,48.123497]],[[46.143623,38.741201],[45.457722,38.874139],[44.952688,39.335765],[44.79399,39.713003]],[[47.987283,41.405819],[48.584353,41.80887],[49.110264,41.282287],[49.618915,40.572924],[50.08483,40.526157],[50.392821,40.256561],[49.569202,40.176101],[49.395259,39.399482],[49.223228,39.049219],[48.856532,38.815486],[48.883249,38.320245]],[[48.883249,38.320245],[48.634375,38.270378],[48.010744,38.794015],[48.355529,39.288765],[48.060095,39.582235],[47.685079,39.508364],[46.50572,38.770605]],[[44.97248,41.248129],[45.217426,41.411452],[45.962601,41.123873],[46.501637,41.064445],[46.637908,41.181673],[46.145432,41.722802],[46.404951,41.860675]],[[46.404951,41.860675],[46.686071,41.827137],[47.373315,41.219732],[47.815666,41.151416],[47.987283,41.405819]],[[29.339998,-4.499983],[29.276384,-3.293907],[29.024926,-2.839258]],[[29.024926,-2.839258],[29.632176,-2.917858],[29.938359,-2.348487],[30.469696,-2.413858]],[[30.469696,-2.413858],[30.527677,-2.807632],[30.743013,-3.034285],[30.752263,-3.35933],[30.50556,-3.568567],[30.116333,-4.090138],[29.753512,-4.452389]],[[29.753512,-4.452389],[29.339998,-4.499983]],[[4.047071,51.267259],[4.973991,51.475024],[5.606976,51.037298],[6.156658,50.803721]],[[6.156658,50.803721],[6.043073,50.128052]],[[6.043073,50.128052],[5.782417,50.090328],[5.674052,49.529484]],[[5.674052,49.529484],[4.799222,49.985373],[4.286023,49.907497],[3.588184,50.378992],[3.123252,50.780363],[2.658422,50.796848],[2.513573,51.148506]],[[2.513573,51.148506],[3.314971,51.345781],[4.047071,51.267259]],[[2.691702,6.258817],[1.865241,6.142158]],[[1.865241,6.142158],[1.618951,6.832038],[1.664478,9.12859],[1.463043,9.334624],[1.425061,9.825395],[1.077795,10.175607],[.772336,10.470808],[.899563,10.997339]],[[.899563,10.997339],[1.24347,11.110511],[1.447178,11.547719],[1.935986,11.64115],[2.154474,11.94015]],[[2.154474,11.94015],[2.490164,12.233052],[2.848643,12.235636],[3.61118,11.660167]],[[3.61118,11.660167],[3.572216,11.327939],[3.797112,10.734746],[3.60007,10.332186],[3.705438,10.06321],[3.220352,9.444153],[2.912308,9.137608],[2.723793,8.506845],[2.749063,7.870734],[2.691702,6.258817]],[[-2.827496,9.642461],[-3.511899,9.900326],[-3.980449,9.862344],[-4.330247,9.610835],[-4.779884,9.821985],[-4.954653,10.152714],[-5.404342,10.370737]],[[-5.404342,10.370737],[-5.470565,10.95127],[-5.197843,11.375146],[-5.220942,11.713859],[-4.427166,12.542646],[-4.280405,13.228444],[-4.006391,13.472485],[-3.522803,13.337662],[-3.103707,13.541267],[-2.967694,13.79815],[-2.191825,14.246418],[-2.001035,14.559008],[-1.066363,14.973815],[-.515854,15.116158],[-.266257,14.924309],[.374892,14.928908]],[[.374892,14.928908],[.295646,14.444235],[.429928,13.988733],[.993046,13.33575],[1.024103,12.851826],[2.177108,12.625018],[2.154474,11.94015]],[[.899563,10.997339],[.023803,11.018682]],[[.023803,11.018682],[-.438702,11.098341],[-.761576,10.93693],[-1.203358,11.009819],[-2.940409,10.96269],[-2.963896,10.395335],[-2.827496,9.642461]],[[92.672721,22.041239],[92.652257,21.324048],[92.303234,21.475485],[92.368554,20.670883]],[[92.368554,20.670883],[92.082886,21.192195],[92.025215,21.70157],[91.834891,22.182936],[91.417087,22.765019],[90.496006,22.805017],[90.586957,22.392794],[90.272971,21.836368],[89.847467,22.039146],[89.70205,21.857116],[89.418863,21.966179],[89.031961,22.055708]],[[89.031961,22.055708],[88.876312,22.879146],[88.52977,23.631142],[88.69994,24.233715],[88.084422,24.501657],[88.306373,24.866079],[88.931554,25.238692],[88.209789,25.768066],[88.563049,26.446526],[89.355094,26.014407],[89.832481,25.965082],[89.920693,25.26975],[90.872211,25.132601],[91.799596,25.147432],[92.376202,24.976693],[91.915093,24.130414],[91.46773,24.072639],[91.158963,23.503527],[91.706475,22.985264],[91.869928,23.624346],[92.146035,23.627499],[92.672721,22.041239]],[[22.65715,44.234923],[22.944832,43.823785],[23.332302,43.897011],[24.100679,43.741051],[25.569272,43.688445],[26.065159,43.943494],[27.2424,44.175986],[27.970107,43.812468],[28.558081,43.707462]],[[28.558081,43.707462],[28.039095,43.293172],[27.673898,42.577892],[27.99672,42.007359]],[[27.99672,42.007359],[27.135739,42.141485],[26.117042,41.826905]],[[26.117042,41.826905],[26.106138,41.328899],[25.197201,41.234486],[24.492645,41.583896],[23.692074,41.309081],[22.952377,41.337994]],[[22.952377,41.337994],[22.881374,41.999297],[22.380526,42.32026]],[[22.380526,42.32026],[22.545012,42.461362],[22.436595,42.580321],[22.604801,42.898519],[22.986019,43.211161],[22.500157,43.642814],[22.410446,44.008063],[22.65715,44.234923]],[[-77.53466,23.75975],[-77.78,23.71],[-78.03405,24.28615],[-78.40848,24.57564],[-78.19087,25.2103],[-77.89,25.17],[-77.54,24.34],[-77.53466,23.75975]],[[-77.82,26.58],[-78.91,26.42],[-78.98,26.79],[-78.51,26.87],[-77.85,26.84],[-77.82,26.58]],[[-77,26.59],[-77.17255,25.87918],[-77.35641,26.00735],[-77.34,26.53],[-77.78802,26.92516],[-77.79,27.04],[-77,26.59]],[[19.005486,44.860234],[19.36803,44.863]],[[19.36803,44.863],[19.11761,44.42307],[19.59976,44.03847],[19.454,43.5681],[19.21852,43.52384]],[[19.21852,43.52384],[19.03165,43.43253],[18.70648,43.20011],[18.56,42.65]],[[18.56,42.65],[17.674922,43.028563],[17.297373,43.446341],[16.916156,43.667722],[16.456443,44.04124],[16.23966,44.351143],[15.750026,44.818712],[15.959367,45.233777],[16.318157,45.004127],[16.534939,45.211608],[17.002146,45.233777],[17.861783,45.06774],[18.553214,45.08159],[19.005486,44.860234]],[[23.484128,53.912498],[24.450684,53.905702],[25.536354,54.282423],[25.768433,54.846963],[26.588279,55.167176],[26.494331,55.615107]],[[26.494331,55.615107],[27.10246,55.783314],[28.176709,56.16913]],[[28.176709,56.16913],[29.229513,55.918344],[29.371572,55.670091],[29.896294,55.789463],[30.873909,55.550976],[30.971836,55.081548],[30.757534,54.811771],[31.384472,54.157056],[31.791424,53.974639],[31.731273,53.794029],[32.405599,53.618045],[32.693643,53.351421],[32.304519,53.132726]],[[32.304519,53.132726],[31.497644,53.167427],[31.305201,53.073996]],[[31.305201,53.073996],[31.540018,52.742052]],[[31.540018,52.742052],[31.785998,52.101678]],[[31.785998,52.101678],[30.927549,52.042353],[30.619454,51.822806],[30.555117,51.319503],[30.157364,51.416138],[29.254938,51.368234],[28.992835,51.602044],[28.617613,51.427714],[28.241615,51.572227],[27.454066,51.592303],[26.337959,51.832289],[25.327788,51.910656],[24.553106,51.888461],[24.005078,51.617444],[23.527071,51.578454]],[[23.527071,51.578454],[23.508002,52.023647],[23.199494,52.486977],[23.799199,52.691099],[23.804935,53.089731],[23.527536,53.470122],[23.484128,53.912498]],[[-89.14308,17.808319],[-89.150909,17.955468],[-89.029857,18.001511],[-88.848344,17.883198],[-88.490123,18.486831],[-88.300031,18.499982]],[[-88.300031,18.499982],[-88.296336,18.353273],[-88.106813,18.348674],[-88.123479,18.076675],[-88.285355,17.644143],[-88.197867,17.489475],[-88.302641,17.131694],[-88.239518,17.036066],[-88.355428,16.530774],[-88.551825,16.265467],[-88.732434,16.233635],[-88.930613,15.887273]],[[-88.930613,15.887273],[-89.229122,15.886938],[-89.150806,17.015577],[-89.14308,17.808319]],[[-67.106674,-22.735925],[-67.82818,-22.872919],[-68.219913,-21.494347],[-68.757167,-20.372658],[-68.442225,-19.405068],[-68.966818,-18.981683],[-69.100247,-18.260125],[-69.590424,-17.580012]],[[-69.590424,-17.580012],[-68.959635,-16.500698],[-69.389764,-15.660129],[-69.160347,-15.323974],[-69.339535,-14.953195],[-68.948887,-14.453639],[-68.929224,-13.602684],[-68.88008,-12.899729],[-68.66508,-12.5613],[-69.529678,-10.951734]],[[-69.529678,-10.951734],[-68.786158,-11.03638],[-68.271254,-11.014521],[-68.048192,-10.712059],[-67.173801,-10.306812],[-66.646908,-9.931331],[-65.338435,-9.761988],[-65.444837,-10.511451],[-65.321899,-10.895872],[-65.402281,-11.56627],[-64.316353,-12.461978],[-63.196499,-12.627033],[-62.80306,-13.000653],[-62.127081,-13.198781],[-61.713204,-13.489202],[-61.084121,-13.479384],[-60.503304,-13.775955],[-60.459198,-14.354007],[-60.264326,-14.645979],[-60.251149,-15.077219],[-60.542966,-15.09391],[-60.15839,-16.258284],[-58.24122,-16.299573],[-58.388058,-16.877109],[-58.280804,-17.27171],[-57.734558,-17.552468],[-57.498371,-18.174188],[-57.676009,-18.96184],[-57.949997,-19.400004],[-57.853802,-19.969995],[-58.166392,-20.176701]],[[-58.166392,-20.176701],[-58.183471,-19.868399],[-59.115042,-19.356906],[-60.043565,-19.342747],[-61.786326,-19.633737],[-62.265961,-20.513735],[-62.291179,-21.051635],[-62.685057,-22.249029]],[[-54.625291,-25.739255],[-54.428946,-25.162185],[-54.293476,-24.5708],[-54.29296,-24.021014],[-54.652834,-23.839578],[-55.027902,-24.001274],[-55.400747,-23.956935],[-55.517639,-23.571998],[-55.610683,-22.655619],[-55.797958,-22.35693],[-56.473317,-22.0863],[-56.88151,-22.282154],[-57.937156,-22.090176],[-57.870674,-20.732688],[-58.166392,-20.176701]],[[-69.529678,-10.951734],[-70.093752,-11.123972],[-70.548686,-11.009147],[-70.481894,-9.490118],[-71.302412,-10.079436],[-72.184891,-10.053598],[-72.563033,-9.520194],[-73.226713,-9.462213],[-73.015383,-9.032833],[-73.571059,-8.424447],[-73.987235,-7.52383],[-73.723401,-7.340999],[-73.724487,-6.918595],[-73.120027,-6.629931],[-73.219711,-6.089189],[-72.964507,-5.741251],[-72.891928,-5.274561],[-71.748406,-4.593983],[-70.928843,-4.401591],[-70.794769,-4.251265],[-69.893635,-4.298187]],[[-69.893635,-4.298187],[-69.444102,-1.556287],[-69.420486,-1.122619],[-69.577065,-.549992],[-70.020656,-.185156],[-70.015566,.541414],[-69.452396,.706159],[-69.252434,.602651],[-69.218638,.985677],[-69.804597,1.089081],[-69.816973,1.714805],[-67.868565,1.692455],[-67.53781,2.037163],[-67.259998,1.719999],[-67.065048,1.130112],[-66.876326,1.253361]],[[-66.876326,1.253361],[-66.325765,.724452],[-65.548267,.789254],[-65.354713,1.095282],[-64.611012,1.328731],[-64.199306,1.492855],[-64.083085,1.916369],[-63.368788,2.2009],[-63.422867,2.411068],[-64.269999,2.497006],[-64.408828,3.126786],[-64.368494,3.79721],[-64.816064,4.056445],[-64.628659,4.148481],[-63.888343,4.02053],[-63.093198,3.770571],[-62.804533,4.006965],[-62.08543,4.162124],[-60.966893,4.536468],[-60.601179,4.918098],[-60.733574,5.200277]],[[-60.733574,5.200277],[-60.213683,5.244486],[-59.980959,5.014061],[-60.111002,4.574967],[-59.767406,4.423503],[-59.53804,3.958803],[-59.815413,3.606499],[-59.974525,2.755233],[-59.718546,2.24963],[-59.646044,1.786894],[-59.030862,1.317698],[-58.540013,1.268088],[-58.429477,1.463942],[-58.11345,1.507195],[-57.660971,1.682585],[-57.335823,1.948538],[-56.782704,1.863711],[-56.539386,1.899523]],[[-56.539386,1.899523],[-55.995698,1.817667],[-55.9056,2.021996],[-56.073342,2.220795],[-55.973322,2.510364],[-55.569755,2.421506],[-55.097587,2.523748],[-54.524754,2.311849]],[[-54.524754,2.311849],[-54.088063,2.105557],[-53.778521,2.376703],[-53.554839,2.334897],[-53.418465,2.053389],[-52.939657,2.124858],[-52.556425,2.504705],[-52.249338,3.241094],[-51.657797,4.156232]],[[-51.657797,4.156232],[-51.317146,4.203491],[-51.069771,3.650398],[-50.508875,1.901564],[-49.974076,1.736483],[-49.947101,1.04619],[-50.699251,.222984],[-50.388211,-.078445],[-48.620567,-.235489],[-48.584497,-1.237805],[-47.824956,-.581618],[-46.566584,-.941028],[-44.905703,-1.55174],[-44.417619,-2.13775],[-44.581589,-2.691308],[-43.418791,-2.38311],[-41.472657,-2.912018],[-39.978665,-2.873054],[-38.500383,-3.700652],[-37.223252,-4.820946],[-36.452937,-5.109404],[-35.597796,-5.149504],[-35.235389,-5.464937],[-34.89603,-6.738193],[-34.729993,-7.343221],[-35.128212,-8.996401],[-35.636967,-9.649282],[-37.046519,-11.040721],[-37.683612,-12.171195],[-38.423877,-13.038119],[-38.673887,-13.057652],[-38.953276,-13.79337],[-38.882298,-15.667054],[-39.161092,-17.208407],[-39.267339,-17.867746],[-39.583521,-18.262296],[-39.760823,-19.599113],[-40.774741,-20.904512],[-40.944756,-21.937317],[-41.754164,-22.370676],[-41.988284,-22.97007],[-43.074704,-22.967693],[-44.647812,-23.351959],[-45.352136,-23.796842],[-46.472093,-24.088969],[-47.648972,-24.885199],[-48.495458,-25.877025],[-48.641005,-26.623698],[-48.474736,-27.175912],[-48.66152,-28.186135],[-48.888457,-28.674115],[-49.587329,-29.224469],[-50.696874,-30.984465],[-51.576226,-31.777698],[-52.256081,-32.24537],[-52.7121,-33.196578],[-53.373662,-33.768378]],[[-53.373662,-33.768378],[-53.650544,-33.202004],[-53.209589,-32.727666],[-53.787952,-32.047243],[-54.572452,-31.494511],[-55.60151,-30.853879],[-55.973245,-30.883076],[-56.976026,-30.109686],[-57.625133,-30.216295]],[[114.204017,4.525874],[114.599961,4.900011],[115.45071,5.44773]],[[115.45071,5.44773],[115.4057,4.955228],[115.347461,4.316636],[114.869557,4.348314],[114.659596,4.007637],[114.204017,4.525874]],[[91.696657,27.771742],[92.103712,27.452614],[92.033484,26.83831],[91.217513,26.808648],[90.373275,26.875724],[89.744528,26.719403],[88.835643,27.098966],[88.814248,27.299316]],[[88.814248,27.299316],[89.47581,28.042759],[90.015829,28.296439],[90.730514,28.064954],[91.258854,28.040614],[91.696657,27.771742]],[[29.432188,-22.091313],[28.017236,-22.827754],[27.11941,-23.574323],[26.786407,-24.240691],[26.485753,-24.616327],[25.941652,-24.696373],[25.765849,-25.174845],[25.664666,-25.486816],[25.025171,-25.71967],[24.211267,-25.670216],[23.73357,-25.390129],[23.312097,-25.26869],[22.824271,-25.500459],[22.579532,-25.979448],[22.105969,-26.280256],[21.605896,-26.726534],[20.889609,-26.828543],[20.66647,-26.477453],[20.758609,-25.868136],[20.165726,-24.917962],[19.895768,-24.76779]],[[19.895768,-24.76779],[19.895458,-21.849157],[20.881134,-21.814327],[20.910641,-18.252219],[21.65504,-18.219146],[23.196858,-17.869038],[23.579006,-18.281261],[24.217365,-17.889347],[24.520705,-17.887125],[25.084443,-17.661816]],[[25.084443,-17.661816],[25.264226,-17.73654]],[[25.264226,-17.73654],[25.649163,-18.536026],[25.850391,-18.714413],[26.164791,-19.293086],[27.296505,-20.39152],[27.724747,-20.499059],[27.727228,-20.851802],[28.02137,-21.485975],[28.794656,-21.639454],[29.432188,-22.091313]],[[15.27946,7.421925],[16.106232,7.497088],[16.290562,7.754307],[16.456185,7.734774],[16.705988,7.508328],[17.96493,7.890914],[18.389555,8.281304],[18.911022,8.630895],[18.81201,8.982915],[19.094008,9.074847],[20.059685,9.012706],[21.000868,9.475985],[21.723822,10.567056],[22.231129,10.971889],[22.864165,11.142395]],[[22.864165,11.142395],[22.977544,10.714463],[23.554304,10.089255],[23.55725,9.681218],[23.394779,9.265068],[23.459013,8.954286],[23.805813,8.666319]],[[23.805813,8.666319],[24.567369,8.229188]],[[24.567369,8.229188],[25.114932,7.825104],[25.124131,7.500085],[25.796648,6.979316],[26.213418,6.546603],[26.465909,5.946717],[27.213409,5.550953],[27.374226,5.233944]],[[27.374226,5.233944],[27.044065,5.127853],[26.402761,5.150875],[25.650455,5.256088],[25.278798,5.170408],[25.128833,4.927245],[24.805029,4.897247],[24.410531,5.108784],[23.297214,4.609693],[22.84148,4.710126],[22.704124,4.633051],[22.405124,4.02916],[21.659123,4.224342],[20.927591,4.322786],[20.290679,4.691678],[19.467784,5.031528],[18.932312,4.709506],[18.542982,4.201785],[18.453065,3.504386]],[[18.453065,3.504386],[17.8099,3.560196],[17.133042,3.728197],[16.537058,3.198255],[16.012852,2.26764]],[[16.012852,2.26764],[15.907381,2.557389],[15.862732,3.013537],[15.405396,3.335301],[15.03622,3.851367],[14.950953,4.210389],[14.478372,4.732605],[14.558936,5.030598],[14.459407,5.451761],[14.53656,6.226959],[14.776545,6.408498],[15.27946,7.421925]],[[-63.6645,46.55001],[-62.9393,46.41587],[-62.01208,46.44314],[-62.50391,46.03339],[-62.87433,45.96818],[-64.1428,46.39265],[-64.39261,46.72747],[-64.01486,47.03601],[-63.6645,46.55001]],[[-61.806305,49.10506],[-62.29318,49.08717],[-63.58926,49.40069],[-64.51912,49.87304],[-64.17322,49.95718],[-62.85829,49.70641],[-61.835585,49.28855],[-61.806305,49.10506]],[[-123.510002,48.510011],[-124.012891,48.370846],[-125.655013,48.825005],[-125.954994,49.179996],[-126.850004,49.53],[-127.029993,49.814996],[-128.059336,49.994959],[-128.444584,50.539138],[-128.358414,50.770648],[-127.308581,50.552574],[-126.695001,50.400903],[-125.755007,50.295018],[-125.415002,49.950001],[-124.920768,49.475275],[-123.922509,49.062484],[-123.510002,48.510011]],[[-56.134036,50.68701],[-56.795882,49.812309],[-56.143105,50.150117],[-55.471492,49.935815],[-55.822401,49.587129],[-54.935143,49.313011],[-54.473775,49.556691],[-53.476549,49.249139],[-53.786014,48.516781],[-53.086134,48.687804],[-52.958648,48.157164],[-52.648099,47.535548],[-53.069158,46.655499],[-53.521456,46.618292],[-54.178936,46.807066],[-53.961869,47.625207],[-54.240482,47.752279],[-55.400773,46.884994],[-55.997481,46.91972],[-55.291219,47.389562],[-56.250799,47.632545],[-57.325229,47.572807],[-59.266015,47.603348],[-59.419494,47.899454],[-58.796586,48.251525],[-59.231625,48.523188],[-58.391805,49.125581],[-57.35869,50.718274],[-56.73865,51.287438],[-55.870977,51.632094],[-55.406974,51.588273],[-55.600218,51.317075],[-56.134036,50.68701]],[[-132.710008,54.040009],[-132.710009,54.040009],[-132.710008,54.040009],[-132.710008,54.040009],[-131.74999,54.120004],[-132.04948,52.984621],[-131.179043,52.180433],[-131.57783,52.182371],[-132.180428,52.639707],[-132.549992,53.100015],[-133.054611,53.411469],[-133.239664,53.85108],[-133.180004,54.169975],[-132.710008,54.040009]],[[-79.26582,62.158675],[-79.65752,61.63308],[-80.09956,61.7181],[-80.36215,62.01649],[-80.315395,62.085565],[-79.92939,62.3856],[-79.52002,62.36371],[-79.26582,62.158675]],[[-81.89825,62.7108],[-83.06857,62.15922],[-83.77462,62.18231],[-83.99367,62.4528],[-83.25048,62.91409],[-81.87699,62.90458],[-81.89825,62.7108]],[[-85.161308,65.657285],[-84.975764,65.217518],[-84.464012,65.371772],[-83.882626,65.109618],[-82.787577,64.766693],[-81.642014,64.455136],[-81.55344,63.979609],[-80.817361,64.057486],[-80.103451,63.725981],[-80.99102,63.411246],[-82.547178,63.651722],[-83.108798,64.101876],[-84.100417,63.569712],[-85.523405,63.052379],[-85.866769,63.637253],[-87.221983,63.541238],[-86.35276,64.035833],[-86.224886,64.822917],[-85.883848,65.738778],[-85.161308,65.657285]],[[-75.86588,67.14886],[-76.98687,67.09873],[-77.2364,67.58809],[-76.81166,68.14856],[-75.89521,68.28721],[-75.1145,68.01036],[-75.10333,67.58202],[-75.21597,67.44425],[-75.86588,67.14886]],[[-95.647681,69.10769],[-96.269521,68.75704],[-97.617401,69.06003],[-98.431801,68.9507],[-99.797401,69.40003],[-98.917401,69.71003],[-98.218261,70.14354],[-97.157401,69.86003],[-96.557401,69.68003],[-96.257401,69.49003],[-95.647681,69.10769]],[[-67.13741,45.13753],[-67.79134,45.70281],[-67.79046,47.06636],[-68.23444,47.35486],[-68.905,47.185],[-69.237216,47.447781],[-69.99997,46.69307],[-70.305,45.915],[-70.66,45.46],[-71.08482,45.30524],[-71.405,45.255],[-71.50506,45.0082],[-73.34783,45.00738],[-74.867,45.00048],[-75.31821,44.81645],[-76.375,44.09631],[-76.5,44.018459],[-76.820034,43.628784],[-77.737885,43.629056],[-78.72028,43.625089],[-79.171674,43.466339],[-79.01,43.27],[-78.92,42.965],[-78.939362,42.863611],[-80.247448,42.3662],[-81.277747,42.209026],[-82.439278,41.675105],[-82.690089,41.675105],[-83.02981,41.832796],[-83.142,41.975681],[-83.12,42.08],[-82.9,42.43],[-82.43,42.98],[-82.137642,43.571088],[-82.337763,44.44],[-82.550925,45.347517],[-83.592851,45.816894],[-83.469551,45.994686],[-83.616131,46.116927],[-83.890765,46.116927],[-84.091851,46.275419],[-84.14212,46.512226],[-84.3367,46.40877],[-84.6049,46.4396],[-84.543749,46.538684],[-84.779238,46.637102],[-84.87608,46.900083],[-85.652363,47.220219],[-86.461991,47.553338],[-87.439793,47.94],[-88.378114,48.302918],[-89.272917,48.019808],[-89.6,48.01],[-90.83,48.27],[-91.64,48.14],[-92.61,48.45],[-93.63087,48.60926],[-94.32914,48.67074],[-94.64,48.84],[-94.81758,49.38905],[-95.15609,49.38425],[-95.15907,49],[-97.22872,49.0007],[-100.65,49],[-104.04826,48.99986],[-107.05,49],[-110.05,49],[-113,49],[-116.04818,49],[-117.03121,49],[-120,49],[-122.84,49]],[[-122.84,49],[-122.97421,49.002538],[-124.91024,49.98456],[-125.62461,50.41656],[-127.43561,50.83061],[-127.99276,51.71583],[-127.85032,52.32961],[-129.12979,52.75538],[-129.30523,53.56159],[-130.51497,54.28757],[-130.53611,54.80278],[-129.98,55.285],[-130.00778,55.91583]],[[-130.00778,55.91583],[-131.70781,56.55212],[-132.73042,57.69289]],[[-132.73042,57.69289],[-133.35556,58.41028],[-134.27111,58.86111]],[[-134.27111,58.86111],[-134.945,59.27056],[-135.47583,59.78778],[-136.47972,59.46389],[-137.4525,58.905],[-138.34089,59.56211]],[[-138.34089,59.56211],[-139.039,60],[-140.013,60.27682],[-140.99778,60.30639],[-140.9925,66.00003],[-140.986,69.712],[-139.12052,69.47102],[-137.54636,68.99002],[-136.50358,68.89804],[-135.62576,69.31512],[-134.41464,69.62743],[-132.92925,69.50534],[-131.43136,69.94451],[-129.79471,70.19369],[-129.10773,69.77927],[-128.36156,70.01286],[-128.13817,70.48384],[-127.44712,70.37721],[-125.75632,69.48058],[-124.42483,70.1584],[-124.28968,69.39969],[-123.06108,69.56372],[-122.6835,69.85553],[-121.47226,69.79778],[-119.94288,69.37786],[-117.60268,69.01128],[-116.22643,68.84151],[-115.2469,68.90591],[-113.89794,68.3989],[-115.30489,67.90261],[-113.49727,67.68815],[-110.798,67.80612],[-109.94619,67.98104],[-108.8802,67.38144],[-107.79239,67.88736],[-108.81299,68.31164],[-108.16721,68.65392],[-106.95,68.7],[-106.15,68.8],[-105.34282,68.56122],[-104.33791,68.018],[-103.22115,68.09775],[-101.45433,67.64689],[-99.90195,67.80566],[-98.4432,67.78165],[-98.5586,68.40394],[-97.66948,68.57864],[-96.11991,68.23939],[-96.12588,67.29338],[-95.48943,68.0907],[-94.685,68.06383],[-94.23282,69.06903],[-95.30408,69.68571],[-96.47131,70.08976],[-96.39115,71.19482],[-95.2088,71.92053],[-93.88997,71.76015],[-92.87818,71.31869],[-91.51964,70.19129],[-92.40692,69.69997],[-90.5471,69.49766],[-90.55151,68.47499],[-89.21515,69.25873],[-88.01966,68.61508],[-88.31749,67.87338],[-87.35017,67.19872],[-86.30607,67.92146],[-85.57664,68.78456],[-85.52197,69.88211],[-84.10081,69.80539],[-82.62258,69.65826],[-81.28043,69.16202],[-81.2202,68.66567],[-81.96436,68.13253],[-81.25928,67.59716],[-81.38653,67.11078],[-83.34456,66.41154],[-84.73542,66.2573],[-85.76943,66.55833],[-86.0676,66.05625],[-87.03143,65.21297],[-87.32324,64.77563],[-88.48296,64.09897],[-89.91444,64.03273],[-90.70398,63.61017],[-90.77004,62.96021],[-91.93342,62.83508],[-93.15698,62.02469],[-94.24153,60.89865],[-94.62931,60.11021],[-94.6846,58.94882],[-93.21502,58.78212],[-92.76462,57.84571],[-92.29703,57.08709],[-90.89769,57.28468],[-89.03953,56.85172],[-88.03978,56.47162],[-87.32421,55.99914],[-86.07121,55.72383],[-85.01181,55.3026],[-83.36055,55.24489],[-82.27285,55.14832],[-82.4362,54.28227],[-82.12502,53.27703],[-81.40075,52.15788],[-79.91289,51.20842],[-79.14301,51.53393],[-78.60191,52.56208],[-79.12421,54.14145],[-79.82958,54.66772],[-78.22874,55.13645],[-77.0956,55.83741],[-76.54137,56.53423],[-76.62319,57.20263],[-77.30226,58.05209],[-78.51688,58.80458],[-77.33676,59.85261],[-77.77272,60.75788],[-78.10687,62.31964],[-77.41067,62.55053],[-75.69621,62.2784],[-74.6682,62.18111],[-73.83988,62.4438],[-72.90853,62.10507],[-71.67708,61.52535],[-71.37369,61.13717],[-69.59042,61.06141],[-69.62033,60.22125],[-69.2879,58.95736],[-68.37455,58.80106],[-67.64976,58.21206],[-66.20178,58.76731],[-65.24517,59.87071],[-64.58352,60.33558],[-63.80475,59.4426],[-62.50236,58.16708],[-61.39655,56.96745],[-61.79866,56.33945],[-60.46853,55.77548],[-59.56962,55.20407],[-57.97508,54.94549],[-57.3332,54.6265],[-56.93689,53.78032],[-56.15811,53.64749],[-55.75632,53.27036],[-55.68338,52.14664],[-56.40916,51.7707],[-57.12691,51.41972],[-58.77482,51.0643],[-60.03309,50.24277],[-61.72366,50.08046],[-63.86251,50.29099],[-65.36331,50.2982],[-66.39905,50.22897],[-67.23631,49.51156],[-68.51114,49.06836],[-69.95362,47.74488],[-71.10458,46.82171],[-70.25522,46.98606],[-68.65,48.3],[-66.55243,49.1331],[-65.05626,49.23278],[-64.17099,48.74248],[-65.11545,48.07085],[-64.79854,46.99297],[-64.47219,46.23849],[-63.17329,45.73902],[-61.52072,45.88377],[-60.51815,47.00793],[-60.4486,46.28264],[-59.80287,45.9204],[-61.03988,45.26525],[-63.25471,44.67014],[-64.24656,44.26553],[-65.36406,43.54523],[-66.1234,43.61867],[-66.16173,44.46512],[-64.42549,45.29204],[-66.02605,45.25931],[-67.13741,45.13753]],[[-114.16717,73.12145],[-114.66634,72.65277],[-112.44102,72.9554],[-111.05039,72.4504],[-109.92035,72.96113],[-109.00654,72.63335],[-108.18835,71.65089],[-107.68599,72.06548],[-108.39639,73.08953],[-107.51645,73.23598],[-106.52259,73.07601],[-105.40246,72.67259],[-104.77484,71.6984],[-104.46476,70.99297],[-102.78537,70.49776],[-100.98078,70.02432],[-101.08929,69.58447],[-102.73116,69.50402],[-102.09329,69.11962],[-102.43024,68.75282],[-104.24,68.91],[-105.96,69.18],[-107.12254,69.11922],[-109,68.78],[-111.534149,68.630059],[-113.3132,68.53554],[-113.85496,69.00744],[-115.22,69.28],[-116.10794,69.16821],[-117.34,69.96],[-116.67473,70.06655],[-115.13112,70.2373],[-113.72141,70.19237],[-112.4161,70.36638],[-114.35,70.6],[-116.48684,70.52045],[-117.9048,70.54056],[-118.43238,70.9092],[-116.11311,71.30918],[-117.65568,71.2952],[-119.40199,71.55859],[-118.56267,72.30785],[-117.86642,72.70594],[-115.18909,73.31459],[-114.16717,73.12145]],[[-104.5,73.42],[-105.38,72.76],[-106.94,73.46],[-106.6,73.6],[-105.26,73.64],[-104.5,73.42]],[[-76.34,73.102685],[-76.251404,72.826385],[-77.314438,72.855545],[-78.39167,72.876656],[-79.486252,72.742203],[-79.775833,72.802902],[-80.876099,73.333183],[-80.833885,73.693184],[-80.353058,73.75972],[-78.064438,73.651932],[-76.34,73.102685]],[[-86.562179,73.157447],[-85.774371,72.534126],[-84.850112,73.340278],[-82.31559,73.750951],[-80.600088,72.716544],[-80.748942,72.061907],[-78.770639,72.352173],[-77.824624,72.749617],[-75.605845,72.243678],[-74.228616,71.767144],[-74.099141,71.33084],[-72.242226,71.556925],[-71.200015,70.920013],[-68.786054,70.525024],[-67.91497,70.121948],[-66.969033,69.186087],[-68.805123,68.720198],[-66.449866,68.067163],[-64.862314,67.847539],[-63.424934,66.928473],[-61.851981,66.862121],[-62.163177,66.160251],[-63.918444,64.998669],[-65.14886,65.426033],[-66.721219,66.388041],[-68.015016,66.262726],[-68.141287,65.689789],[-67.089646,65.108455],[-65.73208,64.648406],[-65.320168,64.382737],[-64.669406,63.392927],[-65.013804,62.674185],[-66.275045,62.945099],[-68.783186,63.74567],[-67.369681,62.883966],[-66.328297,62.280075],[-66.165568,61.930897],[-68.877367,62.330149],[-71.023437,62.910708],[-72.235379,63.397836],[-71.886278,63.679989],[-73.378306,64.193963],[-74.834419,64.679076],[-74.818503,64.389093],[-77.70998,64.229542],[-78.555949,64.572906],[-77.897281,65.309192],[-76.018274,65.326969],[-73.959795,65.454765],[-74.293883,65.811771],[-73.944912,66.310578],[-72.651167,67.284576],[-72.92606,67.726926],[-73.311618,68.069437],[-74.843307,68.554627],[-76.869101,68.894736],[-76.228649,69.147769],[-77.28737,69.76954],[-78.168634,69.826488],[-78.957242,70.16688],[-79.492455,69.871808],[-81.305471,69.743185],[-84.944706,69.966634],[-87.060003,70.260001],[-88.681713,70.410741],[-89.51342,70.762038],[-88.467721,71.218186],[-89.888151,71.222552],[-90.20516,72.235074],[-89.436577,73.129464],[-88.408242,73.537889],[-85.826151,73.803816],[-86.562179,73.157447]],[[-100.35642,73.84389],[-99.16387,73.63339],[-97.38,73.76],[-97.12,73.47],[-98.05359,72.99052],[-96.54,72.56],[-96.72,71.66],[-98.35966,71.27285],[-99.32286,71.35639],[-100.01482,71.73827],[-102.5,72.51],[-102.48,72.83],[-100.43836,72.70588],[-101.54,73.36],[-100.35642,73.84389]],[[-93.196296,72.771992],[-94.269047,72.024596],[-95.409856,72.061881],[-96.033745,72.940277],[-96.018268,73.43743],[-95.495793,73.862417],[-94.503658,74.134907],[-92.420012,74.100025],[-90.509793,73.856732],[-92.003965,72.966244],[-93.196296,72.771992]],[[-120.46,71.383602],[-123.09219,70.90164],[-123.62,71.34],[-125.928949,71.868688],[-125.5,72.292261],[-124.80729,73.02256],[-123.94,73.68],[-124.91775,74.29275],[-121.53788,74.44893],[-120.10978,74.24135],[-117.55564,74.18577],[-116.58442,73.89607],[-115.51081,73.47519],[-116.76794,73.22292],[-119.22,72.52],[-120.46,71.82],[-120.46,71.383602]],[[-93.612756,74.979997],[-94.156909,74.592347],[-95.608681,74.666864],[-96.820932,74.927623],[-96.288587,75.377828],[-94.85082,75.647218],[-93.977747,75.29649],[-93.612756,74.979997]],[[-98.5,76.72],[-97.735585,76.25656],[-97.704415,75.74344],[-98.16,75],[-99.80874,74.89744],[-100.88366,75.05736],[-100.86292,75.64075],[-102.50209,75.5638],[-102.56552,76.3366],[-101.48973,76.30537],[-99.98349,76.64634],[-98.57699,76.58859],[-98.5,76.72]],[[-108.21141,76.20168],[-107.81943,75.84552],[-106.92893,76.01282],[-105.881,75.9694],[-105.70498,75.47951],[-106.31347,75.00527],[-109.7,74.85],[-112.22307,74.41696],[-113.74381,74.39427],[-113.87135,74.72029],[-111.79421,75.1625],[-116.31221,75.04343],[-117.7104,75.2222],[-116.34602,76.19903],[-115.40487,76.47887],[-112.59056,76.14134],[-110.81422,75.54919],[-109.0671,75.47321],[-110.49726,76.42982],[-109.5811,76.79417],[-108.54859,76.67832],[-108.21141,76.20168]],[[-94.684086,77.097878],[-93.573921,76.776296],[-91.605023,76.778518],[-90.741846,76.449597],[-90.969661,76.074013],[-89.822238,75.847774],[-89.187083,75.610166],[-87.838276,75.566189],[-86.379192,75.482421],[-84.789625,75.699204],[-82.753445,75.784315],[-81.128531,75.713983],[-80.057511,75.336849],[-79.833933,74.923127],[-80.457771,74.657304],[-81.948843,74.442459],[-83.228894,74.564028],[-86.097452,74.410032],[-88.15035,74.392307],[-89.764722,74.515555],[-92.422441,74.837758],[-92.768285,75.38682],[-92.889906,75.882655],[-93.893824,76.319244],[-95.962457,76.441381],[-97.121379,76.751078],[-96.745123,77.161389],[-94.684086,77.097878]],[[-116.198587,77.645287],[-116.335813,76.876962],[-117.106051,76.530032],[-118.040412,76.481172],[-119.899318,76.053213],[-121.499995,75.900019],[-122.854924,76.116543],[-122.854925,76.116543],[-121.157535,76.864508],[-119.103939,77.51222],[-117.570131,77.498319],[-116.198587,77.645287]],[[-93.840003,77.519997],[-94.295608,77.491343],[-96.169654,77.555111],[-96.436304,77.834629],[-94.422577,77.820005],[-93.720656,77.634331],[-93.840003,77.519997]],[[-110.186938,77.697015],[-112.051191,77.409229],[-113.534279,77.732207],[-112.724587,78.05105],[-111.264443,78.152956],[-109.854452,77.996325],[-110.186938,77.697015]],[[-109.663146,78.601973],[-110.881314,78.40692],[-112.542091,78.407902],[-112.525891,78.550555],[-111.50001,78.849994],[-110.963661,78.804441],[-109.663146,78.601973]],[[-95.830295,78.056941],[-97.309843,77.850597],[-98.124289,78.082857],[-98.552868,78.458105],[-98.631984,78.87193],[-97.337231,78.831984],[-96.754399,78.765813],[-95.559278,78.418315],[-95.830295,78.056941]],[[-100.060192,78.324754],[-99.670939,77.907545],[-101.30394,78.018985],[-102.949809,78.343229],[-105.176133,78.380332],[-104.210429,78.67742],[-105.41958,78.918336],[-105.492289,79.301594],[-103.529282,79.165349],[-100.825158,78.800462],[-100.060192,78.324754]],[[-87.02,79.66],[-85.81435,79.3369],[-87.18756,79.0393],[-89.03535,78.28723],[-90.80436,78.21533],[-92.87669,78.34333],[-93.95116,78.75099],[-93.93574,79.11373],[-93.14524,79.3801],[-94.974,79.37248],[-96.07614,79.70502],[-96.70972,80.15777],[-96.01644,80.60233],[-95.32345,80.90729],[-94.29843,80.97727],[-94.73542,81.20646],[-92.40984,81.25739],[-91.13289,80.72345],[-89.45,80.509322],[-87.81,80.32],[-87.02,79.66]],[[-68.5,83.106322],[-65.82735,83.02801],[-63.68,82.9],[-61.85,82.6286],[-61.89388,82.36165],[-64.334,81.92775],[-66.75342,81.72527],[-67.65755,81.50141],[-65.48031,81.50657],[-67.84,80.9],[-69.4697,80.61683],[-71.18,79.8],[-73.2428,79.63415],[-73.88,79.430162],[-76.90773,79.32309],[-75.52924,79.19766],[-76.22046,79.01907],[-75.39345,78.52581],[-76.34354,78.18296],[-77.88851,77.89991],[-78.36269,77.50859],[-79.75951,77.20968],[-79.61965,76.98336],[-77.91089,77.022045],[-77.88911,76.777955],[-80.56125,76.17812],[-83.17439,76.45403],[-86.11184,76.29901],[-87.6,76.42],[-89.49068,76.47239],[-89.6161,76.95213],[-87.76739,77.17833],[-88.26,77.9],[-87.65,77.970222],[-84.97634,77.53873],[-86.34,78.18],[-87.96192,78.37181],[-87.15198,78.75867],[-85.37868,78.9969],[-85.09495,79.34543],[-86.50734,79.73624],[-86.93179,80.25145],[-84.19844,80.20836],[-83.408696,80.1],[-81.84823,80.46442],[-84.1,80.58],[-87.59895,80.51627],[-89.36663,80.85569],[-90.2,81.26],[-91.36786,81.5531],[-91.58702,81.89429],[-90.1,82.085],[-88.93227,82.11751],[-86.97024,82.27961],[-85.5,82.652273],[-84.260005,82.6],[-83.18,82.32],[-82.42,82.86],[-81.1,83.02],[-79.30664,83.13056],[-76.25,83.172059],[-75.71878,83.06404],[-72.83153,83.23324],[-70.665765,83.169781],[-68.5,83.106322]],[[9.629127151388623,47.364783895095464],[9.53022075531123,47.273032694050606],[9.48531852772954,47.1784895080045]],[[9.48531852772954,47.1784895080045],[9.51421363750238,47.0872683114241],[9.46686466993166,47.0615580974285],[9.55740711339162,47.0511647748693]],[[9.55740711339162,47.0511647748693],[9.60754621634599,47.06139324272732],[9.871798391640267,47.02000494258236]],[[10.442701,46.893546],[10.363378,46.483571],[9.922837,46.314899],[9.182882,46.440215],[8.966306,46.036932],[8.489952,46.005151],[8.31663,46.163642],[7.755992,45.82449],[7.273851,45.776948],[6.843593,45.991147]],[[6.843593,45.991147],[6.5001,46.429673],[6.022609,46.27299],[6.037389,46.725779],[6.768714,47.287708],[6.736571,47.541801],[7.192202,47.449766],[7.466759,47.620582]],[[7.466759,47.620582],[8.317301,47.61358],[8.522612,47.830828],[9.594226,47.525058]],[[-66.95992,-54.89681],[-67.29103,-55.30124],[-68.14863,-55.61183],[-68.639991,-55.580018],[-69.2321,-55.49906],[-69.95809,-55.19843],[-71.00568,-55.05383],[-72.2639,-54.49514],[-73.2852,-53.95752],[-74.66253,-52.83749],[-73.8381,-53.04743],[-72.43418,-53.7154],[-71.10773,-54.07433],[-70.59178,-53.61583],[-70.26748,-52.93123],[-69.34565,-52.5183],[-68.63401,-52.63637]],[[-68.571545,-52.299444],[-69.461284,-52.291951],[-69.94278,-52.537931],[-70.845102,-52.899201],[-71.006332,-53.833252],[-71.429795,-53.856455],[-72.557943,-53.53141],[-73.702757,-52.835069],[-73.702757,-52.83507],[-74.946763,-52.262754],[-75.260026,-51.629355],[-74.976632,-51.043396],[-75.479754,-50.378372],[-75.608015,-48.673773],[-75.18277,-47.711919],[-74.126581,-46.939253],[-75.644395,-46.647643],[-74.692154,-45.763976],[-74.351709,-44.103044],[-73.240356,-44.454961],[-72.717804,-42.383356],[-73.3889,-42.117532],[-73.701336,-43.365776],[-74.331943,-43.224958],[-74.017957,-41.794813],[-73.677099,-39.942213],[-73.217593,-39.258689],[-73.505559,-38.282883],[-73.588061,-37.156285],[-73.166717,-37.12378],[-72.553137,-35.50884],[-71.861732,-33.909093],[-71.43845,-32.418899],[-71.668721,-30.920645],[-71.370083,-30.095682],[-71.489894,-28.861442],[-70.905124,-27.64038],[-70.724954,-25.705924],[-70.403966,-23.628997],[-70.091246,-21.393319],[-70.16442,-19.756468],[-70.372572,-18.347975]],[[-70.372572,-18.347975],[-69.858444,-18.092694],[-69.590424,-17.580012]],[[110.339188,18.678395],[109.47521,18.197701],[108.655208,18.507682],[108.626217,19.367888],[109.119056,19.821039],[110.211599,20.101254],[110.786551,20.077534],[111.010051,19.69593],[110.570647,19.255879],[110.339188,18.678395]],[[129.397818,49.4406],[130.582293,48.729687]],[[130.582293,48.729687],[130.987282,47.790132],[132.506672,47.78897],[133.373596,48.183442]],[[133.373596,48.183442],[135.026311,48.47823]],[[135.026311,48.47823],[134.500814,47.57844],[134.112362,47.212467],[133.769644,46.116927]],[[133.769644,46.116927],[133.097127,45.144066],[131.883454,45.321162]],[[131.883454,45.321162],[131.025212,44.967953],[131.288555,44.11152]],[[131.288555,44.11152],[131.144688,42.92999],[130.633866,42.903015]],[[130.633866,42.903015],[130.640016,42.395009]],[[130.640016,42.395009],[129.994267,42.985387],[129.596669,42.424982],[128.052215,41.994285],[128.208433,41.466772],[127.343783,41.503152],[126.869083,41.816569],[126.182045,41.107336],[125.079942,40.569824],[124.265625,39.928493]],[[124.265625,39.928493],[122.86757,39.637788],[122.131388,39.170452],[121.054554,38.897471],[121.585995,39.360854],[121.376757,39.750261],[122.168595,40.422443],[121.640359,40.94639],[120.768629,40.593388],[119.639602,39.898056],[119.023464,39.252333],[118.042749,39.204274],[117.532702,38.737636],[118.059699,38.061476],[118.87815,37.897325],[118.911636,37.448464],[119.702802,37.156389],[120.823457,37.870428],[121.711259,37.481123],[122.357937,37.454484],[122.519995,36.930614],[121.104164,36.651329],[120.637009,36.11144],[119.664562,35.609791],[119.151208,34.909859],[120.227525,34.360332],[120.620369,33.376723],[121.229014,32.460319],[121.908146,31.692174],[121.891919,30.949352],[121.264257,30.676267],[121.503519,30.142915],[122.092114,29.83252],[121.938428,29.018022],[121.684439,28.225513],[121.125661,28.135673],[120.395473,27.053207],[119.585497,25.740781],[118.656871,24.547391],[117.281606,23.624501],[115.890735,22.782873],[114.763827,22.668074],[114.152547,22.22376],[113.80678,22.54834],[113.241078,22.051367],[111.843592,21.550494],[110.785466,21.397144],[110.444039,20.341033],[109.889861,20.282457],[109.627655,21.008227],[109.864488,21.395051],[108.522813,21.715212],[108.05018,21.55238]],[[108.05018,21.55238],[107.04342,21.811899],[106.567273,22.218205],[106.725403,22.794268],[105.811247,22.976892],[105.329209,23.352063],[104.476858,22.81915],[103.504515,22.703757],[102.706992,22.708795],[102.170436,22.464753]],[[102.170436,22.464753],[101.652018,22.318199],[101.80312,21.174367],[101.270026,21.201652],[101.180005,21.436573]],[[101.180005,21.436573],[101.150033,21.849984],[100.416538,21.558839],[99.983489,21.742937],[99.240899,22.118314],[99.531992,22.949039],[98.898749,23.142722],[98.660262,24.063286],[97.60472,23.897405],[97.724609,25.083637],[98.671838,25.918703],[98.712094,26.743536],[98.68269,27.508812],[98.246231,27.747221],[97.911988,28.335945],[97.327114,28.261583]],[[97.327114,28.261583],[96.248833,28.411031],[96.586591,28.83098],[96.117679,29.452802],[95.404802,29.031717],[94.56599,29.277438],[93.413348,28.640629],[92.503119,27.896876],[91.696657,27.771742]],[[88.814248,27.299316],[88.730326,28.086865],[88.120441,27.876542]],[[88.120441,27.876542],[86.954517,27.974262],[85.82332,28.203576],[85.011638,28.642774],[84.23458,28.839894],[83.898993,29.320226],[83.337115,29.463732],[82.327513,30.115268],[81.525804,30.422717],[81.111256,30.183481]],[[81.111256,30.183481],[79.721367,30.882715],[78.738894,31.515906],[78.458446,32.618164],[79.176129,32.48378],[79.208892,32.994395],[78.811086,33.506198],[78.912269,34.321936],[77.837451,35.49401]],[[77.837451,35.49401],[76.192848,35.898403],[75.896897,36.666806],[75.158028,37.133031]],[[74.980002,37.41999],[74.829986,37.990007],[74.864816,38.378846],[74.257514,38.606507],[73.928852,38.505815],[73.675379,39.431237]],[[73.675379,39.431237],[73.960013,39.660008],[73.822244,39.893973],[74.776862,40.366425],[75.467828,40.562072],[76.526368,40.427946],[76.904484,41.066486],[78.187197,41.185316],[78.543661,41.582243],[80.11943,42.123941],[80.25999,42.349999]],[[80.25999,42.349999],[80.18015,42.920068],[80.866206,43.180362],[79.966106,44.917517],[81.947071,45.317027],[82.458926,45.53965],[83.180484,47.330031],[85.16429,47.000956],[85.720484,47.452969],[85.768233,48.455751],[86.598776,48.549182],[87.35997,49.214981]],[[87.35997,49.214981],[87.751264,49.297198]],[[87.751264,49.297198],[88.013832,48.599463],[88.854298,48.069082],[90.280826,47.693549],[90.970809,46.888146],[90.585768,45.719716],[90.94554,45.286073],[92.133891,45.115076],[93.480734,44.975472],[94.688929,44.352332],[95.306875,44.241331],[95.762455,43.319449],[96.349396,42.725635],[97.451757,42.74889],[99.515817,42.524691],[100.845866,42.663804],[101.83304,42.514873],[103.312278,41.907468],[104.522282,41.908347],[104.964994,41.59741],[106.129316,42.134328],[107.744773,42.481516],[109.243596,42.519446],[110.412103,42.871234],[111.129682,43.406834],[111.829588,43.743118],[111.667737,44.073176],[111.348377,44.457442],[111.873306,45.102079],[112.436062,45.011646],[113.463907,44.808893],[114.460332,45.339817],[115.985096,45.727235],[116.717868,46.388202],[117.421701,46.672733],[118.874326,46.805412],[119.66327,46.69268],[119.772824,47.048059],[118.866574,47.74706],[118.064143,48.06673],[117.295507,47.697709],[116.308953,47.85341],[115.742837,47.726545],[115.485282,48.135383],[116.191802,49.134598],[116.678801,49.888531]],[[116.678801,49.888531],[117.879244,49.510983],[119.288461,50.142883]],[[119.288461,50.142883],[119.279366,50.582908],[120.18205,51.643566],[120.738191,51.964115],[120.725789,52.516226]],[[120.725789,52.516226],[120.177089,52.753886],[121.003085,53.251401],[122.245748,53.431726]],[[122.245748,53.431726],[123.571507,53.458804],[125.068211,53.161045]],[[125.068211,53.161045],[125.946349,52.792799],[126.564399,51.784255],[126.939157,51.353894],[127.287456,50.739797]],[[127.287456,50.739797],[127.657407,49.76027],[129.397818,49.4406]],[[-2.856125,4.994476],[-3.311084,4.984296],[-4.00882,5.179813],[-4.649917,5.168264],[-5.834496,4.993701],[-6.528769,4.705088],[-7.518941,4.338288],[-7.712159,4.364566]],[[-7.712159,4.364566],[-7.635368,5.188159],[-7.539715,5.313345],[-7.570153,5.707352],[-7.993693,6.12619],[-8.311348,6.193033],[-8.60288,6.467564],[-8.385452,6.911801],[-8.485446,7.395208],[-8.439298,7.686043]],[[-8.439298,7.686043],[-8.280703,7.68718],[-8.221792,8.123329],[-8.299049,8.316444],[-8.203499,8.455453],[-7.8321,8.575704],[-8.079114,9.376224],[-8.309616,9.789532],[-8.229337,10.12902],[-8.029944,10.206535]],[[-8.029944,10.206535],[-7.89959,10.297382],[-7.622759,10.147236],[-6.850507,10.138994],[-6.666461,10.430811],[-6.493965,10.411303],[-6.205223,10.524061],[-6.050452,10.096361],[-5.816926,10.222555],[-5.404342,10.370737]],[[-2.827496,9.642461],[-2.56219,8.219628],[-2.983585,7.379705],[-3.24437,6.250472],[-2.810701,5.389051],[-2.856125,4.994476]],[[13.075822,2.267097],[12.951334,2.321616],[12.35938,2.192812],[11.751665,2.326758],[11.276449,2.261051]],[[11.276449,2.261051],[9.649158,2.283866]],[[9.649158,2.283866],[9.795196,3.073404],[9.404367,3.734527],[8.948116,3.904129],[8.744924,4.352215],[8.488816,4.495617],[8.500288,4.771983]],[[8.500288,4.771983],[8.757533,5.479666],[9.233163,6.444491],[9.522706,6.453482],[10.118277,7.03877],[10.497375,7.055358],[11.058788,6.644427],[11.745774,6.981383],[11.839309,7.397042],[12.063946,7.799808],[12.218872,8.305824],[12.753672,8.717763],[12.955468,9.417772],[13.1676,9.640626],[13.308676,10.160362],[13.57295,10.798566],[14.415379,11.572369],[14.468192,11.904752],[14.577178,12.085361],[14.181336,12.483657]],[[14.181336,12.483657],[14.213531,12.802035],[14.495787,12.859396]],[[14.495787,12.859396],[14.893386,12.219048],[14.960152,11.555574]],[[14.960152,11.555574],[14.923565,10.891325],[15.467873,9.982337],[14.909354,9.992129],[14.627201,9.920919],[14.171466,10.021378],[13.954218,9.549495],[14.544467,8.965861],[14.979996,8.796104],[15.120866,8.38215],[15.436092,7.692812],[15.27946,7.421925]],[[16.012852,2.26764],[15.940919,1.727673],[15.146342,1.964015],[14.337813,2.227875],[13.075822,2.267097]],[[31.174149,2.204465],[30.85267,1.849396],[30.468508,1.583805],[30.086154,1.062313],[29.875779,.59738]],[[29.875779,.59738],[29.819503,-.20531],[29.587838,-.587406]],[[29.587838,-.587406],[29.579466,-1.341313]],[[29.579466,-1.341313],[29.291887,-1.620056],[29.254835,-2.21511],[29.117479,-2.292211],[29.024926,-2.839258]],[[29.339998,-4.499983],[29.519987,-5.419979],[29.419993,-5.939999]],[[29.419993,-5.939999],[29.620032,-6.520015],[30.199997,-7.079981],[30.740015,-8.340007]],[[30.740015,-8.340007],[30.346086,-8.238257],[29.002912,-8.407032],[28.734867,-8.526559],[28.449871,-9.164918],[28.673682,-9.605925],[28.49607,-10.789884],[28.372253,-11.793647],[28.642417,-11.971569],[29.341548,-12.360744],[29.616001,-12.178895],[29.699614,-13.257227],[28.934286,-13.248958],[28.523562,-12.698604],[28.155109,-12.272481],[27.388799,-12.132747],[27.16442,-11.608748],[26.553088,-11.92444],[25.75231,-11.784965],[25.418118,-11.330936],[24.78317,-11.238694],[24.314516,-11.262826],[24.257155,-10.951993],[23.912215,-10.926826]],[[12.322432,-6.100092],[12.182337,-5.789931]],[[12.995517,-4.781103],[13.25824,-4.882957],[13.600235,-4.500138],[14.144956,-4.510009],[14.209035,-4.793092],[14.582604,-4.970239],[15.170992,-4.343507],[15.75354,-3.855165],[16.00629,-3.535133],[15.972803,-2.712392],[16.407092,-1.740927],[16.865307,-1.225816],[17.523716,-.74383],[17.638645,-.424832],[17.663553,-.058084],[17.82654,.288923],[17.774192,.855659],[17.898835,1.741832],[18.094276,2.365722],[18.393792,2.900443],[18.453065,3.504386]],[[27.374226,5.233944],[27.979977,4.408413],[28.428994,4.287155],[28.696678,4.455077],[29.159078,4.389267],[29.715995,4.600805]],[[29.715995,4.600805],[29.9535,4.173699],[30.83386,3.509166],[30.773347,2.339883],[31.174149,2.204465]],[[11.914963,-5.037987],[11.093773,-3.978827]],[[11.093773,-3.978827],[11.855122,-3.426871],[11.478039,-2.765619],[11.820964,-2.514161],[12.495703,-2.391688],[12.575284,-1.948511],[13.109619,-2.42874],[13.992407,-2.470805],[14.29921,-1.998276],[14.425456,-1.333407],[14.316418,-.552627],[13.843321,.038758],[14.276266,1.19693],[14.026669,1.395677],[13.282631,1.314184],[13.003114,1.830896],[13.075822,2.267097]],[[-75.373223,-.152032],[-75.801466,.084801],[-76.292314,.416047],[-76.57638,.256936],[-77.424984,.395687],[-77.668613,.825893],[-77.855061,.809925],[-78.855259,1.380924]],[[-78.855259,1.380924],[-78.990935,1.69137],[-78.617831,1.766404],[-78.662118,2.267355],[-78.42761,2.629556],[-77.931543,2.696606],[-77.510431,3.325017],[-77.12769,3.849636],[-77.496272,4.087606],[-77.307601,4.667984],[-77.533221,5.582812],[-77.318815,5.845354],[-77.476661,6.691116],[-77.881571,7.223771]],[[-77.881571,7.223771],[-77.753414,7.70984],[-77.431108,7.638061],[-77.242566,7.935278],[-77.474723,8.524286],[-77.353361,8.670505]],[[-77.353361,8.670505],[-76.836674,8.638749],[-76.086384,9.336821],[-75.6746,9.443248],[-75.664704,9.774003],[-75.480426,10.61899],[-74.906895,11.083045],[-74.276753,11.102036],[-74.197223,11.310473],[-73.414764,11.227015],[-72.627835,11.731972],[-72.238195,11.95555],[-71.75409,12.437303],[-71.399822,12.376041],[-71.137461,12.112982],[-71.331584,11.776284]],[[-71.331584,11.776284],[-71.973922,11.608672],[-72.227575,11.108702],[-72.614658,10.821975],[-72.905286,10.450344],[-73.027604,9.73677],[-73.304952,9.152],[-72.78873,9.085027],[-72.660495,8.625288],[-72.439862,8.405275],[-72.360901,8.002638],[-72.479679,7.632506],[-72.444487,7.423785],[-72.198352,7.340431],[-71.960176,6.991615],[-70.674234,7.087785],[-70.093313,6.960376],[-69.38948,6.099861],[-68.985319,6.206805],[-68.265052,6.153268],[-67.695087,6.267318],[-67.34144,6.095468],[-67.521532,5.55687],[-67.744697,5.221129],[-67.823012,4.503937],[-67.621836,3.839482],[-67.337564,3.542342],[-67.303173,3.318454],[-67.809938,2.820655],[-67.447092,2.600281],[-67.181294,2.250638],[-66.876326,1.253361]],[[-69.893635,-4.298187],[-70.394044,-3.766591],[-70.692682,-3.742872],[-70.047709,-2.725156],[-70.813476,-2.256865],[-71.413646,-2.342802],[-71.774761,-2.16979],[-72.325787,-2.434218],[-73.070392,-2.308954],[-73.659504,-1.260491],[-74.122395,-1.002833],[-74.441601,-.53082],[-75.106625,-.057205],[-75.373223,-.152032]],[[-82.965783,8.225028],[-83.508437,8.446927],[-83.711474,8.656836],[-83.596313,8.830443],[-83.632642,9.051386],[-83.909886,9.290803],[-84.303402,9.487354],[-84.647644,9.615537],[-84.713351,9.908052],[-84.97566,10.086723],[-84.911375,9.795992],[-85.110923,9.55704],[-85.339488,9.834542],[-85.660787,9.933347],[-85.797445,10.134886],[-85.791709,10.439337],[-85.659314,10.754331],[-85.941725,10.895278],[-85.71254,11.088445]],[[-85.71254,11.088445],[-85.561852,11.217119],[-84.903003,10.952303],[-84.673069,11.082657],[-84.355931,10.999226],[-84.190179,10.79345],[-83.895054,10.726839],[-83.655612,10.938764]],[[-83.655612,10.938764],[-83.40232,10.395438],[-83.015677,9.992982],[-82.546196,9.566135]],[[-82.546196,9.566135],[-82.932891,9.476812],[-82.927155,9.07433],[-82.719183,8.925709],[-82.868657,8.807266],[-82.829771,8.626295],[-82.913176,8.423517],[-82.965783,8.225028]],[[-82.268151,23.188611],[-81.404457,23.117271],[-80.618769,23.10598],[-79.679524,22.765303],[-79.281486,22.399202],[-78.347434,22.512166],[-77.993296,22.277194],[-77.146422,21.657851],[-76.523825,21.20682],[-76.19462,21.220565],[-75.598222,21.016624],[-75.67106,20.735091],[-74.933896,20.693905],[-74.178025,20.284628],[-74.296648,20.050379],[-74.961595,19.923435],[-75.63468,19.873774],[-76.323656,19.952891],[-77.755481,19.855481],[-77.085108,20.413354],[-77.492655,20.673105],[-78.137292,20.739949],[-78.482827,21.028613],[-78.719867,21.598114],[-79.285,21.559175],[-80.217475,21.827324],[-80.517535,22.037079],[-81.820943,22.192057],[-82.169992,22.387109],[-81.795002,22.636965],[-82.775898,22.68815],[-83.494459,22.168518],[-83.9088,22.154565],[-84.052151,21.910575],[-84.54703,21.801228],[-84.974911,21.896028],[-84.447062,22.20495],[-84.230357,22.565755],[-83.77824,22.788118],[-83.267548,22.983042],[-82.510436,23.078747],[-82.268151,23.188611]],[[32.73178,35.140026],[32.802474,35.145504],[32.946961,35.386703],[33.667227,35.373216],[34.576474,35.671596],[33.900804,35.245756],[33.973617,35.058506],[34.004881,34.978098],[32.979827,34.571869],[32.490296,34.701655],[32.256667,35.103232],[32.73178,35.140026]],[[13.595946,48.877172],[13.031329,49.307068],[12.521024,49.547415],[12.415191,49.969121],[12.240111,50.266338],[12.966837,50.484076],[13.338132,50.733234],[14.056228,50.926918],[14.307013,51.117268],[14.570718,51.002339],[15.016996,51.106674]],[[15.016996,51.106674],[15.490972,50.78473],[16.238627,50.697733],[16.176253,50.422607],[16.719476,50.215747],[16.868769,50.473974],[17.554567,50.362146],[17.649445,50.049038],[18.392914,49.988629],[18.853144,49.49623]],[[18.853144,49.49623],[18.554971,49.495015],[18.399994,49.315001],[18.170498,49.271515],[18.104973,49.043983],[17.913512,48.996493],[17.886485,48.903475],[17.545007,48.800019],[17.101985,48.816969],[16.960288,48.596982]],[[9.921906,54.983104],[9.93958,54.596642],[10.950112,54.363607],[10.939467,54.008693],[11.956252,54.196486],[12.51844,54.470371],[13.647467,54.075511],[14.119686,53.757029]],[[14.119686,53.757029],[14.353315,53.248171],[14.074521,52.981263],[14.4376,52.62485],[14.685026,52.089947],[14.607098,51.745188],[15.016996,51.106674]],[[7.466759,47.620582],[7.593676,48.333019],[8.099279,49.017784],[6.65823,49.201958],[6.18632,49.463803]],[[6.18632,49.463803],[6.242751,49.902226],[6.043073,50.128052]],[[6.156658,50.803721],[5.988658,51.851616],[6.589397,51.852029],[6.84287,52.22844],[7.092053,53.144043],[6.90514,53.482162]],[[6.90514,53.482162],[7.100425,53.693932],[7.936239,53.748296],[8.121706,53.527792],[8.800734,54.020786],[8.572118,54.395646],[8.526229,54.962744]],[[8.526229,54.962744],[9.282049,54.830865],[9.921906,54.983104]],[[43.081226,12.699639],[43.317852,12.390148],[43.286381,11.974928],[42.715874,11.735641],[43.145305,11.46204]],[[43.145305,11.46204],[42.776852,10.926879]],[[42.776852,10.926879],[42.55493,11.10511],[42.31414,11.0342],[41.75557,11.05091],[41.73959,11.35511],[41.66176,11.6312],[42,12.1],[42.35156,12.54223]],[[42.35156,12.54223],[42.779642,12.455416],[43.081226,12.699639]],[[12.690006,55.609991],[12.089991,54.800015],[11.043543,55.364864],[10.903914,55.779955],[12.370904,56.111407],[12.690006,55.609991]],[[8.526229,54.962744],[8.120311,55.517723],[8.089977,56.540012],[8.256582,56.809969],[8.543438,57.110003],[9.424469,57.172066],[9.775559,57.447941],[10.580006,57.730017],[10.546106,57.215733],[10.25,56.890016],[10.369993,56.609982],[10.912182,56.458621],[10.667804,56.081383],[10.369993,56.190007],[9.649985,55.469999],[9.921906,54.983104]],[[-46.76379,82.62796],[-43.40644,83.22516],[-39.89753,83.18018],[-38.62214,83.54905],[-35.08787,83.64513],[-27.10046,83.51966],[-20.84539,82.72669],[-22.69182,82.34165],[-26.51753,82.29765],[-31.9,82.2],[-31.39646,82.02154],[-27.85666,82.13178],[-24.84448,81.78697],[-22.90328,82.09317],[-22.07175,81.73449],[-23.16961,81.15271],[-20.62363,81.52462],[-15.76818,81.91245],[-12.77018,81.71885],[-12.20855,81.29154],[-16.28533,80.58004],[-16.85,80.35],[-20.04624,80.17708],[-17.73035,80.12912],[-18.9,79.4],[-19.70499,78.75128],[-19.67353,77.63859],[-18.47285,76.98565],[-20.03503,76.94434],[-21.67944,76.62795],[-19.83407,76.09808],[-19.59896,75.24838],[-20.66818,75.15585],[-19.37281,74.29561],[-21.59422,74.22382],[-20.43454,73.81713],[-20.76234,73.46436],[-22.17221,73.30955],[-23.56593,73.30663],[-22.31311,72.62928],[-22.29954,72.18409],[-24.27834,72.59788],[-24.79296,72.3302],[-23.44296,72.08016],[-22.13281,71.46898],[-21.75356,70.66369],[-23.53603,70.471],[-24.30702,70.85649],[-25.54341,71.43094],[-25.20135,70.75226],[-26.36276,70.22646],[-23.72742,70.18401],[-22.34902,70.12946],[-25.02927,69.2588],[-27.74737,68.47046],[-30.67371,68.12503],[-31.77665,68.12078],[-32.81105,67.73547],[-34.20196,66.67974],[-36.35284,65.9789],[-37.04378,65.93768],[-38.37505,65.69213],[-39.81222,65.45848],[-40.66899,64.83997],[-40.68281,64.13902],[-41.1887,63.48246],[-42.81938,62.68233],[-42.41666,61.90093],[-42.86619,61.07404],[-43.3784,60.09772],[-44.7875,60.03676],[-46.26364,60.85328],[-48.26294,60.85843],[-49.23308,61.40681],[-49.90039,62.38336],[-51.63325,63.62691],[-52.14014,64.27842],[-52.27659,65.1767],[-53.66166,66.09957],[-53.30161,66.8365],[-53.96911,67.18899],[-52.9804,68.35759],[-51.47536,68.72958],[-51.08041,69.14781],[-50.87122,69.9291],[-52.013585,69.574925],[-52.55792,69.42616],[-53.45629,69.283625],[-54.68336,69.61003],[-54.75001,70.28932],[-54.35884,70.821315],[-53.431315,70.835755],[-51.39014,70.56978],[-53.10937,71.20485],[-54.00422,71.54719],[-55,71.406537],[-55.83468,71.65444],[-54.71819,72.58625],[-55.32634,72.95861],[-56.12003,73.64977],[-57.32363,74.71026],[-58.59679,75.09861],[-58.58516,75.51727],[-61.26861,76.10238],[-63.39165,76.1752],[-66.06427,76.13486],[-68.50438,76.06141],[-69.66485,76.37975],[-71.40257,77.00857],[-68.77671,77.32312],[-66.76397,77.37595],[-71.04293,77.63595],[-73.297,78.04419],[-73.15938,78.43271],[-69.37345,78.91388],[-65.7107,79.39436],[-65.3239,79.75814],[-68.02298,80.11721],[-67.15129,80.51582],[-63.68925,81.21396],[-62.23444,81.3211],[-62.65116,81.77042],[-60.28249,82.03363],[-57.20744,82.19074],[-54.13442,82.19962],[-53.04328,81.88833],[-50.39061,82.43883],[-48.00386,82.06481],[-46.59984,81.985945],[-44.523,81.6607],[-46.9007,82.19979],[-46.76379,82.62796]],[[-71.712361,19.714456],[-71.587304,19.884911],[-70.806706,19.880286],[-70.214365,19.622885],[-69.950815,19.648],[-69.76925,19.293267],[-69.222126,19.313214],[-69.254346,19.015196],[-68.809412,18.979074],[-68.317943,18.612198],[-68.689316,18.205142],[-69.164946,18.422648],[-69.623988,18.380713],[-69.952934,18.428307],[-70.133233,18.245915],[-70.517137,18.184291],[-70.669298,18.426886],[-70.99995,18.283329],[-71.40021,17.598564],[-71.657662,17.757573],[-71.708305,18.044997]],[[-71.708305,18.044997],[-71.687738,18.31666],[-71.945112,18.6169],[-71.701303,18.785417],[-71.624873,19.169838],[-71.712361,19.714456]],[[11.999506,23.471668],[8.572893,21.565661],[5.677566,19.601207],[4.267419,19.155265]],[[4.267419,19.155265],[3.158133,19.057364],[3.146661,19.693579],[2.683588,19.85623],[2.060991,20.142233],[1.823228,20.610809],[-1.550055,22.792666],[-4.923337,24.974574]],[[-4.923337,24.974574],[-8.6844,27.395744]],[[-8.6844,27.395744],[-8.665124,27.589479],[-8.66559,27.6]],[[-8.66559,27.6],[-8.674116,28.841289],[-7.059228,29.579228],[-6.060632,29.7317],[-5.242129,30.000443],[-4.859646,30.501188],[-3.690441,30.896952],[-3.647498,31.637294],[-3.06898,31.724498],[-2.616605,32.094346],[-1.307899,32.262889],[-1.124551,32.651522],[-1.388049,32.864015],[-1.733455,33.919713],[-1.792986,34.527919],[-2.169914,35.168396]],[[-2.169914,35.168396],[-1.208603,35.714849],[-.127454,35.888662],[.503877,36.301273],[1.466919,36.605647],[3.161699,36.783905],[4.815758,36.865037],[5.32012,36.716519],[6.26182,37.110655],[7.330385,37.118381],[7.737078,36.885708],[8.420964,36.946427]],[[8.420964,36.946427],[8.217824,36.433177],[8.376368,35.479876],[8.140981,34.655146],[7.524482,34.097376],[7.612642,33.344115],[8.430473,32.748337],[8.439103,32.506285],[9.055603,32.102692],[9.48214,30.307556]],[[9.48214,30.307556],[9.805634,29.424638],[9.859998,28.95999],[9.683885,28.144174],[9.756128,27.688259],[9.629056,27.140953],[9.716286,26.512206],[9.319411,26.094325],[9.910693,25.365455],[9.948261,24.936954],[10.303847,24.379313],[10.771364,24.562532],[11.560669,24.097909],[11.999506,23.471668]],[[-80.302561,-3.404856],[-79.770293,-2.657512],[-79.986559,-2.220794],[-80.368784,-2.685159],[-80.967765,-2.246943],[-80.764806,-1.965048],[-80.933659,-1.057455],[-80.58337,-.906663],[-80.399325,-.283703],[-80.020898,.36034],[-80.09061,.768429],[-79.542762,.982938],[-78.855259,1.380924]],[[-75.373223,-.152032],[-75.233723,-.911417],[-75.544996,-1.56161],[-76.635394,-2.608678],[-77.837905,-3.003021],[-78.450684,-3.873097],[-78.639897,-4.547784],[-79.205289,-4.959129],[-79.624979,-4.454198],[-80.028908,-4.346091],[-80.442242,-4.425724],[-80.469295,-4.059287],[-80.184015,-3.821162],[-80.302561,-3.404856]],[[36.86623,22],[32.9,22],[29.02,22],[25,22]],[[25,22],[25,25.6825],[25,29.238655],[24.70007,30.04419],[24.95762,30.6616],[24.80287,31.08929],[25.16482,31.56915]],[[25.16482,31.56915],[26.49533,31.58568],[27.45762,31.32126],[28.45048,31.02577],[28.91353,30.87005],[29.68342,31.18686],[30.09503,31.4734],[30.97693,31.55586],[31.68796,31.4296],[31.96041,30.9336],[32.19247,31.26034],[32.99392,31.02407],[33.7734,30.96746],[34.26544,31.21936],[34.9226,29.50133],[34.64174,29.09942],[34.42655,28.34399],[34.15451,27.8233],[33.92136,27.6487],[33.58811,27.97136],[33.13676,28.41765],[32.42323,29.85108],[32.32046,29.76043],[32.73482,28.70523],[33.34876,27.69989],[34.10455,26.14227],[34.47387,25.59856],[34.79507,25.03375],[35.69241,23.92671],[35.49372,23.75237],[35.52598,23.10244],[36.69069,22.20485],[36.86623,22]],[[42.35156,12.54223],[42.00975,12.86582],[41.59856,13.45209]],[[41.59856,13.45209],[41.155194,13.77332],[40.8966,14.11864]],[[40.8966,14.11864],[40.026219,14.519579],[39.34061,14.53155]],[[39.34061,14.53155],[39.0994,14.74064],[38.51295,14.50547],[37.90607,14.95943],[37.59377,14.2131],[36.42951,14.42211]],[[36.42951,14.42211],[36.323189,14.822481],[36.75386,16.291874],[36.85253,16.95655]],[[36.85253,16.95655],[37.16747,17.26314],[37.904,17.42754],[38.41009,17.998307]],[[38.41009,17.998307],[38.990623,16.840626],[39.26611,15.922723],[39.814294,15.435647],[41.179275,14.49108],[41.734952,13.921037],[42.276831,13.343992],[42.589576,13.000421],[43.081226,12.699639]],[[-9.034818,41.880571],[-8.984433,42.592775],[-9.392884,43.026625],[-7.97819,43.748338],[-6.754492,43.567909],[-5.411886,43.57424],[-4.347843,43.403449],[-3.517532,43.455901],[-1.901351,43.422802]],[[-1.901351,43.422802],[-1.502771,43.034014],[.338047,42.579546],[.701591,42.795734],[1.826793,42.343385],[2.985999,42.473015]],[[2.985999,42.473015],[3.039484,41.89212],[2.091842,41.226089],[.810525,41.014732],[.721331,40.678318],[.106692,40.123934],[-.278711,39.309978],[.111291,38.738514],[-.467124,38.292366],[-.683389,37.642354],[-1.438382,37.443064],[-2.146453,36.674144],[-3.415781,36.6589],[-4.368901,36.677839],[-4.995219,36.324708],[-5.37716,35.94685],[-5.866432,36.029817],[-6.236694,36.367677],[-6.520191,36.942913],[-7.453726,37.097788]],[[-7.453726,37.097788],[-7.537105,37.428904],[-7.166508,37.803894],[-7.029281,38.075764],[-7.374092,38.373059],[-7.098037,39.030073],[-7.498632,39.629571],[-7.066592,39.711892],[-7.026413,40.184524],[-6.86402,40.330872],[-6.851127,41.111083],[-6.389088,41.381815],[-6.668606,41.883387],[-7.251309,41.918346],[-7.422513,41.792075],[-8.013175,41.790886],[-8.263857,42.280469],[-8.671946,42.134689],[-9.034818,41.880571]],[[24.312863,57.793424],[24.428928,58.383413],[24.061198,58.257375],[23.42656,58.612753],[23.339795,59.18724],[24.604214,59.465854],[25.864189,59.61109],[26.949136,59.445803],[27.981114,59.475388],[28.131699,59.300825]],[[28.131699,59.300825],[27.420166,58.724581],[27.716686,57.791899]],[[27.716686,57.791899],[27.288185,57.474528]],[[27.288185,57.474528],[26.463532,57.476389],[25.60281,57.847529],[25.164594,57.970157],[24.312863,57.793424]],[[39.34061,14.53155],[40.02625,14.51959],[40.8966,14.11864]],[[40.8966,14.11864],[41.1552,13.77333],[41.59856,13.45209]],[[42.776852,10.926879],[42.55876,10.57258],[42.92812,10.02194]],[[42.92812,10.02194],[43.29699,9.54048],[43.67875,9.18358]],[[43.67875,9.18358],[46.94834,7.99688],[47.78942,8.003]],[[47.78942,8.003],[44.9636,5.00162],[43.66087,4.95755],[42.76967,4.25259],[42.12861,4.23413],[41.855083,3.918912]],[[41.855083,3.918912],[41.1718,3.91909],[40.76848,4.25702],[39.85494,3.83879],[39.559384,3.42206],[38.89251,3.50074],[38.67114,3.61607],[38.43697,3.58851],[38.120915,3.598605],[36.855093,4.447864],[36.159079,4.447864],[35.817448,4.776966],[35.817448,5.338232],[35.298007,5.506]],[[35.298007,5.506],[34.70702,6.59422],[34.25032,6.82607],[34.0751,7.22595],[33.56829,7.71334],[32.95418,7.78497],[33.2948,8.35458],[33.8255,8.37916],[33.97498,8.68456]],[[33.97498,8.68456],[33.96162,9.58358]],[[33.96162,9.58358],[34.25745,10.63009],[34.73115,10.91017],[34.83163,11.31896],[35.26049,12.08286],[35.86363,12.57828],[36.27022,13.56333],[36.42951,14.42211]],[[28.59193,69.064777],[28.445944,68.364613],[29.977426,67.698297],[29.054589,66.944286],[30.21765,65.80598],[29.54443,64.948672],[30.444685,64.204453],[30.035872,63.552814],[31.516092,62.867687],[31.139991,62.357693],[30.211107,61.780028]],[[30.211107,61.780028],[28.069998,60.503517],[26.255173,60.423961],[24.496624,60.057316],[22.869695,59.846373],[22.290764,60.391921],[21.322244,60.72017],[21.544866,61.705329],[21.059211,62.607393],[21.536029,63.189735],[22.442744,63.81781],[24.730512,64.902344],[25.398068,65.111427],[25.294043,65.534346],[23.903379,66.006927]],[[23.903379,66.006927],[23.56588,66.396051],[23.539473,67.936009],[21.978535,68.616846],[20.645593,69.106247]],[[20.645593,69.106247],[21.244936,69.370443],[22.356238,68.841741],[23.66205,68.891247],[24.735679,68.649557],[25.689213,69.092114],[26.179622,69.825299],[27.732292,70.164193],[29.015573,69.766491],[28.59193,69.064777]],[[178.3736,-17.33992],[178.71806,-17.62846],[178.55271,-18.15059],[177.93266,-18.28799],[177.38146,-18.16432],[177.28504,-17.72465],[177.67087,-17.38114],[178.12557,-17.50481],[178.3736,-17.33992]],[[179.364143,-16.801354],[178.725059,-17.012042],[178.596839,-16.63915],[179.096609,-16.433984],[179.413509,-16.379054],[180,-16.067133],[180,-16.555217],[179.364143,-16.801354]],[[-179.917369,-16.501783],[-180,-16.555217],[-180,-16.067133],[-179.79332,-16.020882],[-179.917369,-16.501783]],[[9.560016,42.152492],[9.229752,41.380007],[8.775723,41.583612],[8.544213,42.256517],[8.746009,42.628122],[9.390001,43.009985],[9.560016,42.152492]],[[5.674052,49.529484],[5.897759,49.442667],[6.18632,49.463803]],[[6.843593,45.991147],[6.802355,45.70858],[7.096652,45.333099],[6.749955,45.028518],[7.007562,44.254767],[7.549596,44.127901],[7.435185,43.693845]],[[7.435185,43.693845],[6.529245,43.128892],[4.556963,43.399651],[3.100411,43.075201],[2.985999,42.473015]],[[-1.901351,43.422802],[-1.384225,44.02261],[-1.193798,46.014918],[-2.225724,47.064363],[-2.963276,47.570327],[-4.491555,47.954954],[-4.59235,48.68416],[-3.295814,48.901692],[-1.616511,48.644421],[-1.933494,49.776342],[-.989469,49.347376],[1.338761,50.127173],[1.639001,50.946606],[2.513573,51.148506]],[[-54.524754,2.311849],[-54.27123,2.738748],[-54.184284,3.194172],[-54.011504,3.62257],[-54.399542,4.212611]],[[-54.399542,4.212611],[-54.478633,4.896756],[-53.958045,5.756548]],[[-53.958045,5.756548],[-53.618453,5.646529],[-52.882141,5.409851],[-51.823343,4.565768],[-51.657797,4.156232]],[[11.093773,-3.978827],[10.066135,-2.969483],[9.405245,-2.144313],[8.797996,-1.111301],[8.830087,-.779074],[9.04842,-.459351],[9.291351,.268666],[9.492889,1.01012]],[[9.492889,1.01012],[9.830284,1.067894],[11.285079,1.057662],[11.276449,2.261051]],[[-6.197885,53.867565],[-6.95373,54.073702],[-7.572168,54.059956],[-7.366031,54.595841],[-7.572168,55.131622]],[[-7.572168,55.131622],[-6.733847,55.17286],[-5.661949,54.554603],[-6.197885,53.867565]],[[-3.005005,58.635],[-4.073828,57.553025],[-3.055002,57.690019],[-1.959281,57.6848],[-2.219988,56.870017],[-3.119003,55.973793],[-2.085009,55.909998],[-2.005676,55.804903],[-1.114991,54.624986],[-.430485,54.464376],[.184981,53.325014],[.469977,52.929999],[1.681531,52.73952],[1.559988,52.099998],[1.050562,51.806761],[1.449865,51.289428],[.550334,50.765739],[-.787517,50.774989],[-2.489998,50.500019],[-2.956274,50.69688],[-3.617448,50.228356],[-4.542508,50.341837],[-5.245023,49.96],[-5.776567,50.159678],[-4.30999,51.210001],[-3.414851,51.426009],[-3.422719,51.426848],[-4.984367,51.593466],[-5.267296,51.9914],[-4.222347,52.301356],[-4.770013,52.840005],[-4.579999,53.495004],[-3.093831,53.404547],[-3.09208,53.404441],[-2.945009,53.985],[-3.614701,54.600937],[-3.630005,54.615013],[-4.844169,54.790971],[-5.082527,55.061601],[-4.719112,55.508473],[-5.047981,55.783986],[-5.586398,55.311146],[-5.644999,56.275015],[-6.149981,56.78501],[-5.786825,57.818848],[-5.009999,58.630013],[-4.211495,58.550845],[-3.005005,58.635]],[[41.554084,41.535656],[41.703171,41.962943],[41.45347,42.645123],[40.875469,43.013628],[40.321394,43.128634],[39.955009,43.434998]],[[39.955009,43.434998],[40.076965,43.553104]],[[40.076965,43.553104],[40.922185,43.382159],[42.394395,43.220308],[43.756017,42.740828],[43.9312,42.554974],[44.537623,42.711993]],[[44.537623,42.711993],[45.470279,42.502781]],[[45.470279,42.502781],[45.77641,42.092444],[46.404951,41.860675]],[[43.582746,41.092143],[42.619549,41.583173],[41.554084,41.535656]],[[1.060122,5.928837],[-.507638,5.343473],[-1.063625,5.000548],[-1.964707,4.710462],[-2.856125,4.994476]],[[.023803,11.018682],[-.049785,10.706918],[.36758,10.191213],[.365901,9.465004],[.461192,8.677223],[.712029,8.312465],[.490957,7.411744],[.570384,6.914359],[.836931,6.279979],[1.060122,5.928837]],[[-8.439298,7.686043],[-8.722124,7.711674],[-8.926065,7.309037],[-9.208786,7.313921],[-9.403348,7.526905],[-9.33728,7.928534],[-9.755342,8.541055],[-10.016567,8.428504],[-10.230094,8.406206]],[[-10.230094,8.406206],[-10.505477,8.348896],[-10.494315,8.715541],[-10.65477,8.977178],[-10.622395,9.26791],[-10.839152,9.688246],[-11.117481,10.045873],[-11.917277,10.046984],[-12.150338,9.858572],[-12.425929,9.835834],[-12.596719,9.620188],[-12.711958,9.342712],[-13.24655,8.903049]],[[-13.24655,8.903049],[-13.685154,9.494744],[-14.074045,9.886167],[-14.330076,10.01572],[-14.579699,10.214467],[-14.693232,10.656301],[-14.839554,10.876572],[-15.130311,11.040412]],[[-15.130311,11.040412],[-14.685687,11.527824],[-14.382192,11.509272],[-14.121406,11.677117],[-13.9008,11.678719],[-13.743161,11.811269],[-13.828272,12.142644],[-13.718744,12.247186],[-13.700476,12.586183]],[[-13.700476,12.586183],[-13.217818,12.575874],[-12.499051,12.33209],[-12.278599,12.35444],[-12.203565,12.465648],[-11.658301,12.386583],[-11.513943,12.442988]],[[-11.513943,12.442988],[-11.456169,12.076834],[-11.297574,12.077971],[-11.036556,12.211245],[-10.87083,12.177887],[-10.593224,11.923975],[-10.165214,11.844084],[-9.890993,12.060479],[-9.567912,12.194243],[-9.327616,12.334286],[-9.127474,12.30806],[-8.905265,12.088358],[-8.786099,11.812561],[-8.376305,11.393646],[-8.581305,11.136246],[-8.620321,10.810891],[-8.407311,10.909257],[-8.282357,10.792597],[-8.335377,10.494812],[-8.029944,10.206535]],[[-16.841525,13.151394],[-16.713729,13.594959]],[[-16.713729,13.594959],[-15.624596,13.623587],[-15.39877,13.860369],[-15.081735,13.876492],[-14.687031,13.630357],[-14.376714,13.62568],[-14.046992,13.794068],[-13.844963,13.505042],[-14.277702,13.280585],[-14.712197,13.298207],[-15.141163,13.509512],[-15.511813,13.27857],[-15.691001,13.270353],[-15.931296,13.130284],[-16.841525,13.151394]],[[-15.130311,11.040412],[-15.66418,11.458474],[-16.085214,11.524594],[-16.314787,11.806515],[-16.308947,11.958702],[-16.613838,12.170911],[-16.677452,12.384852]],[[-16.677452,12.384852],[-16.147717,12.547762],[-15.816574,12.515567],[-15.548477,12.62817],[-13.700476,12.586183]],[[9.492889,1.01012],[9.305613,1.160911],[9.649158,2.283866]],[[23.69998,35.705004],[24.246665,35.368022],[25.025015,35.424996],[25.769208,35.354018],[25.745023,35.179998],[26.290003,35.29999],[26.164998,35.004995],[24.724982,34.919988],[24.735007,35.084991],[23.514978,35.279992],[23.69998,35.705004]],[[26.056942,40.824123],[25.447677,40.852545],[24.925848,40.947062],[23.714811,40.687129],[24.407999,40.124993],[23.899968,39.962006],[23.342999,39.960998],[22.813988,40.476005],[22.626299,40.256561],[22.849748,39.659311],[23.350027,39.190011],[22.973099,38.970903],[23.530016,38.510001],[24.025025,38.219993],[24.040011,37.655015],[23.115003,37.920011],[23.409972,37.409991],[22.774972,37.30501],[23.154225,36.422506],[22.490028,36.41],[21.670026,36.844986],[21.295011,37.644989],[21.120034,38.310323],[20.730032,38.769985],[20.217712,39.340235],[20.150016,39.624998]],[[21.02004,40.842727],[21.674161,40.931275],[22.055378,41.149866],[22.597308,41.130487],[22.76177,41.3048],[22.952377,41.337994]],[[26.117042,41.826905],[26.604196,41.562115],[26.294602,40.936261],[26.056942,40.824123]],[[-90.095555,13.735338],[-90.608624,13.909771],[-91.23241,13.927832],[-91.689747,14.126218],[-92.22775,14.538829]],[[-92.22775,14.538829],[-92.20323,14.830103],[-92.087216,15.064585],[-92.229249,15.251447],[-91.74796,16.066565],[-90.464473,16.069562],[-90.438867,16.41011],[-90.600847,16.470778],[-90.711822,16.687483],[-91.08167,16.918477],[-91.453921,17.252177],[-91.002269,17.254658],[-91.00152,17.817595],[-90.067934,17.819326],[-89.14308,17.808319]],[[-88.930613,15.887273],[-88.604586,15.70638],[-88.518364,15.855389],[-88.225023,15.727722]],[[-88.225023,15.727722],[-88.68068,15.346247],[-89.154811,15.066419],[-89.22522,14.874286],[-89.145535,14.678019],[-89.353326,14.424133]],[[-89.353326,14.424133],[-89.587343,14.362586],[-89.534219,14.244816],[-89.721934,14.134228],[-90.064678,13.88197],[-90.095555,13.735338]],[[-59.758285,8.367035],[-59.101684,7.999202],[-58.482962,7.347691],[-58.454876,6.832787],[-58.078103,6.809094],[-57.542219,6.321268],[-57.147436,5.97315]],[[-57.147436,5.97315],[-57.307246,5.073567],[-57.914289,4.812626],[-57.86021,4.576801],[-58.044694,4.060864],[-57.601569,3.334655],[-57.281433,3.333492],[-57.150098,2.768927],[-56.539386,1.899523]],[[-60.733574,5.200277],[-61.410303,5.959068],[-61.139415,6.234297],[-61.159336,6.696077],[-60.543999,6.856584],[-60.295668,7.043911],[-60.637973,7.415],[-60.550588,7.779603],[-59.758285,8.367035]],[[-87.316654,12.984686],[-87.489409,13.297535],[-87.793111,13.38448]],[[-87.793111,13.38448],[-87.723503,13.78505],[-87.859515,13.893312],[-88.065343,13.964626],[-88.503998,13.845486],[-88.541231,13.980155],[-88.843073,14.140507],[-89.058512,14.340029],[-89.353326,14.424133]],[[-88.225023,15.727722],[-88.121153,15.688655],[-87.901813,15.864458],[-87.61568,15.878799],[-87.522921,15.797279],[-87.367762,15.84694],[-86.903191,15.756713],[-86.440946,15.782835],[-86.119234,15.893449],[-86.001954,16.005406],[-85.683317,15.953652],[-85.444004,15.885749],[-85.182444,15.909158],[-84.983722,15.995923],[-84.52698,15.857224],[-84.368256,15.835158],[-84.063055,15.648244],[-83.773977,15.424072],[-83.410381,15.270903],[-83.147219,14.995829]],[[-83.147219,14.995829],[-83.489989,15.016267],[-83.628585,14.880074],[-83.975721,14.749436],[-84.228342,14.748764],[-84.449336,14.621614],[-84.649582,14.666805],[-84.820037,14.819587],[-84.924501,14.790493],[-85.052787,14.551541],[-85.148751,14.560197],[-85.165365,14.35437],[-85.514413,14.079012],[-85.698665,13.960078],[-85.801295,13.836055],[-86.096264,14.038187],[-86.312142,13.771356],[-86.520708,13.778487],[-86.755087,13.754845],[-86.733822,13.263093],[-86.880557,13.254204],[-87.005769,13.025794],[-87.316654,12.984686]],[[18.829838,45.908878],[19.072769,45.521511]],[[19.072769,45.521511],[19.390476,45.236516]],[[19.390476,45.236516],[19.005486,44.860234]],[[18.56,42.65],[18.450016,42.479991],[17.50997,42.849995],[16.930006,43.209998],[16.015385,43.507215],[15.174454,44.243191],[15.37625,44.317915],[14.920309,44.738484],[14.901602,45.07606],[14.258748,45.233777],[13.952255,44.802124],[13.656976,45.136935],[13.679403,45.484149],[13.71506,45.500324]],[[13.71506,45.500324],[14.411968,45.466166],[14.595109,45.634941],[14.935244,45.471695],[15.327675,45.452316],[15.323954,45.731783],[15.67153,45.834154],[15.768733,46.238108],[16.564808,46.503751]],[[16.564808,46.503751],[16.882515,46.380632],[17.630066,45.951769],[18.456062,45.759481],[18.829838,45.908878]],[[-71.708305,18.044997],[-72.372476,18.214961],[-72.844411,18.145611],[-73.454555,18.217906],[-73.922433,18.030993],[-74.458034,18.34255],[-74.369925,18.664908],[-73.449542,18.526053],[-72.694937,18.445799],[-72.334882,18.668422],[-72.79165,19.101625],[-72.784105,19.483591],[-73.415022,19.639551],[-73.189791,19.915684],[-72.579673,19.871501],[-71.712361,19.714456]],[[16.979667,48.123497],[17.488473,47.867466],[17.857133,47.758429],[18.696513,47.880954],[18.777025,48.081768],[19.174365,48.111379],[19.661364,48.266615],[19.769471,48.202691],[20.239054,48.327567],[20.473562,48.56285],[20.801294,48.623854],[21.872236,48.319971],[22.085608,48.422264]],[[22.085608,48.422264],[22.64082,48.15024],[22.710531,47.882194]],[[22.710531,47.882194],[22.099768,47.672439],[21.626515,46.994238],[21.021952,46.316088],[20.220192,46.127469]],[[20.220192,46.127469],[19.596045,46.17173]],[[19.596045,46.17173],[18.829838,45.908878]],[[16.564808,46.503751],[16.370505,46.841327],[16.202298,46.852386]],[[120.715609,-10.239581],[120.295014,-10.25865],[118.967808,-9.557969],[119.90031,-9.36134],[120.425756,-9.665921],[120.775502,-9.969675],[120.715609,-10.239581]],[[124.968682,-8.89279],[125.07002,-9.089987],[125.08852,-9.393173]],[[125.08852,-9.393173],[124.43595,-10.140001],[123.579982,-10.359987],[123.459989,-10.239995],[123.550009,-9.900016],[123.980009,-9.290027],[124.968682,-8.89279]],[[117.900018,-8.095681],[118.260616,-8.362383],[118.87846,-8.280683],[119.126507,-8.705825],[117.970402,-8.906639],[117.277731,-9.040895],[116.740141,-9.032937],[117.083737,-8.457158],[117.632024,-8.449303],[117.900018,-8.095681]],[[122.903537,-8.094234],[122.756983,-8.649808],[121.254491,-8.933666],[119.924391,-8.810418],[119.920929,-8.444859],[120.715092,-8.236965],[121.341669,-8.53674],[122.007365,-8.46062],[122.903537,-8.094234]],[[108.623479,-6.777674],[110.539227,-6.877358],[110.759576,-6.465186],[112.614811,-6.946036],[112.978768,-7.594213],[114.478935,-7.776528],[115.705527,-8.370807],[114.564511,-8.751817],[113.464734,-8.348947],[112.559672,-8.376181],[111.522061,-8.302129],[110.58615,-8.122605],[109.427667,-7.740664],[108.693655,-7.6416],[108.277763,-7.766657],[106.454102,-7.3549],[106.280624,-6.9249],[105.365486,-6.851416],[106.051646,-5.895919],[107.265009,-5.954985],[108.072091,-6.345762],[108.486846,-6.421985],[108.623479,-6.777674]],[[134.724624,-6.214401],[134.210134,-6.895238],[134.112776,-6.142467],[134.290336,-5.783058],[134.499625,-5.445042],[134.727002,-5.737582],[134.724624,-6.214401]],[[127.249215,-3.459065],[126.874923,-3.790983],[126.183802,-3.607376],[125.989034,-3.177273],[127.000651,-3.129318],[127.249215,-3.459065]],[[130.471344,-3.093764],[130.834836,-3.858472],[129.990547,-3.446301],[129.155249,-3.362637],[128.590684,-3.428679],[127.898891,-3.393436],[128.135879,-2.84365],[129.370998,-2.802154],[130.471344,-3.093764]],[[141.00021,-2.600151],[141.017057,-5.859022],[141.033852,-9.117893]],[[141.033852,-9.117893],[140.143415,-8.297168],[139.127767,-8.096043],[138.881477,-8.380935],[137.614474,-8.411683],[138.039099,-7.597882],[138.668621,-7.320225],[138.407914,-6.232849],[137.92784,-5.393366],[135.98925,-4.546544],[135.164598,-4.462931],[133.66288,-3.538853],[133.367705,-4.024819],[132.983956,-4.112979],[132.756941,-3.746283],[132.753789,-3.311787],[131.989804,-2.820551],[133.066845,-2.460418],[133.780031,-2.479848],[133.696212,-2.214542],[132.232373,-2.212526],[131.836222,-1.617162],[130.94284,-1.432522],[130.519558,-.93772],[131.867538,-.695461],[132.380116,-.369538],[133.985548,-.78021],[134.143368,-1.151867],[134.422627,-2.769185],[135.457603,-3.367753],[136.293314,-2.307042],[137.440738,-1.703513],[138.329727,-1.702686],[139.184921,-2.051296],[139.926684,-2.409052],[141.00021,-2.600151]],[[125.240501,1.419836],[124.437035,.427881],[123.685505,.235593],[122.723083,.431137],[121.056725,.381217],[120.183083,.237247],[120.04087,-.519658],[120.935905,-1.408906],[121.475821,-.955962],[123.340565,-.615673],[123.258399,-1.076213],[122.822715,-.930951],[122.38853,-1.516858],[121.508274,-1.904483],[122.454572,-3.186058],[122.271896,-3.5295],[123.170963,-4.683693],[123.162333,-5.340604],[122.628515,-5.634591],[122.236394,-5.282933],[122.719569,-4.464172],[121.738234,-4.851331],[121.489463,-4.574553],[121.619171,-4.188478],[120.898182,-3.602105],[120.972389,-2.627643],[120.305453,-2.931604],[120.390047,-4.097579],[120.430717,-5.528241],[119.796543,-5.6734],[119.366906,-5.379878],[119.653606,-4.459417],[119.498835,-3.494412],[119.078344,-3.487022],[118.767769,-2.801999],[119.180974,-2.147104],[119.323394,-1.353147],[119.825999,.154254],[120.035702,.566477],[120.885779,1.309223],[121.666817,1.013944],[122.927567,.875192],[124.077522,.917102],[125.065989,1.643259],[125.240501,1.419836]],[[128.688249,1.132386],[128.635952,.258486],[128.12017,.356413],[127.968034,-.252077],[128.379999,-.780004],[128.100016,-.899996],[127.696475,-.266598],[127.39949,1.011722],[127.600512,1.810691],[127.932378,2.174596],[128.004156,1.628531],[128.594559,1.540811],[128.688249,1.132386]],[[109.66326,2.006467],[109.830227,1.338136],[110.514061,.773131],[111.159138,.976478],[111.797548,.904441],[112.380252,1.410121],[112.859809,1.49779],[113.80585,1.217549],[114.621355,1.430688],[115.134037,2.821482],[115.519078,3.169238],[115.865517,4.306559],[117.015214,4.306094],[117.882035,4.137551]],[[117.882035,4.137551],[117.313232,3.234428],[118.04833,2.28769],[117.875627,1.827641],[118.996747,.902219],[117.811858,.784242],[117.478339,.102475],[117.521644,-.803723],[116.560048,-1.487661],[116.533797,-2.483517],[116.148084,-4.012726],[116.000858,-3.657037],[114.864803,-4.106984],[114.468652,-3.495704],[113.755672,-3.43917],[113.256994,-3.118776],[112.068126,-3.478392],[111.703291,-2.994442],[111.04824,-3.049426],[110.223846,-2.934032],[110.070936,-1.592874],[109.571948,-1.314907],[109.091874,-.459507],[108.952658,.415375],[109.069136,1.341934],[109.66326,2.006467]],[[105.817655,-5.852356],[104.710384,-5.873285],[103.868213,-5.037315],[102.584261,-4.220259],[102.156173,-3.614146],[101.399113,-2.799777],[100.902503,-2.050262],[100.141981,-.650348],[99.26374,.183142],[98.970011,1.042882],[98.601351,1.823507],[97.699598,2.453184],[97.176942,3.308791],[96.424017,3.86886],[95.380876,4.970782],[95.293026,5.479821],[95.936863,5.439513],[97.484882,5.246321],[98.369169,4.26837],[99.142559,3.59035],[99.693998,3.174329],[100.641434,2.099381],[101.658012,2.083697],[102.498271,1.3987],[103.07684,.561361],[103.838396,.104542],[103.437645,-.711946],[104.010789,-1.059212],[104.369991,-1.084843],[104.53949,-1.782372],[104.887893,-2.340425],[105.622111,-2.428844],[106.108593,-3.061777],[105.857446,-4.305525],[105.817655,-5.852356]],[[81.111256,30.183481],[80.476721,29.729865],[80.088425,28.79447],[81.057203,28.416095],[81.999987,27.925479],[83.304249,27.364506],[84.675018,27.234901],[85.251779,26.726198],[86.024393,26.630985],[87.227472,26.397898],[88.060238,26.414615],[88.174804,26.810405],[88.043133,27.445819],[88.120441,27.876542]],[[97.327114,28.261583],[97.402561,27.882536],[97.051989,27.699059],[97.133999,27.083774],[96.419366,27.264589],[95.124768,26.573572],[95.155153,26.001307],[94.603249,25.162495],[94.552658,24.675238],[94.106742,23.850741],[93.325188,24.078556],[93.286327,23.043658],[93.060294,22.703111],[93.166128,22.27846],[92.672721,22.041239]],[[89.031961,22.055708],[88.888766,21.690588],[88.208497,21.703172],[86.975704,21.495562],[87.033169,20.743308],[86.499351,20.151638],[85.060266,19.478579],[83.941006,18.30201],[83.189217,17.671221],[82.192792,17.016636],[82.191242,16.556664],[81.692719,16.310219],[80.791999,15.951972],[80.324896,15.899185],[80.025069,15.136415],[80.233274,13.835771],[80.286294,13.006261],[79.862547,12.056215],[79.857999,10.357275],[79.340512,10.308854],[78.885345,9.546136],[79.18972,9.216544],[78.277941,8.933047],[77.941165,8.252959],[77.539898,7.965535],[76.592979,8.899276],[76.130061,10.29963],[75.746467,11.308251],[75.396101,11.781245],[74.864816,12.741936],[74.616717,13.992583],[74.443859,14.617222],[73.534199,15.990652],[73.119909,17.92857],[72.820909,19.208234],[72.824475,20.419503],[72.630533,21.356009],[71.175273,20.757441],[70.470459,20.877331],[69.16413,22.089298],[69.644928,22.450775],[69.349597,22.84318],[68.176645,23.691965]],[[68.176645,23.691965],[68.842599,24.359134],[71.04324,24.356524],[70.844699,25.215102],[70.282873,25.722229],[70.168927,26.491872],[69.514393,26.940966],[70.616496,27.989196],[71.777666,27.91318],[72.823752,28.961592],[73.450638,29.976413],[74.42138,30.979815],[74.405929,31.692639],[75.258642,32.271105],[74.451559,32.7649],[74.104294,33.441473],[73.749948,34.317699],[74.240203,34.748887],[75.757061,34.504923],[76.871722,34.653544],[77.837451,35.49401]],[[-6.197885,53.867565],[-6.032985,53.153164],[-6.788857,52.260118],[-8.561617,51.669301],[-9.977086,51.820455],[-9.166283,52.864629],[-9.688525,53.881363],[-8.327987,54.664519],[-7.572168,55.131622]],[[53.921598,37.198918],[54.800304,37.392421],[55.511578,37.964117],[56.180375,37.935127],[56.619366,38.121394],[57.330434,38.029229],[58.436154,37.522309],[59.234762,37.412988],[60.377638,36.527383],[61.123071,36.491597],[61.210817,35.650072]],[[60.874248,29.829239],[61.369309,29.303276],[61.771868,28.699334],[62.72783,28.259645],[62.755426,27.378923],[63.233898,27.217047],[63.316632,26.756532],[61.874187,26.239975],[61.497363,25.078237]],[[61.497363,25.078237],[59.616134,25.380157],[58.525761,25.609962],[57.397251,25.739902],[56.970766,26.966106],[56.492139,27.143305],[55.72371,26.964633],[54.71509,26.480658],[53.493097,26.812369],[52.483598,27.580849],[51.520763,27.86569],[50.852948,28.814521],[50.115009,30.147773],[49.57685,29.985715],[48.941333,30.31709],[48.567971,29.926778]],[[48.567971,29.926778],[48.014568,30.452457],[48.004698,30.985137],[47.685286,30.984853],[47.849204,31.709176],[47.334661,32.469155],[46.109362,33.017287],[45.416691,33.967798],[45.64846,34.748138],[46.151788,35.093259],[46.07634,35.677383],[45.420618,35.977546]],[[45.420618,35.977546],[44.77267,37.17045],[44.225756,37.971584]],[[44.225756,37.971584],[44.421403,38.281281],[44.109225,39.428136],[44.79399,39.713003]],[[48.883249,38.320245],[49.199612,37.582874],[50.147771,37.374567],[50.842354,36.872814],[52.264025,36.700422],[53.82579,36.965031],[53.921598,37.198918]],[[48.567971,29.926778],[47.974519,29.975819]],[[47.974519,29.975819],[47.302622,30.05907],[46.568713,29.099025]],[[46.568713,29.099025],[44.709499,29.178891],[41.889981,31.190009],[40.399994,31.889992],[39.195468,32.161009]],[[39.195468,32.161009],[38.792341,33.378686]],[[38.792341,33.378686],[41.006159,34.419372],[41.383965,35.628317],[41.289707,36.358815],[41.837064,36.605854],[42.349591,37.229873]],[[42.349591,37.229873],[42.779126,37.385264],[43.942259,37.256228],[44.293452,37.001514],[44.772699,37.170445]],[[44.772699,37.170445],[45.420618,35.977546]],[[-14.508695,66.455892],[-14.739637,65.808748],[-13.609732,65.126671],[-14.909834,64.364082],[-17.794438,63.678749],[-18.656246,63.496383],[-19.972755,63.643635],[-22.762972,63.960179],[-21.778484,64.402116],[-23.955044,64.89113],[-22.184403,65.084968],[-22.227423,65.378594],[-24.326184,65.611189],[-23.650515,66.262519],[-22.134922,66.410469],[-20.576284,65.732112],[-19.056842,66.276601],[-17.798624,65.993853],[-16.167819,66.526792],[-14.508695,66.455892]],[[35.719918,32.709192],[35.545665,32.393992]],[[35.545665,32.393992],[35.18393,32.532511],[34.974641,31.866582],[35.225892,31.754341],[34.970507,31.616778],[34.927408,31.353435],[35.397561,31.489086]],[[35.397561,31.489086],[35.420918,31.100066],[34.922603,29.501326]],[[34.922603,29.501326],[34.265433,31.219361],[34.556372,31.548824],[34.488107,31.605539],[34.752587,32.072926],[34.955417,32.827376],[35.098457,33.080539],[35.126053,33.0909]],[[35.126053,33.0909],[35.460709,33.08904],[35.552797,33.264275],[35.821101,33.277426]],[[35.821101,33.277426],[35.836397,32.868123],[35.700798,32.716014],[35.719918,32.709192]],[[15.520376,38.231155],[15.160243,37.444046],[15.309898,37.134219],[15.099988,36.619987],[14.335229,36.996631],[13.826733,37.104531],[12.431004,37.61295],[12.570944,38.126381],[13.741156,38.034966],[14.761249,38.143874],[15.520376,38.231155]],[[9.210012,41.209991],[9.809975,40.500009],[9.669519,39.177376],[9.214818,39.240473],[8.806936,38.906618],[8.428302,39.171847],[8.388253,40.378311],[8.159998,40.950007],[8.709991,40.899984],[9.210012,41.209991]],[[13.806475,46.509306],[13.69811,46.016778],[13.93763,45.591016]],[[13.93763,45.591016],[13.141606,45.736692],[12.328581,45.381778],[12.383875,44.885374],[12.261453,44.600482],[12.589237,44.091366],[13.526906,43.587727],[14.029821,42.761008],[15.14257,41.95514],[15.926191,41.961315],[16.169897,41.740295],[15.889346,41.541082],[16.785002,41.179606],[17.519169,40.877143],[18.376687,40.355625],[18.480247,40.168866],[18.293385,39.810774],[17.73838,40.277671],[16.869596,40.442235],[16.448743,39.795401],[17.17149,39.4247],[17.052841,38.902871],[16.635088,38.843572],[16.100961,37.985899],[15.684087,37.908849],[15.687963,38.214593],[15.891981,38.750942],[16.109332,38.964547],[15.718814,39.544072],[15.413613,40.048357],[14.998496,40.172949],[14.703268,40.60455],[14.060672,40.786348],[13.627985,41.188287],[12.888082,41.25309],[12.106683,41.704535],[11.191906,42.355425],[10.511948,42.931463],[10.200029,43.920007],[9.702488,44.036279],[8.888946,44.366336],[8.428561,44.231228],[7.850767,43.767148],[7.435185,43.693845]],[[-77.569601,18.490525],[-76.896619,18.400867],[-76.365359,18.160701],[-76.199659,17.886867],[-76.902561,17.868238],[-77.206341,17.701116],[-77.766023,17.861597],[-78.337719,18.225968],[-78.217727,18.454533],[-77.797365,18.524218],[-77.569601,18.490525]],[[35.719918,32.709192],[36.834062,32.312938],[38.792341,33.378686]],[[39.195468,32.161009],[39.004886,32.010217],[37.002166,31.508413],[37.998849,30.5085],[37.66812,30.338665],[37.503582,30.003776],[36.740528,29.865283],[36.501214,29.505254],[36.068941,29.197495],[34.956037,29.356555]],[[34.956037,29.356555],[34.922603,29.501326]],[[35.397561,31.489086],[35.545252,31.782505],[35.545665,32.393992]],[[134.638428,34.149234],[134.766379,33.806335],[134.203416,33.201178],[133.79295,33.521985],[133.280268,33.28957],[133.014858,32.704567],[132.363115,32.989382],[132.371176,33.463642],[132.924373,34.060299],[133.492968,33.944621],[133.904106,34.364931],[134.638428,34.149234]],[[140.976388,37.142074],[140.59977,36.343983],[140.774074,35.842877],[140.253279,35.138114],[138.975528,34.6676],[137.217599,34.606286],[135.792983,33.464805],[135.120983,33.849071],[135.079435,34.596545],[133.340316,34.375938],[132.156771,33.904933],[130.986145,33.885761],[132.000036,33.149992],[131.33279,31.450355],[130.686318,31.029579],[130.20242,31.418238],[130.447676,32.319475],[129.814692,32.61031],[129.408463,33.296056],[130.353935,33.604151],[130.878451,34.232743],[131.884229,34.749714],[132.617673,35.433393],[134.608301,35.731618],[135.677538,35.527134],[136.723831,37.304984],[137.390612,36.827391],[138.857602,37.827485],[139.426405,38.215962],[140.05479,39.438807],[139.883379,40.563312],[140.305783,41.195005],[141.368973,41.37856],[141.914263,39.991616],[141.884601,39.180865],[140.959489,38.174001],[140.976388,37.142074]],[[143.910162,44.1741],[144.613427,43.960883],[145.320825,44.384733],[145.543137,43.262088],[144.059662,42.988358],[143.18385,41.995215],[141.611491,42.678791],[141.067286,41.584594],[139.955106,41.569556],[139.817544,42.563759],[140.312087,43.333273],[141.380549,43.388825],[141.671952,44.772125],[141.967645,45.551483],[143.14287,44.510358],[143.910162,44.1741]],[[70.962315,42.266154],[70.388965,42.081308],[69.070027,41.384244],[68.632483,40.668681],[68.259896,40.662325],[67.985856,41.135991],[66.714047,41.168444],[66.510649,41.987644],[66.023392,41.994646],[66.098012,42.99766],[64.900824,43.728081],[63.185787,43.650075],[62.0133,43.504477],[61.05832,44.405817],[60.239972,44.784037],[58.689989,45.500014],[58.503127,45.586804],[55.928917,44.995858],[55.968191,41.308642]],[[55.968191,41.308642],[55.455251,41.259859],[54.755345,42.043971],[54.079418,42.324109],[52.944293,42.116034],[52.50246,41.783316]],[[52.50246,41.783316],[52.446339,42.027151],[52.692112,42.443895],[52.501426,42.792298],[51.342427,43.132975],[50.891292,44.031034],[50.339129,44.284016],[50.305643,44.609836],[51.278503,44.514854],[51.316899,45.245998],[52.16739,45.408391],[53.040876,45.259047],[53.220866,46.234646],[53.042737,46.853006],[52.042023,46.804637],[51.191945,47.048705],[50.034083,46.60899],[49.10116,46.39933]],[[49.10116,46.39933],[48.593241,46.561034],[48.694734,47.075628]],[[48.694734,47.075628],[48.057253,47.743753],[47.315231,47.715847],[46.466446,48.394152]],[[46.466446,48.394152],[47.043672,49.152039],[46.751596,49.356006],[47.54948,50.454698],[48.577841,49.87476],[48.702382,50.605128],[50.766648,51.692762],[52.328724,51.718652],[54.532878,51.02624]],[[54.532878,51.02624],[55.716941,50.621717],[56.777961,51.043551],[58.363291,51.063653],[59.642282,50.545442]],[[59.642282,50.545442],[59.932807,50.842194],[61.337424,50.79907],[61.588003,51.272659],[59.967534,51.96042],[60.927269,52.447548],[60.739993,52.719986],[61.699986,52.979996],[60.978066,53.664993]],[[60.978066,53.664993],[61.436591,54.006265],[65.178534,54.354228]],[[65.178534,54.354228],[65.666876,54.601267],[68.1691,54.970392]],[[68.1691,54.970392],[69.068167,55.38525],[70.865267,55.169734],[71.180131,54.133285],[72.22415,54.376655],[73.508516,54.035617],[73.425679,53.48981]],[[73.425679,53.48981],[74.384845,53.546861],[76.8911,54.490524]],[[76.8911,54.490524],[76.525179,54.177003],[77.800916,53.404415],[80.03556,50.864751],[80.568447,51.388336],[81.945986,50.812196],[83.383004,51.069183],[83.935115,50.889246],[84.416377,50.3114],[85.11556,50.117303],[85.54127,49.692859],[86.829357,49.826675],[87.35997,49.214981]],[[80.25999,42.349999],[79.643645,42.496683],[79.142177,42.856092],[77.658392,42.960686],[76.000354,42.988022],[75.636965,42.8779],[74.212866,43.298339],[73.645304,43.091272],[73.489758,42.500894],[71.844638,42.845395],[71.186281,42.704293],[70.962315,42.266154]],[[41.58513,-1.68325],[40.88477,-2.08255],[40.63785,-2.49979],[40.26304,-2.57309],[40.12119,-3.27768],[39.80006,-3.68116],[39.60489,-4.34653],[39.20222,-4.67677]],[[39.20222,-4.67677],[37.7669,-3.67712],[37.69869,-3.09699],[34.07262,-1.05982],[33.903711,-.95]],[[33.903711,-.95],[33.893569,.109814],[34.18,.515],[34.6721,1.17694],[35.03599,1.90584],[34.59607,3.05374],[34.47913,3.5556],[34.005,4.249885]],[[34.005,4.249885],[34.620196,4.847123],[35.298007,5.506]],[[41.855083,3.918912],[40.98105,2.78452],[40.993,-.85829],[41.58513,-1.68325]],[[73.675379,39.431237],[71.784694,39.279463],[70.549162,39.604198],[69.464887,39.526683],[69.55961,40.103211],[70.648019,39.935754],[71.014198,40.244366]],[[71.014198,40.244366],[71.774875,40.145844],[73.055417,40.866033],[71.870115,41.3929],[71.157859,41.143587],[70.420022,41.519998],[71.259248,42.167711],[70.962315,42.266154]],[[102.584932,12.186595],[102.348099,13.394247],[102.988422,14.225721],[104.281418,14.416743],[105.218777,14.273212]],[[105.218777,14.273212],[106.043946,13.881091],[106.496373,14.570584],[107.382727,14.202441]],[[107.382727,14.202441],[107.614548,13.535531],[107.491403,12.337206],[105.810524,11.567615],[106.24967,10.961812],[105.199915,10.88931],[104.334335,10.486544]],[[104.334335,10.486544],[103.49728,10.632555],[103.09069,11.153661],[102.584932,12.186595]],[[128.349716,38.612243],[129.21292,37.432392],[129.46045,36.784189],[129.468304,35.632141],[129.091377,35.082484],[128.18585,34.890377],[127.386519,34.475674],[126.485748,34.390046],[126.37392,34.93456],[126.559231,35.684541],[126.117398,36.725485],[126.860143,36.893924],[126.174759,37.749686]],[[126.174759,37.749686],[126.237339,37.840378],[126.68372,37.804773],[127.073309,38.256115],[127.780035,38.304536],[128.205746,38.370397],[128.349716,38.612243]],[[20.59023,41.85541],[20.52295,42.21787]],[[20.52295,42.21787],[20.28374,42.32025],[20.0707,42.58863]],[[20.0707,42.58863],[20.25758,42.81275]],[[20.25758,42.81275],[20.49679,42.88469],[20.63508,43.21671],[20.81448,43.27205],[20.95651,43.13094],[21.143395,43.068685],[21.27421,42.90959],[21.43866,42.86255],[21.63302,42.67717],[21.77505,42.6827],[21.66292,42.43922],[21.54332,42.32025],[21.576636,42.245224]],[[21.576636,42.245224],[21.3527,42.2068],[20.76216,42.05186],[20.71731,41.84711],[20.59023,41.85541]],[[47.974519,29.975819],[48.183189,29.534477],[48.093943,29.306299],[48.416094,28.552004]],[[48.416094,28.552004],[47.708851,28.526063],[47.459822,29.002519],[46.568713,29.099025]],[[105.218777,14.273212],[105.544338,14.723934],[105.589039,15.570316],[104.779321,16.441865],[104.716947,17.428859],[103.956477,18.240954],[103.200192,18.309632],[102.998706,17.961695],[102.413005,17.932782],[102.113592,18.109102],[101.059548,17.512497],[101.035931,18.408928],[101.282015,19.462585],[100.606294,19.508344],[100.548881,20.109238],[100.115988,20.41785]],[[100.115988,20.41785],[100.329101,20.786122],[101.180005,21.436573]],[[102.170436,22.464753],[102.754896,21.675137],[103.203861,20.766562],[104.435,20.758733],[104.822574,19.886642],[104.183388,19.624668],[103.896532,19.265181],[105.094598,18.666975],[105.925762,17.485315],[106.556008,16.604284],[107.312706,15.908538],[107.564525,15.202173],[107.382727,14.202441]],[[35.126053,33.0909],[35.482207,33.90545],[35.979592,34.610058],[35.998403,34.644914]],[[35.998403,34.644914],[36.448194,34.593935],[36.61175,34.201789],[36.06646,33.824912],[35.821101,33.277426]],[[-7.712159,4.364566],[-7.974107,4.355755],[-9.004794,4.832419],[-9.91342,5.593561],[-10.765384,6.140711],[-11.438779,6.785917]],[[-11.438779,6.785917],[-11.199802,7.105846],[-11.146704,7.396706],[-10.695595,7.939464],[-10.230094,8.406206]],[[14.8513,22.86295],[14.143871,22.491289],[13.581425,23.040506],[11.999506,23.471668]],[[9.48214,30.307556],[9.970017,30.539325],[10.056575,30.961831],[9.950225,31.37607],[10.636901,31.761421],[10.94479,32.081815],[11.432253,32.368903],[11.488787,33.136996]],[[11.488787,33.136996],[12.66331,32.79278],[13.08326,32.87882],[13.91868,32.71196],[15.24563,32.26508],[15.71394,31.37626],[16.61162,31.18218],[18.02109,30.76357],[19.08641,30.26639],[19.57404,30.52582],[20.05335,30.98576],[19.82033,31.75179],[20.13397,32.2382],[20.85452,32.7068],[21.54298,32.8432],[22.89576,32.63858],[23.2368,32.19149],[23.60913,32.18726],[23.9275,32.01667],[24.92114,31.89936],[25.16482,31.56915]],[[25,22],[25,20.00304],[23.85,20],[23.83766,19.58047]],[[23.83766,19.58047],[19.84926,21.49509],[15.86085,23.40972],[14.8513,22.86295]],[[81.787959,7.523055],[81.637322,6.481775],[81.21802,6.197141],[80.348357,5.96837],[79.872469,6.763463],[79.695167,8.200843],[80.147801,9.824078],[80.838818,9.268427],[81.304319,8.564206],[81.787959,7.523055]],[[28.978263,-28.955597],[29.325166,-29.257387],[29.018415,-29.743766],[28.8484,-30.070051],[28.291069,-30.226217],[28.107205,-30.545732],[27.749397,-30.645106],[26.999262,-29.875954],[27.532511,-29.242711],[28.074338,-28.851469],[28.5417,-28.647502],[28.978263,-28.955597]],[[22.731099,54.327537],[22.651052,54.582741],[22.757764,54.856574],[22.315724,55.015299],[21.268449,55.190482]],[[21.268449,55.190482],[21.0558,56.031076]],[[21.0558,56.031076],[22.201157,56.337802],[23.878264,56.273671],[24.860684,56.372528],[25.000934,56.164531],[25.533047,56.100297],[26.494331,55.615107]],[[23.484128,53.912498],[23.243987,54.220567],[22.731099,54.327537]],[[21.0558,56.031076],[21.090424,56.783873],[21.581866,57.411871],[22.524341,57.753374],[23.318453,57.006236],[24.12073,57.025693],[24.312863,57.793424]],[[27.288185,57.474528],[27.770016,57.244258],[27.855282,56.759326],[28.176709,56.16913]],[[-8.66559,27.6],[-13.0953665818028,27.6]],[[-13.0953665818028,27.6],[-12.360674033948428,28.164869967003586],[-10.900957,28.832142],[-10.399592,29.098586],[-9.564811,29.933574],[-9.814718,31.177736],[-9.434793,32.038096],[-9.300693,32.564679],[-8.657476,33.240245],[-7.654178,33.697065],[-6.912544,34.110476],[-6.244342,35.145865],[-5.929994,35.759988],[-5.193863,35.755182],[-4.591006,35.330712],[-3.640057,35.399855],[-2.604306,35.179093],[-2.169914,35.168396]],[[26.619337,48.220726],[26.857824,48.368211],[27.522537,48.467119],[28.259547,48.155562],[28.670891,48.118149],[29.122698,47.849095],[29.050868,47.510227],[29.415135,47.346645],[29.559674,46.928583],[29.908852,46.674361],[29.83821,46.525326],[30.024659,46.423937],[29.759972,46.349988],[29.170654,46.379262],[29.072107,46.517678],[28.862972,46.437889],[28.933717,46.25883],[28.659987,45.939987],[28.485269,45.596907],[28.233554,45.488283]],[[28.233554,45.488283],[28.054443,45.944586],[28.160018,46.371563],[28.12803,46.810476],[27.551166,47.405117],[27.233873,47.826771],[26.924176,48.123264],[26.619337,48.220726]],[[49.543519,-12.469833],[49.808981,-12.895285],[50.056511,-13.555761],[50.217431,-14.758789],[50.476537,-15.226512],[50.377111,-15.706069],[50.200275,-16.000263],[49.860606,-15.414253],[49.672607,-15.710204],[49.863344,-16.451037],[49.774564,-16.875042],[49.498612,-17.106036],[49.435619,-17.953064],[49.041792,-19.118781],[48.548541,-20.496888],[47.930749,-22.391501],[47.547723,-23.781959],[47.095761,-24.94163],[46.282478,-25.178463],[45.409508,-25.601434],[44.833574,-25.346101],[44.03972,-24.988345],[43.763768,-24.460677],[43.697778,-23.574116],[43.345654,-22.776904],[43.254187,-22.057413],[43.433298,-21.336475],[43.893683,-21.163307],[43.89637,-20.830459],[44.374325,-20.072366],[44.464397,-19.435454],[44.232422,-18.961995],[44.042976,-18.331387],[43.963084,-17.409945],[44.312469,-16.850496],[44.446517,-16.216219],[44.944937,-16.179374],[45.502732,-15.974373],[45.872994,-15.793454],[46.312243,-15.780018],[46.882183,-15.210182],[47.70513,-14.594303],[48.005215,-14.091233],[47.869047,-13.663869],[48.293828,-13.784068],[48.84506,-13.089175],[48.863509,-12.487868],[49.194651,-12.040557],[49.543519,-12.469833]],[[-92.22775,14.538829],[-93.359464,15.61543],[-93.875169,15.940164],[-94.691656,16.200975],[-95.250227,16.128318],[-96.053382,15.752088],[-96.557434,15.653515],[-97.263592,15.917065],[-98.01303,16.107312],[-98.947676,16.566043],[-99.697397,16.706164],[-100.829499,17.171071],[-101.666089,17.649026],[-101.918528,17.91609],[-102.478132,17.975751],[-103.50099,18.292295],[-103.917527,18.748572],[-104.99201,19.316134],[-105.493038,19.946767],[-105.731396,20.434102],[-105.397773,20.531719],[-105.500661,20.816895],[-105.270752,21.076285],[-105.265817,21.422104],[-105.603161,21.871146],[-105.693414,22.26908],[-106.028716,22.773752],[-106.90998,23.767774],[-107.915449,24.548915],[-108.401905,25.172314],[-109.260199,25.580609],[-109.444089,25.824884],[-109.291644,26.442934],[-109.801458,26.676176],[-110.391732,27.162115],[-110.641019,27.859876],[-111.178919,27.941241],[-111.759607,28.467953],[-112.228235,28.954409],[-112.271824,29.266844],[-112.809594,30.021114],[-113.163811,30.786881],[-113.148669,31.170966],[-113.871881,31.567608],[-114.205737,31.524045],[-114.776451,31.799532],[-114.9367,31.393485],[-114.771232,30.913617],[-114.673899,30.162681],[-114.330974,29.750432],[-113.588875,29.061611],[-113.424053,28.826174],[-113.271969,28.754783],[-113.140039,28.411289],[-112.962298,28.42519],[-112.761587,27.780217],[-112.457911,27.525814],[-112.244952,27.171727],[-111.616489,26.662817],[-111.284675,25.73259],[-110.987819,25.294606],[-110.710007,24.826004],[-110.655049,24.298595],[-110.172856,24.265548],[-109.771847,23.811183],[-109.409104,23.364672],[-109.433392,23.185588],[-109.854219,22.818272],[-110.031392,22.823078],[-110.295071,23.430973],[-110.949501,24.000964],[-111.670568,24.484423],[-112.182036,24.738413],[-112.148989,25.470125],[-112.300711,26.012004],[-112.777297,26.32196],[-113.464671,26.768186],[-113.59673,26.63946],[-113.848937,26.900064],[-114.465747,27.14209],[-115.055142,27.722727],[-114.982253,27.7982],[-114.570366,27.741485],[-114.199329,28.115003],[-114.162018,28.566112],[-114.931842,29.279479],[-115.518654,29.556362],[-115.887365,30.180794],[-116.25835,30.836464],[-116.721526,31.635744],[-117.12776,32.53534]],[[-117.12776,32.53534],[-115.99135,32.61239],[-114.72139,32.72083],[-114.815,32.52528],[-113.30498,32.03914],[-111.02361,31.33472],[-109.035,31.34194],[-108.24194,31.34222],[-108.24,31.754854],[-106.50759,31.75452],[-106.1429,31.39995],[-105.63159,31.08383],[-105.03737,30.64402],[-104.70575,30.12173],[-104.45697,29.57196],[-103.94,29.27],[-103.11,28.97],[-102.48,29.76],[-101.6624,29.7793],[-100.9576,29.38071],[-100.45584,28.69612],[-100.11,28.11],[-99.52,27.54],[-99.3,26.84],[-99.02,26.37],[-98.24,26.06],[-97.53,25.84]],[[-97.53,25.84],[-97.140008,25.869997],[-97.528072,24.992144],[-97.702946,24.272343],[-97.776042,22.93258],[-97.872367,22.444212],[-97.699044,21.898689],[-97.38896,21.411019],[-97.189333,20.635433],[-96.525576,19.890931],[-96.292127,19.320371],[-95.900885,18.828024],[-94.839063,18.562717],[-94.42573,18.144371],[-93.548651,18.423837],[-92.786114,18.524839],[-92.037348,18.704569],[-91.407903,18.876083],[-90.77187,19.28412],[-90.53359,19.867418],[-90.451476,20.707522],[-90.278618,20.999855],[-89.601321,21.261726],[-88.543866,21.493675],[-87.658417,21.458846],[-87.05189,21.543543],[-86.811982,21.331515],[-86.845908,20.849865],[-87.383291,20.255405],[-87.621054,19.646553],[-87.43675,19.472403],[-87.58656,19.04013],[-87.837191,18.259816],[-88.090664,18.516648],[-88.300031,18.499982]],[[21.576636,42.245224],[21.91708,42.30364],[22.380526,42.32026]],[[21.02004,40.842727],[20.60518,41.08622],[20.46315,41.51509],[20.59023,41.85541]],[[-12.17075,14.616834],[-11.834208,14.799097],[-11.666078,15.388208],[-11.349095,15.411256],[-10.650791,15.132746],[-10.086846,15.330486],[-9.700255,15.264107],[-9.550238,15.486497],[-5.537744,15.50169],[-5.315277,16.201854],[-5.488523,16.325102],[-5.971129,20.640833],[-6.453787,24.956591],[-4.923337,24.974574]],[[4.267419,19.155265],[4.27021,16.852227],[3.723422,16.184284],[3.638259,15.56812],[2.749993,15.409525],[1.385528,15.323561],[1.015783,14.968182],[.374892,14.928908]],[[-11.513943,12.442988],[-11.467899,12.754519],[-11.553398,13.141214],[-11.927716,13.422075],[-12.124887,13.994727],[-12.17075,14.616834]],[[98.553551,9.93296],[98.457174,10.675266],[98.764546,11.441292],[98.428339,12.032987],[98.509574,13.122378],[98.103604,13.64046],[97.777732,14.837286],[97.597072,16.100568],[97.16454,16.928734],[96.505769,16.427241],[95.369352,15.71439],[94.808405,15.803454],[94.188804,16.037936],[94.533486,17.27724],[94.324817,18.213514],[93.540988,19.366493],[93.663255,19.726962],[93.078278,19.855145],[92.368554,20.670883]],[[100.115988,20.41785],[99.543309,20.186598],[98.959676,19.752981],[98.253724,19.708203],[97.797783,18.62708],[97.375896,18.445438],[97.859123,17.567946],[98.493761,16.837836],[98.903348,16.177824],[98.537376,15.308497],[98.192074,15.123703],[98.430819,14.622028],[99.097755,13.827503],[99.212012,13.269294],[99.196354,12.804748],[99.587286,11.892763],[99.038121,10.960546],[98.553551,9.93296]],[[19.738051,42.688247],[19.30449,42.19574],[19.37177,41.87755],[19.16246,41.95502],[18.88214,42.28151],[18.45,42.48],[18.56,42.65]],[[19.21852,43.52384],[19.48389,43.35229],[19.63,43.21378],[19.95857,43.10604],[20.3398,42.89852],[20.25758,42.81275]],[[87.751264,49.297198],[88.805567,49.470521],[90.713667,50.331812],[92.234712,50.802171]],[[92.234712,50.802171],[93.104219,50.49529],[94.147566,50.480537]],[[94.147566,50.480537],[94.815949,50.013433]],[[94.815949,50.013433],[95.814028,49.977467],[97.259728,49.726061],[98.231762,50.422401]],[[98.231762,50.422401],[97.82574,51.010995],[98.861491,52.047366],[99.981732,51.634006],[100.88948,51.516856]],[[100.88948,51.516856],[102.065223,51.259921],[102.255909,50.510561],[103.676545,50.089966]],[[103.676545,50.089966],[104.621552,50.275329],[105.886591,50.406019]],[[105.886591,50.406019],[106.888804,50.274296],[107.868176,49.793705],[108.475167,49.282548],[109.402449,49.292961],[110.662011,49.130128],[111.581231,49.377968],[112.89774,49.543565],[114.362456,50.248303],[114.96211,50.140247],[115.485695,49.805177],[116.678801,49.888531]],[[34.559989,-11.52002],[35.312398,-11.439146],[36.514082,-11.720938],[36.775151,-11.594537]],[[36.775151,-11.594537],[37.471284,-11.568751],[37.827645,-11.268769],[38.427557,-11.285202]],[[38.427557,-11.285202],[39.52103,-10.896854],[40.316589,-10.317096],[40.478387,-10.765441],[40.437253,-11.761711],[40.560811,-12.639177],[40.59962,-14.201975],[40.775475,-14.691764],[40.477251,-15.406294],[40.089264,-16.100774],[39.452559,-16.720891],[38.538351,-17.101023],[37.411133,-17.586368],[36.281279,-18.659688],[35.896497,-18.84226],[35.1984,-19.552811],[34.786383,-19.784012],[34.701893,-20.497043],[35.176127,-21.254361],[35.373428,-21.840837],[35.385848,-22.14],[35.562546,-22.09],[35.533935,-23.070788],[35.371774,-23.535359],[35.60747,-23.706563],[35.458746,-24.12261],[35.040735,-24.478351],[34.215824,-24.816314],[33.01321,-25.357573],[32.574632,-25.727318],[32.660363,-26.148584],[32.915955,-26.215867],[32.83012,-26.742192]],[[32.83012,-26.742192],[32.071665,-26.73382]],[[32.071665,-26.73382],[31.985779,-26.29178],[31.837778,-25.843332]],[[31.837778,-25.843332],[31.752408,-25.484284],[31.930589,-24.369417],[31.670398,-23.658969],[31.191409,-22.25151]],[[31.191409,-22.25151],[32.244988,-21.116489],[32.508693,-20.395292],[32.659743,-20.30429],[32.772708,-19.715592],[32.611994,-19.419383],[32.654886,-18.67209],[32.849861,-17.979057],[32.847639,-16.713398],[32.328239,-16.392074],[31.852041,-16.319417],[31.636498,-16.07199],[31.173064,-15.860944],[30.338955,-15.880839],[30.274256,-15.507787]],[[30.274256,-15.507787],[30.179481,-14.796099],[33.214025,-13.97186]],[[33.214025,-13.97186],[33.7897,-14.451831],[34.064825,-14.35995],[34.459633,-14.61301],[34.517666,-15.013709],[34.307291,-15.478641],[34.381292,-16.18356],[35.03381,-16.8013],[35.339063,-16.10744],[35.771905,-15.896859],[35.686845,-14.611046],[35.267956,-13.887834],[34.907151,-13.565425],[34.559989,-13.579998],[34.280006,-12.280025],[34.559989,-11.52002]],[[-12.17075,14.616834],[-12.830658,15.303692],[-13.435738,16.039383],[-14.099521,16.304302],[-14.577348,16.598264],[-15.135737,16.587282],[-15.623666,16.369337],[-16.12069,16.455663],[-16.463098,16.135036]],[[-16.463098,16.135036],[-16.549708,16.673892],[-16.270552,17.166963],[-16.146347,18.108482],[-16.256883,19.096716],[-16.377651,19.593817],[-16.277838,20.092521],[-16.536324,20.567866],[-17.063423,20.999752]],[[-17.063423,20.999752],[-16.845194,21.333323],[-12.929102,21.327071],[-13.118754,22.77122],[-12.874222,23.284832],[-11.937224,23.374594],[-11.969419,25.933353],[-8.687294,25.881056],[-8.6844,27.395744]],[[33.214025,-13.97186],[32.688165,-13.712858],[32.991764,-12.783871],[33.306422,-12.435778],[33.114289,-11.607198],[33.31531,-10.79655],[33.485688,-10.525559],[33.231388,-9.676722],[32.759375,-9.230599]],[[32.759375,-9.230599],[33.739729,-9.417151],[33.940838,-9.693674]],[[33.940838,-9.693674],[34.280006,-10.16],[34.559989,-11.52002]],[[102.141187,6.221636],[102.371147,6.128205],[102.961705,5.524495],[103.381215,4.855001],[103.438575,4.181606],[103.332122,3.726698],[103.429429,3.382869],[103.502448,2.791019],[103.854674,2.515454],[104.24920028287048,1.629873113952467],[104.28557629432274,1.373567897681572],[104.126080087493,1.27402861451777]],[[104.126080087493,1.27402861451777],[103.74037541366759,1.131348126577838],[103.562828617596,1.19209804885879]],[[103.562828617596,1.19209804885879],[102.573615,1.967115],[101.390638,2.760814],[101.27354,3.270292],[100.695435,3.93914],[100.557408,4.76728],[100.196706,5.312493],[100.30626,6.040562],[100.085757,6.464489]],[[100.085757,6.464489],[100.259596,6.642825],[101.075516,6.204867],[101.154219,5.691384],[101.814282,5.810808],[102.141187,6.221636]],[[109.66326,2.006467],[110.396135,1.663775],[111.168853,1.850637],[111.370081,2.697303],[111.796928,2.885897],[112.995615,3.102395],[113.712935,3.893509],[114.204017,4.525874]],[[115.45071,5.44773],[116.220741,6.143191],[116.725103,6.924771],[117.129626,6.928053],[117.643393,6.422166],[117.689075,5.98749],[118.347691,5.708696],[119.181904,5.407836],[119.110694,5.016128],[118.439727,4.966519],[118.618321,4.478202],[117.882035,4.137551]],[[16.344977,-28.576705],[15.601818,-27.821247],[15.210472,-27.090956],[14.989711,-26.117372],[14.743214,-25.39292],[14.408144,-23.853014],[14.385717,-22.656653],[14.257714,-22.111208],[13.868642,-21.699037],[13.352498,-20.872834],[12.826845,-19.673166],[12.608564,-19.045349],[11.794919,-18.069129],[11.734199,-17.301889]],[[23.215048,-17.523116],[24.033862,-17.295843],[24.682349,-17.353411],[25.07695,-17.578823],[25.084443,-17.661816]],[[19.895768,-24.76779],[19.894734,-28.461105],[19.002127,-28.972443],[18.464899,-29.045462],[17.836152,-28.856378],[17.387497,-28.783514],[17.218929,-28.355943],[16.824017,-28.082162],[16.344977,-28.576705]],[[165.77999,-21.080005],[166.599991,-21.700019],[167.120011,-22.159991],[166.740035,-22.399976],[166.189732,-22.129708],[165.474375,-21.679607],[164.829815,-21.14982],[164.167995,-20.444747],[164.029606,-20.105646],[164.459967,-20.120012],[165.020036,-20.459991],[165.460009,-20.800022],[165.77999,-21.080005]],[[14.8513,22.86295],[15.096888,21.308519]],[[15.096888,21.308519],[15.471077,21.048457],[15.487148,20.730415]],[[15.487148,20.730415],[15.903247,20.387619],[15.685741,19.95718],[15.300441,17.92795],[15.247731,16.627306]],[[15.247731,16.627306],[13.972202,15.684366],[13.540394,14.367134]],[[13.540394,14.367134],[13.956699,13.996691],[13.954477,13.353449],[14.595781,13.330427],[14.495787,12.859396]],[[14.181336,12.483657],[13.995353,12.461565],[13.318702,13.556356],[13.083987,13.596147],[12.302071,13.037189],[11.527803,13.32898],[10.989593,13.387323],[10.701032,13.246918],[10.114814,13.277252],[9.524928,12.851102],[9.014933,12.826659],[7.804671,13.343527],[7.330747,13.098038],[6.820442,13.115091],[6.445426,13.492768],[5.443058,13.865924],[4.368344,13.747482],[4.107946,13.531216],[3.967283,12.956109],[3.680634,12.552903],[3.61118,11.660167]],[[8.500288,4.771983],[7.462108,4.412108],[7.082596,4.464689],[6.698072,4.240594],[5.898173,4.262453],[5.362805,4.887971],[5.033574,5.611802],[4.325607,6.270651],[3.57418,6.2583],[2.691702,6.258817]],[[-85.71254,11.088445],[-86.058488,11.403439],[-86.52585,11.806877],[-86.745992,12.143962],[-87.167516,12.458258],[-87.668493,12.90991],[-87.557467,13.064552],[-87.392386,12.914018],[-87.316654,12.984686]],[[-83.147219,14.995829],[-83.233234,14.899866],[-83.284162,14.676624],[-83.182126,14.310703],[-83.4125,13.970078],[-83.519832,13.567699],[-83.552207,13.127054],[-83.498515,12.869292],[-83.473323,12.419087],[-83.626104,12.32085],[-83.719613,11.893124],[-83.650858,11.629032],[-83.85547,11.373311],[-83.808936,11.103044],[-83.655612,10.938764]],[[4.047071,51.267259],[3.314971,51.345755],[3.830289,51.620545],[4.705997,53.091798],[6.074183,53.510403],[6.90514,53.482162]],[[20.645593,69.106247],[20.025269,69.065139],[19.87856,68.407194],[17.993868,68.567391],[17.729182,68.010552],[16.768879,68.013937],[16.108712,67.302456],[15.108411,66.193867],[13.55569,64.787028],[13.919905,64.445421],[13.571916,64.049114],[12.579935,64.066219],[11.930569,63.128318],[11.992064,61.800362],[12.631147,61.293572],[12.300366,60.117933],[11.468272,59.432393],[11.027369,58.856149]],[[11.027369,58.856149],[10.356557,59.469807],[8.382,58.313288],[7.048748,58.078884],[5.665835,58.588155],[5.308234,59.663232],[4.992078,61.970998],[5.9129,62.614473],[8.553411,63.454008],[10.527709,64.486038],[12.358347,65.879726],[14.761146,67.810642],[16.435927,68.563205],[19.184028,69.817444],[21.378416,70.255169],[23.023742,70.202072],[24.546543,71.030497],[26.37005,70.986262],[28.165547,71.185474],[31.293418,70.453788],[30.005435,70.186259],[31.101079,69.55808],[29.399581,69.156916],[28.59193,69.064777]],[[24.72412,77.85385],[22.49032,77.44493],[20.72601,77.67704],[21.41611,77.93504],[20.8119,78.25463],[22.88426,78.45494],[23.28134,78.07954],[24.72412,77.85385]],[[18.25183,79.70175],[21.54383,78.95611],[19.02737,78.5626],[18.47172,77.82669],[17.59441,77.63796],[17.1182,76.80941],[15.91315,76.77045],[13.76259,77.38035],[14.66956,77.73565],[13.1706,78.02493],[11.22231,78.8693],[10.44453,79.65239],[13.17077,80.01046],[13.71852,79.66039],[15.14282,79.67431],[15.52255,80.01608],[16.99085,80.05086],[18.25183,79.70175]],[[25.447625,80.40734],[27.407506,80.056406],[25.924651,79.517834],[23.024466,79.400012],[20.075188,79.566823],[19.897266,79.842362],[18.462264,79.85988],[17.368015,80.318896],[20.455992,80.598156],[21.907945,80.357679],[22.919253,80.657144],[25.447625,80.40734]],[[173.020375,-40.919052],[173.247234,-41.331999],[173.958405,-40.926701],[174.247587,-41.349155],[174.248517,-41.770008],[173.876447,-42.233184],[173.22274,-42.970038],[172.711246,-43.372288],[173.080113,-43.853344],[172.308584,-43.865694],[171.452925,-44.242519],[171.185138,-44.897104],[170.616697,-45.908929],[169.831422,-46.355775],[169.332331,-46.641235],[168.411354,-46.619945],[167.763745,-46.290197],[166.676886,-46.219917],[166.509144,-45.852705],[167.046424,-45.110941],[168.303763,-44.123973],[168.949409,-43.935819],[169.667815,-43.555326],[170.52492,-43.031688],[171.12509,-42.512754],[171.569714,-41.767424],[171.948709,-41.514417],[172.097227,-40.956104],[172.79858,-40.493962],[173.020375,-40.919052]],[[174.612009,-36.156397],[175.336616,-37.209098],[175.357596,-36.526194],[175.808887,-36.798942],[175.95849,-37.555382],[176.763195,-37.881253],[177.438813,-37.961248],[178.010354,-37.579825],[178.517094,-37.695373],[178.274731,-38.582813],[177.97046,-39.166343],[177.206993,-39.145776],[176.939981,-39.449736],[177.032946,-39.879943],[176.885824,-40.065978],[176.508017,-40.604808],[176.01244,-41.289624],[175.239567,-41.688308],[175.067898,-41.425895],[174.650973,-41.281821],[175.22763,-40.459236],[174.900157,-39.908933],[173.824047,-39.508854],[173.852262,-39.146602],[174.574802,-38.797683],[174.743474,-38.027808],[174.697017,-37.381129],[174.292028,-36.711092],[174.319004,-36.534824],[173.840997,-36.121981],[173.054171,-35.237125],[172.636005,-34.529107],[173.007042,-34.450662],[173.551298,-35.006183],[174.32939,-35.265496],[174.612009,-36.156397]],[[53.108573,16.651051],[52.782184,17.349742],[52.00001,19.000003]],[[52.00001,19.000003],[54.999982,19.999994],[55.666659,22.000001],[55.208341,22.70833]],[[56.396847,24.924732],[56.84514,24.241673],[57.403453,23.878594],[58.136948,23.747931],[58.729211,23.565668],[59.180502,22.992395],[59.450098,22.660271],[59.80806,22.533612],[59.806148,22.310525],[59.442191,21.714541],[59.282408,21.433886],[58.861141,21.114035],[58.487986,20.428986],[58.034318,20.481437],[57.826373,20.243002],[57.665762,19.736005],[57.7887,19.06757],[57.694391,18.94471],[57.234264,18.947991],[56.609651,18.574267],[56.512189,18.087113],[56.283521,17.876067],[55.661492,17.884128],[55.269939,17.632309],[55.2749,17.228354],[54.791002,16.950697],[54.239253,17.044981],[53.570508,16.707663],[53.108573,16.651051]],[[56.070821,26.055464],[56.362017,26.395934],[56.485679,26.309118],[56.391421,25.895991],[56.261042,25.714606]],[[68.176645,23.691965],[67.443667,23.944844],[67.145442,24.663611],[66.372828,25.425141],[64.530408,25.237039],[62.905701,25.218409],[61.497363,25.078237]],[[-77.881571,7.223771],[-78.214936,7.512255],[-78.429161,8.052041],[-78.182096,8.319182],[-78.435465,8.387705],[-78.622121,8.718124],[-79.120307,8.996092],[-79.557877,8.932375],[-79.760578,8.584515],[-80.164481,8.333316],[-80.382659,8.298409],[-80.480689,8.090308],[-80.00369,7.547524],[-80.276671,7.419754],[-80.421158,7.271572],[-80.886401,7.220541],[-81.059543,7.817921],[-81.189716,7.647906],[-81.519515,7.70661],[-81.721311,8.108963],[-82.131441,8.175393],[-82.390934,8.292362],[-82.820081,8.290864],[-82.850958,8.073823],[-82.965783,8.225028]],[[-82.546196,9.566135],[-82.187123,9.207449],[-82.207586,8.995575],[-81.808567,8.950617],[-81.714154,9.031955],[-81.439287,8.786234],[-80.947302,8.858504],[-80.521901,9.111072],[-79.9146,9.312765],[-79.573303,9.61161],[-79.021192,9.552931],[-79.05845,9.454565],[-78.500888,9.420459],[-78.055928,9.24773],[-77.729514,8.946844],[-77.353361,8.670505]],[[-70.372572,-18.347975],[-71.37525,-17.773799],[-71.462041,-17.363488],[-73.44453,-16.359363],[-75.237883,-15.265683],[-76.009205,-14.649286],[-76.423469,-13.823187],[-76.259242,-13.535039],[-77.106192,-12.222716],[-78.092153,-10.377712],[-79.036953,-8.386568],[-79.44592,-7.930833],[-79.760578,-7.194341],[-80.537482,-6.541668],[-81.249996,-6.136834],[-80.926347,-5.690557],[-81.410943,-4.736765],[-81.09967,-4.036394],[-80.302561,-3.404856]],[[126.376814,8.414706],[126.478513,7.750354],[126.537424,7.189381],[126.196773,6.274294],[125.831421,7.293715],[125.363852,6.786485],[125.683161,6.049657],[125.396512,5.581003],[124.219788,6.161355],[123.93872,6.885136],[124.243662,7.36061],[123.610212,7.833527],[123.296071,7.418876],[122.825506,7.457375],[122.085499,6.899424],[121.919928,7.192119],[122.312359,8.034962],[122.942398,8.316237],[123.487688,8.69301],[123.841154,8.240324],[124.60147,8.514158],[124.764612,8.960409],[125.471391,8.986997],[125.412118,9.760335],[126.222714,9.286074],[126.306637,8.782487],[126.376814,8.414706]],[[123.982438,10.278779],[123.623183,9.950091],[123.309921,9.318269],[122.995883,9.022189],[122.380055,9.713361],[122.586089,9.981045],[122.837081,10.261157],[122.947411,10.881868],[123.49885,10.940624],[123.337774,10.267384],[124.077936,11.232726],[123.982438,10.278779]],[[118.504581,9.316383],[117.174275,8.3675],[117.664477,9.066889],[118.386914,9.6845],[118.987342,10.376292],[119.511496,11.369668],[119.689677,10.554291],[119.029458,10.003653],[118.504581,9.316383]],[[121.883548,11.891755],[122.483821,11.582187],[123.120217,11.58366],[123.100838,11.165934],[122.637714,10.741308],[122.00261,10.441017],[121.967367,10.905691],[122.03837,11.415841],[121.883548,11.891755]],[[125.502552,12.162695],[125.783465,11.046122],[125.011884,11.311455],[125.032761,10.975816],[125.277449,10.358722],[124.801819,10.134679],[124.760168,10.837995],[124.459101,10.88993],[124.302522,11.495371],[124.891013,11.415583],[124.87799,11.79419],[124.266762,12.557761],[125.227116,12.535721],[125.502552,12.162695]],[[121.527394,13.06959],[121.26219,12.20556],[120.833896,12.704496],[120.323436,13.466413],[121.180128,13.429697],[121.527394,13.06959]],[[121.321308,18.504065],[121.937601,18.218552],[122.246006,18.47895],[122.336957,18.224883],[122.174279,17.810283],[122.515654,17.093505],[122.252311,16.262444],[121.662786,15.931018],[121.50507,15.124814],[121.728829,14.328376],[122.258925,14.218202],[122.701276,14.336541],[123.950295,13.782131],[123.855107,13.237771],[124.181289,12.997527],[124.077419,12.536677],[123.298035,13.027526],[122.928652,13.55292],[122.671355,13.185836],[122.03465,13.784482],[121.126385,13.636687],[120.628637,13.857656],[120.679384,14.271016],[120.991819,14.525393],[120.693336,14.756671],[120.564145,14.396279],[120.070429,14.970869],[119.920929,15.406347],[119.883773,16.363704],[120.286488,16.034629],[120.390047,17.599081],[120.715867,18.505227],[121.321308,18.504065]],[[155.880026,-6.819997],[155.599991,-6.919991],[155.166994,-6.535931],[154.729192,-5.900828],[154.514114,-5.139118],[154.652504,-5.042431],[154.759991,-5.339984],[155.062918,-5.566792],[155.547746,-6.200655],[156.019965,-6.540014],[155.880026,-6.819997]],[[151.982796,-5.478063],[151.459107,-5.56028],[151.30139,-5.840728],[150.754447,-6.083763],[150.241197,-6.317754],[149.709963,-6.316513],[148.890065,-6.02604],[148.318937,-5.747142],[148.401826,-5.437756],[149.298412,-5.583742],[149.845562,-5.505503],[149.99625,-5.026101],[150.139756,-5.001348],[150.236908,-5.53222],[150.807467,-5.455842],[151.089672,-5.113693],[151.647881,-4.757074],[151.537862,-4.167807],[152.136792,-4.14879],[152.338743,-4.312966],[152.318693,-4.867661],[151.982796,-5.478063]],[[141.00021,-2.600151],[142.735247,-3.289153],[144.583971,-3.861418],[145.27318,-4.373738],[145.829786,-4.876498],[145.981922,-5.465609],[147.648073,-6.083659],[147.891108,-6.614015],[146.970905,-6.721657],[147.191874,-7.388024],[148.084636,-8.044108],[148.734105,-9.104664],[149.306835,-9.071436],[149.266631,-9.514406],[150.038728,-9.684318],[149.738798,-9.872937],[150.801628,-10.293687],[150.690575,-10.582713],[150.028393,-10.652476],[149.78231,-10.393267],[148.923138,-10.280923],[147.913018,-10.130441],[147.135443,-9.492444],[146.567881,-8.942555],[146.048481,-8.067414],[144.744168,-7.630128],[143.897088,-7.91533],[143.286376,-8.245491],[143.413913,-8.983069],[142.628431,-9.326821],[142.068259,-9.159596],[141.033852,-9.117893]],[[153.140038,-4.499983],[152.827292,-4.766427],[152.638673,-4.176127],[152.406026,-3.789743],[151.953237,-3.462062],[151.384279,-3.035422],[150.66205,-2.741486],[150.939965,-2.500002],[151.479984,-2.779985],[151.820015,-2.999972],[152.239989,-3.240009],[152.640017,-3.659983],[153.019994,-3.980015],[153.140038,-4.499983]],[[14.119686,53.757029],[14.8029,54.050706],[16.363477,54.513159],[17.622832,54.851536],[18.620859,54.682606],[18.696255,54.438719],[19.66064,54.426084]],[[19.66064,54.426084],[20.892245,54.312525],[22.731099,54.327537]],[[23.527071,51.578454],[24.029986,50.705407],[23.922757,50.424881],[23.426508,50.308506],[22.51845,49.476774],[22.776419,49.027395],[22.558138,49.085738]],[[22.558138,49.085738],[21.607808,49.470107],[20.887955,49.328772],[20.415839,49.431453],[19.825023,49.217125],[19.320713,49.571574],[18.909575,49.435846],[18.853144,49.49623]],[[-66.282434,18.514762],[-65.771303,18.426679],[-65.591004,18.228035],[-65.847164,17.975906],[-66.599934,17.981823],[-67.184162,17.946553],[-67.242428,18.37446],[-67.100679,18.520601],[-66.282434,18.514762]],[[130.640016,42.395009],[130.780007,42.220007],[130.400031,42.280004],[129.965949,41.941368],[129.667362,41.601104],[129.705189,40.882828],[129.188115,40.661808],[129.0104,40.485436],[128.633368,40.189847],[127.967414,40.025413],[127.533436,39.75685],[127.50212,39.323931],[127.385434,39.213472],[127.783343,39.050898],[128.349716,38.612243]],[[126.174759,37.749686],[125.689104,37.94001],[125.568439,37.752089],[125.27533,37.669071],[125.240087,37.857224],[124.981033,37.948821],[124.712161,38.108346],[124.985994,38.548474],[125.221949,38.665857],[125.132859,38.848559],[125.38659,39.387958],[125.321116,39.551385],[124.737482,39.660344],[124.265625,39.928493]],[[-7.453726,37.097788],[-7.855613,36.838269],[-8.382816,36.97888],[-8.898857,36.868809],[-8.746101,37.651346],[-8.839998,38.266243],[-9.287464,38.358486],[-9.526571,38.737429],[-9.446989,39.392066],[-9.048305,39.755093],[-8.977353,40.159306],[-8.768684,40.760639],[-8.790853,41.184334],[-8.990789,41.543459],[-9.034818,41.880571]],[[50.810108,24.754743],[50.743911,25.482424],[51.013352,26.006992],[51.286462,26.114582],[51.589079,25.801113],[51.6067,25.21567],[51.389608,24.627386]],[[51.389608,24.627386],[51.112415,24.556331],[50.810108,24.754743]],[[22.710531,47.882194],[23.142236,48.096341],[23.760958,47.985598],[24.402056,47.981878],[24.866317,47.737526],[25.207743,47.891056],[25.945941,47.987149],[26.19745,48.220881],[26.619337,48.220726]],[[28.233554,45.488283],[28.679779,45.304031],[29.149725,45.464925],[29.603289,45.293308]],[[29.603289,45.293308],[29.626543,45.035391],[29.141612,44.82021],[28.837858,44.913874],[28.558081,43.707462]],[[22.65715,44.234923],[22.474008,44.409228],[22.705726,44.578003],[22.459022,44.702517],[22.145088,44.478422],[21.562023,44.768947],[21.483526,45.18117],[20.874313,45.416375],[20.762175,45.734573],[20.220192,46.127469]],[[143.648007,50.7476],[144.654148,48.976391],[143.173928,49.306551],[142.558668,47.861575],[143.533492,46.836728],[143.505277,46.137908],[142.747701,46.740765],[142.09203,45.966755],[141.906925,46.805929],[142.018443,47.780133],[141.904445,48.859189],[142.1358,49.615163],[142.179983,50.952342],[141.594076,51.935435],[141.682546,53.301966],[142.606934,53.762145],[142.209749,54.225476],[142.654786,54.365881],[142.914616,53.704578],[143.260848,52.74076],[143.235268,51.75666],[143.648007,50.7476]],[[19.66064,54.426084],[19.888481,54.86616],[21.268449,55.190482]],[[-175.01425,66.58435],[-174.33983,66.33556],[-174.57182,67.06219],[-171.85731,66.91308],[-169.89958,65.97724],[-170.89107,65.54139],[-172.53025,65.43791],[-172.555,64.46079],[-172.95533,64.25269],[-173.89184,64.2826],[-174.65392,64.63125],[-175.98353,64.92288],[-176.20716,65.35667],[-177.22266,65.52024],[-178.35993,65.39052],[-178.90332,65.74044],[-178.68611,66.11211],[-179.88377,65.87456],[-179.43268,65.40411],[-180,64.979709],[-180,68.963636],[-177.55,68.2],[-174.92825,67.20589],[-175.01425,66.58435]],[[180,70.832199],[178.903425,70.78114],[178.7253,71.0988],[180,71.515714],[180,70.832199]],[[-178.69378,70.89302],[-180,70.832199],[-180,71.515714],[-179.871875,71.55762],[-179.02433,71.55553],[-177.577945,71.26948],[-177.663575,71.13277],[-178.69378,70.89302]],[[143.60385,73.21244],[142.08763,73.20544],[140.038155,73.31692],[139.86312,73.36983],[140.81171,73.76506],[142.06207,73.85758],[143.48283,73.47525],[143.60385,73.21244]],[[150.73167,75.08406],[149.575925,74.68892],[147.977465,74.778355],[146.11919,75.17298],[146.358485,75.49682],[148.22223,75.345845],[150.73167,75.08406]],[[145.086285,75.562625],[144.3,74.82],[140.61381,74.84768],[138.95544,74.61148],[136.97439,75.26167],[137.51176,75.94917],[138.831075,76.13676],[141.471615,76.09289],[145.086285,75.562625]],[[57.535693,70.720464],[56.944979,70.632743],[53.677375,70.762658],[53.412017,71.206662],[51.601895,71.474759],[51.455754,72.014881],[52.478275,72.229442],[52.444169,72.774731],[54.427614,73.627548],[53.50829,73.749814],[55.902459,74.627486],[55.631933,75.081412],[57.868644,75.60939],[61.170044,76.251883],[64.498368,76.439055],[66.210977,76.809782],[68.15706,76.939697],[68.852211,76.544811],[68.180573,76.233642],[64.637326,75.737755],[61.583508,75.260885],[58.477082,74.309056],[56.986786,73.333044],[55.419336,72.371268],[55.622838,71.540595],[57.535693,70.720464]],[[131.288555,44.11152],[131.02519,44.96796],[131.883454,45.321162]],[[131.883454,45.321162],[133.09712,45.14409],[133.769644,46.116927]],[[133.769644,46.116927],[134.11235,47.21248],[134.50081,47.57845],[135.026311,48.47823]],[[133.373596,48.183442],[132.50669,47.78896],[130.98726,47.79013],[130.582293,48.729687]],[[129.397818,49.4406],[127.6574,49.76027],[127.287456,50.739797]],[[125.068211,53.161045],[123.57147,53.4588],[122.245748,53.431726]],[[120.725789,52.516226],[120.7382,51.96411],[120.18208,51.64355],[119.27939,50.58292],[119.288461,50.142883]],[[105.886591,50.406019],[104.62158,50.27532],[103.676545,50.089966]],[[103.676545,50.089966],[102.25589,50.51056],[102.06521,51.25991],[100.88948,51.516856]],[[98.231762,50.422401],[97.25976,49.72605],[95.81402,49.97746],[94.815949,50.013433]],[[94.147566,50.480537],[93.10421,50.49529],[92.234712,50.802171]],[[76.8911,54.490524],[74.38482,53.54685],[73.425679,53.48981]],[[68.1691,54.970392],[65.66687,54.60125],[65.178534,54.354228]],[[65.178534,54.354228],[61.4366,54.00625],[60.978066,53.664993]],[[59.642282,50.545442],[58.36332,51.06364],[56.77798,51.04355],[55.71694,50.62171],[54.532878,51.02624]],[[46.466446,48.394152],[47.31524,47.71585],[48.05725,47.74377],[48.694734,47.075628]],[[48.694734,47.075628],[48.59325,46.56104],[49.10116,46.39933]],[[49.10116,46.39933],[48.64541,45.80629],[47.67591,45.64149],[46.68201,44.6092],[47.59094,43.66016],[47.49252,42.98658],[48.58437,41.80888],[47.987283,41.405819]],[[46.404951,41.860675],[45.7764,42.09244],[45.470279,42.502781]],[[44.537623,42.711993],[43.93121,42.55496],[43.75599,42.74083],[42.3944,43.2203],[40.92219,43.38215],[40.076965,43.553104]],[[39.955009,43.434998],[38.68,44.28],[37.53912,44.65721],[36.67546,45.24469],[37.40317,45.40451],[38.23295,46.24087],[37.67372,46.63657],[39.14767,47.04475],[39.1212,47.26336],[38.223538,47.10219]],[[38.223538,47.10219],[38.255112,47.5464]],[[38.255112,47.5464],[38.77057,47.82562],[39.738278,47.898937]],[[39.738278,47.898937],[39.89562,48.23241],[39.67465,48.78382],[40.080789,49.30743]],[[40.080789,49.30743],[40.06904,49.60105],[38.594988,49.926462]],[[38.594988,49.926462],[38.010631,49.915662],[37.39346,50.383953],[36.626168,50.225591],[35.356116,50.577197]],[[35.356116,50.577197],[35.37791,50.77394],[35.022183,51.207572]],[[35.022183,51.207572],[34.224816,51.255993],[34.141978,51.566413],[34.391731,51.768882],[33.7527,52.335075],[32.715761,52.238465],[32.412058,52.288695]],[[32.412058,52.288695],[32.15944,52.06125],[31.78597,52.10168],[31.540018,52.742052]],[[31.305201,53.073996],[31.49764,53.16743],[32.304519,53.132726]],[[27.716686,57.791899],[27.42015,58.72457],[28.131699,59.300825]],[[28.131699,59.300825],[27.98112,59.47537],[29.1177,60.02805],[28.07,60.50352],[30.211107,61.780028]],[[28.59193,69.064777],[29.39955,69.15692],[31.10108,69.55811],[32.13272,69.90595],[33.77547,69.30142],[36.51396,69.06342],[40.29234,67.9324],[41.05987,67.45713],[41.12595,66.79158],[40.01583,66.26618],[38.38295,65.99953],[33.91871,66.75961],[33.18444,66.63253],[34.81477,65.90015],[34.878574,65.436213],[34.94391,64.41437],[36.23129,64.10945],[37.01273,63.84983],[37.14197,64.33471],[36.539579,64.76446],[37.17604,65.14322],[39.59345,64.52079],[40.4356,64.76446],[39.7626,65.49682],[42.09309,66.47623],[43.01604,66.41858],[43.94975,66.06908],[44.53226,66.75634],[43.69839,67.35245],[44.18795,67.95051],[43.45282,68.57079],[46.25,68.25],[46.82134,67.68997],[45.55517,67.56652],[45.56202,67.01005],[46.34915,66.66767],[47.89416,66.88455],[48.13876,67.52238],[50.22766,67.99867],[53.71743,68.85738],[54.47171,68.80815],[53.48582,68.20131],[54.72628,68.09702],[55.44268,68.43866],[57.31702,68.46628],[58.802,68.88082],[59.94142,68.27844],[61.07784,68.94069],[60.03,69.52],[60.55,69.85],[63.504,69.54739],[64.888115,69.234835],[68.51216,68.09233],[69.18068,68.61563],[68.16444,69.14436],[68.13522,69.35649],[66.93008,69.45461],[67.25976,69.92873],[66.72492,70.70889],[66.69466,71.02897],[68.54006,71.9345],[69.19636,72.84336],[69.94,73.04],[72.58754,72.77629],[72.79603,72.22006],[71.84811,71.40898],[72.47011,71.09019],[72.79188,70.39114],[72.5647,69.02085],[73.66787,68.4079],[73.2387,67.7404],[71.28,66.32],[72.42301,66.17267],[72.82077,66.53267],[73.92099,66.78946],[74.18651,67.28429],[75.052,67.76047],[74.46926,68.32899],[74.93584,68.98918],[73.84236,69.07146],[73.60187,69.62763],[74.3998,70.63175],[73.1011,71.44717],[74.89082,72.12119],[74.65926,72.83227],[75.15801,72.85497],[75.68351,72.30056],[75.28898,71.33556],[76.35911,71.15287],[75.90313,71.87401],[77.57665,72.26717],[79.65202,72.32011],[81.5,71.75],[80.61071,72.58285],[80.51109,73.6482],[82.25,73.85],[84.65526,73.80591],[86.8223,73.93688],[86.00956,74.45967],[87.16682,75.11643],[88.31571,75.14393],[90.26,75.64],[92.90058,75.77333],[93.23421,76.0472],[95.86,76.14],[96.67821,75.91548],[98.92254,76.44689],[100.75967,76.43028],[101.03532,76.86189],[101.99084,77.28754],[104.3516,77.69792],[106.06664,77.37389],[104.705,77.1274],[106.97013,76.97419],[107.24,76.48],[108.1538,76.72335],[111.07726,76.71],[113.33151,76.22224],[114.13417,75.84764],[113.88539,75.32779],[112.77918,75.03186],[110.15125,74.47673],[109.4,74.18],[110.64,74.04],[112.11919,73.78774],[113.01954,73.97693],[113.52958,73.33505],[113.96881,73.59488],[115.56782,73.75285],[118.77633,73.58772],[119.02,73.12],[123.20066,72.97122],[123.25777,73.73503],[125.38,73.56],[126.97644,73.56549],[128.59126,73.03871],[129.05157,72.39872],[128.46,71.98],[129.71599,71.19304],[131.28858,70.78699],[132.2535,71.8363],[133.85766,71.38642],[135.56193,71.65525],[137.49755,71.34763],[138.23409,71.62803],[139.86983,71.48783],[139.14791,72.41619],[140.46817,72.84941],[149.5,72.2],[150.35118,71.60643],[152.9689,70.84222],[157.00688,71.03141],[158.99779,70.86672],[159.83031,70.45324],[159.70866,69.72198],[160.94053,69.43728],[162.27907,69.64204],[164.05248,69.66823],[165.94037,69.47199],[167.83567,69.58269],[169.57763,68.6938],[170.81688,69.01363],[170.0082,69.65276],[170.45345,70.09703],[173.64391,69.81743],[175.72403,69.87725],[178.6,69.4],[180,68.963636],[180,64.979709],[179.99281,64.97433],[178.7072,64.53493],[177.41128,64.60821],[178.313,64.07593],[178.90825,63.25197],[179.37034,62.98262],[179.48636,62.56894],[179.22825,62.3041],[177.3643,62.5219],[174.56929,61.76915],[173.68013,61.65261],[172.15,60.95],[170.6985,60.33618],[170.33085,59.88177],[168.90046,60.57355],[166.29498,59.78855],[165.84,60.16],[164.87674,59.7316],[163.53929,59.86871],[163.21711,59.21101],[162.01733,58.24328],[162.05297,57.83912],[163.19191,57.61503],[163.05794,56.15924],[162.12958,56.12219],[161.70146,55.28568],[162.11749,54.85514],[160.36877,54.34433],[160.02173,53.20257],[158.53094,52.95868],[158.23118,51.94269],[156.78979,51.01105],[156.42,51.7],[155.99182,53.15895],[155.43366,55.38103],[155.91442,56.76792],[156.75815,57.3647],[156.81035,57.83204],[158.36433,58.05575],[160.15064,59.31477],[161.87204,60.343],[163.66969,61.1409],[164.47355,62.55061],[163.25842,62.46627],[162.65791,61.6425],[160.12148,60.54423],[159.30232,61.77396],[156.72068,61.43442],[154.21806,59.75818],[155.04375,59.14495],[152.81185,58.88385],[151.26573,58.78089],[151.33815,59.50396],[149.78371,59.65573],[148.54481,59.16448],[145.48722,59.33637],[142.19782,59.03998],[138.95848,57.08805],[135.12619,54.72959],[136.70171,54.60355],[137.19342,53.97732],[138.1647,53.75501],[138.80463,54.25455],[139.90151,54.18968],[141.34531,53.08957],[141.37923,52.23877],[140.59742,51.23967],[140.51308,50.04553],[140.06193,48.44671],[138.55472,46.99965],[138.21971,46.30795],[136.86232,45.1435],[135.51535,43.989],[134.86939,43.39821],[133.53687,42.81147],[132.90627,42.79849],[132.27807,43.28456],[130.93587,42.55274],[130.78,42.22],[130.64,42.395],[130.633866,42.903015]],[[105.07547,78.30689],[99.43814,77.921],[101.2649,79.23399],[102.08635,79.34641],[102.837815,79.28129],[105.37243,78.71334],[105.07547,78.30689]],[[51.136187,80.54728],[49.793685,80.415428],[48.894411,80.339567],[48.754937,80.175468],[47.586119,80.010181],[46.502826,80.247247],[47.072455,80.559424],[44.846958,80.58981],[46.799139,80.771918],[48.318477,80.78401],[48.522806,80.514569],[49.09719,80.753986],[50.039768,80.918885],[51.522933,80.699726],[51.136187,80.54728]],[[99.93976,78.88094],[97.75794,78.7562],[94.97259,79.044745],[93.31288,79.4265],[92.5454,80.14379],[91.18107,80.34146],[93.77766,81.0246],[95.940895,81.2504],[97.88385,80.746975],[100.186655,79.780135],[99.93976,78.88094]],[[30.419105,-1.134659],[30.816135,-1.698914],[30.758309,-2.28725]],[[30.758309,-2.28725],[30.469696,-2.413858]],[[29.579466,-1.341313],[29.821519,-1.443322],[30.419105,-1.134659]],[[-17.063423,20.999752],[-17.021343423606428,21.413313149941047],[-16.975648775331546,21.891687698419226],[-16.58061690573147,22.164556507225765],[-16.26002753409497,22.681019518875157],[-16.326419672079705,23.016952258555825],[-15.985200461416207,23.727032109699284],[-15.426731727820668,24.361869528783902],[-15.090619655087165,24.520185930758263],[-14.825599019285237,25.104586394725832],[-14.798998208222914,25.636368397001075],[-14.436699125374576,26.254418099501397],[-13.775188821299968,26.62089094274117],[-13.411005014422669,27.201816644327014],[-13.264710152455724,27.443546935398597],[-13.0953665818028,27.6]],[[42.779332,16.347891],[42.649573,16.774635],[42.347989,17.075806],[42.270888,17.474722],[41.754382,17.833046],[41.221391,18.6716],[40.939341,19.486485],[40.247652,20.174635],[39.801685,20.338862],[39.139399,21.291905],[39.023696,21.986875],[39.066329,22.579656],[38.492772,23.688451],[38.02386,24.078686],[37.483635,24.285495],[37.154818,24.858483],[37.209491,25.084542],[36.931627,25.602959],[36.639604,25.826228],[36.249137,26.570136],[35.640182,27.37652],[35.130187,28.063352],[34.632336,28.058546],[34.787779,28.607427],[34.83222,28.957483],[34.956037,29.356555]],[[48.416094,28.552004],[48.807595,27.689628],[49.299554,27.461218],[49.470914,27.109999],[50.152422,26.689663],[50.212935,26.277027],[50.113303,25.943972],[50.239859,25.60805],[50.527387,25.327808],[50.660557,24.999896],[50.810108,24.754743]],[[51.389608,24.627386],[51.579519,24.245497]],[[52.00001,19.000003],[49.116672,18.616668],[48.183344,18.166669],[47.466695,17.116682],[47.000005,16.949999],[46.749994,17.283338],[46.366659,17.233315],[45.399999,17.333335],[45.216651,17.433329],[44.062613,17.410359],[43.791519,17.319977],[43.380794,17.579987],[43.115798,17.08844],[43.218375,16.66689],[42.779332,16.347891]],[[33.963393,9.464285],[33.824963,9.484061],[33.842131,9.981915],[33.721959,10.325262],[33.206938,10.720112],[33.086766,11.441141],[33.206938,12.179338],[32.743419,12.248008],[32.67475,12.024832],[32.073892,11.97333],[32.314235,11.681484],[32.400072,11.080626],[31.850716,10.531271],[31.352862,9.810241],[30.837841,9.707237],[29.996639,10.290927],[29.618957,10.084919],[29.515953,9.793074],[29.000932,9.604232],[28.966597,9.398224],[27.97089,9.398224],[27.833551,9.604232],[27.112521,9.638567],[26.752006,9.466893],[26.477328,9.55273],[25.962307,10.136421],[25.790633,10.411099],[25.069604,10.27376],[24.794926,9.810241],[24.537415,8.917538],[24.194068,8.728696],[23.88698,8.61973]],[[23.88698,8.61973],[23.805813,8.666319]],[[22.864165,11.142395],[22.87622,11.38461],[22.50869,11.67936],[22.49762,12.26024],[22.28801,12.64605],[21.93681,12.58818],[22.03759,12.95546],[22.29658,13.37232],[22.18329,13.78648],[22.51202,14.09318],[22.30351,14.32682],[22.56795,14.94429],[23.02459,15.68072],[23.88689,15.61084],[23.83766,19.58047]],[[36.86623,22],[37.18872,21.01885],[36.96941,20.83744],[37.1147,19.80796],[37.48179,18.61409],[37.86276,18.36786],[38.41009,17.998307]],[[36.85253,16.95655],[36.75389,16.29186],[36.32322,14.82249],[36.42951,14.42211]],[[33.96162,9.58358],[33.963393,9.464285]],[[33.963393,9.464285],[33.97498,8.68456]],[[34.005,4.249885],[33.39,3.79],[32.68642,3.79232],[31.88145,3.55827],[31.24556,3.7819],[30.83385,3.50917]],[[30.83385,3.50917],[29.95349,4.1737],[29.715995,4.600805]],[[24.567369,8.229188],[23.88698,8.61973]],[[-16.713729,13.594959],[-17.126107,14.373516],[-17.625043,14.729541],[-17.185173,14.919477],[-16.700706,15.621527],[-16.463098,16.135036]],[[-16.677452,12.384852],[-16.841525,13.151394]],[[162.119025,-10.482719],[162.398646,-10.826367],[161.700032,-10.820011],[161.319797,-10.204751],[161.917383,-10.446701],[162.119025,-10.482719]],[[160.852229,-9.872937],[160.462588,-9.89521],[159.849447,-9.794027],[159.640003,-9.63998],[159.702945,-9.24295],[160.362956,-9.400304],[160.688518,-9.610162],[160.852229,-9.872937]],[[161.679982,-9.599982],[161.529397,-9.784312],[160.788253,-8.917543],[160.579997,-8.320009],[160.920028,-8.320009],[161.280006,-9.120011],[161.679982,-9.599982]],[[159.875027,-8.33732],[159.917402,-8.53829],[159.133677,-8.114181],[158.586114,-7.754824],[158.21115,-7.421872],[158.359978,-7.320018],[158.820001,-7.560003],[159.640003,-8.020027],[159.875027,-8.33732]],[[157.538426,-7.34782],[157.33942,-7.404767],[156.90203,-7.176874],[156.491358,-6.765943],[156.542828,-6.599338],[157.14,-7.021638],[157.538426,-7.34782]],[[-11.438779,6.785917],[-11.708195,6.860098],[-12.428099,7.262942],[-12.949049,7.798646],[-13.124025,8.163946],[-13.24655,8.903049]],[[-87.793111,13.38448],[-87.904112,13.149017],[-88.483302,13.163951],[-88.843228,13.259734],[-89.256743,13.458533],[-89.812394,13.520622],[-90.095555,13.735338]],[[47.78942,8.003],[46.948328,7.996877],[43.67875,9.18358]],[[43.67875,9.18358],[43.296975,9.540477],[42.92812,10.02194]],[[43.145305,11.46204],[43.47066,11.27771],[43.666668,10.864169],[44.117804,10.445538],[44.614259,10.442205],[45.556941,10.698029],[46.645401,10.816549],[47.525658,11.127228],[48.021596,11.193064],[48.378784,11.375482],[48.948206,11.410622],[48.942005,11.394266],[48.948205,11.410617],[49.26776,11.43033],[49.72862,11.5789],[50.25878,11.67957],[50.73202,12.0219],[51.1112,12.02464],[51.13387,11.74815],[51.04153,11.16651],[51.04531,10.6409],[50.83418,10.27972],[50.55239,9.19874],[50.07092,8.08173],[49.4527,6.80466],[48.59455,5.33911],[47.74079,4.2194],[46.56476,2.85529],[45.56399,2.04576],[44.06815,1.05283],[43.13597,.2922],[42.04157,-.91916],[41.81095,-1.44647],[41.58513,-1.68325]],[[19.36803,44.863],[19.00548,44.86023],[19.390476,45.236516]],[[19.072769,45.521511],[18.82982,45.90888],[19.596045,46.17173]],[[-57.147436,5.97315],[-55.949318,5.772878],[-55.84178,5.953125],[-55.03325,6.025291],[-53.958045,5.756548]],[[-54.399542,4.212611],[-54.006931,3.620038],[-54.181726,3.18978],[-54.269705,2.732392],[-54.524754,2.311849]],[[22.558138,49.085738],[22.280842,48.825392],[22.085608,48.422264]],[[13.71506,45.500324],[13.93763,45.591016]],[[23.903379,66.006927],[22.183173,65.723741],[21.213517,65.026005],[21.369631,64.413588],[19.778876,63.609554],[17.847779,62.7494],[17.119555,61.341166],[17.831346,60.636583],[18.787722,60.081914],[17.869225,58.953766],[16.829185,58.719827],[16.44771,57.041118],[15.879786,56.104302],[14.666681,56.200885],[14.100721,55.407781],[12.942911,55.361737],[12.625101,56.30708],[11.787942,57.441817],[11.027369,58.856149]],[[32.071665,-26.73382],[31.86806,-27.177927],[31.282773,-27.285879],[30.685962,-26.743845],[30.676609,-26.398078],[30.949667,-26.022649],[31.04408,-25.731452],[31.333158,-25.660191],[31.837778,-25.843332]],[[35.998403,34.644914],[35.905023,35.410009],[36.149763,35.821535]],[[36.149763,35.821535],[36.41755,36.040617],[36.685389,36.259699],[36.739494,36.81752],[37.066761,36.623036],[38.167727,36.90121],[38.699891,36.712927],[39.52258,36.716054],[40.673259,37.091276],[41.212089,37.074352],[42.349591,37.229873]],[[13.540394,14.367134],[13.97217,15.68437],[15.247731,16.627306]],[[15.487148,20.730415],[15.47106,21.04845],[15.096888,21.308519]],[[14.960152,11.555574],[14.89336,12.21905],[14.495787,12.859396]],[[1.865241,6.142158],[1.060122,5.928837]],[[102.584932,12.186595],[101.687158,12.64574],[100.83181,12.627085],[100.978467,13.412722],[100.097797,13.406856],[100.018733,12.307001],[99.478921,10.846367],[99.153772,9.963061],[99.222399,9.239255],[99.873832,9.207862],[100.279647,8.295153],[100.459274,7.429573],[101.017328,6.856869],[101.623079,6.740622],[102.141187,6.221636]],[[100.085757,6.464489],[99.690691,6.848213],[99.519642,7.343454],[98.988253,7.907993],[98.503786,8.382305],[98.339662,7.794512],[98.150009,8.350007],[98.25915,8.973923],[98.553551,9.93296]],[[67.83,37.144994],[68.392033,38.157025],[68.176025,38.901553],[67.44222,39.140144],[67.701429,39.580478],[68.536416,39.533453],[69.011633,40.086158],[69.329495,40.727824],[70.666622,40.960213],[70.45816,40.496495],[70.601407,40.218527],[71.014198,40.244366]],[[53.921598,37.198918],[53.735511,37.906136],[53.880929,38.952093],[53.101028,39.290574],[53.357808,39.975286],[52.693973,40.033629],[52.915251,40.876523],[53.858139,40.631034],[54.736845,40.951015],[54.008311,41.551211],[53.721713,42.123191],[52.91675,41.868117],[52.814689,41.135371],[52.50246,41.783316]],[[55.968191,41.308642],[57.096391,41.32231],[56.932215,41.826026],[57.78653,42.170553],[58.629011,42.751551],[59.976422,42.223082],[60.083341,41.425146],[60.465953,41.220327],[61.547179,41.26637],[61.882714,41.084857],[62.37426,40.053886],[63.518015,39.363257],[64.170223,38.892407],[65.215999,38.402695],[66.54615,37.974685],[66.518607,37.362784]],[[124.968682,-8.89279],[125.086246,-8.656887],[125.947072,-8.432095],[126.644704,-8.398247],[126.957243,-8.273345],[127.335928,-8.397317],[126.967992,-8.668256],[125.925885,-9.106007],[125.08852,-9.393173]],[[-61.68,10.76],[-61.105,10.89],[-60.895,10.855],[-60.935,10.11],[-61.77,10],[-61.95,10.09],[-61.66,10.365],[-61.68,10.76]],[[8.420964,36.946427],[9.509994,37.349994],[10.210002,37.230002],[10.18065,36.724038],[11.028867,37.092103],[11.100026,36.899996],[10.600005,36.41],[10.593287,35.947444],[10.939519,35.698984],[10.807847,34.833507],[10.149593,34.330773],[10.339659,33.785742],[10.856836,33.76874],[11.108501,33.293343],[11.488787,33.136996]],[[44.225756,37.971584],[44.772699,37.170445]],[[36.149763,35.821535],[35.782085,36.274995],[36.160822,36.650606],[35.550936,36.565443],[34.714553,36.795532],[34.026895,36.21996],[32.509158,36.107564],[31.699595,36.644275],[30.621625,36.677865],[30.391096,36.262981],[29.699976,36.144357],[28.732903,36.676831],[27.641187,36.658822],[27.048768,37.653361],[26.318218,38.208133],[26.8047,38.98576],[26.170785,39.463612],[27.28002,40.420014],[28.819978,40.460011],[29.240004,41.219991],[31.145934,41.087622],[32.347979,41.736264],[33.513283,42.01896],[35.167704,42.040225],[36.913127,41.335358],[38.347665,40.948586],[39.512607,41.102763],[40.373433,41.013673],[41.554084,41.535656]],[[27.99672,42.007359],[28.115525,41.622886],[28.988443,41.299934],[28.806438,41.054962],[27.619017,40.999823],[27.192377,40.690566],[26.358009,40.151994],[26.043351,40.617754],[26.056942,40.824123]],[[121.777818,24.394274],[121.175632,22.790857],[120.74708,21.970571],[120.220083,22.814861],[120.106189,23.556263],[120.69468,24.538451],[121.495044,25.295459],[121.951244,24.997596],[121.777818,24.394274]],[[39.20222,-4.67677],[38.74054,-5.90895],[38.79977,-6.47566],[39.44,-6.84],[39.47,-7.1],[39.19469,-7.7039],[39.25203,-8.00781],[39.18652,-8.48551],[39.53574,-9.11237],[39.9496,-10.0984],[40.31659,-10.3171],[39.521,-10.89688],[38.427557,-11.285202]],[[38.427557,-11.285202],[37.82764,-11.26879],[37.47129,-11.56876],[36.775151,-11.594537]],[[34.559989,-11.52002],[34.28,-10.16],[33.940838,-9.693674]],[[33.940838,-9.693674],[33.73972,-9.41715],[32.759375,-9.230599]],[[32.759375,-9.230599],[32.191865,-8.930359],[31.556348,-8.762049],[31.157751,-8.594579]],[[31.157751,-8.594579],[30.74,-8.34],[30.2,-7.08],[29.62,-6.52],[29.419993,-5.939999]],[[29.753512,-4.452389],[30.11632,-4.09012],[30.50554,-3.56858],[30.75224,-3.35931],[30.74301,-3.03431],[30.52766,-2.80762],[30.46967,-2.41383],[30.758309,-2.28725]],[[30.419105,-1.134659],[30.76986,-1.01455],[31.86617,-1.02736],[33.903711,-.95]],[[29.587838,-.587406],[29.8195,-.2053],[29.875779,.59738]],[[31.174149,2.204465],[30.77332,2.33989],[30.83385,3.50917]],[[31.785998,52.101678],[32.159412,52.061267],[32.412058,52.288695]],[[35.022183,51.207572],[35.377924,50.773955],[35.356116,50.577197]],[[38.594988,49.926462],[40.069058,49.601055],[40.080789,49.30743]],[[40.080789,49.30743],[39.674664,48.783818],[39.895632,48.232405],[39.738278,47.898937]],[[39.738278,47.898937],[38.770585,47.825608],[38.255112,47.5464]],[[38.223538,47.10219],[37.425137,47.022221],[36.759855,46.6987],[35.823685,46.645964],[34.962342,46.273197],[35.020788,45.651219],[35.510009,45.409993],[36.529998,45.46999],[36.334713,45.113216],[35.239999,44.939996],[33.882511,44.361479],[33.326421,44.564877],[33.546924,45.034771],[32.454174,45.327466],[32.630804,45.519186],[33.588162,45.851569],[33.298567,46.080598],[31.74414,46.333348],[31.675307,46.706245],[30.748749,46.5831],[30.377609,46.03241],[29.603289,45.293308]],[[-53.373662,-33.768378],[-53.806426,-34.396815],[-54.935866,-34.952647],[-55.67409,-34.752659],[-56.215297,-34.859836],[-57.139685,-34.430456],[-57.817861,-34.462547],[-58.427074,-33.909454]],[[-155.54211,19.08348],[-155.68817,18.91619],[-155.93665,19.05939],[-155.90806,19.33888],[-156.07347,19.70294],[-156.02368,19.81422],[-155.85008,19.97729],[-155.91907,20.17395],[-155.86108,20.26721],[-155.78505,20.2487],[-155.40214,20.07975],[-155.22452,19.99302],[-155.06226,19.8591],[-154.80741,19.50871],[-154.83147,19.45328],[-155.22217,19.23972],[-155.54211,19.08348]],[[-156.07926,20.64397],[-156.41445,20.57241],[-156.58673,20.783],[-156.70167,20.8643],[-156.71055,20.92676],[-156.61258,21.01249],[-156.25711,20.91745],[-155.99566,20.76404],[-156.07926,20.64397]],[[-156.75824,21.17684],[-156.78933,21.06873],[-157.32521,21.09777],[-157.25027,21.21958],[-156.75824,21.17684]],[[-157.65283,21.32217],[-157.70703,21.26442],[-157.7786,21.27729],[-158.12667,21.31244],[-158.2538,21.53919],[-158.29265,21.57912],[-158.0252,21.71696],[-157.94161,21.65272],[-157.65283,21.32217]],[[-159.34512,21.982],[-159.46372,21.88299],[-159.80051,22.06533],[-159.74877,22.1382],[-159.5962,22.23618],[-159.36569,22.21494],[-159.34512,21.982]],[[-67.13741,45.13753],[-66.96466,44.8097],[-68.03252,44.3252],[-69.06,43.98],[-70.11617,43.68405],[-70.645476,43.090238],[-70.81489,42.8653],[-70.825,42.335],[-70.495,41.805],[-70.08,41.78],[-70.185,42.145],[-69.88497,41.92283],[-69.96503,41.63717],[-70.64,41.475],[-71.12039,41.49445],[-71.86,41.32],[-72.295,41.27],[-72.87643,41.22065],[-73.71,40.931102],[-72.24126,41.11948],[-71.945,40.93],[-73.345,40.63],[-73.982,40.628],[-73.952325,40.75075],[-74.25671,40.47351],[-73.96244,40.42763],[-74.17838,39.70926],[-74.90604,38.93954],[-74.98041,39.1964],[-75.20002,39.24845],[-75.52805,39.4985],[-75.32,38.96],[-75.071835,38.782032],[-75.05673,38.40412],[-75.37747,38.01551],[-75.94023,37.21689],[-76.03127,37.2566],[-75.72205,37.93705],[-76.23287,38.319215],[-76.35,39.15],[-76.542725,38.717615],[-76.32933,38.08326],[-76.989998,38.239992],[-76.30162,37.917945],[-76.25874,36.9664],[-75.9718,36.89726],[-75.86804,36.55125],[-75.72749,35.55074],[-76.36318,34.80854],[-77.397635,34.51201],[-78.05496,33.92547],[-78.55435,33.86133],[-79.06067,33.49395],[-79.20357,33.15839],[-80.301325,32.509355],[-80.86498,32.0333],[-81.33629,31.44049],[-81.49042,30.72999],[-81.31371,30.03552],[-80.98,29.18],[-80.535585,28.47213],[-80.53,28.04],[-80.056539,26.88],[-80.088015,26.205765],[-80.13156,25.816775],[-80.38103,25.20616],[-80.68,25.08],[-81.17213,25.20126],[-81.33,25.64],[-81.71,25.87],[-82.24,26.73],[-82.70515,27.49504],[-82.85526,27.88624],[-82.65,28.55],[-82.93,29.1],[-83.70959,29.93656],[-84.1,30.09],[-85.10882,29.63615],[-85.28784,29.68612],[-85.7731,30.15261],[-86.4,30.4],[-87.53036,30.27433],[-88.41782,30.3849],[-89.18049,30.31598],[-89.593831,30.159994],[-89.413735,29.89419],[-89.43,29.48864],[-89.21767,29.29108],[-89.40823,29.15961],[-89.77928,29.30714],[-90.15463,29.11743],[-90.880225,29.148535],[-91.626785,29.677],[-92.49906,29.5523],[-93.22637,29.78375],[-93.84842,29.71363],[-94.69,29.48],[-95.60026,28.73863],[-96.59404,28.30748],[-97.14,27.83],[-97.37,27.38],[-97.38,26.69],[-97.33,26.21],[-97.14,25.87],[-97.53,25.84]],[[-117.12776,32.53534],[-117.295938,33.046225],[-117.944,33.621236],[-118.410602,33.740909],[-118.519895,34.027782],[-119.081,34.078],[-119.438841,34.348477],[-120.36778,34.44711],[-120.62286,34.60855],[-120.74433,35.15686],[-121.71457,36.16153],[-122.54747,37.55176],[-122.51201,37.78339],[-122.95319,38.11371],[-123.7272,38.95166],[-123.86517,39.76699],[-124.39807,40.3132],[-124.17886,41.14202],[-124.2137,41.99964],[-124.53284,42.76599],[-124.14214,43.70838],[-124.020535,44.615895],[-123.89893,45.52341],[-124.079635,46.86475],[-124.39567,47.72017],[-124.68721,48.184433],[-124.566101,48.379715],[-123.12,48.04],[-122.58736,47.096],[-122.34,47.36],[-122.5,48.18],[-122.84,49]],[[-153.006314,57.115842],[-154.00509,56.734677],[-154.516403,56.992749],[-154.670993,57.461196],[-153.76278,57.816575],[-153.228729,57.968968],[-152.564791,57.901427],[-152.141147,57.591059],[-153.006314,57.115842]],[[-165.579164,59.909987],[-166.19277,59.754441],[-166.848337,59.941406],[-167.455277,60.213069],[-166.467792,60.38417],[-165.67443,60.293607],[-165.579164,59.909987]],[[-171.731657,63.782515],[-171.114434,63.592191],[-170.491112,63.694975],[-169.682505,63.431116],[-168.689439,63.297506],[-168.771941,63.188598],[-169.52944,62.976931],[-170.290556,63.194438],[-170.671386,63.375822],[-171.553063,63.317789],[-171.791111,63.405846],[-171.731657,63.782515]],[[-134.27111,58.86111],[-133.355549,58.410285],[-132.73042,57.69289]],[[-130.00778,55.91583],[-129.979994,55.284998],[-130.53611,54.802753],[-131.085818,55.178906],[-131.967211,55.497776],[-132.250011,56.369996],[-133.539181,57.178887],[-134.078063,58.123068],[-135.038211,58.187715],[-136.628062,58.212209],[-137.800006,58.499995],[-139.867787,59.537762],[-140.825274,59.727517],[-142.574444,60.084447],[-143.958881,59.99918],[-145.925557,60.45861],[-147.114374,60.884656],[-148.224306,60.672989],[-148.018066,59.978329],[-148.570823,59.914173],[-149.727858,59.705658],[-150.608243,59.368211],[-151.716393,59.155821],[-151.859433,59.744984],[-151.409719,60.725803],[-150.346941,61.033588],[-150.621111,61.284425],[-151.895839,60.727198],[-152.57833,60.061657],[-154.019172,59.350279],[-153.287511,58.864728],[-154.232492,58.146374],[-155.307491,57.727795],[-156.308335,57.422774],[-156.556097,56.979985],[-158.117217,56.463608],[-158.433321,55.994154],[-159.603327,55.566686],[-160.28972,55.643581],[-161.223048,55.364735],[-162.237766,55.024187],[-163.069447,54.689737],[-164.785569,54.404173],[-164.942226,54.572225],[-163.84834,55.039431],[-162.870001,55.348043],[-161.804175,55.894986],[-160.563605,56.008055],[-160.07056,56.418055],[-158.684443,57.016675],[-158.461097,57.216921],[-157.72277,57.570001],[-157.550274,58.328326],[-157.041675,58.918885],[-158.194731,58.615802],[-158.517218,58.787781],[-159.058606,58.424186],[-159.711667,58.93139],[-159.981289,58.572549],[-160.355271,59.071123],[-161.355003,58.670838],[-161.968894,58.671665],[-162.054987,59.266925],[-161.874171,59.633621],[-162.518059,59.989724],[-163.818341,59.798056],[-164.662218,60.267484],[-165.346388,60.507496],[-165.350832,61.073895],[-166.121379,61.500019],[-165.734452,62.074997],[-164.919179,62.633076],[-164.562508,63.146378],[-163.753332,63.219449],[-163.067224,63.059459],[-162.260555,63.541936],[-161.53445,63.455817],[-160.772507,63.766108],[-160.958335,64.222799],[-161.518068,64.402788],[-160.777778,64.788604],[-161.391926,64.777235],[-162.45305,64.559445],[-162.757786,64.338605],[-163.546394,64.55916],[-164.96083,64.446945],[-166.425288,64.686672],[-166.845004,65.088896],[-168.11056,65.669997],[-166.705271,66.088318],[-164.47471,66.57666],[-163.652512,66.57666],[-163.788602,66.077207],[-161.677774,66.11612],[-162.489715,66.735565],[-163.719717,67.116395],[-164.430991,67.616338],[-165.390287,68.042772],[-166.764441,68.358877],[-166.204707,68.883031],[-164.430811,68.915535],[-163.168614,69.371115],[-162.930566,69.858062],[-161.908897,70.33333],[-160.934797,70.44769],[-159.039176,70.891642],[-158.119723,70.824721],[-156.580825,71.357764],[-155.06779,71.147776],[-154.344165,70.696409],[-153.900006,70.889989],[-152.210006,70.829992],[-152.270002,70.600006],[-150.739992,70.430017],[-149.720003,70.53001],[-147.613362,70.214035],[-145.68999,70.12001],[-144.920011,69.989992],[-143.589446,70.152514],[-142.07251,69.851938],[-140.985988,69.711998],[-140.985988,69.711998],[-140.992499,66.000029],[-140.99777,60.306397],[-140.012998,60.276838],[-139.039,60.000007],[-138.34089,59.56211]],[[-71.331584,11.776284],[-71.360006,11.539994],[-71.94705,11.423282],[-71.620868,10.96946],[-71.633064,10.446494],[-72.074174,9.865651],[-71.695644,9.072263],[-71.264559,9.137195],[-71.039999,9.859993],[-71.350084,10.211935],[-71.400623,10.968969],[-70.155299,11.375482],[-70.293843,11.846822],[-69.943245,12.162307],[-69.5843,11.459611],[-68.882999,11.443385],[-68.233271,10.885744],[-68.194127,10.554653],[-67.296249,10.545868],[-66.227864,10.648627],[-65.655238,10.200799],[-64.890452,10.077215],[-64.329479,10.389599],[-64.318007,10.641418],[-63.079322,10.701724],[-61.880946,10.715625],[-62.730119,10.420269],[-62.388512,9.948204],[-61.588767,9.873067],[-60.830597,9.38134],[-60.671252,8.580174],[-60.150096,8.602757],[-59.758285,8.367035]],[[108.05018,21.55238],[106.715068,20.696851],[105.881682,19.75205],[105.662006,19.058165],[106.426817,18.004121],[107.361954,16.697457],[108.269495,16.079742],[108.877107,15.276691],[109.33527,13.426028],[109.200136,11.666859],[108.36613,11.008321],[107.220929,10.364484],[106.405113,9.53084],[105.158264,8.59976],[104.795185,9.241038],[105.076202,9.918491],[104.334335,10.486544]],[[167.844877,-16.466333],[167.515181,-16.59785],[167.180008,-16.159995],[167.216801,-15.891846],[167.844877,-16.466333]],[[167.107712,-14.93392],[167.270028,-15.740021],[167.001207,-15.614602],[166.793158,-15.668811],[166.649859,-15.392704],[166.629137,-14.626497],[167.107712,-14.93392]],[[53.108573,16.651051],[52.385206,16.382411],[52.191729,15.938433],[52.168165,15.59742],[51.172515,15.17525],[49.574576,14.708767],[48.679231,14.003202],[48.238947,13.94809],[47.938914,14.007233],[47.354454,13.59222],[46.717076,13.399699],[45.877593,13.347764],[45.62505,13.290946],[45.406459,13.026905],[45.144356,12.953938],[44.989533,12.699587],[44.494576,12.721653],[44.175113,12.58595],[43.482959,12.6368],[43.222871,13.22095],[43.251448,13.767584],[43.087944,14.06263],[42.892245,14.802249],[42.604873,15.213335],[42.805015,15.261963],[42.702438,15.718886],[42.823671,15.911742],[42.779332,16.347891]],[[29.432188,-22.091313],[29.839037,-22.102216],[30.322883,-22.271612],[30.659865,-22.151567],[31.191409,-22.25151]],[[32.83012,-26.742192],[32.580265,-27.470158],[32.462133,-28.301011],[32.203389,-28.752405],[31.521001,-29.257387],[31.325561,-29.401978],[30.901763,-29.909957],[30.622813,-30.423776],[30.055716,-31.140269],[28.925553,-32.172041],[28.219756,-32.771953],[27.464608,-33.226964],[26.419452,-33.61495],[25.909664,-33.66704],[25.780628,-33.944646],[25.172862,-33.796851],[24.677853,-33.987176],[23.594043,-33.794474],[22.988189,-33.916431],[22.574157,-33.864083],[21.542799,-34.258839],[20.689053,-34.417175],[20.071261,-34.795137],[19.616405,-34.819166],[19.193278,-34.462599],[18.855315,-34.444306],[18.424643,-33.997873],[18.377411,-34.136521],[18.244499,-33.867752],[18.25008,-33.281431],[17.92519,-32.611291],[18.24791,-32.429131],[18.221762,-31.661633],[17.566918,-30.725721],[17.064416,-29.878641],[17.062918,-29.875954],[16.344977,-28.576705]],[[30.274256,-15.507787],[29.516834,-15.644678],[28.947463,-16.043051],[28.825869,-16.389749],[28.467906,-16.4684],[27.598243,-17.290831],[27.044427,-17.938026],[26.706773,-17.961229],[26.381935,-17.846042],[25.264226,-17.73654]],[[30.740015,-8.340007],[31.157751,-8.594579]],[[-24.320432043204306,14.84771426361388],[-24.3924392439244,14.812991084264695],[-24.464446444644466,14.830352673939288],[-24.53645364536453,14.917160622312252],[-24.5004500450045,14.969245391336017],[-24.3924392439244,15.021330160359796],[-24.35643564356434,15.003968570685203],[-24.320432043204306,14.917160622312252],[-24.320432043204306,14.84771426361388]],[[-23.204320432043204,15.125499698407353],[-23.240324032403237,15.125499698407353],[-23.27632763276327,15.177584467431132],[-23.27632763276327,15.247030826129503],[-23.240324032403237,15.316477184827875],[-23.16831683168317,15.316477184827875],[-23.13231323132314,15.264392415804096],[-23.13231323132314,15.160222877756539],[-23.204320432043204,15.125499698407353]],[[-23.456345634563462,15.003968570685203],[-23.528352835283528,14.89979903263766],[-23.67236723672366,14.917160622312252],[-23.81638163816382,15.073414929383574],[-23.81638163816382,15.160222877756539],[-23.780378037803786,15.22966923645491],[-23.780378037803786,15.316477184827875],[-23.70837083708369,15.316477184827875],[-23.70837083708369,15.264392415804096],[-23.56435643564356,15.125499698407353],[-23.456345634563462,15.003968570685203]],[[-22.952295229522946,16.23664143758127],[-22.844284428442847,16.201918258232084],[-22.772277227722753,16.219279847906677],[-22.700270027002688,16.167195078882898],[-22.700270027002688,16.09774872018454],[-22.73627362736272,16.02830236148617],[-22.844284428442847,15.97621759246239],[-22.916291629162913,15.97621759246239],[-22.98829882988298,16.02830236148617],[-22.916291629162913,16.132471899533712],[-22.952295229522946,16.23664143758127]],[[-24.10441044104411,16.618596410422313],[-24.068406840684077,16.566511641398534],[-24.10441044104411,16.54915005172394],[-24.24842484248424,16.583873231073127],[-24.284428442844273,16.566511641398534],[-24.35643564356434,16.47970369302557],[-24.428442844284433,16.60123482074772],[-24.428442844284433,16.6533195897715],[-24.3924392439244,16.670681179446078],[-24.284428442844273,16.635958000096906],[-24.10441044104411,16.618596410422313]],[[-22.916291629162913,16.6533195897715],[-22.952295229522946,16.60123482074772],[-22.98829882988298,16.670681179446078],[-23.02430243024301,16.792212307168228],[-22.952295229522946,16.826935486517414],[-22.916291629162913,16.826935486517414],[-22.916291629162913,16.6533195897715]],[[-24.896489648964888,16.80957389684282],[-25.040504050405048,16.792212307168228],[-25.112511251125113,16.826935486517414],[-25.07650765076508,16.8616586658666],[-24.968496849684954,16.913743434890378],[-24.896489648964888,16.844297076192007],[-24.896489648964888,16.80957389684282]],[[-25.18451845184518,16.93110502456497],[-25.292529252925277,16.913743434890378],[-25.32853285328531,16.93110502456497],[-25.32853285328531,17.000551383263343],[-25.36453645364537,17.05263615228712],[-25.36453645364537,17.087359331636307],[-25.148514851485146,17.191528869683864],[-25.040504050405048,17.17416728000927],[-25.004500450044986,17.087359331636307],[-25.040504050405048,17.03527456261253],[-25.18451845184518,16.93110502456497]],[[43.762376237623755,-12.323173577123328],[43.65436543654366,-12.357896756472499],[43.618361836183624,-12.288450397774142],[43.618361836183624,-12.253727218424956],[43.69036903690369,-12.271088808099549],[43.762376237623755,-12.323173577123328]],[[44.446444644464464,-12.09747291135362],[44.51845184518453,-12.236365628750363],[44.51845184518453,-12.34053516679792],[44.482448244824496,-12.357896756472499],[44.446444644464464,-12.34053516679792],[44.37443744374437,-12.253727218424956],[44.194419441944206,-12.184280859726584],[44.26642664266427,-12.166919270051991],[44.302430243024304,-12.184280859726584],[44.37443744374437,-12.166919270051991],[44.37443744374437,-12.132196090702806],[44.41044104410443,-12.09747291135362],[44.446444644464464,-12.09747291135362]],[[43.43834383438343,-11.906495424933098],[43.43834383438343,-11.923857014607691],[43.2943294329433,-11.85441065590932],[43.222322232223235,-11.76760270753637],[43.222322232223235,-11.437732503719104],[43.25832583258327,-11.403009324369918],[43.33033303330333,-11.385647734695326],[43.366336633663366,-11.420370914044511],[43.366336633663366,-11.628709990139626],[43.43834383438343,-11.76760270753637],[43.47434743474349,-11.871772245583912],[43.43834383438343,-11.906495424933098]],[[57.623762376237636,-20.500482313856367],[57.51575157515751,-20.51784390353096],[57.37173717371738,-20.51784390353096],[57.29972997299731,-20.46575913450718],[57.335733573357345,-20.413674365483402],[57.335733573357345,-20.34422800678503],[57.37173717371738,-20.240058468737487],[57.40774077407741,-20.18797369971371],[57.479747974797476,-20.153250520364523],[57.479747974797476,-20.06644257199156],[57.55175517551757,-20.01435780296778],[57.623762376237636,-19.996996213293187],[57.731773177317734,-20.101165751340744],[57.76777677767777,-20.222696879062894],[57.76777677767777,-20.34422800678503],[57.6957695769577,-20.378951186134216],[57.6957695769577,-20.448397544832588],[57.623762376237636,-20.500482313856367]],[[55.535553555355534,-4.701435709977233],[55.535553555355534,-4.788243658350197],[55.46354635463547,-4.770882068675604],[55.46354635463547,-4.701435709977233],[55.3915391539154,-4.666712530628047],[55.35553555355537,-4.614627761604268],[55.427542754275436,-4.5625429925804895],[55.535553555355534,-4.701435709977233]],[[50.60306030603061,25.872323706980083],[50.56705670567058,25.80287734828171],[50.53105310531055,25.820238937956304],[50.459045904590454,25.959131655353048],[50.459045904590454,26.045939603726012],[50.42304230423042,26.184832321122755],[50.459045904590454,26.21955550047194],[50.56705670567058,26.236917090146534],[50.53105310531055,26.184832321122755],[50.60306030603061,26.115385962424384],[50.60306030603061,25.872323706980083]],[[73.3933393339334,3.2154491816369273],[73.35733573357336,3.23281077131152],[73.35733573357336,3.267533950660706],[73.3933393339334,3.284895540335299],[73.42934293429343,3.267533950660706],[73.42934293429343,3.23281077131152],[73.3933393339334,3.2154491816369273]],[[73.5013501350135,4.152975024064929],[73.46534653465346,4.152975024064929],[73.46534653465346,4.205059793088694],[73.5013501350135,4.222421382763287],[73.5013501350135,4.152975024064929]],[[169.63096309630964,5.819687632825804],[169.59495949594958,5.85441081217499],[169.63096309630964,5.94121876054794],[169.6669666966697,5.923857170873347],[169.63096309630964,5.819687632825804]],[[171.07110711071107,7.1218068584202285],[171.2151215121512,7.06972208939645],[171.3591359135914,7.104445268745636],[171.3591359135914,7.087083679071043],[171.25112511251126,7.052360499721857],[171.2151215121512,7.052360499721857],[171.07110711071107,7.104445268745636],[171.07110711071107,7.1218068584202285]],[[162.97029702970298,5.31620153226261],[162.97029702970298,5.264116763238846],[162.8982898289829,5.2988399425880175],[162.93429342934297,5.333563121937203],[162.97029702970298,5.31620153226261]],[[158.2898289828983,6.809298244277571],[158.25382538253825,6.774575064928385],[158.1818181818182,6.791936654602978],[158.14581458145818,6.878744602975942],[158.10981098109812,6.896106192650535],[158.10981098109812,6.930829371999721],[158.1818181818182,6.965552551348907],[158.2898289828983,6.948190961674314],[158.32583258325832,6.878744602975942],[158.2898289828983,6.8440214236267565],[158.2898289828983,6.809298244277571]],[[151.62916291629165,7.330145934515343],[151.5931593159316,7.347507524189936],[151.5931593159316,7.382230703539122],[151.62916291629165,7.382230703539122],[151.62916291629165,7.330145934515343]],[[151.8811881188119,7.416953882888308],[151.84518451845184,7.416953882888308],[151.84518451845184,7.4516770622374935],[151.8811881188119,7.4516770622374935],[151.8811881188119,7.416953882888308]],[[138.12781278127812,9.500344643839398],[138.12781278127812,9.56979100253777],[138.16381638163818,9.587152592212362],[138.1998199819982,9.535067823188584],[138.16381638163818,9.500344643839398],[138.12781278127812,9.500344643839398]],[[166.89468946894692,-.5172925984004451],[166.93069306930693,-.49993100872585217],[166.966696669667,-.5172925984004451],[166.966696669667,-.5520157777496308],[166.93069306930693,-.5520157777496308],[166.89468946894692,-.5520157777496308],[166.89468946894692,-.534654188075038],[166.89468946894692,-.5172925984004451]],[[134.56345634563456,7.364869113864529],[134.52745274527456,7.347507524189936],[134.4914491449145,7.434315472562901],[134.4914491449145,7.521123420935865],[134.52745274527456,7.590569779634222],[134.59945994599462,7.607931369308815],[134.59945994599462,7.486400241586679],[134.56345634563456,7.434315472562901],[134.56345634563456,7.364869113864529]],[[-171.46714671467146,-14.05933254458256],[-171.75517551755175,-14.05933254458256],[-171.8991899189919,-14.007247775558795],[-171.93519351935194,-14.007247775558795],[-172.04320432043204,-13.920439827185831],[-172.07920792079207,-13.868355058162052],[-172.007200720072,-13.833631878812866],[-171.86318631863188,-13.816270289138274],[-171.61116111611162,-13.885716647836645],[-171.57515751575158,-13.955163006535017],[-171.53915391539155,-13.955163006535017],[-171.46714671467146,-13.989886185884203],[-171.46714671467146,-14.05933254458256]],[[-172.36723672367236,-13.46903849564643],[-172.22322232223223,-13.573208033693973],[-172.1872187218722,-13.694739161416123],[-172.25922592259226,-13.816270289138274],[-172.33123312331233,-13.781547109789088],[-172.51125112511252,-13.816270289138274],[-172.54725472547256,-13.79890869946368],[-172.76327632763275,-13.590569623368566],[-172.7992799279928,-13.521123264670194],[-172.6912691269127,-13.538484854344787],[-172.51125112511252,-13.486400085321009],[-172.36723672367236,-13.46903849564643]],[[103.562828617596,1.19209804885879],[103.66539168093617,1.415549393564978],[103.72316284718511,1.461049419576995],[103.86289105136714,1.465021405443363],[104.00318672278996,1.42040107478995],[104.07707806368612,1.430908392589419],[104.08024877086231,1.356636222342184],[104.126080087493,1.27402861451777]],[[-174.92349234923492,-21.31647702856222],[-174.92349234923492,-21.455369745958947],[-174.99549954995499,-21.38592338726059],[-174.99549954995499,-21.351200207911404],[-174.92349234923492,-21.31647702856222]],[[-175.17551755175518,-21.177584311165475],[-175.13951395139514,-21.14286113181629],[-175.1035103510351,-21.177584311165475],[-175.17551755175518,-21.26439225953844],[-175.2115211521152,-21.229669080189254],[-175.35553555355534,-21.160222721490882],[-175.3195319531953,-21.125499542141696],[-175.24752475247524,-21.125499542141696],[-175.17551755175518,-21.177584311165475]],[[-173.98739873987398,-18.64279221867497],[-174.02340234023401,-18.71223857737334],[-174.0954095409541,-18.64279221867497],[-174.02340234023401,-18.573345859976612],[-173.95139513951395,-18.590707449651205],[-173.95139513951395,-18.625430629000377],[-173.98739873987398,-18.64279221867497]],[[178.30783078307832,-8.034860927498983],[178.37983798379838,-7.930691389451425],[178.45184518451845,-7.965414568800611],[178.37983798379838,-8.086945696522761],[178.30783078307832,-8.034860927498983]],[[178.6678667866787,-7.461928468237431],[178.7038703870387,-7.479290057912024],[178.6678667866787,-7.496651647586617],[178.6678667866787,-7.461928468237431]],[[179.13591359135916,-8.416815900340012],[179.17191719171916,-8.434177490014605],[179.20792079207922,-8.52098543838757],[179.0999099909991,-8.590431797085941],[179.0999099909991,-8.625154976435127],[179.0639063906391,-8.64251656610972],[179.0639063906391,-8.590431797085941],[179.02790279027903,-8.52098543838757],[179.0999099909991,-8.434177490014605],[179.13591359135916,-8.416815900340012]],[[179.85598559855987,-9.354341742768014],[179.85598559855987,-9.371703332442607],[179.89198919891993,-9.3890649221172],[179.85598559855987,-9.441149691140978],[179.85598559855987,-9.423788101466386],[179.8199819981998,-9.371703332442607],[179.8199819981998,-9.354341742768014],[179.85598559855987,-9.354341742768014]],[[176.97569756975696,-12.462066294520056],[177.15571557155715,-12.47942788419465],[177.15571557155715,-12.531512653218428],[177.01170117011702,-12.514151063543835],[176.97569756975696,-12.462066294520056]],[[177.15571557155715,-7.253589392142317],[177.11971197119715,-7.184143033443959],[177.15571557155715,-7.201504623118552],[177.15571557155715,-7.253589392142317]],[[176.0756075607561,-5.63896155240522],[176.11161116111612,-5.656323142079813],[176.14761476147618,-5.708407911103592],[176.11161116111612,-5.673684731754406],[176.03960396039605,-5.63896155240522],[176.0756075607561,-5.63896155240522]],[[-61.72817281728173,17.03527456261253],[-61.764176417641764,16.98318979358875],[-61.87218721872186,17.000551383263343],[-61.90819081908191,17.05263615228712],[-61.90819081908191,17.087359331636307],[-61.83618361836183,17.15680569033468],[-61.692169216921684,17.087359331636307],[-61.692169216921684,17.05263615228712],[-61.72817281728173,17.03527456261253]],[[-61.764176417641764,17.573483842524894],[-61.764176417641764,17.538760663175708],[-61.87218721872186,17.590845432199487],[-61.87218721872186,17.712376559921637],[-61.764176417641764,17.66029179089786],[-61.764176417641764,17.573483842524894]],[[-59.4959495949595,13.076832116805448],[-59.53195319531953,13.059470527130856],[-59.63996399639963,13.094193706480041],[-59.675967596759676,13.14627847550382],[-59.675967596759676,13.302532782575142],[-59.6039603960396,13.302532782575142],[-59.45994599459945,13.14627847550382],[-59.4959495949595,13.076832116805448]],[[-61.296129612961295,15.247030826129503],[-61.40414041404141,15.212307646780317],[-61.44014401440144,15.385923543526246],[-61.512151215121506,15.52481626092299],[-61.47614761476147,15.594262619621347],[-61.47614761476147,15.628985798970533],[-61.33213321332133,15.576901029946754],[-61.296129612961295,15.52481626092299],[-61.26012601260126,15.368561953851653],[-61.296129612961295,15.247030826129503]],[[-61.72817281728173,12.000413556980718],[-61.764176417641764,12.035136736329903],[-61.764176417641764,12.104583095028275],[-61.692169216921684,12.226114222750411],[-61.62016201620162,12.208752633075818],[-61.65616561656165,12.052498326004496],[-61.72817281728173,12.000413556980718]],[[-62.55625562556256,17.1047209213109],[-62.59225922592259,17.087359331636307],[-62.62826282628262,17.122082510985493],[-62.62826282628262,17.191528869683864],[-62.59225922592259,17.191528869683864],[-62.55625562556256,17.15680569033468],[-62.55625562556256,17.1047209213109]],[[-62.664266426642655,17.22625204903305],[-62.736273627362735,17.278336818056815],[-62.8082808280828,17.295698407731408],[-62.84428442844285,17.330421587080593],[-62.84428442844285,17.382506356104372],[-62.8082808280828,17.399867945778965],[-62.736273627362735,17.347783176755186],[-62.7002700270027,17.278336818056815],[-62.664266426642655,17.26097522838222],[-62.664266426642655,17.22625204903305]],[[-60.90009000900089,13.806018883138336],[-60.97209720972097,13.701849345090778],[-61.080108010801084,13.77129570378915],[-61.080108010801084,13.910188421185879],[-61.008100810081004,13.996996369558843],[-60.97209720972097,14.066442728257215],[-60.93609360936094,14.083804317931808],[-60.90009000900089,13.996996369558843],[-60.90009000900089,13.806018883138336]],[[-61.18811881188118,13.14627847550382],[-61.224122412241215,13.128916885829227],[-61.296129612961295,13.198363244527599],[-61.296129612961295,13.285171192900549],[-61.224122412241215,13.319894372249735],[-61.18811881188118,13.35461755159892],[-61.15211521152115,13.35461755159892],[-61.15211521152115,13.198363244527599],[-61.18811881188118,13.14627847550382]],[[1.4221422142214237,42.591534563612626],[1.4941494149414893,42.62625774296181],[1.5661566156615834,42.62625774296181],[1.7101710171017146,42.57417297393802],[1.7101710171017146,42.522088204914255],[1.6741674167416818,42.48736502556507],[1.4581458145814565,42.4179186668667],[1.4221422142214237,42.435280256541304],[1.4221422142214237,42.48736502556507],[1.386138613861391,42.522088204914255],[1.4221422142214237,42.591534563612626]],[[9.60754621634599,47.0613932427273],[9.55740711339162,47.0511647748693]],[[9.48531852772954,47.1784895080045],[9.53022075531123,47.2730326940506],[9.57917146014346,47.2077927269191]],[[14.563456345634563,35.83787618019616],[14.52745274527453,35.803153000846976],[14.419441944194432,35.82051459052157],[14.347434743474366,35.855237769870755],[14.347434743474366,35.976768897592905],[14.52745274527453,35.87259935954535],[14.563456345634563,35.83787618019616]],[[7.434743474347442,43.73739948213573],[7.362736273627377,43.72003789246112],[7.362736273627377,43.75476107181031],[7.434743474347442,43.73739948213573]],[[12.367236723672363,43.928376968556236],[12.439243924392457,43.98046173758003],[12.511251125112523,43.94573855823084],[12.47524752475249,43.89365378920705],[12.403240324032396,43.89365378920705],[12.367236723672363,43.928376968556236]],[[-157.42381751199986,2.020453192000062],[-157.38585364499994,1.990464585000097],[-157.32184811099995,1.972113348000136],[-157.3101293609999,1.973089911000116],[-157.3113907539999,1.962591864000061],[-157.31505286399994,1.952785549000112],[-157.32066809799994,1.945502020000021],[-157.33617102799994,1.939113674000083],[-157.34044348899988,1.930243231000048],[-157.34491939999992,1.907945054000095],[-157.3477270169999,1.860785223000107],[-157.32542883999992,1.835842190000079],[-157.28978430899988,1.818752346000139],[-157.25243079299992,1.795314846000153],[-157.2383927069999,1.783636786000073],[-157.22297115799995,1.773586330000086],[-157.20689856699988,1.766546942000033],[-157.19098873599995,1.763902085000126],[-157.17939205599993,1.753892320000148],[-157.17463131399992,1.733791408000016],[-157.1787817049999,1.718491929000052],[-157.1940811839999,1.722967841000099],[-157.20307369699995,1.717474677000084],[-157.21324622299989,1.71279531500015],[-157.22411048099988,1.709702867000161],[-157.23505611899995,1.709295966000155],[-157.24640865799992,1.71332428600013],[-157.2546280589999,1.720282294000128],[-157.26085364499988,1.726874091000099],[-157.27118893099987,1.732977606000176],[-157.2815649079999,1.747056382000125],[-157.28685462099986,1.750230210000012],[-157.30927486899986,1.751898505000113],[-157.41059322799993,1.78192780200007],[-157.44896399599995,1.800238348000036],[-157.48265540299994,1.825384833000101],[-157.50861568899995,1.849595445000105],[-157.5282690089999,1.86249420800003],[-157.53730221299992,1.856675523000149],[-157.5468236969999,1.85643138200011],[-157.56602942599994,1.863755601000037],[-157.58116614499994,1.880316473],[-157.57823645699995,1.907945054000095],[-157.5723363919999,1.912787177000084],[-157.54352779899986,1.929022528000033],[-157.53014075399986,1.93056875200007],[-157.52122962099992,1.927679755000042],[-157.51756751199986,1.923651434000149],[-157.51988684799994,1.921576239000132],[-157.53282630099994,1.916083075000117],[-157.54535885299993,1.90232982000019],[-157.54950924399986,1.884466864000132],[-157.53730221299992,1.866359768000123],[-157.5269262359999,1.864813544000086],[-157.5130509109999,1.866603908000073],[-157.50092525899993,1.865871486000046],[-157.49571692599994,1.856675523000149],[-157.4906713529999,1.850165106000077],[-157.47883053299995,1.847967841000084],[-157.4547826809999,1.847072658],[-157.43468176999994,1.83852773600016],[-157.4285375639999,1.838568427000055],[-157.43736731699994,1.850165106000077],[-157.44794674399986,1.857489325000159],[-157.45860755099991,1.862127997000016],[-157.4680883449999,1.868353583000058],[-157.47520911399988,1.880601304000038],[-157.46235104099995,1.876288153000118],[-157.45164954299992,1.876410223000093],[-157.4457901679999,1.883734442000105],[-157.44733639199993,1.901109117000175],[-157.4365942049999,1.893866278000147],[-157.43248450399986,1.883734442000105],[-157.43000240799995,1.872788804000123],[-157.42369544199988,1.863226630000057],[-157.4119766919999,1.858465887000136],[-157.40794837099992,1.866156317000076],[-157.41002356699988,1.879380601000193],[-157.42442786399994,1.901841539000102],[-157.42638098899988,1.912054755000057],[-157.42438717399995,1.921210028000118],[-157.41999264199995,1.929022528000033],[-157.40831458199995,1.921454169000157],[-157.40314693899995,1.924221096000124],[-157.4063207669999,1.942694403000147],[-157.39472408799992,1.935736395000063],[-157.39399166599986,1.926743882000139],[-157.39586341099994,1.91697825700011],[-157.3920792309999,1.907945054000095],[-157.38206946499992,1.902167059000135],[-157.37718665299985,1.90525950700011],[-157.3739721339999,1.911363023000192],[-157.36384029899995,1.917385158000116],[-157.3584692049999,1.923895575000103],[-157.35411536399988,1.931830145000077],[-157.3523656889999,1.938950914000117],[-157.3550512359999,1.94765859600011],[-157.36168372299994,1.951483466000113],[-157.3796280589999,1.955715236000131],[-157.40888424399992,1.969305731000091],[-157.4453018869999,1.994370835000012],[-157.45103919199988,1.997300523000121],[-157.45539303299995,2.002997137000094],[-157.4662979809999,2.013332424000112],[-157.47752844999994,2.018133856000091],[-157.48265540299994,2.007228908000116],[-157.48790442599994,2.000555731000162],[-157.4988907539999,2.002183335000083],[-157.50841223899988,2.010687567000033],[-157.5093888009999,2.024603583000015],[-157.4962865879999,2.034409898000121],[-157.4745987619999,2.033351955000072],[-157.42381751199986,2.020453192000062]],[[6.662253442589007,.416881758953456],[6.766597964464581,.283008296118973],[6.664222207152696,.119601901283034],[6.526408687694389,.019194995035456],[6.461439457092617,.212133437981513],[6.490970925547967,.314508100511184],[6.662253442589007,.416881758953456]]],bbox:[-180,-85.609038,180,83.64513]}},,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getElementWithHalo}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),HaloStyle={fill:"#fff",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:".25em"},getElementWithHalo=function getElementWithHalo(key,element){var halo=react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(element,{style:HaloStyle});return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,{key:key},halo,element)};getElementWithHalo.displayName="getElementWithHalo"},,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FuzzySearch}));__webpack_require__(21);var grapher_utils_Util__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),fuzzysort__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(166),fuzzysort__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(fuzzysort__WEBPACK_IMPORTED_MODULE_2__);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var FuzzySearch=function(){function FuzzySearch(data,key){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FuzzySearch),this.strings=void 0,this.datamap=void 0,this.datamap=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_1__.U)(data,key),this.strings=data.map((function(d){return fuzzysort__WEBPACK_IMPORTED_MODULE_2___default.a.prepare(d[key])}))}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(FuzzySearch,[{key:"search",value:function search(input){var _this=this;return fuzzysort__WEBPACK_IMPORTED_MODULE_2___default.a.go(input,this.strings).map((function(result){return _this.datamap[result.target]}))}},{key:"single",value:function single(input,target){return fuzzysort__WEBPACK_IMPORTED_MODULE_2___default.a.single(input,target)}},{key:"highlight",value:function highlight(input,target){var _highlight2;return null!==(_highlight2=function _highlight(result){return fuzzysort__WEBPACK_IMPORTED_MODULE_2___default.a.highlight(result)}(fuzzysort__WEBPACK_IMPORTED_MODULE_2___default.a.single(input,target)))&&void 0!==_highlight2?_highlight2:target}}]),FuzzySearch}()},,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("6U7i")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("Cm4o")},,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("iKE+")},,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("nDih")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("wC3K")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("YpBQ")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("s+R0")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("N9G2")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("mg+6")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LegacyVariableDisplayConfig}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(19),__webpack_require__(14),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var _class,_descriptor,_descriptor2,_class3,_descriptor3,_descriptor4,_descriptor5,_descriptor6,_descriptor7,_descriptor8,_descriptor9,_descriptor10,_descriptor11,_descriptor12,_descriptor13,_descriptor14,mobx__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(0),grapher_persistable_Persistable__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(58);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}_descriptor=_applyDecoratedDescriptor((_class=function LegacyVariableTableDisplayConfig(){_classCallCheck(this,LegacyVariableTableDisplayConfig),_initializerDefineProperty(this,"hideAbsoluteChange",_descriptor,this),_initializerDefineProperty(this,"hideRelativeChange",_descriptor2,this)}).prototype,"hideAbsoluteChange",[mobx__WEBPACK_IMPORTED_MODULE_15__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor2=_applyDecoratedDescriptor(_class.prototype,"hideRelativeChange",[mobx__WEBPACK_IMPORTED_MODULE_15__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}});var LegacyVariableDisplayConfigDefaults=(_descriptor3=_applyDecoratedDescriptor((_class3=function LegacyVariableDisplayConfigDefaults(){_classCallCheck(this,LegacyVariableDisplayConfigDefaults),_initializerDefineProperty(this,"name",_descriptor3,this),_initializerDefineProperty(this,"unit",_descriptor4,this),_initializerDefineProperty(this,"shortUnit",_descriptor5,this),_initializerDefineProperty(this,"isProjection",_descriptor6,this),_initializerDefineProperty(this,"conversionFactor",_descriptor7,this),_initializerDefineProperty(this,"numDecimalPlaces",_descriptor8,this),_initializerDefineProperty(this,"tolerance",_descriptor9,this),_initializerDefineProperty(this,"yearIsDay",_descriptor10,this),_initializerDefineProperty(this,"zeroDay",_descriptor11,this),_initializerDefineProperty(this,"entityAnnotationsMap",_descriptor12,this),_initializerDefineProperty(this,"includeInTable",_descriptor13,this),_initializerDefineProperty(this,"tableDisplay",_descriptor14,this)}).prototype,"name",[mobx__WEBPACK_IMPORTED_MODULE_15__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor4=_applyDecoratedDescriptor(_class3.prototype,"unit",[mobx__WEBPACK_IMPORTED_MODULE_15__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor5=_applyDecoratedDescriptor(_class3.prototype,"shortUnit",[mobx__WEBPACK_IMPORTED_MODULE_15__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor6=_applyDecoratedDescriptor(_class3.prototype,"isProjection",[mobx__WEBPACK_IMPORTED_MODULE_15__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor7=_applyDecoratedDescriptor(_class3.prototype,"conversionFactor",[mobx__WEBPACK_IMPORTED_MODULE_15__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor8=_applyDecoratedDescriptor(_class3.prototype,"numDecimalPlaces",[mobx__WEBPACK_IMPORTED_MODULE_15__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor9=_applyDecoratedDescriptor(_class3.prototype,"tolerance",[mobx__WEBPACK_IMPORTED_MODULE_15__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor10=_applyDecoratedDescriptor(_class3.prototype,"yearIsDay",[mobx__WEBPACK_IMPORTED_MODULE_15__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor11=_applyDecoratedDescriptor(_class3.prototype,"zeroDay",[mobx__WEBPACK_IMPORTED_MODULE_15__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor12=_applyDecoratedDescriptor(_class3.prototype,"entityAnnotationsMap",[mobx__WEBPACK_IMPORTED_MODULE_15__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor13=_applyDecoratedDescriptor(_class3.prototype,"includeInTable",[mobx__WEBPACK_IMPORTED_MODULE_15__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!0}}),_descriptor14=_applyDecoratedDescriptor(_class3.prototype,"tableDisplay",[mobx__WEBPACK_IMPORTED_MODULE_15__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_class3),LegacyVariableDisplayConfig=function(_LegacyVariableDispla){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(LegacyVariableDisplayConfig,_LegacyVariableDispla);var _super=_createSuper(LegacyVariableDisplayConfig);function LegacyVariableDisplayConfig(obj){var _this;return _classCallCheck(this,LegacyVariableDisplayConfig),_this=_super.call(this),obj&&_this.updateFromObject(obj),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(LegacyVariableDisplayConfig,[{key:"updateFromObject",value:function updateFromObject(obj){obj&&Object(grapher_persistable_Persistable__WEBPACK_IMPORTED_MODULE_16__.c)(this,obj)}},{key:"toObject",value:function toObject(){return Object(grapher_persistable_Persistable__WEBPACK_IMPORTED_MODULE_16__.a)(Object(grapher_persistable_Persistable__WEBPACK_IMPORTED_MODULE_16__.b)(this),new LegacyVariableDisplayConfigDefaults)}}]),LegacyVariableDisplayConfig}(LegacyVariableDisplayConfigDefaults)},,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return GrapherViewContext}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),GrapherViewContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({})},,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return StackedBarChart}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(31),__webpack_require__(19),__webpack_require__(43),__webpack_require__(32),__webpack_require__(14),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(60),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(45),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var _dec,_dec2,_class,_class2,_descriptor,_temp,_dec3,_dec4,_dec5,_dec6,_dec7,_class4,_class5,_descriptor2,_descriptor3,_temp2,react__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(1),mobx__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(0),mobx_react__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(9),d3_selection__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(187),d3_ease__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(299),grapher_utils_Util__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(2),grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(24),grapher_axis_AxisViews__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(73),grapher_axis_Axis__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(83),grapher_chart_NoDataOverlay__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(55),grapher_text_Text__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(138),grapher_scatterCharts_ScatterColorLegend__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(108),grapher_chart_Tooltip__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(76);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var StackedBarSegment=(_dec=mobx__WEBPACK_IMPORTED_MODULE_25__.d.bound,_dec2=mobx__WEBPACK_IMPORTED_MODULE_25__.d.bound,Object(mobx_react__WEBPACK_IMPORTED_MODULE_26__.a)((_temp=function(_React$Component){_inherits(StackedBarSegment,_React$Component);var _super=_createSuper(StackedBarSegment);function StackedBarSegment(){var _this;_classCallCheck(this,StackedBarSegment);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).base=react__WEBPACK_IMPORTED_MODULE_24__.createRef(),_initializerDefineProperty(_this,"mouseOver",_descriptor,_assertThisInitialized(_this)),_this}return _createClass(StackedBarSegment,[{key:"onBarMouseOver",value:function onBarMouseOver(){this.mouseOver=!0,this.props.onBarMouseOver(this.props.bar)}},{key:"onBarMouseLeave",value:function onBarMouseLeave(){this.mouseOver=!1,this.props.onBarMouseLeave()}},{key:"render",value:function render(){var _this$props=this.props,color=_this$props.color,xOffset=_this$props.xOffset,barWidth=_this$props.barWidth,yPos=this.yPos,barHeight=this.barHeight,trueOpacity=this.trueOpacity;return react__WEBPACK_IMPORTED_MODULE_24__.createElement("rect",{ref:this.base,x:xOffset,y:yPos,width:barWidth,height:barHeight,fill:color,opacity:trueOpacity,onMouseOver:this.onBarMouseOver,onMouseLeave:this.onBarMouseLeave})}},{key:"yPos",get:function get(){var _this$props2=this.props,bar=_this$props2.bar;return _this$props2.yAxis.place(bar.yOffset+bar.y)}},{key:"barHeight",get:function get(){var _this$props3=this.props,bar=_this$props3.bar,yAxis=_this$props3.yAxis,yPos=this.yPos;return yAxis.place(bar.yOffset)-yPos}},{key:"trueOpacity",get:function get(){return this.mouseOver?1:this.props.opacity}}]),StackedBarSegment}(react__WEBPACK_IMPORTED_MODULE_24__.Component),_descriptor=_applyDecoratedDescriptor((_class2=_temp).prototype,"mouseOver",[mobx__WEBPACK_IMPORTED_MODULE_25__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_applyDecoratedDescriptor(_class2.prototype,"yPos",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"yPos"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"barHeight",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"barHeight"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"trueOpacity",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"trueOpacity"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"onBarMouseOver",[_dec],Object.getOwnPropertyDescriptor(_class2.prototype,"onBarMouseOver"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"onBarMouseLeave",[_dec2],Object.getOwnPropertyDescriptor(_class2.prototype,"onBarMouseLeave"),_class2.prototype),_class=_class2))||_class),StackedBarChart=(_dec3=mobx__WEBPACK_IMPORTED_MODULE_25__.d.bound,_dec4=mobx__WEBPACK_IMPORTED_MODULE_25__.d.bound,_dec5=mobx__WEBPACK_IMPORTED_MODULE_25__.d.bound,_dec6=mobx__WEBPACK_IMPORTED_MODULE_25__.d.bound,_dec7=mobx__WEBPACK_IMPORTED_MODULE_25__.d.bound,Object(mobx_react__WEBPACK_IMPORTED_MODULE_26__.a)((_temp2=function(_React$Component2){_inherits(StackedBarChart,_React$Component2);var _super2=_createSuper(StackedBarChart);function StackedBarChart(){var _this2;_classCallCheck(this,StackedBarChart);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return(_this2=_super2.call.apply(_super2,[this].concat(args))).base=void 0,_this2.minBarSpacing=4,_initializerDefineProperty(_this2,"hoverColor",_descriptor2,_assertThisInitialized(_this2)),_initializerDefineProperty(_this2,"hoverBar",_descriptor3,_assertThisInitialized(_this2)),_this2}return _createClass(StackedBarChart,[{key:"onLegendMouseOver",value:function onLegendMouseOver(color){this.hoverColor=color}},{key:"onLegendMouseLeave",value:function onLegendMouseLeave(){this.hoverColor=void 0}},{key:"onLegendClick",value:function onLegendClick(){}},{key:"onBarMouseOver",value:function onBarMouseOver(bar){this.hoverBar=bar}},{key:"onBarMouseLeave",value:function onBarMouseLeave(){this.hoverBar=void 0}},{key:"componentDidMount",value:function componentDidMount(){var _this3=this;Object(d3_selection__WEBPACK_IMPORTED_MODULE_27__.a)(this.base).selectAll("clipPath > rect").attr("width",0).transition().duration(800).ease(d3_ease__WEBPACK_IMPORTED_MODULE_28__.a).attr("width",this.bounds.width).on("end",(function(){return _this3.forceUpdate()}))}},{key:"render",value:function render(){var _this4=this;if(this.failMessage)return react__WEBPACK_IMPORTED_MODULE_24__.createElement(grapher_chart_NoDataOverlay__WEBPACK_IMPORTED_MODULE_33__.a,{options:this.grapher,bounds:this.bounds,message:this.failMessage});var dualAxis=this.dualAxis,renderUid=this.renderUid,bounds=this.bounds,yAxis=this.yAxis,legend=this.legend,sidebarWidth=this.sidebarWidth,activeColors=this.activeColors,tooltip=this.tooltip,barWidth=this.barWidth,mapXValueToOffset=this.mapXValueToOffset,ticks=this.ticks,stackedData=this.transform.stackedData,innerBounds=dualAxis.innerBounds;return react__WEBPACK_IMPORTED_MODULE_24__.createElement("g",{className:"StackedBarChart"},react__WEBPACK_IMPORTED_MODULE_24__.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_24__.createElement("clipPath",{id:"boundsClip-".concat(renderUid)},react__WEBPACK_IMPORTED_MODULE_24__.createElement("rect",{x:innerBounds.x,y:innerBounds.y,width:innerBounds.width,height:innerBounds.height}))),react__WEBPACK_IMPORTED_MODULE_24__.createElement("rect",{x:bounds.left,y:bounds.top,width:bounds.width,height:bounds.height,opacity:0,fill:"rgba(255,255,255,0)"}),react__WEBPACK_IMPORTED_MODULE_24__.createElement(grapher_axis_AxisViews__WEBPACK_IMPORTED_MODULE_31__.e,{bounds:bounds,verticalAxis:yAxis,isInteractive:this.grapher.isInteractive}),react__WEBPACK_IMPORTED_MODULE_24__.createElement(grapher_axis_AxisViews__WEBPACK_IMPORTED_MODULE_31__.f,{verticalAxis:yAxis,bounds:innerBounds}),react__WEBPACK_IMPORTED_MODULE_24__.createElement(grapher_axis_AxisViews__WEBPACK_IMPORTED_MODULE_31__.a,{tickMarkTopPosition:innerBounds.bottom,tickMarkXPositions:ticks.map((function(tick){return tick.bounds.centerX})),color:"#666"}),react__WEBPACK_IMPORTED_MODULE_24__.createElement("g",null,ticks.map((function(tick,i){return react__WEBPACK_IMPORTED_MODULE_24__.createElement(grapher_text_Text__WEBPACK_IMPORTED_MODULE_34__.a,{key:i,x:tick.bounds.x,y:tick.bounds.y,fill:"#666",fontSize:_this4.tickFontSize},tick.text)}))),react__WEBPACK_IMPORTED_MODULE_24__.createElement("g",{clipPath:"url(#boundsClip-".concat(renderUid,")")},stackedData.map((function(series){var opacity=_this4.hoverKeys.includes(series.entityDimensionKey)||0===_this4.hoverKeys.length?.8:.2;return react__WEBPACK_IMPORTED_MODULE_24__.createElement("g",{key:series.entityDimensionKey,className:Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_29__.Z)(series.entityDimensionKey)+"-segments"},series.values.map((function(bar){var xPos=mapXValueToOffset.get(bar.x),barOpacity=bar===_this4.hoverBar?1:opacity;return react__WEBPACK_IMPORTED_MODULE_24__.createElement(StackedBarSegment,{key:bar.x,bar:bar,color:series.color,xOffset:xPos,opacity:barOpacity,yAxis:yAxis,onBarMouseOver:_this4.onBarMouseOver,onBarMouseLeave:_this4.onBarMouseLeave,barWidth:barWidth})})))}))),react__WEBPACK_IMPORTED_MODULE_24__.createElement(grapher_scatterCharts_ScatterColorLegend__WEBPACK_IMPORTED_MODULE_35__.a,{legend:legend,x:bounds.right-sidebarWidth,y:bounds.top,onMouseOver:this.onLegendMouseOver,onMouseLeave:this.onLegendMouseLeave,onClick:this.onLegendClick,activeColors:activeColors}),tooltip)}},{key:"grapher",get:function get(){return this.props.grapher}},{key:"bounds",get:function get(){return this.props.bounds}},{key:"transform",get:function get(){return this.props.grapher.stackedBarTransform}},{key:"failMessage",get:function get(){return this.grapher.stackedBarTransform.failMessage}},{key:"tickFontSize",get:function get(){return.9*this.props.grapher.baseFontSize}},{key:"barValueFormat",get:function get(){return this.grapher.stackedBarTransform.barValueFormat}},{key:"barWidth",get:function get(){var transform=this.transform;return.8*this.dualAxis.innerBounds.width/transform.xValues.length}},{key:"barSpacing",get:function get(){return this.dualAxis.innerBounds.width/this.transform.xValues.length-this.barWidth}},{key:"barFontSize",get:function get(){return.75*this.props.grapher.baseFontSize}},{key:"dualAxis",get:function get(){var bounds=this.bounds,transform=this.transform,sidebarWidth=this.sidebarWidth,xAxis=transform.xAxis,yAxis=transform.yAxis;return new grapher_axis_Axis__WEBPACK_IMPORTED_MODULE_32__.a({bounds:bounds.padRight(sidebarWidth+20),xAxis:xAxis,yAxis:yAxis})}},{key:"yAxis",get:function get(){return this.dualAxis.yAxis}},{key:"renderUid",get:function get(){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_29__.H)()}},{key:"hoverKeys",get:function get(){var hoverColor=this.hoverColor,transform=this.transform;return void 0===hoverColor?[]:Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_29__.Ub)(transform.stackedData.filter((function(g){return g.color===hoverColor})).map((function(g){return g.entityDimensionKey})))}},{key:"activeColors",get:function get(){var hoverKeys=this.hoverKeys,transform=this.transform,activeKeys=hoverKeys.length>0?hoverKeys:[];return 0===activeKeys.length?Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_29__.Ub)(transform.stackedData.map((function(g){return g.color}))):Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_29__.Ub)(transform.stackedData.filter((function(g){return-1!==activeKeys.indexOf(g.entityDimensionKey)})).map((function(g){return g.color})))}},{key:"colorsInUse",get:function get(){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_29__.Ub)(this.transform.stackedData.map((function(g){return g.color})))}},{key:"legend",get:function get(){var that=this;return new grapher_scatterCharts_ScatterColorLegend__WEBPACK_IMPORTED_MODULE_35__.b({get maxWidth(){return that.sidebarMaxWidth},get fontSize(){return that.grapher.baseFontSize},get colorables(){return that.transform.colorScale.legendData.filter((function(bin){return that.colorsInUse.includes(bin.color)})).map((function(bin){var _bin$label,_bin$label2;return{key:null!==(_bin$label=bin.label)&&void 0!==_bin$label?_bin$label:"",label:null!==(_bin$label2=bin.label)&&void 0!==_bin$label2?_bin$label2:"",color:bin.color}}))}})}},{key:"sidebarMaxWidth",get:function get(){return this.bounds.width/5}},{key:"sidebarMinWidth",get:function get(){return 100}},{key:"sidebarWidth",get:function get(){var sidebarMinWidth=this.sidebarMinWidth,sidebarMaxWidth=this.sidebarMaxWidth,legend=this.legend;return Math.max(Math.min(legend.width,sidebarMaxWidth),sidebarMinWidth)}},{key:"tooltip",get:function get(){var hoverBar=this.hoverBar,yAxis=this.yAxis,mapXValueToOffset=this.mapXValueToOffset,barWidth=this.barWidth;if(void 0!==hoverBar){var xPos=mapXValueToOffset.get(hoverBar.x);if(void 0!==xPos){var yPos=yAxis.place(hoverBar.yOffset+hoverBar.y),yFormatTooltipFn=this.transform.yFormatTooltipFn;return react__WEBPACK_IMPORTED_MODULE_24__.createElement(grapher_chart_Tooltip__WEBPACK_IMPORTED_MODULE_36__.a,{tooltipContainer:this.props.grapher,x:xPos+barWidth,y:yPos,style:{textAlign:"center"}},react__WEBPACK_IMPORTED_MODULE_24__.createElement("h3",{style:{padding:"0.3em 0.9em",margin:0,backgroundColor:"#fcfcfc",borderBottom:"1px solid #ebebeb",fontWeight:"normal",fontSize:"1em"}},hoverBar.label),react__WEBPACK_IMPORTED_MODULE_24__.createElement("p",{style:{margin:0,padding:"0.3em 0.9em",fontSize:"0.8em"}},react__WEBPACK_IMPORTED_MODULE_24__.createElement("span",null,yFormatTooltipFn(hoverBar.y)),react__WEBPACK_IMPORTED_MODULE_24__.createElement("br",null),"in",react__WEBPACK_IMPORTED_MODULE_24__.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_24__.createElement("span",null,this.grapher.table.timeColumnFormatFunction(hoverBar.x))))}}}},{key:"mapXValueToOffset",get:function get(){for(var dualAxis=this.dualAxis,transform=this.transform,barWidth=this.barWidth,barSpacing=this.barSpacing,xValueToOffset=new Map,xOffset=dualAxis.innerBounds.left+barSpacing,i=0;i<transform.xValues.length;i++)xValueToOffset.set(transform.xValues[i],xOffset),xOffset+=barWidth+barSpacing;return xValueToOffset}},{key:"tickPlacements",get:function get(){var _this5=this,mapXValueToOffset=this.mapXValueToOffset,barWidth=this.barWidth,dualAxis=this.dualAxis,xValues=this.transform.xValues,xAxis=dualAxis.xAxis;return xValues.map((function(x){var text=xAxis.tickFormatFn(x),xPos=mapXValueToOffset.get(x),bounds=grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_30__.a.forText(text,{fontSize:_this5.tickFontSize});return{text:text,bounds:bounds.extend({x:xPos+barWidth/2-bounds.width/2,y:dualAxis.innerBounds.bottom+5}),isHidden:!1}}))}},{key:"ticks",get:function get(){for(var tickPlacements=this.tickPlacements,i=0;i<tickPlacements.length;i++)for(var j=1;j<tickPlacements.length;j++){var t1=tickPlacements[i],t2=tickPlacements[j];t1===t2||t1.isHidden||t2.isHidden||t1.bounds.intersects(t2.bounds.padWidth(-5))&&(0===i?t2.isHidden=!0:j===tickPlacements.length-1?t1.isHidden=!0:t2.isHidden=!0)}return tickPlacements.filter((function(t){return!t.isHidden}))}}]),StackedBarChart}(react__WEBPACK_IMPORTED_MODULE_24__.Component),_descriptor2=_applyDecoratedDescriptor((_class5=_temp2).prototype,"hoverColor",[mobx__WEBPACK_IMPORTED_MODULE_25__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor3=_applyDecoratedDescriptor(_class5.prototype,"hoverBar",[mobx__WEBPACK_IMPORTED_MODULE_25__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_applyDecoratedDescriptor(_class5.prototype,"grapher",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"grapher"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"bounds",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"bounds"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"transform",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"transform"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"failMessage",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"failMessage"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"tickFontSize",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"tickFontSize"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"barValueFormat",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"barValueFormat"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"barWidth",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"barWidth"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"barSpacing",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"barSpacing"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"barFontSize",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"barFontSize"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"dualAxis",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"dualAxis"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"yAxis",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"yAxis"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"renderUid",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"renderUid"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"hoverKeys",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"hoverKeys"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"activeColors",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"activeColors"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"colorsInUse",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"colorsInUse"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"legend",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"legend"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"sidebarMaxWidth",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"sidebarMaxWidth"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"sidebarMinWidth",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"sidebarMinWidth"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"sidebarWidth",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"sidebarWidth"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"tooltip",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"tooltip"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"mapXValueToOffset",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"mapXValueToOffset"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"tickPlacements",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"tickPlacements"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"ticks",[mobx__WEBPACK_IMPORTED_MODULE_25__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"ticks"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"onLegendMouseOver",[_dec3],Object.getOwnPropertyDescriptor(_class5.prototype,"onLegendMouseOver"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"onLegendMouseLeave",[_dec4],Object.getOwnPropertyDescriptor(_class5.prototype,"onLegendMouseLeave"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"onLegendClick",[_dec5],Object.getOwnPropertyDescriptor(_class5.prototype,"onLegendClick"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"onBarMouseOver",[_dec6],Object.getOwnPropertyDescriptor(_class5.prototype,"onBarMouseOver"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"onBarMouseLeave",[_dec7],Object.getOwnPropertyDescriptor(_class5.prototype,"onBarMouseLeave"),_class5.prototype),_class4=_class5))||_class4);try{StackedBarChart.displayName="StackedBarChart",StackedBarChart.__docgenInfo={description:"",displayName:"StackedBarChart",props:{bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"Bounds"}},grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/barCharts/StackedBarChart.tsx#StackedBarChart"]={docgenInfo:StackedBarChart.__docgenInfo,name:"StackedBarChart",path:"grapher/barCharts/StackedBarChart.tsx#StackedBarChart"})}catch(__react_docgen_typescript_loader_error){}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return TimeScatter}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(19),__webpack_require__(30),__webpack_require__(14),__webpack_require__(46),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(23),__webpack_require__(106),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var _dec,_dec2,_dec3,_dec4,_class,_class2,_descriptor,_temp,_dec5,_class4,_class5,react__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(1),mobx__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(0),mobx_react__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(9),grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(24),grapher_chart_NoDataOverlay__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(55),grapher_axis_Axis__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(83),grapher_axis_AxisViews__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(73),_ComparisonLine__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(156),grapher_utils_Util__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(2),grapher_utils_Vector2__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(38),d3_selection__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(187),grapher_chart_Tooltip__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(76);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var PointsWithLabels=(_dec=mobx__WEBPACK_IMPORTED_MODULE_24__.m.ref,_dec2=mobx__WEBPACK_IMPORTED_MODULE_24__.d.bound,_dec3=mobx__WEBPACK_IMPORTED_MODULE_24__.d.bound,_dec4=mobx__WEBPACK_IMPORTED_MODULE_24__.d.bound,Object(mobx_react__WEBPACK_IMPORTED_MODULE_25__.a)((_temp=function(_React$Component){_inherits(PointsWithLabels,_React$Component);var _super=_createSuper(PointsWithLabels);function PointsWithLabels(){var _this;_classCallCheck(this,PointsWithLabels);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).base=react__WEBPACK_IMPORTED_MODULE_23__.createRef(),_initializerDefineProperty(_this,"mousePos",_descriptor,_assertThisInitialized(_this)),_this.mouseFrame=void 0,_this.animSelection=void 0,_this}return _createClass(PointsWithLabels,[{key:"labelPriority",value:function labelPriority(l){return l.fontSize}},{key:"onMouseLeave",value:function onMouseLeave(){void 0!==this.mouseFrame&&cancelAnimationFrame(this.mouseFrame),this.mousePos=void 0}},{key:"onMouseMove",value:function onMouseMove(ev){var _this2=this;void 0!==this.mouseFrame&&cancelAnimationFrame(this.mouseFrame);var nativeEvent=ev.nativeEvent;this.mouseFrame=requestAnimationFrame((function(){Object(mobx__WEBPACK_IMPORTED_MODULE_24__.p)((function(){return _this2.mousePos=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_31__.E)(_this2.base.current,nativeEvent)}))}))}},{key:"onClick",value:function onClick(){}},{key:"renderBackgroundPoints",value:function renderBackgroundPoints(){}},{key:"renderBackgroundLabels",value:function renderBackgroundLabels(){}},{key:"componentDidMount",value:function componentDidMount(){var _this3=this,radiuses=[];this.animSelection=Object(d3_selection__WEBPACK_IMPORTED_MODULE_33__.a)(this.base.current).selectAll("circle"),this.animSelection.each((function(){radiuses.push(this.getAttribute("r")),this.setAttribute("r","0")})).transition().duration(500).attr("r",(function(_,i){return radiuses[i]})).on("end",(function(){return _this3.forceUpdate()}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.animSelection&&this.animSelection.interrupt()}},{key:"render",value:function render(){var bounds=this.bounds,renderUid=this.renderUid,labelFontFamily=this.labelFontFamily,clipBounds=bounds.pad(-10);return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_31__.O)(this.props.data)||Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_31__.O)(this.series.points)?react__WEBPACK_IMPORTED_MODULE_23__.createElement(grapher_chart_NoDataOverlay__WEBPACK_IMPORTED_MODULE_27__.a,{options:this.props.grapher,bounds:bounds}):react__WEBPACK_IMPORTED_MODULE_23__.createElement("g",{ref:this.base,className:"PointsWithLabels clickable",clipPath:"url(#scatterBounds-".concat(renderUid,")"),onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,onClick:this.onClick,fontFamily:labelFontFamily},react__WEBPACK_IMPORTED_MODULE_23__.createElement("rect",{key:"background",x:bounds.x,y:bounds.y,width:bounds.width,height:bounds.height,fill:"rgba(255,255,255,0)"}),react__WEBPACK_IMPORTED_MODULE_23__.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_23__.createElement("clipPath",{id:"scatterBounds-".concat(renderUid)},react__WEBPACK_IMPORTED_MODULE_23__.createElement("rect",{x:clipBounds.x,y:clipBounds.y,width:clipBounds.width,height:clipBounds.height}))),this.linesRender,this.pointsRender,this.labelsRender,this.tooltip)}},{key:"isConnected",get:function get(){return!0}},{key:"bounds",get:function get(){return this.props.bounds}},{key:"labelFontFamily",get:function get(){return"Arial Narrow, Arial, sans-serif"}},{key:"hideLines",get:function get(){return this.props.hideLines}},{key:"transform",get:function get(){return this.props.grapher.scatterTransform}},{key:"tooltip",get:function get(){var hoverPoint=this.hoverPoint,transform=this.transform;if(void 0!==hoverPoint){var value=hoverPoint.value,formatFunction=this.props.grapher.table.timeColumnFormatFunction,year=value.time.span?"".concat(formatFunction(value.time.span[0])," to ").concat(formatFunction(value.time.span[1])):formatFunction(value.time.y);return react__WEBPACK_IMPORTED_MODULE_23__.createElement(grapher_chart_Tooltip__WEBPACK_IMPORTED_MODULE_34__.a,{tooltipContainer:this.props.grapher,x:hoverPoint.position.x+5,y:hoverPoint.position.y+5,style:{textAlign:"center"}},react__WEBPACK_IMPORTED_MODULE_23__.createElement("h3",{style:{padding:"0.3em 0.9em",margin:0,backgroundColor:"#fcfcfc",borderBottom:"1px solid #ebebeb",fontWeight:"normal",fontSize:"1em"}},year),react__WEBPACK_IMPORTED_MODULE_23__.createElement("p",{style:{margin:0,padding:"0.3em 0.9em",fontSize:"0.8em"}},react__WEBPACK_IMPORTED_MODULE_23__.createElement("span",null,transform.yAxis.label," ",react__WEBPACK_IMPORTED_MODULE_23__.createElement("strong",null,transform.yFormatTooltip(value.y))),react__WEBPACK_IMPORTED_MODULE_23__.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_23__.createElement("span",null,transform.xAxis.label," ",react__WEBPACK_IMPORTED_MODULE_23__.createElement("strong",null,transform.xFormatTooltip(value.x),value.time.span||value.time.y===value.time.x?"":" (data from ".concat(value.time.x,")")))))}}},{key:"xAxis",get:function get(){var view=this.props.xAxis.clone();return view.range=this.bounds.xRange(),view}},{key:"yAxis",get:function get(){var view=this.props.yAxis.clone();return view.range=this.bounds.yRange(),view}},{key:"series",get:function get(){var xAxis=this.xAxis,yAxis=this.yAxis,data=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_31__.e)(this.props.data[0]),points=data.values.map((function(v){return{position:new grapher_utils_Vector2__WEBPACK_IMPORTED_MODULE_32__.a(Math.floor(xAxis.place(v.x)),Math.floor(yAxis.place(v.y))),size:Math.sqrt(1/Math.PI),time:v.time,value:v,fontSize:8}}));return{entityDimensionKey:data.entityDimensionKey,displayKey:"key-"+Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_31__.Z)(data.entityDimensionKey),color:data.color,points:points,text:data.label,offsetVector:grapher_utils_Vector2__WEBPACK_IMPORTED_MODULE_32__.a.zero}}},{key:"values",get:function get(){return this.series.points}},{key:"labelFontSize",get:function get(){return 12}},{key:"hoverLabelFontSize",get:function get(){return 14}},{key:"labelCandidates",get:function get(){var _this4=this;return this.values.map((function(v){return{text:v.time.y.toString(),fontSize:_this4.labelFontSize,value:v,bounds:grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_26__.a.forText(v.time.y.toString(),{x:v.position.x+3,y:v.position.y-3,fontSize:_this4.labelFontSize,fontFamily:_this4.labelFontFamily}),isHidden:!1}}))}},{key:"allLabels",get:function get(){var _step,_this5=this,bounds=this.bounds,labels=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_31__.e)(this.labelCandidates),_iterator=_createForOfIteratorHelper(labels);try{for(_iterator.s();!(_step=_iterator.n()).done;){var l=_step.value;l.bounds.left<bounds.left-1?l.bounds=l.bounds.extend({x:l.bounds.x+l.bounds.width}):l.bounds.right>bounds.right+1&&(l.bounds=l.bounds.extend({x:l.bounds.x-l.bounds.width})),l.bounds.top<bounds.top-1?l.bounds=l.bounds.extend({y:bounds.top}):l.bounds.bottom>bounds.bottom+1&&(l.bounds=l.bounds.extend({y:bounds.bottom-l.bounds.height}))}}catch(err){_iterator.e(err)}finally{_iterator.f()}for(var labelsByPriority=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_31__.Fb)(labels,(function(l){return-_this5.labelPriority(l)})),i=0;i<labelsByPriority.length;i++){var l1=labelsByPriority[i];if(!l1.isHidden)for(var j=i+1;j<labelsByPriority.length;j++){var l2=labelsByPriority[j];l2.isHidden||l1.bounds.intersects(l2.bounds)&&(l2.isHidden=!0)}}return labels}},{key:"hoverPoint",get:function get(){var mousePos=this.mousePos;if(mousePos){var closestPoint=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_31__.ib)(this.values,(function(v){return grapher_utils_Vector2__WEBPACK_IMPORTED_MODULE_32__.a.distanceSq(v.position,mousePos)}));return closestPoint&&grapher_utils_Vector2__WEBPACK_IMPORTED_MODULE_32__.a.distanceSq(closestPoint.position,mousePos)<Math.pow(this.bounds.width/3,2)?closestPoint:void 0}}},{key:"backgroundPoints",get:function get(){return[]}},{key:"foregroundPoints",get:function get(){return this.values}},{key:"renderUid",get:function get(){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_31__.H)()}},{key:"linesRender",get:function get(){return this.hideLines?void 0:react__WEBPACK_IMPORTED_MODULE_23__.createElement("polyline",{strokeLinecap:"round",stroke:this.series.color,points:this.values.map((function(v){return"".concat(v.position.x.toFixed(2),",").concat(v.position.y.toFixed(2))})).join(" "),fill:"none",strokeWidth:1})}},{key:"pointsRender",get:function get(){var _this6=this;return this.values.map((function(v,i){return react__WEBPACK_IMPORTED_MODULE_23__.createElement("circle",{key:"point-".concat(i),cx:v.position.x.toFixed(2),cy:v.position.y.toFixed(2),r:3,fill:_this6.series.color})}))}},{key:"labelsRender",get:function get(){var labelFontFamily=this.labelFontFamily;return this.allLabels.map((function(l,i){return!l.isHidden&&react__WEBPACK_IMPORTED_MODULE_23__.createElement("text",{key:"label-".concat(i),x:l.bounds.x.toFixed(2),y:(l.bounds.y+l.bounds.height).toFixed(2),fontSize:l.fontSize,fontFamily:labelFontFamily,fill:"#333"},l.text)}))}}]),PointsWithLabels}(react__WEBPACK_IMPORTED_MODULE_23__.Component),_descriptor=_applyDecoratedDescriptor((_class2=_temp).prototype,"mousePos",[_dec],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_applyDecoratedDescriptor(_class2.prototype,"isConnected",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"isConnected"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"bounds",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"bounds"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"labelFontFamily",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"labelFontFamily"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"hideLines",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"hideLines"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"transform",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"transform"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"tooltip",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"tooltip"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"xAxis",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"xAxis"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"yAxis",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"yAxis"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"series",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"series"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"values",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"values"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"labelFontSize",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"labelFontSize"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"hoverLabelFontSize",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"hoverLabelFontSize"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"labelCandidates",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"labelCandidates"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"allLabels",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"allLabels"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"onMouseLeave",[_dec2],Object.getOwnPropertyDescriptor(_class2.prototype,"onMouseLeave"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"hoverPoint",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"hoverPoint"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"onMouseMove",[_dec3],Object.getOwnPropertyDescriptor(_class2.prototype,"onMouseMove"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"onClick",[_dec4],Object.getOwnPropertyDescriptor(_class2.prototype,"onClick"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"backgroundPoints",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"backgroundPoints"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"foregroundPoints",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"foregroundPoints"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"renderUid",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"renderUid"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"linesRender",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"linesRender"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"pointsRender",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"pointsRender"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"labelsRender",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class2.prototype,"labelsRender"),_class2.prototype),_class=_class2))||_class),TimeScatter=(_dec5=mobx__WEBPACK_IMPORTED_MODULE_24__.f.struct,Object(mobx_react__WEBPACK_IMPORTED_MODULE_25__.a)((_applyDecoratedDescriptor((_class5=function(_React$Component2){_inherits(TimeScatter,_React$Component2);var _super2=_createSuper(TimeScatter);function TimeScatter(){return _classCallCheck(this,TimeScatter),_super2.apply(this,arguments)}return _createClass(TimeScatter,[{key:"render",value:function render(){if(this.transform.failMessage)return react__WEBPACK_IMPORTED_MODULE_23__.createElement(grapher_chart_NoDataOverlay__WEBPACK_IMPORTED_MODULE_27__.a,{options:this.grapher,bounds:this.bounds,message:this.transform.failMessage});var transform=this.transform,dualAxis=this.dualAxis,comparisonLines=this.comparisonLines,grapher=this.grapher,currentData=transform.currentData,sizeDomain=transform.sizeDomain;return react__WEBPACK_IMPORTED_MODULE_23__.createElement("g",null,react__WEBPACK_IMPORTED_MODULE_23__.createElement(grapher_axis_AxisViews__WEBPACK_IMPORTED_MODULE_29__.b,{isInteractive:grapher.isInteractive,dualAxis:dualAxis,showTickMarks:!1}),comparisonLines&&comparisonLines.map((function(line,i){return react__WEBPACK_IMPORTED_MODULE_23__.createElement(_ComparisonLine__WEBPACK_IMPORTED_MODULE_30__.a,{key:i,dualAxis:dualAxis,comparisonLine:line})})),react__WEBPACK_IMPORTED_MODULE_23__.createElement(PointsWithLabels,{grapher:this.grapher,hideLines:this.hideLines,data:currentData,bounds:dualAxis.innerBounds,xAxis:dualAxis.xAxis,yAxis:dualAxis.yAxis,sizeDomain:sizeDomain,focusKeys:[],hoverKeys:[]}))}},{key:"grapher",get:function get(){return this.props.grapher}},{key:"transform",get:function get(){return this.grapher.scatterTransform}},{key:"bounds",get:function get(){return this.props.bounds}},{key:"dualAxis",get:function get(){var _this$transform=this.transform,xAxis=_this$transform.xAxis,yAxis=_this$transform.yAxis;return new grapher_axis_Axis__WEBPACK_IMPORTED_MODULE_28__.a({bounds:this.bounds,xAxis:xAxis,yAxis:yAxis})}},{key:"comparisonLines",get:function get(){return this.grapher.comparisonLines}},{key:"hideLines",get:function get(){return!!this.grapher.hideConnectedScatterLines}}]),TimeScatter}(react__WEBPACK_IMPORTED_MODULE_23__.Component)).prototype,"grapher",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"grapher"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"transform",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"transform"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"bounds",[_dec5],Object.getOwnPropertyDescriptor(_class5.prototype,"bounds"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"dualAxis",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"dualAxis"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"comparisonLines",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"comparisonLines"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"hideLines",[mobx__WEBPACK_IMPORTED_MODULE_24__.f],Object.getOwnPropertyDescriptor(_class5.prototype,"hideLines"),_class5.prototype),_class4=_class5))||_class4);try{TimeScatter.displayName="TimeScatter",TimeScatter.__docgenInfo={description:"",displayName:"TimeScatter",props:{bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"Bounds"}},grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/scatterCharts/TimeScatter.tsx#TimeScatter"]={docgenInfo:TimeScatter.__docgenInfo,name:"TimeScatter",path:"grapher/scatterCharts/TimeScatter.tsx#TimeScatter"})}catch(__react_docgen_typescript_loader_error){}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LoadingOverlay}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(14),__webpack_require__(29),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(13),__webpack_require__(15);var react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(1),grapher_controls_ControlsOverlay__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(115),grapher_loadingIndicator_LoadingIndicator__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(227);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var LoadingOverlay=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(LoadingOverlay,_React$Component);var _super=_createSuper(LoadingOverlay);function LoadingOverlay(){return _classCallCheck(this,LoadingOverlay),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(LoadingOverlay,[{key:"render",value:function render(){return react__WEBPACK_IMPORTED_MODULE_10__.createElement(grapher_controls_ControlsOverlay__WEBPACK_IMPORTED_MODULE_11__.a,{id:"loading-chart"},react__WEBPACK_IMPORTED_MODULE_10__.createElement(grapher_loadingIndicator_LoadingIndicator__WEBPACK_IMPORTED_MODULE_12__.a,{bounds:this.props.bounds,color:"#333"}))}}]),LoadingOverlay}(react__WEBPACK_IMPORTED_MODULE_10__.Component);try{LoadingOverlay.displayName="LoadingOverlay",LoadingOverlay.__docgenInfo={description:"",displayName:"LoadingOverlay",props:{bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"Bounds"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/loadingIndicator/LoadingOverlay.tsx#LoadingOverlay"]={docgenInfo:LoadingOverlay.__docgenInfo,name:"LoadingOverlay",path:"grapher/loadingIndicator/LoadingOverlay.tsx#LoadingOverlay"})}catch(__react_docgen_typescript_loader_error){}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LoadingIndicator}));__webpack_require__(11);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),LoadingIndicator=function LoadingIndicator(props){var _props$bounds;return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"loading-indicator",style:Object.assign({backgroundColor:props.backgroundColor},null===(_props$bounds=props.bounds)||void 0===_props$bounds?void 0:_props$bounds.toCSS())},react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",{style:{borderColor:props.color}}))};LoadingIndicator.displayName="LoadingIndicator";try{LoadingIndicator.displayName="LoadingIndicator",LoadingIndicator.__docgenInfo={description:"",displayName:"LoadingIndicator",props:{backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!1,type:{name:"string"}},bounds:{defaultValue:null,description:"",name:"bounds",required:!1,type:{name:"Bounds"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/loadingIndicator/LoadingIndicator.tsx#LoadingIndicator"]={docgenInfo:LoadingIndicator.__docgenInfo,name:"LoadingIndicator",path:"grapher/loadingIndicator/LoadingIndicator.tsx#LoadingIndicator"})}catch(__react_docgen_typescript_loader_error){}},,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SortIcon}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(44),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_fortawesome_free_solid_svg_icons_faSortAlphaUpAlt__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(597),_fortawesome_free_solid_svg_icons_faSortAlphaDown__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(598),_fortawesome_free_solid_svg_icons_faSortAmountUpAlt__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(600),_fortawesome_free_solid_svg_icons_faSortAmountDown__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(599),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(36),grapher_utils_Util__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(17);function SortIcon(props){var faIcon,type=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_7__.l)(props.type,"numeric"),isActiveIcon=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_7__.l)(props.isActiveIcon,!1);return faIcon="text"===type?props.order===grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_8__.e.desc?_fortawesome_free_solid_svg_icons_faSortAlphaUpAlt__WEBPACK_IMPORTED_MODULE_2__.faSortAlphaUpAlt:_fortawesome_free_solid_svg_icons_faSortAlphaDown__WEBPACK_IMPORTED_MODULE_3__.faSortAlphaDown:props.order===grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_8__.e.desc?_fortawesome_free_solid_svg_icons_faSortAmountDown__WEBPACK_IMPORTED_MODULE_5__.faSortAmountDown:_fortawesome_free_solid_svg_icons_faSortAmountUpAlt__WEBPACK_IMPORTED_MODULE_4__.faSortAmountUpAlt,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()({"sort-icon":!0,active:isActiveIcon})},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_6__.a,{icon:faIcon}))}SortIcon.displayName="SortIcon";try{SortIcon.displayName="SortIcon",SortIcon.__docgenInfo={description:"",displayName:"SortIcon",props:{type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:'"text" | "numeric"'}},isActiveIcon:{defaultValue:null,description:"",name:"isActiveIcon",required:!1,type:{name:"boolean"}},order:{defaultValue:null,description:"",name:"order",required:!0,type:{name:"enum",value:[{value:'"asc"'},{value:'"desc"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/controls/SortIcon.tsx#SortIcon"]={docgenInfo:SortIcon.__docgenInfo,name:"SortIcon",path:"grapher/controls/SortIcon.tsx#SortIcon"})}catch(__react_docgen_typescript_loader_error){}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return GlobalEntitySelectionModes})),__webpack_require__.d(__webpack_exports__,"b",(function(){return subscribeGrapherToGlobalEntitySelection}));__webpack_require__(49),__webpack_require__(19),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(28),__webpack_require__(7),__webpack_require__(34),__webpack_require__(111),__webpack_require__(20);var _class,_descriptor,_descriptor2,_class3,GlobalEntitySelectionModes,mobx__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(0),utils_countries__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(231),grapher_utils_Util__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2),grapher_utils_UrlBinder__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(116),utils_client_url__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(50),grapher_core_EntityUrlBuilder__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(74);function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}!function(GlobalEntitySelectionModes){GlobalEntitySelectionModes.none="none",GlobalEntitySelectionModes.override="override"}(GlobalEntitySelectionModes||(GlobalEntitySelectionModes={}));_descriptor=_applyDecoratedDescriptor((_class=function(){function GlobalEntitySelection(){_classCallCheck(this,GlobalEntitySelection),this.url=void 0,this.isBoundToWindow=!1,_initializerDefineProperty(this,"mode",_descriptor,this),_initializerDefineProperty(this,"selectedEntities",_descriptor2,this)}return _createClass(GlobalEntitySelection,[{key:"selectByCountryCodes",value:function selectByCountryCodes(codes){this.selectedEntities=Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_13__.s)(codes.map((function(code){return utils_countries__WEBPACK_IMPORTED_MODULE_12__.a.find((function(country){return country.code===code}))})))}},{key:"bindUrlParamsToWindow",value:function bindUrlParamsToWindow(){this.isBoundToWindow||(this.url=new GlobalEntitySelectionUrl(this),this.url.populateFromQueryStr(window.location.search),(new grapher_utils_UrlBinder__WEBPACK_IMPORTED_MODULE_14__.a).bindToWindow(this.url))}}]),GlobalEntitySelection}()).prototype,"mode",[mobx__WEBPACK_IMPORTED_MODULE_11__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return GlobalEntitySelectionModes.none}}),_descriptor2=_applyDecoratedDescriptor(_class.prototype,"selectedEntities",[mobx__WEBPACK_IMPORTED_MODULE_11__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}});function subscribeGrapherToGlobalEntitySelection(grapher,globalSelection){return Object(mobx__WEBPACK_IMPORTED_MODULE_11__.o)((function(){return[grapher.isReady,globalSelection.mode,globalSelection.selectedEntities]}),(function(){if(grapher.canAddData||grapher.canChangeEntity){var mode=globalSelection.mode,selectedEntities=globalSelection.selectedEntities;mode===GlobalEntitySelectionModes.override&&(selectedEntities.length>0?grapher.setSelectedEntitiesByCode(selectedEntities.map((function(entity){return entity.code}))):grapher.resetSelectedEntities())}}),{fireImmediately:!0})}var GlobalEntitySelectionUrl=(_applyDecoratedDescriptor((_class3=function(){function GlobalEntitySelectionUrl(globalEntitySelection){_classCallCheck(this,GlobalEntitySelectionUrl),this.globalEntitySelection=void 0,this.globalEntitySelection=globalEntitySelection}return _createClass(GlobalEntitySelectionUrl,[{key:"populateFromQueryStr",value:function populateFromQueryStr(queryStr){void 0!==queryStr&&this.populateFromQueryParams(Object(utils_client_url__WEBPACK_IMPORTED_MODULE_15__.e)(queryStr))}},{key:"populateFromQueryParams",value:function populateFromQueryParams(params){if(params.country){var countryCodes=grapher_core_EntityUrlBuilder__WEBPACK_IMPORTED_MODULE_16__.a.queryParamToEntities(params.country);this.globalEntitySelection.mode=GlobalEntitySelectionModes.override,this.globalEntitySelection.selectByCountryCodes(countryCodes)}}},{key:"params",get:function get(){var params={},entities=this.globalEntitySelection.selectedEntities;return entities.length>0&&(params.country=grapher_core_EntityUrlBuilder__WEBPACK_IMPORTED_MODULE_16__.a.entitiesToQueryParam(entities.map((function(entity){return entity.code})))),params}},{key:"debounceMode",get:function get(){return!1}}]),GlobalEntitySelectionUrl}()).prototype,"params",[mobx__WEBPACK_IMPORTED_MODULE_11__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"params"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"debounceMode",[mobx__WEBPACK_IMPORTED_MODULE_11__.f],Object.getOwnPropertyDescriptor(_class3.prototype,"debounceMode"),_class3.prototype),_class3)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return countries}));__webpack_require__(22),__webpack_require__(31),__webpack_require__(49),__webpack_require__(21);var countries=[{name:"Aruba",code:"ABW",slug:"aruba",iso3166:"AW"},{name:"Afghanistan",code:"AFG",slug:"afghanistan",iso3166:"AF"},{name:"Angola",code:"AGO",slug:"angola",iso3166:"AO"},{name:"Anguilla",code:"AIA",slug:"anguilla",iso3166:"AI"},{name:"Ãland Islands",code:"ALA",slug:"aland-islands",filter:!0},{name:"Albania",code:"ALB",slug:"albania",iso3166:"AL"},{name:"Andorra",code:"AND",slug:"andorra",iso3166:"AD"},{name:"Netherlands Antilles",code:"ANT",slug:"netherlands-antilles",filter:!0},{name:"United Arab Emirates",code:"ARE",slug:"united-arab-emirates",iso3166:"AE"},{name:"Argentina",code:"ARG",slug:"argentina",iso3166:"AR"},{name:"Armenia",code:"ARM",slug:"armenia",iso3166:"AM"},{name:"American Samoa",code:"ASM",slug:"american-samoa",iso3166:"AS"},{name:"Antarctica",code:"ATA",slug:"antarctica",filter:!0,iso3166:"AQ"},{name:"French Southern Territories",code:"ATF",slug:"french-southern-territories",filter:!0,iso3166:"TF"},{name:"Antigua and Barbuda",code:"ATG",slug:"antigua-and-barbuda",iso3166:"AG"},{name:"Australia",code:"AUS",slug:"australia",iso3166:"AU"},{name:"Austria",code:"AUT",slug:"austria",iso3166:"AT"},{name:"Azerbaijan",code:"AZE",slug:"azerbaijan",iso3166:"AZ"},{name:"Burundi",code:"BDI",slug:"burundi",iso3166:"BI"},{name:"Belgium",code:"BEL",slug:"belgium",iso3166:"BE"},{name:"Benin",code:"BEN",slug:"benin",iso3166:"BJ"},{name:"Bonaire Sint Eustatius and Saba",code:"BES",slug:"bonaire-sint-eustatius-and-saba",filter:!0},{name:"Burkina Faso",code:"BFA",slug:"burkina-faso",iso3166:"BF"},{name:"Bangladesh",code:"BGD",slug:"bangladesh",iso3166:"BD"},{name:"Bulgaria",code:"BGR",slug:"bulgaria",iso3166:"BG"},{name:"Bahrain",code:"BHR",slug:"bahrain",iso3166:"BH"},{name:"Bahamas",code:"BHS",slug:"bahamas",iso3166:"BS"},{name:"Bosnia and Herzegovina",code:"BIH",slug:"bosnia-and-herzegovina",iso3166:"BA"},{name:"Saint BarthÃ©lemy",code:"BLM",slug:"saint-barthelemy"},{name:"Belarus",code:"BLR",slug:"belarus",iso3166:"BY"},{name:"Belize",code:"BLZ",slug:"belize",iso3166:"BZ"},{name:"Bermuda",code:"BMU",slug:"bermuda",iso3166:"BM"},{name:"Bolivia",code:"BOL",slug:"bolivia",iso3166:"BO"},{name:"Brazil",code:"BRA",slug:"brazil",iso3166:"BR"},{name:"Barbados",code:"BRB",slug:"barbados",iso3166:"BB"},{name:"Brunei",code:"BRN",slug:"brunei"},{name:"Bhutan",code:"BTN",slug:"bhutan",iso3166:"BT"},{name:"Bouvet Island",code:"BVT",slug:"bouvet-island",filter:!0,iso3166:"BV"},{name:"Botswana",code:"BWA",slug:"botswana",iso3166:"BW"},{name:"Central African Republic",code:"CAF",slug:"central-african-republic",iso3166:"CF"},{name:"Canada",code:"CAN",slug:"canada",iso3166:"CA"},{name:"Cocos Islands",code:"CCK",slug:"cocos-islands",filter:!0},{name:"Switzerland",code:"CHE",slug:"switzerland",iso3166:"CH"},{name:"Chile",code:"CHL",slug:"chile",iso3166:"CL"},{name:"China",code:"CHN",slug:"china",iso3166:"CN"},{name:"Cote d'Ivoire",code:"CIV",slug:"cote-divoire",iso3166:"CI"},{name:"Cameroon",code:"CMR",slug:"cameroon",iso3166:"CM"},{name:"Democratic Republic of Congo",code:"COD",slug:"democratic-republic-of-congo"},{name:"Congo",code:"COG",slug:"congo",iso3166:"CG"},{name:"Cook Islands",code:"COK",slug:"cook-islands",filter:!0,iso3166:"CK"},{name:"Colombia",code:"COL",slug:"colombia",iso3166:"CO"},{name:"Comoros",code:"COM",slug:"comoros",iso3166:"KM"},{name:"Cape Verde",code:"CPV",slug:"cape-verde",iso3166:"CV"},{name:"Costa Rica",code:"CRI",slug:"costa-rica",iso3166:"CR"},{name:"Cuba",code:"CUB",slug:"cuba",iso3166:"CU"},{name:"Curacao",code:"CUW",slug:"curacao",filter:!0,iso3166:"CW"},{name:"Christmas Island",code:"CXR",slug:"christmas-island",iso3166:"CX"},{name:"Cayman Islands",code:"CYM",slug:"cayman-islands",iso3166:"KY"},{name:"Cyprus",code:"CYP",slug:"cyprus",iso3166:"CY"},{name:"Czech Republic",code:"CZE",slug:"czech-republic",iso3166:"CZ"},{name:"Germany",code:"DEU",slug:"germany",iso3166:"DE"},{name:"Djibouti",code:"DJI",slug:"djibouti",iso3166:"DJ"},{name:"Dominica",code:"DMA",slug:"dominica",iso3166:"DM"},{name:"Denmark",code:"DNK",slug:"denmark",iso3166:"DK"},{name:"Dominican Republic",code:"DOM",slug:"dominican-republic",iso3166:"DO"},{name:"Algeria",code:"DZA",slug:"algeria",iso3166:"DZ"},{name:"Ecuador",code:"ECU",slug:"ecuador",iso3166:"EC"},{name:"Egypt",code:"EGY",slug:"egypt",iso3166:"EG"},{name:"Eritrea",code:"ERI",slug:"eritrea",iso3166:"ER"},{name:"Western Sahara",code:"ESH",slug:"western-sahara",filter:!0,iso3166:"EH"},{name:"Spain",code:"ESP",slug:"spain",iso3166:"ES"},{name:"Estonia",code:"EST",slug:"estonia",iso3166:"EE"},{name:"Ethiopia",code:"ETH",slug:"ethiopia",iso3166:"ET"},{name:"Finland",code:"FIN",slug:"finland",iso3166:"FI"},{name:"Fiji",code:"FJI",slug:"fiji",iso3166:"FJ"},{name:"Falkland Islands",code:"FLK",slug:"falkland-islands"},{name:"France",code:"FRA",slug:"france",iso3166:"FR"},{name:"Faeroe Islands",code:"FRO",slug:"faeroe-islands"},{name:"Micronesia (country)",code:"FSM",slug:"micronesia-country"},{name:"Gabon",code:"GAB",slug:"gabon",iso3166:"GA"},{name:"United Kingdom",code:"GBR",slug:"united-kingdom",variantNames:["UK"],iso3166:"GB"},{name:"Georgia",code:"GEO",slug:"georgia",iso3166:"GE"},{name:"Guernsey",code:"GGY",slug:"guernsey",filter:!0,iso3166:"GG"},{name:"Ghana",code:"GHA",slug:"ghana",iso3166:"GH"},{name:"Gibraltar",code:"GIB",slug:"gibraltar",iso3166:"GI"},{name:"Guinea",code:"GIN",slug:"guinea",iso3166:"GN"},{name:"Guadeloupe",code:"GLP",slug:"guadeloupe",filter:!0,iso3166:"GP"},{name:"Gambia",code:"GMB",slug:"gambia",iso3166:"GM"},{name:"Guinea-Bissau",code:"GNB",slug:"guinea-bissau",iso3166:"GW"},{name:"Equatorial Guinea",code:"GNQ",slug:"equatorial-guinea",iso3166:"GQ"},{name:"Greece",code:"GRC",slug:"greece",iso3166:"GR"},{name:"Grenada",code:"GRD",slug:"grenada",iso3166:"GD"},{name:"Greenland",code:"GRL",slug:"greenland",iso3166:"GL"},{name:"Guatemala",code:"GTM",slug:"guatemala",iso3166:"GT"},{name:"French Guiana",code:"GUF",slug:"french-guiana",iso3166:"GF"},{name:"Guam",code:"GUM",slug:"guam",iso3166:"GU"},{name:"Guyana",code:"GUY",slug:"guyana",iso3166:"GY"},{name:"Hong Kong",code:"HKG",slug:"hong-kong",iso3166:"HK"},{name:"Heard Island and McDonald Islands",code:"HMD",slug:"heard-island-and-mcdonald-islands",filter:!0,iso3166:"HM"},{name:"Honduras",code:"HND",slug:"honduras",iso3166:"HN"},{name:"Croatia",code:"HRV",slug:"croatia",iso3166:"HR"},{name:"Haiti",code:"HTI",slug:"haiti",iso3166:"HT"},{name:"Hungary",code:"HUN",slug:"hungary",iso3166:"HU"},{name:"Indonesia",code:"IDN",slug:"indonesia",iso3166:"ID"},{name:"Isle of Man",code:"IMN",slug:"isle-of-man",iso3166:"IM"},{name:"India",code:"IND",slug:"india",iso3166:"IN"},{name:"British Indian Ocean Territory",code:"IOT",slug:"british-indian-ocean-territory",filter:!0,iso3166:"IO"},{name:"Ireland",code:"IRL",slug:"ireland",iso3166:"IE"},{name:"Iran",code:"IRN",slug:"iran"},{name:"Iraq",code:"IRQ",slug:"iraq",iso3166:"IQ"},{name:"Iceland",code:"ISL",slug:"iceland",iso3166:"IS"},{name:"Israel",code:"ISR",slug:"israel",iso3166:"IL"},{name:"Italy",code:"ITA",slug:"italy",iso3166:"IT"},{name:"Jamaica",code:"JAM",slug:"jamaica",iso3166:"JM"},{name:"Jersey",code:"JEY",slug:"jersey",iso3166:"JE"},{name:"Jordan",code:"JOR",slug:"jordan",iso3166:"JO"},{name:"Japan",code:"JPN",slug:"japan",iso3166:"JP"},{name:"Kazakhstan",code:"KAZ",slug:"kazakhstan",iso3166:"KZ"},{name:"Kenya",code:"KEN",slug:"kenya",iso3166:"KE"},{name:"Kyrgyzstan",code:"KGZ",slug:"kyrgyzstan",iso3166:"KG"},{name:"Cambodia",code:"KHM",slug:"cambodia",iso3166:"KH"},{name:"Kiribati",code:"KIR",slug:"kiribati",iso3166:"KI"},{name:"Saint Kitts and Nevis",code:"KNA",slug:"saint-kitts-and-nevis",iso3166:"KN"},{name:"South Korea",code:"KOR",slug:"south-korea"},{name:"Kuwait",code:"KWT",slug:"kuwait",iso3166:"KW"},{name:"Laos",code:"LAO",slug:"laos"},{name:"Lebanon",code:"LBN",slug:"lebanon",iso3166:"LB"},{name:"Liberia",code:"LBR",slug:"liberia",iso3166:"LR"},{name:"Libya",code:"LBY",slug:"libya"},{name:"Saint Lucia",code:"LCA",slug:"saint-lucia",iso3166:"LC"},{name:"Liechtenstein",code:"LIE",slug:"liechtenstein",iso3166:"LI"},{name:"Sri Lanka",code:"LKA",slug:"sri-lanka",iso3166:"LK"},{name:"Lesotho",code:"LSO",slug:"lesotho",iso3166:"LS"},{name:"Lithuania",code:"LTU",slug:"lithuania",iso3166:"LT"},{name:"Luxembourg",code:"LUX",slug:"luxembourg",iso3166:"LU"},{name:"Latvia",code:"LVA",slug:"latvia",iso3166:"LV"},{name:"Macao",code:"MAC",slug:"macao",iso3166:"MO"},{name:"Saint Martin (French part)",code:"MAF",slug:"saint-martin-french-part",filter:!0},{name:"Morocco",code:"MAR",slug:"morocco",iso3166:"MA"},{name:"Monaco",code:"MCO",slug:"monaco",iso3166:"MC"},{name:"Moldova",code:"MDA",slug:"moldova"},{name:"Madagascar",code:"MDG",slug:"madagascar",iso3166:"MG"},{name:"Maldives",code:"MDV",slug:"maldives",iso3166:"MV"},{name:"Mexico",code:"MEX",slug:"mexico",iso3166:"MX"},{name:"Marshall Islands",code:"MHL",slug:"marshall-islands",iso3166:"MH"},{name:"Macedonia",code:"MKD",slug:"macedonia",iso3166:"MK"},{name:"Mali",code:"MLI",slug:"mali",iso3166:"ML"},{name:"Malta",code:"MLT",slug:"malta",iso3166:"MT"},{name:"Myanmar",code:"MMR",slug:"myanmar",iso3166:"MM"},{name:"Montenegro",code:"MNE",slug:"montenegro",iso3166:"ME"},{name:"Mongolia",code:"MNG",slug:"mongolia",iso3166:"MN"},{name:"Northern Mariana Islands",code:"MNP",slug:"northern-mariana-islands",iso3166:"MP"},{name:"Mozambique",code:"MOZ",slug:"mozambique",iso3166:"MZ"},{name:"Mauritania",code:"MRT",slug:"mauritania",iso3166:"MR"},{name:"Montserrat",code:"MSR",slug:"montserrat",filter:!0,iso3166:"MS"},{name:"Martinique",code:"MTQ",slug:"martinique",iso3166:"MQ"},{name:"Mauritius",code:"MUS",slug:"mauritius",iso3166:"MU"},{name:"Malawi",code:"MWI",slug:"malawi",iso3166:"MW"},{name:"Malaysia",code:"MYS",slug:"malaysia",iso3166:"MY"},{name:"Mayotte",code:"MYT",slug:"mayotte",iso3166:"YT"},{name:"Namibia",code:"NAM",slug:"namibia",iso3166:"NA"},{name:"New Caledonia",code:"NCL",slug:"new-caledonia",iso3166:"NC"},{name:"Niger",code:"NER",slug:"niger",iso3166:"NE"},{name:"Norfolk Island",code:"NFK",slug:"norfolk-island",iso3166:"NF"},{name:"Nigeria",code:"NGA",slug:"nigeria",iso3166:"NG"},{name:"Nicaragua",code:"NIC",slug:"nicaragua",iso3166:"NI"},{name:"Niue",code:"NIU",slug:"niue",iso3166:"NU"},{name:"Netherlands",code:"NLD",slug:"netherlands",iso3166:"NL"},{name:"Norway",code:"NOR",slug:"norway",iso3166:"NO"},{name:"Nepal",code:"NPL",slug:"nepal",iso3166:"NP"},{name:"Nauru",code:"NRU",slug:"nauru",iso3166:"NR"},{name:"New Zealand",code:"NZL",slug:"new-zealand",iso3166:"NZ"},{name:"Oman",code:"OMN",slug:"oman",iso3166:"OM"},{name:"Pakistan",code:"PAK",slug:"pakistan",iso3166:"PK"},{name:"Panama",code:"PAN",slug:"panama",iso3166:"PA"},{name:"Pitcairn",code:"PCN",slug:"pitcairn",iso3166:"PN"},{name:"Peru",code:"PER",slug:"peru",iso3166:"PE"},{name:"Philippines",code:"PHL",slug:"philippines",iso3166:"PH"},{name:"Palau",code:"PLW",slug:"palau",iso3166:"PW"},{name:"Papua New Guinea",code:"PNG",slug:"papua-new-guinea",iso3166:"PG"},{name:"Poland",code:"POL",slug:"poland",iso3166:"PL"},{name:"Puerto Rico",code:"PRI",slug:"puerto-rico",iso3166:"PR"},{name:"North Korea",code:"PRK",slug:"north-korea"},{name:"Portugal",code:"PRT",slug:"portugal",iso3166:"PT"},{name:"Paraguay",code:"PRY",slug:"paraguay",iso3166:"PY"},{name:"Palestine",code:"PSE",slug:"palestine"},{name:"French Polynesia",code:"PYF",slug:"french-polynesia",iso3166:"PF"},{name:"Qatar",code:"QAT",slug:"qatar",iso3166:"QA"},{name:"Reunion",code:"REU",slug:"reunion",iso3166:"RE"},{name:"Romania",code:"ROU",slug:"romania",iso3166:"RO"},{name:"Russia",code:"RUS",slug:"russia"},{name:"Rwanda",code:"RWA",slug:"rwanda",iso3166:"RW"},{name:"Saudi Arabia",code:"SAU",slug:"saudi-arabia",iso3166:"SA"},{name:"Sudan",code:"SDN",slug:"sudan",iso3166:"SD"},{name:"Senegal",code:"SEN",slug:"senegal",iso3166:"SN"},{name:"Singapore",code:"SGP",slug:"singapore",iso3166:"SG"},{name:"South Georgia and the South Sandwich Islands",code:"SGS",slug:"south-georgia-and-the-south-sandwich-islands",filter:!0,iso3166:"GS"},{name:"Saint Helena",code:"SHN",slug:"saint-helena",filter:!0,iso3166:"SH"},{name:"Svalbard and Jan Mayen",code:"SJM",slug:"svalbard-and-jan-mayen",filter:!0,iso3166:"SJ"},{name:"Solomon Islands",code:"SLB",slug:"solomon-islands",iso3166:"SB"},{name:"Sierra Leone",code:"SLE",slug:"sierra-leone",iso3166:"SL"},{name:"El Salvador",code:"SLV",slug:"el-salvador",iso3166:"SV"},{name:"San Marino",code:"SMR",slug:"san-marino",iso3166:"SM"},{name:"Somalia",code:"SOM",slug:"somalia",iso3166:"SO"},{name:"Saint Pierre and Miquelon",code:"SPM",slug:"saint-pierre-and-miquelon",iso3166:"PM"},{name:"Serbia",code:"SRB",slug:"serbia",iso3166:"RS"},{name:"South Sudan",code:"SSD",slug:"south-sudan",iso3166:"SS"},{name:"Sao Tome and Principe",code:"STP",slug:"sao-tome-and-principe",iso3166:"ST"},{name:"Suriname",code:"SUR",slug:"suriname",iso3166:"SR"},{name:"Slovakia",code:"SVK",slug:"slovakia",iso3166:"SK"},{name:"Slovenia",code:"SVN",slug:"slovenia",iso3166:"SI"},{name:"Sweden",code:"SWE",slug:"sweden",iso3166:"SE"},{name:"Swaziland",code:"SWZ",slug:"swaziland",iso3166:"SZ"},{name:"Seychelles",code:"SYC",slug:"seychelles",iso3166:"SC"},{name:"Syria",code:"SYR",slug:"syria"},{name:"Turks and Caicos Islands",code:"TCA",slug:"turks-and-caicos-islands",iso3166:"TC"},{name:"Chad",code:"TCD",slug:"chad",iso3166:"TD"},{name:"Togo",code:"TGO",slug:"togo",iso3166:"TG"},{name:"Thailand",code:"THA",slug:"thailand",iso3166:"TH"},{name:"Tajikistan",code:"TJK",slug:"tajikistan",iso3166:"TJ"},{name:"Tokelau",code:"TKL",slug:"tokelau",iso3166:"TK"},{name:"Turkmenistan",code:"TKM",slug:"turkmenistan",iso3166:"TM"},{name:"Timor",code:"TLS",slug:"timor"},{name:"Tonga",code:"TON",slug:"tonga",iso3166:"TO"},{name:"Trinidad and Tobago",code:"TTO",slug:"trinidad-and-tobago",iso3166:"TT"},{name:"Tunisia",code:"TUN",slug:"tunisia",iso3166:"TN"},{name:"Turkey",code:"TUR",slug:"turkey",iso3166:"TR"},{name:"Tuvalu",code:"TUV",slug:"tuvalu",iso3166:"TV"},{name:"Taiwan",code:"TWN",slug:"taiwan",iso3166:"TW"},{name:"Tanzania",code:"TZA",slug:"tanzania"},{name:"Uganda",code:"UGA",slug:"uganda",iso3166:"UG"},{name:"Ukraine",code:"UKR",slug:"ukraine",iso3166:"UA"},{name:"United States Minor Outlying Islands",code:"UMI",slug:"united-states-minor-outlying-islands",filter:!0,iso3166:"UM"},{name:"Uruguay",code:"URY",slug:"uruguay",iso3166:"UY"},{name:"United States",code:"USA",slug:"united-states",variantNames:["US","USA"],iso3166:"US"},{name:"Uzbekistan",code:"UZB",slug:"uzbekistan",iso3166:"UZ"},{name:"Vatican",code:"VAT",slug:"vatican"},{name:"Saint Vincent and the Grenadines",code:"VCT",slug:"saint-vincent-and-the-grenadines",iso3166:"VC"},{name:"Venezuela",code:"VEN",slug:"venezuela",iso3166:"VE"},{name:"British Virgin Islands",code:"VGB",slug:"british-virgin-islands"},{name:"United States Virgin Islands",code:"VIR",slug:"united-states-virgin-islands"},{name:"Vietnam",code:"VNM",slug:"vietnam",iso3166:"VN"},{name:"Vanuatu",code:"VUT",slug:"vanuatu",iso3166:"VU"},{name:"Wallis and Futuna",code:"WLF",slug:"wallis-and-futuna",filter:!0,iso3166:"WF"},{name:"Samoa",code:"WSM",slug:"samoa",iso3166:"WS"},{name:"Yemen",code:"YEM",slug:"yemen",iso3166:"YE"},{name:"South Africa",code:"ZAF",slug:"south-africa",iso3166:"ZA"},{name:"Zambia",code:"ZMB",slug:"zambia",iso3166:"ZM"},{name:"Zimbabwe",code:"ZWE",slug:"zimbabwe",iso3166:"ZW"}].filter((function(country){return!country.filter}))},,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MapTab_MapTab}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(19),__webpack_require__(14),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(11),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var delegated_reactfrom_dll_reference_storybook_docs_dll=__webpack_require__(1),Bounds=__webpack_require__(24),mobx_module=__webpack_require__(0),index_module=__webpack_require__(9),src=(__webpack_require__(31),__webpack_require__(46),__webpack_require__(106),__webpack_require__(34),__webpack_require__(53),__webpack_require__(609)),Util=__webpack_require__(2),path=__webpack_require__(1016),conicConformal=__webpack_require__(1019),azimuthalEqualArea=__webpack_require__(1021),robinson=__webpack_require__(1013),patterson=__webpack_require__(1014),MapProjections={World:Object(path.a)().projection(Object(robinson.a)()),Africa:Object(path.a)().projection(Object(conicConformal.a)().rotate([-25,0]).center([0,0]).parallels([30,-20])),NorthAmerica:Object(path.a)().projection(Object(conicConformal.a)().rotate([98,0]).center([0,38]).parallels([29.5,45.5])),SouthAmerica:Object(path.a)().projection(Object(conicConformal.a)().rotate([68,0]).center([0,-14]).parallels([10,-30])),Asia:Object(path.a)().projection(Object(patterson.a)().center([58,54]).scale(150).translate([0,0]).precision(.1)),Europe:Object(path.a)().projection(Object(azimuthalEqualArea.a)().scale(200).translate([262,1187]).clipAngle(179.999).precision(1)),Oceania:Object(path.a)().projection(Object(conicConformal.a)().rotate([-135,0]).center([0,-20]).parallels([-10,-30]))},MapTopology=__webpack_require__(181),Vector2=__webpack_require__(38);__webpack_require__(30),__webpack_require__(23),__webpack_require__(75);function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var worldRegionByEntity={Abkhazia:"Asia",Afghanistan:"Asia","Akrotiri and Dhekelia":"Asia",Albania:"Europe",Algeria:"Africa","American Samoa":"Oceania",Andorra:"Europe",Angola:"Africa",Anguilla:"NorthAmerica","Antigua and Barbuda":"NorthAmerica",Argentina:"SouthAmerica",Armenia:"Asia",Aruba:"NorthAmerica",Australia:"Oceania",Austria:"Europe","Austria-Hungary":"Europe",Azerbaijan:"Asia",Baden:"Europe",Bahamas:"NorthAmerica",Bahrain:"Asia",Bangladesh:"Asia",Barbados:"NorthAmerica",Bavaria:"Europe",Belarus:"Europe",Belgium:"Europe",Belize:"NorthAmerica",Benin:"Africa",Bermuda:"NorthAmerica",Bhutan:"Asia",Bolivia:"SouthAmerica","Bonaire Sint Eustatius and Saba":"NorthAmerica","Bosnia and Herzegovina":"Europe",Botswana:"Africa",Brazil:"SouthAmerica","British Indian Ocean Territory":"Asia","British Virgin Islands":"NorthAmerica",Brunei:"Asia",Bulgaria:"Europe","Burkina Faso":"Africa",Burundi:"Africa",Cambodia:"Asia",Cameroon:"Africa",Canada:"NorthAmerica","Cape Verde":"Africa","Cayman Islands":"NorthAmerica","Central African Republic":"Africa",Chad:"Africa","Channel Islands":"Europe",Chile:"SouthAmerica",China:"Asia","Christmas Island":"Asia","Cocos Islands":"Asia",Colombia:"SouthAmerica",Comoros:"Africa",Congo:"Africa","Cook Islands":"Oceania","Costa Rica":"NorthAmerica","Cote d'Ivoire":"Africa",Croatia:"Europe",Cuba:"NorthAmerica",Curacao:"NorthAmerica",Cyprus:"Europe","Czech Republic":"Europe",Czechoslovakia:"Europe","Democratic Republic of Congo":"Africa",Denmark:"Europe",Djibouti:"Africa",Dominica:"NorthAmerica","Dominican Republic":"NorthAmerica","East Germany":"Europe",Ecuador:"SouthAmerica",Egypt:"Africa","El Salvador":"NorthAmerica","Equatorial Guinea":"Africa",Eritrea:"Africa","Eritrea and Ethiopia":"Africa",Estonia:"Europe",Ethiopia:"Africa","Faeroe Islands":"Europe","Falkland Islands":"SouthAmerica",Fiji:"Oceania",Finland:"Europe",France:"Europe","French Guiana":"SouthAmerica","French Polynesia":"Oceania",Gabon:"Africa",Gambia:"Africa",Georgia:"Asia",Germany:"Europe",Ghana:"Africa",Gibraltar:"Europe",Greece:"Europe",Greenland:"NorthAmerica",Grenada:"NorthAmerica",Guadeloupe:"NorthAmerica",Guam:"Oceania",Guatemala:"NorthAmerica",Guernsey:"Europe",Guinea:"Africa","Guinea-Bissau":"Africa",Guyana:"SouthAmerica",Haiti:"NorthAmerica",Hanover:"Europe","Hesse Electoral":"Europe","Hesse Grand Ducal":"Europe",Honduras:"NorthAmerica","Hong Kong":"Asia",Hungary:"Europe",Iceland:"Europe",India:"Asia",Indonesia:"Asia",Iran:"Asia",Iraq:"Asia",Ireland:"Europe","Isle of Man":"Europe",Israel:"Asia",Italy:"Europe",Jamaica:"NorthAmerica",Japan:"Asia",Jersey:"Europe",Jordan:"Asia",Kazakhstan:"Asia",Kenya:"Africa",Kiribati:"Oceania",Kosovo:"Europe",Kuwait:"Asia",Kyrgyzstan:"Asia",Laos:"Asia",Latvia:"Europe",Lebanon:"Asia",Lesotho:"Africa",Liberia:"Africa",Libya:"Africa",Liechtenstein:"Europe",Lithuania:"Europe",Luxembourg:"Europe",Macao:"Asia",Macedonia:"Europe",Madagascar:"Africa",Malawi:"Africa",Malaysia:"Asia",Maldives:"Asia",Mali:"Africa",Malta:"Europe","Marshall Islands":"Oceania",Martinique:"NorthAmerica",Mauritania:"Africa",Mauritius:"Africa",Mayotte:"Africa","Mecklenburg Schwerin":"Europe",Mexico:"NorthAmerica","Micronesia (country)":"Oceania",Modena:"Europe",Moldova:"Europe",Monaco:"Europe",Mongolia:"Asia",Montenegro:"Europe",Montserrat:"NorthAmerica",Morocco:"Africa",Mozambique:"Africa",Myanmar:"Asia","Nagorno-Karabakh":"Asia",Namibia:"Africa",Nauru:"Oceania",Nepal:"Asia",Netherlands:"Europe","Netherlands Antilles":"NorthAmerica","New Caledonia":"Oceania","New Zealand":"Oceania",Nicaragua:"NorthAmerica",Niger:"Africa",Nigeria:"Africa",Niue:"Oceania","Norfolk Island":"Oceania","North Korea":"Asia","Northern Cyprus":"Asia","Northern Mariana Islands":"Oceania",Norway:"Europe",Oman:"Asia",Pakistan:"Asia",Palau:"Oceania",Palestine:"Asia",Panama:"NorthAmerica","Papua New Guinea":"Oceania",Paraguay:"SouthAmerica",Parma:"Europe",Peru:"SouthAmerica",Philippines:"Asia",Pitcairn:"Oceania",Poland:"Europe",Portugal:"Europe","Puerto Rico":"NorthAmerica",Qatar:"Asia","Republic of Vietnam":"Asia",Reunion:"Africa",Romania:"Europe",Russia:"Europe",Rwanda:"Africa","Saint BarthÃ©lemy":"NorthAmerica","Saint Helena":"Africa","Saint Kitts and Nevis":"NorthAmerica","Saint Lucia":"NorthAmerica","Saint Martin (French part)":"NorthAmerica","Saint Pierre and Miquelon":"NorthAmerica","Saint Vincent and the Grenadines":"NorthAmerica",Samoa:"Oceania","San Marino":"Europe","Sao Tome and Principe":"Africa","Saudi Arabia":"Asia",Saxony:"Europe",Senegal:"Africa",Serbia:"Europe","Serbia and Montenegro":"Europe","Serbia excluding Kosovo":"Europe",Seychelles:"Africa","Sierra Leone":"Africa",Singapore:"Asia","Sint Maarten (Dutch part)":"NorthAmerica",Slovakia:"Europe",Slovenia:"Europe","Solomon Islands":"Oceania",Somalia:"Africa",Somaliland:"Africa","South Africa":"Africa","South Georgia and the South Sandwich Islands":"SouthAmerica","South Korea":"Asia","South Ossetia":"Asia","South Sudan":"Africa",Spain:"Europe","Sri Lanka":"Asia",Sudan:"Africa",Suriname:"SouthAmerica","Svalbard and Jan Mayen":"Europe",Swaziland:"Africa",Sweden:"Europe",Switzerland:"Europe",Syria:"Asia",Taiwan:"Asia",Tajikistan:"Asia",Tanzania:"Africa",Thailand:"Asia",Timor:"Asia",Togo:"Africa",Tokelau:"Oceania",Tonga:"Oceania",Transnistria:"Europe","Trinidad and Tobago":"NorthAmerica",Tunisia:"Africa",Turkey:"Asia",Turkmenistan:"Asia","Turks and Caicos Islands":"NorthAmerica",Tuscany:"Europe",Tuvalu:"Oceania","Two Sicilies":"Europe",USSR:"Europe",Uganda:"Africa",Ukraine:"Europe","United Arab Emirates":"Asia","United Kingdom":"Europe","United Korea":"Asia","United States":"NorthAmerica","United States Minor Outlying Islands":"Oceania","United States Virgin Islands":"NorthAmerica",Uruguay:"SouthAmerica",Uzbekistan:"Asia",Vanuatu:"Oceania",Vatican:"Europe",Venezuela:"SouthAmerica",Vietnam:"Asia","Wallis and Futuna":"Oceania","West Germany":"Europe","Western Sahara":"Africa",Wuerttemburg:"Europe",Yemen:"Asia","Yemen Arab Republic":"Asia","Yemen People's Republic":"Asia",Yugoslavia:"Europe",Zambia:"Africa",Zanzibar:"Africa",Zimbabwe:"Africa","Ãland Islands":"Europe"},worldRegionByMapEntity={};for(var entity in worldRegionByEntity)worldRegionByMapEntity[Object(Util.q)(entity)]=worldRegionByEntity[entity];var _dec,_dec2,_dec3,_dec4,_dec5,_dec6,_dec7,_class,_class2,_descriptor,_descriptor2,_descriptor3,worldRegions=["World"].concat(function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(Util.Ub)(Object.values(worldRegionByMapEntity)))),labelsByRegion={World:"World",Africa:"Africa",NorthAmerica:"North America",SouthAmerica:"South America",Asia:"Asia",Europe:"Europe",Oceania:"Oceania"};function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var ChoroplethMap_ChoroplethMap=(_dec=mobx_module.f.struct,_dec2=mobx_module.f.struct,_dec3=mobx_module.f.struct,_dec4=mobx_module.d.bound,_dec5=mobx_module.d.bound,_dec6=mobx_module.d.bound,_dec7=mobx_module.d.bound,Object(index_module.a)((_applyDecoratedDescriptor((_class2=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ChoroplethMap,_React$Component);var _super=_createSuper(ChoroplethMap);function ChoroplethMap(){var _this;_classCallCheck(this,ChoroplethMap);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).base=delegated_reactfrom_dll_reference_storybook_docs_dll.createRef(),_initializerDefineProperty(_this,"hoverEnterFeature",_descriptor,_assertThisInitialized(_this)),_initializerDefineProperty(_this,"hoverNearbyFeature",_descriptor2,_assertThisInitialized(_this)),_initializerDefineProperty(_this,"showSelectedStyle",_descriptor3,_assertThisInitialized(_this)),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ChoroplethMap,[{key:"hasFocus",value:function hasFocus(id){var choroplethData=this.choroplethData,focusBracket=this.focusBracket,focusEntity=this.focusEntity;if(focusEntity&&focusEntity.id===id)return!0;if(!focusBracket)return!1;var datum=choroplethData[id]||null;return!!focusBracket.contains(null==datum?void 0:datum.value)}},{key:"isSelected",value:function isSelected(id){return this.choroplethData[id].isSelected}},{key:"onMouseMove",value:function onMouseMove(ev){if(ev.shiftKey&&(this.showSelectedStyle=!0),!this.hoverEnterFeature){var featuresInProjection=this.featuresInProjection,mouse=Object(Util.E)(this.base.current.querySelector(".subunits"),ev),featuresWithDistance=featuresInProjection.map((function(d){return{feature:d,distance:Vector2.a.distance(d.center,mouse)}})),feature=Object(Util.ib)(featuresWithDistance,(function(d){return d.distance}));feature&&feature.distance<20?feature.feature!==this.hoverNearbyFeature&&(this.hoverNearbyFeature=feature.feature,this.props.onHover(feature.feature.geo,ev)):(this.hoverNearbyFeature=void 0,this.props.onHoverStop())}}},{key:"onMouseEnter",value:function onMouseEnter(feature,ev){this.hoverEnterFeature=feature,this.props.onHover(feature.geo,ev)}},{key:"onMouseLeave",value:function onMouseLeave(){this.hoverEnterFeature=void 0,this.props.onHoverStop()}},{key:"onClick",value:function onClick(ev){void 0!==this.hoverFeature&&this.props.onClick(this.hoverFeature.geo,ev)}},{key:"render",value:function render(){var _this2=this,uid=this.uid,bounds=this.bounds,choroplethData=this.choroplethData,defaultFill=this.defaultFill,matrixTransform=this.matrixTransform,viewportScale=this.viewportScale,featuresOutsideProjection=this.featuresOutsideProjection,featuresWithNoData=this.featuresWithNoData,featuresWithData=this.featuresWithData;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",{ref:this.base,className:"ChoroplethMap",clipPath:"url(#boundsClip-".concat(uid,")"),onMouseDown:function onMouseDown(ev){return ev.preventDefault()},onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,style:this.hoverFeature?{cursor:"pointer"}:{}},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("rect",{x:bounds.x,y:bounds.y,width:bounds.width,height:bounds.height,fill:"rgba(255,255,255,0)",opacity:0}),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("defs",null,delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("clipPath",{id:"boundsClip-".concat(uid)},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("rect",{x:bounds.x,y:bounds.y,width:bounds.width,height:bounds.height}))),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",{className:"subunits",transform:matrixTransform},featuresOutsideProjection.length&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",{className:"nonProjectionFeatures"},featuresOutsideProjection.map((function(feature){return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("path",{key:feature.id,d:feature.path,strokeWidth:.3/viewportScale,stroke:"#aaa",fill:"#fff"})}))),featuresWithNoData.length&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",{className:"noDataFeatures"},featuresWithNoData.map((function(feature){var isFocus=_this2.hasFocus(feature.id),outOfFocusBracket=!!_this2.focusBracket&&!isFocus,stroke=isFocus?"#111":"#aaa",fillOpacity=outOfFocusBracket?.2:1,strokeOpacity=outOfFocusBracket?.5:1;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("path",{key:feature.id,d:feature.path,strokeWidth:(isFocus?1.5:.3)/viewportScale,stroke:stroke,strokeOpacity:strokeOpacity,cursor:"pointer",fill:defaultFill,fillOpacity:fillOpacity,onClick:function onClick(ev){return _this2.props.onClick(feature.geo,ev)},onMouseEnter:function onMouseEnter(ev){return _this2.onMouseEnter(feature,ev)},onMouseLeave:_this2.onMouseLeave})}))),Object(Util.Fb)(featuresWithData.map((function(feature){var isFocus=_this2.hasFocus(feature.id),showSelectedStyle=_this2.showSelectedStyle&&_this2.isSelected(feature.id),outOfFocusBracket=!!_this2.focusBracket&&!isFocus,datum=choroplethData[feature.id],stroke=isFocus||showSelectedStyle?"#111":"#333",fill=datum?datum.color:defaultFill,fillOpacity=outOfFocusBracket?.2:1,strokeOpacity=outOfFocusBracket?.5:1;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("path",{key:feature.id,d:feature.path,strokeWidth:(isFocus?1.5:showSelectedStyle?1:.3)/viewportScale,stroke:stroke,strokeOpacity:strokeOpacity,cursor:"pointer",fill:fill,fillOpacity:fillOpacity,onClick:function onClick(ev){return _this2.props.onClick(feature.geo,ev)},onMouseEnter:function onMouseEnter(ev){return _this2.onMouseEnter(feature,ev)},onMouseLeave:_this2.onMouseLeave})})),(function(p){return p.props.strokeWidth}))))}},{key:"uid",get:function get(){return Object(Util.H)()}},{key:"bounds",get:function get(){return this.props.bounds}},{key:"choroplethData",get:function get(){return this.props.choroplethData}},{key:"defaultFill",get:function get(){return this.props.defaultFill}},{key:"geoFeatures",get:function get(){return src.a(MapTopology.a,MapTopology.a.objects.world).features}},{key:"pathGen",get:function get(){return MapProjections[this.props.projection]}},{key:"geoBounds",get:function get(){var _this3=this;return this.geoFeatures.map((function(d){var b=_this3.pathGen.bounds(d),bounds=Bounds.a.fromCorners(Vector2.a.fromArray(b[0]),Vector2.a.fromArray(b[1]));return"Fiji"===d.id?bounds.extend({x:bounds.right-bounds.height,width:bounds.height}):bounds}))}},{key:"mapBounds",get:function get(){return Bounds.a.merge(this.geoBounds)}},{key:"geoPaths",get:function get(){var geoFeatures=this.geoFeatures,pathGen=this.pathGen;return geoFeatures.map((function(d){return pathGen(d).split(/Z/).filter(Util.J).map((function(path){return"M"+path.split(/[MLZ]/).filter((function(f){return f})).map((function(p){return p.split(/,/).map((function(v){return parseFloat(v).toFixed(1)})).join(",")})).join("L")})).join("Z")+"Z"}))}},{key:"renderFeatures",get:function get(){var _this4=this;return this.geoFeatures.map((function(geo,i){return{id:geo.id,geo:geo,path:_this4.geoPaths[i],bounds:_this4.geoBounds[i],center:_this4.geoBounds[i].centerPos}}))}},{key:"focusBracket",get:function get(){return this.props.focusBracket}},{key:"focusEntity",get:function get(){return this.props.focusEntity}},{key:"viewport",get:function get(){return{World:{x:.565,y:.5,width:1,height:1},Europe:{x:.5,y:.22,width:.2,height:.2},Africa:{x:.49,y:.7,width:.21,height:.38},NorthAmerica:{x:.49,y:.4,width:.19,height:.32},SouthAmerica:{x:.52,y:.815,width:.1,height:.26},Asia:{x:.75,y:.45,width:.3,height:.5},Oceania:{x:.51,y:.75,width:.1,height:.2}}[this.props.projection]}},{key:"viewportScale",get:function get(){var bounds=this.bounds,viewport=this.viewport,mapBounds=this.mapBounds,viewportWidth=viewport.width*mapBounds.width,viewportHeight=viewport.height*mapBounds.height;return Math.min(bounds.width/viewportWidth,bounds.height/viewportHeight)}},{key:"matrixTransform",get:function get(){var bounds=this.bounds,mapBounds=this.mapBounds,viewport=this.viewport,viewportScale=this.viewportScale,mapX=mapBounds.x+1,mapY=mapBounds.y+1,newWidth=mapBounds.width*viewportScale,newHeight=mapBounds.height*viewportScale,boundsCenterX=bounds.left+bounds.width/2,boundsCenterY=bounds.top+bounds.height/2,newOffsetX=boundsCenterX-(mapX+(viewportScale-1)*mapBounds.x+viewport.x*newWidth),newOffsetY=boundsCenterY-(mapY+(viewportScale-1)*mapBounds.y+viewport.y*newHeight);return"matrix(".concat(viewportScale,",0,0,").concat(viewportScale,",").concat(newOffsetX,",").concat(newOffsetY,")")}},{key:"featuresOutsideProjection",get:function get(){var projection=this.props.projection;return this.renderFeatures.filter((function(feature){return"World"!==projection&&worldRegionByMapEntity[feature.id]!==projection}))}},{key:"featuresInProjection",get:function get(){var projection=this.props.projection;return this.renderFeatures.filter((function(feature){return"World"===projection||worldRegionByMapEntity[feature.id]===projection}))}},{key:"featuresWithNoData",get:function get(){var _this5=this;return this.featuresInProjection.filter((function(feature){return!_this5.choroplethData[feature.id]}))}},{key:"featuresWithData",get:function get(){var _this6=this;return this.featuresInProjection.filter((function(feature){return _this6.choroplethData[feature.id]}))}},{key:"hoverFeature",get:function get(){return this.hoverEnterFeature||this.hoverNearbyFeature}}]),ChoroplethMap}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component)).prototype,"uid",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"uid"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"bounds",[_dec],Object.getOwnPropertyDescriptor(_class2.prototype,"bounds"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"choroplethData",[_dec2],Object.getOwnPropertyDescriptor(_class2.prototype,"choroplethData"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"defaultFill",[_dec3],Object.getOwnPropertyDescriptor(_class2.prototype,"defaultFill"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"geoFeatures",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"geoFeatures"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"pathGen",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"pathGen"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"geoBounds",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"geoBounds"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"mapBounds",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"mapBounds"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"geoPaths",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"geoPaths"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"renderFeatures",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"renderFeatures"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"focusBracket",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"focusBracket"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"focusEntity",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"focusEntity"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"viewport",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"viewport"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"viewportScale",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"viewportScale"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"matrixTransform",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"matrixTransform"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"featuresOutsideProjection",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"featuresOutsideProjection"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"featuresInProjection",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"featuresInProjection"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"featuresWithNoData",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"featuresWithNoData"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"featuresWithData",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"featuresWithData"),_class2.prototype),_descriptor=_applyDecoratedDescriptor(_class2.prototype,"hoverEnterFeature",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor2=_applyDecoratedDescriptor(_class2.prototype,"hoverNearbyFeature",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_applyDecoratedDescriptor(_class2.prototype,"onMouseMove",[_dec4],Object.getOwnPropertyDescriptor(_class2.prototype,"onMouseMove"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"onMouseEnter",[_dec5],Object.getOwnPropertyDescriptor(_class2.prototype,"onMouseEnter"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"onMouseLeave",[_dec6],Object.getOwnPropertyDescriptor(_class2.prototype,"onMouseLeave"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"hoverFeature",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"hoverFeature"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"onClick",[_dec7],Object.getOwnPropertyDescriptor(_class2.prototype,"onClick"),_class2.prototype),_descriptor3=_applyDecoratedDescriptor(_class2.prototype,"showSelectedStyle",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_class=_class2))||_class);try{ChoroplethMap_ChoroplethMap.displayName="ChoroplethMap",ChoroplethMap_ChoroplethMap.__docgenInfo={description:"",displayName:"ChoroplethMap",props:{choroplethData:{defaultValue:null,description:"",name:"choroplethData",required:!0,type:{name:"ChoroplethData"}},bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"Bounds"}},projection:{defaultValue:null,description:"",name:"projection",required:!0,type:{name:"enum",value:[{value:'"World"'},{value:'"Africa"'},{value:'"NorthAmerica"'},{value:'"SouthAmerica"'},{value:'"Asia"'},{value:'"Europe"'},{value:'"Oceania"'}]}},defaultFill:{defaultValue:null,description:"",name:"defaultFill",required:!0,type:{name:"string"}},focusBracket:{defaultValue:null,description:"",name:"focusBracket",required:!1,type:{name:"NumericBin | CategoricalBin"}},focusEntity:{defaultValue:null,description:"",name:"focusEntity",required:!1,type:{name:"MapEntity"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(d: GeoFeature, ev: SVGMouseEvent) => void"}},onHover:{defaultValue:null,description:"",name:"onHover",required:!0,type:{name:"(d: GeoFeature, ev: SVGMouseEvent) => void"}},onHoverStop:{defaultValue:null,description:"",name:"onHoverStop",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/mapCharts/ChoroplethMap.tsx#ChoroplethMap"]={docgenInfo:ChoroplethMap_ChoroplethMap.__docgenInfo,name:"ChoroplethMap",path:"grapher/mapCharts/ChoroplethMap.tsx#ChoroplethMap"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(49),__webpack_require__(57);var MapColorLegend_class,_class3,_class5,TextWrap=__webpack_require__(47),ColorScaleBin=__webpack_require__(88);function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function MapColorLegend_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return MapColorLegend_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MapColorLegend_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function MapColorLegend_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function MapColorLegend_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function MapColorLegend_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function MapColorLegend_createClass(Constructor,protoProps,staticProps){return protoProps&&MapColorLegend_defineProperties(Constructor.prototype,protoProps),staticProps&&MapColorLegend_defineProperties(Constructor,staticProps),Constructor}function MapColorLegend_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var MapColorLegendView_class,MapColorLegendView_dec,MapColorLegendView_class2,MapColorLegendView_class3,MapColorLegendView_class5,MapColorLegend_MapNumericColorLegend=(MapColorLegend_applyDecoratedDescriptor((MapColorLegend_class=function(){function MapNumericColorLegend(props){MapColorLegend_classCallCheck(this,MapNumericColorLegend),this.props=void 0,this.props=props}return MapColorLegend_createClass(MapNumericColorLegend,[{key:"focusBracket",get:function get(){return this.props.focusBracket}},{key:"numericBins",get:function get(){return this.props.legendData.filter((function(l){return l instanceof ColorScaleBin.b}))}},{key:"rectHeight",get:function get(){return 10}},{key:"tickFontSize",get:function get(){return.75*this.props.fontSize}},{key:"minValue",get:function get(){return Object(Util.hb)(this.numericBins.map((function(d){return d.min})))}},{key:"maxValue",get:function get(){return Object(Util.db)(this.numericBins.map((function(d){return d.max})))}},{key:"rangeSize",get:function get(){return this.maxValue-this.minValue}},{key:"categoryBinWidth",get:function get(){return Bounds.a.forText("No data",{fontSize:this.tickFontSize}).width}},{key:"categoryBinMargin",get:function get(){return 1.5*this.rectHeight}},{key:"totalCategoricalWidth",get:function get(){var legendData=this.props.legendData,categoryBinWidth=this.categoryBinWidth,categoryBinMargin=this.categoryBinMargin,widths=legendData.map((function(d){return d instanceof ColorScaleBin.a?categoryBinWidth+categoryBinMargin:0}));return Object(Util.Mb)(widths)}},{key:"availableNumericWidth",get:function get(){return this.props.width-this.totalCategoricalWidth}},{key:"positionedBins",get:function get(){var props=this.props,rangeSize=this.rangeSize,categoryBinWidth=this.categoryBinWidth,categoryBinMargin=this.categoryBinMargin,availableNumericWidth=this.availableNumericWidth,numericBins=this.numericBins,xOffset=0;return props.legendData.map((function(d){var width=categoryBinWidth,margin=categoryBinMargin;d instanceof ColorScaleBin.b&&(width=props.equalSizeBins?availableNumericWidth/numericBins.length:(d.max-d.min)/rangeSize*availableNumericWidth,margin=0);var x=xOffset;return xOffset+=width+margin,{x:x,width:width,margin:margin,bin:d}}))}},{key:"numericLabels",get:function get(){var _step,rectHeight=this.rectHeight,positionedBins=this.positionedBins,tickFontSize=this.tickFontSize,makeBoundaryLabel=function makeBoundaryLabel(d,minOrMax,text){var labelBounds=Bounds.a.forText(text,{fontSize:tickFontSize}),x=d.x+("min"===minOrMax?0:d.width)-labelBounds.width/2,y=-rectHeight-labelBounds.height-3;return{text:text,fontSize:tickFontSize,bounds:labelBounds.extend({x:x,y:y}),hidden:!1}},makeRangeLabel=function makeRangeLabel(d){var labelBounds=Bounds.a.forText(d.bin.text,{fontSize:tickFontSize}),x=d.x+d.width/2-labelBounds.width/2,y=-rectHeight-labelBounds.height-3;return{text:d.bin.text,fontSize:tickFontSize,bounds:labelBounds.extend({x:x,y:y}),priority:!0,hidden:!1}},labels=[],_iterator=_createForOfIteratorHelper(positionedBins);try{for(_iterator.s();!(_step=_iterator.n()).done;){var d=_step.value;d.bin.text?labels.push(makeRangeLabel(d)):d.bin instanceof ColorScaleBin.b&&(labels.push(makeBoundaryLabel(d,"min",d.bin.minText)),d===Object(Util.V)(positionedBins)&&labels.push(makeBoundaryLabel(d,"max",d.bin.maxText)))}}catch(err){_iterator.e(err)}finally{_iterator.f()}for(var i=0;i<labels.length;i++){var l1=labels[i];if(!l1.hidden)for(var j=i+1;j<labels.length;j++){var l2=labels[j];(l1.bounds.right+5>=l2.bounds.centerX||l2.bounds.left-5<=l1.bounds.centerX&&!l2.priority)&&(l2.hidden=!0)}}labels=labels.filter((function(l){return!l.hidden}));for(var raisedMode=!1,_i=1;_i<labels.length;_i++){var _l=labels[_i-1],_l2=labels[_i];if(_l.bounds.right+5>=_l2.bounds.left){raisedMode=!0;break}}if(raisedMode)for(var _i2=1;_i2<labels.length;_i2++){var l=labels[_i2];_i2%2!=0&&(l.bounds=l.bounds.extend({y:l.bounds.y-l.bounds.height-1}))}return labels}},{key:"height",get:function get(){var _min;return Math.abs(null!==(_min=Object(Util.hb)(this.numericLabels.map((function(l){return l.bounds.y}))))&&void 0!==_min?_min:0)}},{key:"width",get:function get(){return this.props.width}}]),MapNumericColorLegend}()).prototype,"focusBracket",[mobx_module.f],Object.getOwnPropertyDescriptor(MapColorLegend_class.prototype,"focusBracket"),MapColorLegend_class.prototype),MapColorLegend_applyDecoratedDescriptor(MapColorLegend_class.prototype,"numericBins",[mobx_module.f],Object.getOwnPropertyDescriptor(MapColorLegend_class.prototype,"numericBins"),MapColorLegend_class.prototype),MapColorLegend_applyDecoratedDescriptor(MapColorLegend_class.prototype,"rectHeight",[mobx_module.f],Object.getOwnPropertyDescriptor(MapColorLegend_class.prototype,"rectHeight"),MapColorLegend_class.prototype),MapColorLegend_applyDecoratedDescriptor(MapColorLegend_class.prototype,"tickFontSize",[mobx_module.f],Object.getOwnPropertyDescriptor(MapColorLegend_class.prototype,"tickFontSize"),MapColorLegend_class.prototype),MapColorLegend_applyDecoratedDescriptor(MapColorLegend_class.prototype,"minValue",[mobx_module.f],Object.getOwnPropertyDescriptor(MapColorLegend_class.prototype,"minValue"),MapColorLegend_class.prototype),MapColorLegend_applyDecoratedDescriptor(MapColorLegend_class.prototype,"maxValue",[mobx_module.f],Object.getOwnPropertyDescriptor(MapColorLegend_class.prototype,"maxValue"),MapColorLegend_class.prototype),MapColorLegend_applyDecoratedDescriptor(MapColorLegend_class.prototype,"rangeSize",[mobx_module.f],Object.getOwnPropertyDescriptor(MapColorLegend_class.prototype,"rangeSize"),MapColorLegend_class.prototype),MapColorLegend_applyDecoratedDescriptor(MapColorLegend_class.prototype,"categoryBinWidth",[mobx_module.f],Object.getOwnPropertyDescriptor(MapColorLegend_class.prototype,"categoryBinWidth"),MapColorLegend_class.prototype),MapColorLegend_applyDecoratedDescriptor(MapColorLegend_class.prototype,"categoryBinMargin",[mobx_module.f],Object.getOwnPropertyDescriptor(MapColorLegend_class.prototype,"categoryBinMargin"),MapColorLegend_class.prototype),MapColorLegend_applyDecoratedDescriptor(MapColorLegend_class.prototype,"totalCategoricalWidth",[mobx_module.f],Object.getOwnPropertyDescriptor(MapColorLegend_class.prototype,"totalCategoricalWidth"),MapColorLegend_class.prototype),MapColorLegend_applyDecoratedDescriptor(MapColorLegend_class.prototype,"availableNumericWidth",[mobx_module.f],Object.getOwnPropertyDescriptor(MapColorLegend_class.prototype,"availableNumericWidth"),MapColorLegend_class.prototype),MapColorLegend_applyDecoratedDescriptor(MapColorLegend_class.prototype,"positionedBins",[mobx_module.f],Object.getOwnPropertyDescriptor(MapColorLegend_class.prototype,"positionedBins"),MapColorLegend_class.prototype),MapColorLegend_applyDecoratedDescriptor(MapColorLegend_class.prototype,"numericLabels",[mobx_module.f],Object.getOwnPropertyDescriptor(MapColorLegend_class.prototype,"numericLabels"),MapColorLegend_class.prototype),MapColorLegend_applyDecoratedDescriptor(MapColorLegend_class.prototype,"height",[mobx_module.f],Object.getOwnPropertyDescriptor(MapColorLegend_class.prototype,"height"),MapColorLegend_class.prototype),MapColorLegend_applyDecoratedDescriptor(MapColorLegend_class.prototype,"width",[mobx_module.f],Object.getOwnPropertyDescriptor(MapColorLegend_class.prototype,"width"),MapColorLegend_class.prototype),MapColorLegend_class),MapColorLegend_MapCategoricalColorLegend=(MapColorLegend_applyDecoratedDescriptor((_class3=function(){function MapCategoricalColorLegend(props){MapColorLegend_classCallCheck(this,MapCategoricalColorLegend),this.props=void 0,this.props=props}return MapColorLegend_createClass(MapCategoricalColorLegend,[{key:"markLines",get:function get(){var props=this.props,rectSize=12*props.scale,fontSize=.7*props.scale*this.props.fontSize,lines=[],marks=[],xOffset=0,yOffset=0;return props.legendData.forEach((function(d){var labelBounds=Bounds.a.forText(d.text,{fontSize:fontSize}),markWidth=rectSize+5+labelBounds.width+5;xOffset+markWidth>props.maxWidth&&(lines.push({totalWidth:xOffset-5,marks:marks}),marks=[],xOffset=0,yOffset+=rectSize+5);var markX=xOffset,markY=yOffset,label={text:d.text,bounds:labelBounds.extend({x:markX+rectSize+5,y:markY+1}),fontSize:fontSize};marks.push({x:markX,y:markY,rectSize:rectSize,label:label,bin:d}),xOffset+=markWidth})),marks.length>0&&lines.push({totalWidth:xOffset-5,marks:marks}),lines}},{key:"width",get:function get(){return Object(Util.db)(this.markLines.map((function(l){return l.totalWidth})))}},{key:"marks",get:function get(){var _this=this,lines=this.markLines;return lines.forEach((function(line){var xShift=_this.width/2-line.totalWidth/2;line.marks.forEach((function(m){m.x+=xShift,m.label.bounds=m.label.bounds.extend({x:m.label.bounds.x+xShift})}))})),Object(Util.z)(lines.map((function(l){return l.marks})))}},{key:"height",get:function get(){return Object(Util.db)(this.marks.map((function(m){return m.y+m.rectSize})))}}]),MapCategoricalColorLegend}()).prototype,"markLines",[mobx_module.f],Object.getOwnPropertyDescriptor(_class3.prototype,"markLines"),_class3.prototype),MapColorLegend_applyDecoratedDescriptor(_class3.prototype,"width",[mobx_module.f],Object.getOwnPropertyDescriptor(_class3.prototype,"width"),_class3.prototype),MapColorLegend_applyDecoratedDescriptor(_class3.prototype,"marks",[mobx_module.f],Object.getOwnPropertyDescriptor(_class3.prototype,"marks"),_class3.prototype),MapColorLegend_applyDecoratedDescriptor(_class3.prototype,"height",[mobx_module.f],Object.getOwnPropertyDescriptor(_class3.prototype,"height"),_class3.prototype),_class3),MapColorLegend_MapColorLegend=(MapColorLegend_applyDecoratedDescriptor((_class5=function(){function MapColorLegend(props){MapColorLegend_classCallCheck(this,MapColorLegend),this.props=void 0,this.props=props}return MapColorLegend_createClass(MapColorLegend,[{key:"numericLegendData",get:function get(){if(this.hasCategorical||!this.props.legendData.some((function(d){return"No data"===d.value&&!d.isHidden})))return this.props.legendData.filter((function(l){return l instanceof ColorScaleBin.b&&!l.isHidden}));var bin=this.props.legendData.filter((function(l){return(l instanceof ColorScaleBin.b||"No data"===l.value)&&!l.isHidden}));return Object(Util.z)([bin[bin.length-1],bin.slice(0,-1)])}},{key:"hasNumeric",get:function get(){return this.numericLegendData.length>1}},{key:"categoricalLegendData",get:function get(){return this.props.legendData.filter((function(l){return l instanceof ColorScaleBin.a&&!l.isHidden}))}},{key:"hasCategorical",get:function get(){return this.categoricalLegendData.length>1}},{key:"mainLabel",get:function get(){return new TextWrap.a({maxWidth:this.props.bounds.width,fontSize:.7*this.props.fontSize,text:this.props.title})}},{key:"numericFocusBracket",get:function get(){var _this$props=this.props,focusBracket=_this$props.focusBracket,focusValue=_this$props.focusValue,numericLegendData=this.numericLegendData;return focusBracket||(focusValue?numericLegendData.find((function(bin){return bin.contains(focusValue)})):void 0)}},{key:"categoricalFocusBracket",get:function get(){var _this$props2=this.props,focusBracket=_this$props2.focusBracket,focusValue=_this$props2.focusValue,categoricalLegendData=this.categoricalLegendData;return focusBracket&&focusBracket instanceof ColorScaleBin.a?focusBracket:focusValue?categoricalLegendData.find((function(bin){return bin.contains(focusValue)})):void 0}},{key:"categoryLegend",get:function get(){var that=this;return this.hasCategorical?new MapColorLegend_MapCategoricalColorLegend({get legendData(){return that.categoricalLegendData},get maxWidth(){return.8*that.props.bounds.width},get scale(){return 1},get fontSize(){return that.props.fontSize}}):void 0}},{key:"categoryLegendHeight",get:function get(){return this.categoryLegend?this.categoryLegend.height+5:0}},{key:"numericLegend",get:function get(){var that=this;return this.hasNumeric?new MapColorLegend_MapNumericColorLegend({get legendData(){return that.numericLegendData},get width(){return.8*that.props.bounds.width},get equalSizeBins(){return that.props.equalSizeBins},get focusBracket(){return that.numericFocusBracket},get fontSize(){return that.props.fontSize}}):void 0}},{key:"numericLegendHeight",get:function get(){return this.numericLegend?this.numericLegend.height:0}},{key:"height",get:function get(){return this.mainLabel.height+this.categoryLegendHeight+this.numericLegendHeight+10}},{key:"bounds",get:function get(){return this.props.bounds}}]),MapColorLegend}()).prototype,"numericLegendData",[mobx_module.f],Object.getOwnPropertyDescriptor(_class5.prototype,"numericLegendData"),_class5.prototype),MapColorLegend_applyDecoratedDescriptor(_class5.prototype,"hasNumeric",[mobx_module.f],Object.getOwnPropertyDescriptor(_class5.prototype,"hasNumeric"),_class5.prototype),MapColorLegend_applyDecoratedDescriptor(_class5.prototype,"categoricalLegendData",[mobx_module.f],Object.getOwnPropertyDescriptor(_class5.prototype,"categoricalLegendData"),_class5.prototype),MapColorLegend_applyDecoratedDescriptor(_class5.prototype,"hasCategorical",[mobx_module.f],Object.getOwnPropertyDescriptor(_class5.prototype,"hasCategorical"),_class5.prototype),MapColorLegend_applyDecoratedDescriptor(_class5.prototype,"mainLabel",[mobx_module.f],Object.getOwnPropertyDescriptor(_class5.prototype,"mainLabel"),_class5.prototype),MapColorLegend_applyDecoratedDescriptor(_class5.prototype,"numericFocusBracket",[mobx_module.f],Object.getOwnPropertyDescriptor(_class5.prototype,"numericFocusBracket"),_class5.prototype),MapColorLegend_applyDecoratedDescriptor(_class5.prototype,"categoricalFocusBracket",[mobx_module.f],Object.getOwnPropertyDescriptor(_class5.prototype,"categoricalFocusBracket"),_class5.prototype),MapColorLegend_applyDecoratedDescriptor(_class5.prototype,"categoryLegend",[mobx_module.f],Object.getOwnPropertyDescriptor(_class5.prototype,"categoryLegend"),_class5.prototype),MapColorLegend_applyDecoratedDescriptor(_class5.prototype,"categoryLegendHeight",[mobx_module.f],Object.getOwnPropertyDescriptor(_class5.prototype,"categoryLegendHeight"),_class5.prototype),MapColorLegend_applyDecoratedDescriptor(_class5.prototype,"numericLegend",[mobx_module.f],Object.getOwnPropertyDescriptor(_class5.prototype,"numericLegend"),_class5.prototype),MapColorLegend_applyDecoratedDescriptor(_class5.prototype,"numericLegendHeight",[mobx_module.f],Object.getOwnPropertyDescriptor(_class5.prototype,"numericLegendHeight"),_class5.prototype),MapColorLegend_applyDecoratedDescriptor(_class5.prototype,"height",[mobx_module.f],Object.getOwnPropertyDescriptor(_class5.prototype,"height"),_class5.prototype),MapColorLegend_applyDecoratedDescriptor(_class5.prototype,"bounds",[mobx_module.f],Object.getOwnPropertyDescriptor(_class5.prototype,"bounds"),_class5.prototype),_class5);function MapColorLegendView_typeof(obj){return(MapColorLegendView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function MapColorLegendView_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function MapColorLegendView_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function MapColorLegendView_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function MapColorLegendView_createClass(Constructor,protoProps,staticProps){return protoProps&&MapColorLegendView_defineProperties(Constructor.prototype,protoProps),staticProps&&MapColorLegendView_defineProperties(Constructor,staticProps),Constructor}function MapColorLegendView_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&MapColorLegendView_setPrototypeOf(subClass,superClass)}function MapColorLegendView_setPrototypeOf(o,p){return(MapColorLegendView_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function MapColorLegendView_createSuper(Derived){var hasNativeReflectConstruct=function MapColorLegendView_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=MapColorLegendView_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=MapColorLegendView_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return MapColorLegendView_possibleConstructorReturn(this,result)}}function MapColorLegendView_possibleConstructorReturn(self,call){return!call||"object"!==MapColorLegendView_typeof(call)&&"function"!=typeof call?function MapColorLegendView_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function MapColorLegendView_getPrototypeOf(o){return(MapColorLegendView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var MapColorLegendView_MapColorLegendView=Object(index_module.a)(MapColorLegendView_class=function(_React$Component){MapColorLegendView_inherits(MapColorLegendView,_React$Component);var _super=MapColorLegendView_createSuper(MapColorLegendView);function MapColorLegendView(){return MapColorLegendView_classCallCheck(this,MapColorLegendView),_super.apply(this,arguments)}return MapColorLegendView_createClass(MapColorLegendView,[{key:"render",value:function render(){var _this$props=this.props,legend=_this$props.legend,onMouseOver=_this$props.onMouseOver,onMouseLeave=_this$props.onMouseLeave,bounds=legend.bounds,mainLabel=legend.mainLabel,numericLegend=legend.numericLegend,categoryLegend=legend.categoryLegend,categoryLegendHeight=legend.categoryLegendHeight;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",{className:"mapLegend"},numericLegend&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(MapColorLegendView_NumericColorLegendView,{legend:numericLegend,x:bounds.centerX-numericLegend.width/2,y:bounds.bottom-mainLabel.height-categoryLegendHeight-numericLegend.height-4,onMouseOver:onMouseOver,onMouseLeave:onMouseLeave}),categoryLegend&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(MapColorLegendView_CategoricalColorLegendView,{legend:categoryLegend,x:bounds.centerX-categoryLegend.width/2,y:bounds.bottom-mainLabel.height-categoryLegendHeight,onMouseOver:onMouseOver,onMouseLeave:onMouseLeave}),mainLabel.render(bounds.centerX-mainLabel.width/2,bounds.bottom-mainLabel.height))}}]),MapColorLegendView}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component))||MapColorLegendView_class,MapColorLegendView_NumericColorLegendView=(MapColorLegendView_dec=mobx_module.d.bound,Object(index_module.a)((MapColorLegendView_applyDecoratedDescriptor((MapColorLegendView_class3=function(_React$Component2){MapColorLegendView_inherits(NumericColorLegendView,_React$Component2);var _super2=MapColorLegendView_createSuper(NumericColorLegendView);function NumericColorLegendView(){var _this;MapColorLegendView_classCallCheck(this,NumericColorLegendView);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super2.call.apply(_super2,[this].concat(args))).base=delegated_reactfrom_dll_reference_storybook_docs_dll.createRef(),_this}return MapColorLegendView_createClass(NumericColorLegendView,[{key:"onMouseMove",value:function onMouseMove(ev){var legend=this.legend,props=this.props,base=this.base,focusBracket=legend.focusBracket,mouse=Object(Util.E)(base.current,ev);if(!this.bounds.contains(mouse))return focusBracket?this.props.onMouseLeave():void 0;var newFocusBracket=null;legend.positionedBins.forEach((function(d){mouse.x>=props.x+d.x&&mouse.x<=props.x+d.x+d.width&&(newFocusBracket=d.bin)})),newFocusBracket&&this.props.onMouseOver(newFocusBracket)}},{key:"componentDidMount",value:function componentDidMount(){document.documentElement.addEventListener("mousemove",this.onMouseMove),document.documentElement.addEventListener("touchmove",this.onMouseMove)}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.documentElement.removeEventListener("mousemove",this.onMouseMove),document.documentElement.removeEventListener("touchmove",this.onMouseMove)}},{key:"render",value:function render(){var props=this.props,legend=this.legend,rectHeight=legend.rectHeight,numericLabels=legend.numericLabels,height=legend.height,positionedBins=legend.positionedBins,focusBracket=legend.focusBracket,bottomY=props.y+height;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",{ref:this.base,className:"numericColorLegend"},numericLabels.map((function(label,i){return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("line",{key:i,x1:props.x+label.bounds.x+label.bounds.width/2,y1:bottomY-rectHeight,x2:props.x+label.bounds.x+label.bounds.width/2,y2:bottomY+label.bounds.y+label.bounds.height,stroke:"#333",strokeWidth:.3})})),Object(Util.Fb)(positionedBins.map((function(d,i){var isFocus=focusBracket&&d.bin.equals(focusBracket);return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("rect",{key:i,x:props.x+d.x,y:bottomY-rectHeight,width:d.width,height:rectHeight,fill:d.bin.color,stroke:isFocus?"#111":"#333",strokeWidth:isFocus?2:.3})})),(function(r){return r.props.strokeWidth})),numericLabels.map((function(label,i){return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("text",{key:i,x:props.x+label.bounds.x,y:bottomY+label.bounds.y,fontSize:label.fontSize,dominantBaseline:"hanging"},label.text)})))}},{key:"bounds",get:function get(){var props=this.props;return new Bounds.a(props.x,props.y,props.legend.width,props.legend.height)}},{key:"legend",get:function get(){return this.props.legend}}]),NumericColorLegendView}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component)).prototype,"bounds",[mobx_module.f],Object.getOwnPropertyDescriptor(MapColorLegendView_class3.prototype,"bounds"),MapColorLegendView_class3.prototype),MapColorLegendView_applyDecoratedDescriptor(MapColorLegendView_class3.prototype,"legend",[mobx_module.f],Object.getOwnPropertyDescriptor(MapColorLegendView_class3.prototype,"legend"),MapColorLegendView_class3.prototype),MapColorLegendView_applyDecoratedDescriptor(MapColorLegendView_class3.prototype,"onMouseMove",[MapColorLegendView_dec],Object.getOwnPropertyDescriptor(MapColorLegendView_class3.prototype,"onMouseMove"),MapColorLegendView_class3.prototype),MapColorLegendView_class2=MapColorLegendView_class3))||MapColorLegendView_class2),MapColorLegendView_CategoricalColorLegendView=Object(index_module.a)(MapColorLegendView_class5=function(_React$Component3){MapColorLegendView_inherits(CategoricalColorLegendView,_React$Component3);var _super3=MapColorLegendView_createSuper(CategoricalColorLegendView);function CategoricalColorLegendView(){return MapColorLegendView_classCallCheck(this,CategoricalColorLegendView),_super3.apply(this,arguments)}return MapColorLegendView_createClass(CategoricalColorLegendView,[{key:"render",value:function render(){var _this2=this,props=this.props,marks=props.legend.marks,focusBracket=props.legend.props.focusBracket;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",{className:"categoricalColorLegend"},marks.map((function(m,i){var stroke=focusBracket&&m.bin.value===focusBracket.value?"#111":"#333";return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",{key:i,onMouseOver:function onMouseOver(){return _this2.props.onMouseOver(m.bin)},onMouseLeave:function onMouseLeave(){return _this2.props.onMouseLeave()}},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("rect",{x:props.x+m.x,y:props.y+m.y,width:m.rectSize,height:m.rectSize,fill:m.bin.color,stroke:stroke,strokeWidth:.4}),",",delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("text",{x:props.x+m.label.bounds.x,y:props.y+m.label.bounds.y,fontSize:m.label.fontSize,dominantBaseline:"hanging"},m.label.text))})))}}]),CategoricalColorLegendView}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component))||MapColorLegendView_class5;try{MapColorLegendView_MapColorLegendView.displayName="MapColorLegendView",MapColorLegendView_MapColorLegendView.__docgenInfo={description:"",displayName:"MapColorLegendView",props:{legend:{defaultValue:null,description:"",name:"legend",required:!0,type:{name:"MapColorLegend"}},onMouseOver:{defaultValue:null,description:"",name:"onMouseOver",required:!0,type:{name:"(d: ColorScaleBin) => void"}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/mapCharts/MapColorLegendView.tsx#MapColorLegendView"]={docgenInfo:MapColorLegendView_MapColorLegendView.__docgenInfo,name:"MapColorLegendView",path:"grapher/mapCharts/MapColorLegendView.tsx#MapColorLegendView"})}catch(__react_docgen_typescript_loader_error){}var SparkBars_class,SparkBars_class2,SparkBars_class3,SparkBars_temp,BarState,src_select=__webpack_require__(187),cubic=__webpack_require__(1009),ChartLayout=__webpack_require__(164),LoadingOverlay=__webpack_require__(226),ControlsOverlay=__webpack_require__(115),Tooltip=(__webpack_require__(52),__webpack_require__(76)),linear=__webpack_require__(997),decko=__webpack_require__(77);function SparkBars_typeof(obj){return(SparkBars_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function SparkBars_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return SparkBars_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SparkBars_arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SparkBars_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function SparkBars_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function SparkBars_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function SparkBars_setPrototypeOf(o,p){return(SparkBars_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function SparkBars_createSuper(Derived){var hasNativeReflectConstruct=function SparkBars_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=SparkBars_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=SparkBars_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return SparkBars_possibleConstructorReturn(this,result)}}function SparkBars_possibleConstructorReturn(self,call){return!call||"object"!==SparkBars_typeof(call)&&"function"!=typeof call?function SparkBars_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function SparkBars_getPrototypeOf(o){return(SparkBars_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function SparkBars_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}!function(BarState){BarState.highlighted="highlighted",BarState.current="current",BarState.normal="normal",BarState.faint="faint"}(BarState||(BarState={}));var SparkBars_SparkBars=Object(index_module.a)((SparkBars_temp=SparkBars_class3=function(_React$Component){!function SparkBars_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&SparkBars_setPrototypeOf(subClass,superClass)}(SparkBars,_React$Component);var _super=SparkBars_createSuper(SparkBars);function SparkBars(){return SparkBars_classCallCheck(this,SparkBars),_super.apply(this,arguments)}return function SparkBars_createClass(Constructor,protoProps,staticProps){return protoProps&&SparkBars_defineProperties(Constructor.prototype,protoProps),staticProps&&SparkBars_defineProperties(Constructor,staticProps),Constructor}(SparkBars,[{key:"barHeight",value:function barHeight(d){if(void 0!==d){var value=this.props.y(d);if(void 0!==value){var ratio=this.barHeightScale(value);return"".concat(100*ratio,"%")}}return"0%"}},{key:"barState",value:function barState(d){return d===this.props.highlightedX?BarState.highlighted:d===this.props.currentX?BarState.current:void 0!==this.props.highlightedX?BarState.faint:BarState.normal}},{key:"render",value:function render(){var _this=this;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:this.props.className,onMouseLeave:function onMouseLeave(){var _this$props$onHover,_this$props;return null===(_this$props$onHover=(_this$props=_this.props).onHover)||void 0===_this$props$onHover?void 0:_this$props$onHover.call(_this$props,void 0,void 0)}},this.bars.map((function(d,i){return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{key:i,className:"bar-wrapper",onMouseEnter:function onMouseEnter(){var _this$props$onHover2,_this$props2;return null===(_this$props$onHover2=(_this$props2=_this.props).onHover)||void 0===_this$props$onHover2?void 0:_this$props$onHover2.call(_this$props2,d,i)}},_this.props.highlightedX===i&&void 0!==d&&_this.props.renderValue&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:"hanging-value highlighted highlighted-color"},_this.props.renderValue(d)),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:"bar ".concat(d?_this.barState(_this.props.x(d)):BarState.normal),style:{height:_this.barHeight(d),backgroundColor:_this.props.color}}))})))}},{key:"maxY",get:function get(){var _this2=this;return Object(Util.db)(this.bars.map((function(d){var _this2$props$y;return d&&null!==(_this2$props$y=_this2.props.y(d))&&void 0!==_this2$props$y?_this2$props$y:0})))}},{key:"barHeightScale",get:function get(){var maxY=this.maxY;return Object(linear.a)().domain([0,void 0!==maxY&&maxY>0?maxY:1]).range([0,1])}},{key:"bars",get:function get(){for(var indexed=Object(Util.U)(this.props.data,this.props.x),_this$props$xDomain=_slicedToArray(this.props.xDomain,2),start=_this$props$xDomain[0],end=_this$props$xDomain[1],result=[],i=start;i<=end;i++)result.push(indexed[i]);return result}}]),SparkBars}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component),SparkBars_class3.defaultProps={onHover:function onHover(){},className:"spark-bars"},SparkBars_applyDecoratedDescriptor((SparkBars_class2=SparkBars_temp).prototype,"maxY",[mobx_module.f],Object.getOwnPropertyDescriptor(SparkBars_class2.prototype,"maxY"),SparkBars_class2.prototype),SparkBars_applyDecoratedDescriptor(SparkBars_class2.prototype,"barHeightScale",[mobx_module.f],Object.getOwnPropertyDescriptor(SparkBars_class2.prototype,"barHeightScale"),SparkBars_class2.prototype),SparkBars_applyDecoratedDescriptor(SparkBars_class2.prototype,"barHeight",[decko.bind],Object.getOwnPropertyDescriptor(SparkBars_class2.prototype,"barHeight"),SparkBars_class2.prototype),SparkBars_applyDecoratedDescriptor(SparkBars_class2.prototype,"barState",[decko.bind],Object.getOwnPropertyDescriptor(SparkBars_class2.prototype,"barState"),SparkBars_class2.prototype),SparkBars_applyDecoratedDescriptor(SparkBars_class2.prototype,"bars",[mobx_module.f],Object.getOwnPropertyDescriptor(SparkBars_class2.prototype,"bars"),SparkBars_class2.prototype),SparkBars_class=SparkBars_class2))||SparkBars_class;try{SparkBars_SparkBars.displayName="SparkBars",SparkBars_SparkBars.__docgenInfo={description:"",displayName:"SparkBars",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"T[]"}},x:{defaultValue:null,description:"",name:"x",required:!0,type:{name:"(d: T) => number"}},y:{defaultValue:null,description:"",name:"y",required:!0,type:{name:"(d: T) => number | undefined"}},xDomain:{defaultValue:null,description:"",name:"xDomain",required:!0,type:{name:"[number, number]"}},currentX:{defaultValue:null,description:"",name:"currentX",required:!1,type:{name:"number"}},highlightedX:{defaultValue:null,description:"",name:"highlightedX",required:!1,type:{name:"number"}},renderValue:{defaultValue:null,description:"",name:"renderValue",required:!1,type:{name:"((d: T) => Element | undefined) | undefined"}},onHover:{defaultValue:{value:"() => undefined"},description:"",name:"onHover",required:!1,type:{name:"((d: T, index: number | undefined) => void) | undefined"}},className:{defaultValue:{value:"spark-bars"},description:"",name:"className",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/sparkBars/SparkBars.tsx#SparkBars"]={docgenInfo:SparkBars_SparkBars.__docgenInfo,name:"SparkBars",path:"grapher/sparkBars/SparkBars.tsx#SparkBars"})}catch(__react_docgen_typescript_loader_error){}var MapTooltip_class,MapTooltip_class2,classnames=__webpack_require__(44),classnames_default=__webpack_require__.n(classnames),index_es=__webpack_require__(36),faQuestionCircle=__webpack_require__(602),Tippy=__webpack_require__(153),SparkBarTimeSeriesValue_SparkBarTimeSeriesValue=function SparkBarTimeSeriesValue(_ref){var value=_ref.value,latest=_ref.latest,tooltip=_ref.tooltip,className=_ref.className,formattedDate=_ref.formattedDate,valueColor=_ref.valueColor;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:classnames_default()("time-series-value",className)},void 0!==value?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(delegated_reactfrom_dll_reference_storybook_docs_dll.Fragment,null,delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("span",{className:"count"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("span",{style:{color:valueColor}},value)," ",tooltip&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(Tippy.a,{content:tooltip,maxWidth:250},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("span",{className:"help-icon"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(index_es.a,{icon:faQuestionCircle.faQuestionCircle})))),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("span",{className:classnames_default()("date",{latest:latest})},formattedDate)):void 0)};SparkBarTimeSeriesValue_SparkBarTimeSeriesValue.displayName="SparkBarTimeSeriesValue";try{SparkBarTimeSeriesValue_SparkBarTimeSeriesValue.displayName="SparkBarTimeSeriesValue",SparkBarTimeSeriesValue_SparkBarTimeSeriesValue.__docgenInfo={description:"",displayName:"SparkBarTimeSeriesValue",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string | undefined"}},latest:{defaultValue:null,description:"",name:"latest",required:!1,type:{name:"boolean"}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!1,type:{name:"string | Element"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},formattedDate:{defaultValue:null,description:"",name:"formattedDate",required:!1,type:{name:"string"}},valueColor:{defaultValue:null,description:"",name:"valueColor",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/sparkBars/SparkBarTimeSeriesValue.tsx#SparkBarTimeSeriesValue"]={docgenInfo:SparkBarTimeSeriesValue_SparkBarTimeSeriesValue.__docgenInfo,name:"SparkBarTimeSeriesValue",path:"grapher/sparkBars/SparkBarTimeSeriesValue.tsx#SparkBarTimeSeriesValue"})}catch(__react_docgen_typescript_loader_error){}function MapTooltip_typeof(obj){return(MapTooltip_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function MapTooltip_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function MapTooltip_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function MapTooltip_setPrototypeOf(o,p){return(MapTooltip_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function MapTooltip_createSuper(Derived){var hasNativeReflectConstruct=function MapTooltip_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=MapTooltip_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=MapTooltip_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return MapTooltip_possibleConstructorReturn(this,result)}}function MapTooltip_possibleConstructorReturn(self,call){return!call||"object"!==MapTooltip_typeof(call)&&"function"!=typeof call?function MapTooltip_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function MapTooltip_getPrototypeOf(o){return(MapTooltip_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function MapTooltip_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var MapTooltip_MapTooltip=Object(index_module.a)((MapTooltip_applyDecoratedDescriptor((MapTooltip_class2=function(_React$Component){!function MapTooltip_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&MapTooltip_setPrototypeOf(subClass,superClass)}(MapTooltip,_React$Component);var _super=MapTooltip_createSuper(MapTooltip);function MapTooltip(){var _this;MapTooltip_classCallCheck(this,MapTooltip);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).sparkBarsDatumXAccessor=function(d){return d.time},_this}return function MapTooltip_createClass(Constructor,protoProps,staticProps){return protoProps&&MapTooltip_defineProperties(Constructor.prototype,protoProps),staticProps&&MapTooltip_defineProperties(Constructor,staticProps),Constructor}(MapTooltip,[{key:"render",value:function render(){var _this$grapher$table$t,_this$props=this.props,tooltipTarget=_this$props.tooltipTarget,inputTime=_this$props.inputTime,mapToDataEntities=_this$props.mapToDataEntities,tooltipDatum=_this$props.tooltipDatum,isEntityClickable=_this$props.isEntityClickable,tooltipMessage=this.grapher.isScatter?"Click to select":"Click for change over time",renderSparkBars=this.renderSparkBars,barColor=this.barColor,formatYearFn=(null===(_this$grapher$table$t=this.grapher.table.timeColumn)||void 0===_this$grapher$table$t?void 0:_this$grapher$table$t.formatValue)||function(value){return value};return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(Tooltip.a,{tooltipContainer:this.grapher,key:"mapTooltip",x:tooltipTarget.x,y:tooltipTarget.y,style:{textAlign:"center",padding:"8px"},offsetX:15,offsetY:10,offsetYDirection:"upward"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("h3",{style:{padding:"0.3em 0.3em",margin:0,fontWeight:"normal",fontSize:"1em"}},mapToDataEntities[tooltipTarget.featureId]||tooltipTarget.featureId.replace(/_/g," ")),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{style:{margin:0,padding:"0.3em 0.3em"}},tooltipDatum?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:"map-tooltip"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:"trend"},renderSparkBars&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:"plot"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(SparkBars_SparkBars,_extends({},this.sparkBarsProps,{currentX:this.currentSparkBar,color:barColor}))),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{className:"value"+(renderSparkBars?"":" no-plot")},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(SparkBarTimeSeriesValue_SparkBarTimeSeriesValue,{className:"current",value:this.grapher.mapTransform.formatTooltipValue(tooltipDatum.value),formattedDate:formatYearFn(tooltipDatum.time),valueColor:renderSparkBars?barColor:"black"})))):"No data for ".concat(formatYearFn(inputTime))),isEntityClickable&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",null,delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("p",{style:{margin:0,padding:"0.3em 0.9em",fontSize:"13px",opacity:.6}},tooltipMessage)))}},{key:"grapher",get:function get(){return this.props.grapher}},{key:"sparkBarsToDisplay",get:function get(){return Object(Util.Q)()?13:20}},{key:"sparkBarsProps",get:function get(){return{data:this.sparkBarsData,x:this.sparkBarsDatumXAccessor,y:function y(d){return d.value},xDomain:this.sparkBarsDomain}}},{key:"sparkBarsData",get:function get(){var _this$grapher$mapTran,_this$grapher$mapTran2,tooltipDatum=this.props.tooltipDatum;if(!tooltipDatum)return[];var sparkBarValues=[];return null===(_this$grapher$mapTran=this.grapher.mapTransform.dimension)||void 0===_this$grapher$mapTran||null===(_this$grapher$mapTran2=_this$grapher$mapTran.valueByEntityAndTime.get(tooltipDatum.entity))||void 0===_this$grapher$mapTran2||_this$grapher$mapTran2.forEach((function(value,key){sparkBarValues.push({time:key,value:value})})),Object(Util.Ob)(sparkBarValues,(function(d){return d.time<=tooltipDatum.time})).slice(-this.sparkBarsToDisplay)}},{key:"sparkBarsDomain",get:function get(){var lastVal=Object(Util.V)(this.sparkBarsData),end=lastVal?this.sparkBarsDatumXAccessor(lastVal):0;return[end>0?end-this.sparkBarsToDisplay+1:0,end]}},{key:"currentSparkBar",get:function get(){var lastVal=Object(Util.V)(this.sparkBarsData);return lastVal?this.sparkBarsDatumXAccessor(lastVal):void 0}},{key:"renderSparkBars",get:function get(){var grapher=this.grapher;return grapher.hasChartTab&&(grapher.isLineChart||grapher.isScatter&&grapher.scatterTransform.hasTimeline)}},{key:"darkestColorInColorScheme",get:function get(){var colorScale=this.grapher.mapTransform.colorScale;return colorScale.isColorSchemeInverted?Object(Util.x)(colorScale.baseColors):Object(Util.V)(colorScale.baseColors)}},{key:"barColor",get:function get(){var colorScale=this.grapher.mapTransform.colorScale;return colorScale.singleColorScale&&!colorScale.customNumericColorsActive?this.darkestColorInColorScheme:void 0}}]),MapTooltip}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component)).prototype,"grapher",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTooltip_class2.prototype,"grapher"),MapTooltip_class2.prototype),MapTooltip_applyDecoratedDescriptor(MapTooltip_class2.prototype,"sparkBarsToDisplay",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTooltip_class2.prototype,"sparkBarsToDisplay"),MapTooltip_class2.prototype),MapTooltip_applyDecoratedDescriptor(MapTooltip_class2.prototype,"sparkBarsProps",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTooltip_class2.prototype,"sparkBarsProps"),MapTooltip_class2.prototype),MapTooltip_applyDecoratedDescriptor(MapTooltip_class2.prototype,"sparkBarsData",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTooltip_class2.prototype,"sparkBarsData"),MapTooltip_class2.prototype),MapTooltip_applyDecoratedDescriptor(MapTooltip_class2.prototype,"sparkBarsDomain",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTooltip_class2.prototype,"sparkBarsDomain"),MapTooltip_class2.prototype),MapTooltip_applyDecoratedDescriptor(MapTooltip_class2.prototype,"currentSparkBar",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTooltip_class2.prototype,"currentSparkBar"),MapTooltip_class2.prototype),MapTooltip_applyDecoratedDescriptor(MapTooltip_class2.prototype,"renderSparkBars",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTooltip_class2.prototype,"renderSparkBars"),MapTooltip_class2.prototype),MapTooltip_applyDecoratedDescriptor(MapTooltip_class2.prototype,"darkestColorInColorScheme",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTooltip_class2.prototype,"darkestColorInColorScheme"),MapTooltip_class2.prototype),MapTooltip_applyDecoratedDescriptor(MapTooltip_class2.prototype,"barColor",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTooltip_class2.prototype,"barColor"),MapTooltip_class2.prototype),MapTooltip_class=MapTooltip_class2))||MapTooltip_class;try{MapTooltip_MapTooltip.displayName="MapTooltip",MapTooltip_MapTooltip.__docgenInfo={description:"",displayName:"MapTooltip",props:{inputTime:{defaultValue:null,description:"",name:"inputTime",required:!1,type:{name:"number"}},mapToDataEntities:{defaultValue:null,description:"",name:"mapToDataEntities",required:!0,type:{name:"{ [id: string]: string; }"}},tooltipDatum:{defaultValue:null,description:"",name:"tooltipDatum",required:!1,type:{name:"ChoroplethDatum"}},tooltipTarget:{defaultValue:null,description:"",name:"tooltipTarget",required:!0,type:{name:"{ x: number; y: number; featureId: string; }"}},isEntityClickable:{defaultValue:null,description:"",name:"isEntityClickable",required:!1,type:{name:"boolean"}},grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/mapCharts/MapTooltip.tsx#MapTooltip"]={docgenInfo:MapTooltip_MapTooltip.__docgenInfo,name:"MapTooltip",path:"grapher/mapCharts/MapTooltip.tsx#MapTooltip"})}catch(__react_docgen_typescript_loader_error){}var ProjectionChooser_dec,ProjectionChooser_class,ProjectionChooser_class2,react_select_browser_esm=__webpack_require__(155),react_select=__webpack_require__(121);function ProjectionChooser_typeof(obj){return(ProjectionChooser_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ProjectionChooser_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function ProjectionChooser_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function ProjectionChooser_setPrototypeOf(o,p){return(ProjectionChooser_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function ProjectionChooser_createSuper(Derived){var hasNativeReflectConstruct=function ProjectionChooser_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=ProjectionChooser_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=ProjectionChooser_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return ProjectionChooser_possibleConstructorReturn(this,result)}}function ProjectionChooser_possibleConstructorReturn(self,call){return!call||"object"!==ProjectionChooser_typeof(call)&&"function"!=typeof call?function ProjectionChooser_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function ProjectionChooser_getPrototypeOf(o){return(ProjectionChooser_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ProjectionChooser_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var MapTab_dec,MapTab_dec2,MapTab_dec3,MapTab_dec4,MapTab_dec5,MapTab_dec6,MapTab_dec7,MapTab_class,MapTab_class2,MapTab_descriptor,MapTab_descriptor2,MapTab_descriptor3,_descriptor4,MapTab_temp,_class4,MapTab_class5,ProjectionChooser_ProjectionChooser=(ProjectionChooser_dec=mobx_module.d.bound,Object(index_module.a)((ProjectionChooser_applyDecoratedDescriptor((ProjectionChooser_class2=function(_React$Component){!function ProjectionChooser_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ProjectionChooser_setPrototypeOf(subClass,superClass)}(ProjectionChooser,_React$Component);var _super=ProjectionChooser_createSuper(ProjectionChooser);function ProjectionChooser(){return ProjectionChooser_classCallCheck(this,ProjectionChooser),_super.apply(this,arguments)}return function ProjectionChooser_createClass(Constructor,protoProps,staticProps){return protoProps&&ProjectionChooser_defineProperties(Constructor.prototype,protoProps),staticProps&&ProjectionChooser_defineProperties(Constructor,staticProps),Constructor}(ProjectionChooser,[{key:"onChange",value:function onChange(selected){var _first,selectedValue=null===(_first=Object(Util.x)(Object(react_select.a)(selected)))||void 0===_first?void 0:_first.value;selectedValue&&this.props.onChange(selectedValue)}},{key:"render",value:function render(){var _this$props=this.props,bounds=_this$props.bounds,value=_this$props.value,style=Object.assign({position:"absolute",fontSize:"0.75rem"},bounds.toCSS());return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{style:style},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(react_select_browser_esm.a,{options:this.options,onChange:this.onChange,value:this.options.find((function(opt){return opt.value===value})),menuPlacement:"bottom",components:{IndicatorSeparator:null},styles:Object(react_select.b)(22),isSearchable:!1}))}},{key:"options",get:function get(){return worldRegions.map((function(region){return{value:region,label:labelsByRegion[region]}}))}}]),ProjectionChooser}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component)).prototype,"onChange",[ProjectionChooser_dec],Object.getOwnPropertyDescriptor(ProjectionChooser_class2.prototype,"onChange"),ProjectionChooser_class2.prototype),ProjectionChooser_applyDecoratedDescriptor(ProjectionChooser_class2.prototype,"options",[mobx_module.f],Object.getOwnPropertyDescriptor(ProjectionChooser_class2.prototype,"options"),ProjectionChooser_class2.prototype),ProjectionChooser_class=ProjectionChooser_class2))||ProjectionChooser_class);try{ProjectionChooser_ProjectionChooser.displayName="ProjectionChooser",ProjectionChooser_ProjectionChooser.__docgenInfo={description:"",displayName:"ProjectionChooser",props:{bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"Bounds"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: MapProjection) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/mapCharts/ProjectionChooser.tsx#ProjectionChooser"]={docgenInfo:ProjectionChooser_ProjectionChooser.__docgenInfo,name:"ProjectionChooser",path:"grapher/mapCharts/ProjectionChooser.tsx#ProjectionChooser"})}catch(__react_docgen_typescript_loader_error){}function MapTab_typeof(obj){return(MapTab_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function MapTab_extends(){return(MapTab_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function MapTab_initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function MapTab_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function MapTab_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function MapTab_createClass(Constructor,protoProps,staticProps){return protoProps&&MapTab_defineProperties(Constructor.prototype,protoProps),staticProps&&MapTab_defineProperties(Constructor,staticProps),Constructor}function MapTab_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&MapTab_setPrototypeOf(subClass,superClass)}function MapTab_setPrototypeOf(o,p){return(MapTab_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function MapTab_createSuper(Derived){var hasNativeReflectConstruct=function MapTab_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=MapTab_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=MapTab_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return MapTab_possibleConstructorReturn(this,result)}}function MapTab_possibleConstructorReturn(self,call){return!call||"object"!==MapTab_typeof(call)&&"function"!=typeof call?MapTab_assertThisInitialized(self):call}function MapTab_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function MapTab_getPrototypeOf(o){return(MapTab_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function MapTab_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var MapTab_MapWithLegend=(MapTab_dec=mobx_module.m.ref,MapTab_dec2=mobx_module.d.bound,MapTab_dec3=mobx_module.d.bound,MapTab_dec4=mobx_module.d.bound,MapTab_dec5=mobx_module.d.bound,MapTab_dec6=mobx_module.d.bound,MapTab_dec7=mobx_module.d.bound,Object(index_module.a)((MapTab_temp=function(_React$Component){MapTab_inherits(MapWithLegend,_React$Component);var _super=MapTab_createSuper(MapWithLegend);function MapWithLegend(){var _this;MapTab_classCallCheck(this,MapWithLegend);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return MapTab_initializerDefineProperty(_this=_super.call.apply(_super,[this].concat(args)),"tooltip",MapTab_descriptor,MapTab_assertThisInitialized(_this)),MapTab_initializerDefineProperty(_this,"tooltipTarget",MapTab_descriptor2,MapTab_assertThisInitialized(_this)),MapTab_initializerDefineProperty(_this,"focusEntity",MapTab_descriptor3,MapTab_assertThisInitialized(_this)),MapTab_initializerDefineProperty(_this,"focusBracket",_descriptor4,MapTab_assertThisInitialized(_this)),_this.base=delegated_reactfrom_dll_reference_storybook_docs_dll.createRef(),_this}return MapTab_createClass(MapWithLegend,[{key:"onMapMouseOver",value:function onMapMouseOver(d,ev){var datum=void 0===d.id?void 0:this.props.choroplethData[d.id];this.focusEntity={id:d.id,datum:datum||{value:"No data"}};var mouse=Object(Util.E)(this.props.grapherView.base.current,ev);void 0!==d.id&&(this.tooltipTarget={x:mouse.x,y:mouse.y,featureId:d.id})}},{key:"onMapMouseLeave",value:function onMapMouseLeave(){this.focusEntity=void 0,this.tooltipTarget=void 0}},{key:"isEntityClickable",value:function isEntityClickable(featureId){var chart=this.grapher;if(!chart.hasChartTab||!chart.isLineChart&&!chart.isScatter||this.props.grapherView.isMobile||void 0===featureId)return!1;var entity=this.props.mapToDataEntities[featureId],datakeys=chart.availableKeysByEntity.get(entity);return datakeys&&datakeys.length>0}},{key:"onClick",value:function onClick(d,ev){if(this.isEntityClickable(d.id)){var chart=this.grapher,entityName=this.props.mapToDataEntities[d.id];ev.shiftKey?chart.toggleEntitySelectionStatus(entityName):(chart.currentTab="chart",chart.selectOnlyThisEntity(entityName))}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.onMapMouseLeave(),this.onLegendMouseLeave()}},{key:"onLegendMouseOver",value:function onLegendMouseOver(d){this.focusBracket=d}},{key:"onLegendMouseLeave",value:function onLegendMouseLeave(){this.focusBracket=void 0}},{key:"onProjectionChange",value:function onProjectionChange(value){this.grapher.mapTransform.props.projection=value}},{key:"componentDidMount",value:function componentDidMount(){Object(src_select.a)(this.base.current).selectAll("path").attr("data-fill",(function(){return this.getAttribute("fill")})).attr("fill",this.props.colorScale.noDataColor).transition().duration(500).ease(cubic.a).attr("fill",(function(){return this.getAttribute("data-fill")})).attr("data-fill",(function(){return this.getAttribute("fill")}))}},{key:"render",value:function render(){var _this$props=this.props,choroplethData=_this$props.choroplethData,projection=_this$props.projection,defaultFill=_this$props.defaultFill,bounds=_this$props.bounds,focusBracket=this.focusBracket,focusEntity=this.focusEntity,mapLegend=this.mapLegend,tooltipTarget=this.tooltipTarget,projectionChooserBounds=this.projectionChooserBounds,tooltipDatum=this.tooltipDatum,tooltipProps={inputTime:this.props.inputTime,mapToDataEntities:this.props.mapToDataEntities,tooltipDatum:tooltipDatum,isEntityClickable:this.isEntityClickable(null==tooltipTarget?void 0:tooltipTarget.featureId)};return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",{ref:this.base,className:"mapTab"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(ChoroplethMap_ChoroplethMap,{bounds:bounds.padBottom(mapLegend.height+15),choroplethData:choroplethData,projection:projection,defaultFill:defaultFill,onHover:this.onMapMouseOver,onHoverStop:this.onMapMouseLeave,onClick:this.onClick,focusBracket:focusBracket,focusEntity:focusEntity}),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(MapColorLegendView_MapColorLegendView,{legend:mapLegend,onMouseOver:this.onLegendMouseOver,onMouseLeave:this.onLegendMouseLeave}),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(ControlsOverlay.a,{id:"projection-chooser"},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(ProjectionChooser_ProjectionChooser,{bounds:projectionChooserBounds,value:projection,onChange:this.onProjectionChange})),tooltipTarget&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(MapTooltip_MapTooltip,MapTab_extends({},tooltipProps,{tooltipTarget:tooltipTarget,grapher:this.grapher})))}},{key:"grapher",get:function get(){return this.props.grapher}},{key:"mapLegend",get:function get(){var that=this;return new MapColorLegend_MapColorLegend({get bounds(){return that.props.bounds.padBottom(15)},get legendData(){return that.props.colorScale.legendData},get equalSizeBins(){return that.props.colorScale.config.equalSizeBins},get title(){return""},get focusBracket(){return that.focusBracket},get focusValue(){var _that$focusEntity,_that$focusEntity$dat;return null===(_that$focusEntity=that.focusEntity)||void 0===_that$focusEntity||null===(_that$focusEntity$dat=_that$focusEntity.datum)||void 0===_that$focusEntity$dat?void 0:_that$focusEntity$dat.value},get fontSize(){return that.grapher.baseFontSize}})}},{key:"tooltipDatum",get:function get(){return this.tooltipTarget?this.props.choroplethData[this.tooltipTarget.featureId]:void 0}},{key:"projectionChooserBounds",get:function get(){var bounds=this.props.bounds;return new Bounds.a(bounds.width-110+15-3,5,110,22)}}]),MapWithLegend}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component),MapTab_descriptor=MapTab_applyDecoratedDescriptor((MapTab_class2=MapTab_temp).prototype,"tooltip",[MapTab_dec],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),MapTab_descriptor2=MapTab_applyDecoratedDescriptor(MapTab_class2.prototype,"tooltipTarget",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),MapTab_descriptor3=MapTab_applyDecoratedDescriptor(MapTab_class2.prototype,"focusEntity",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor4=MapTab_applyDecoratedDescriptor(MapTab_class2.prototype,"focusBracket",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),MapTab_applyDecoratedDescriptor(MapTab_class2.prototype,"onMapMouseOver",[MapTab_dec2],Object.getOwnPropertyDescriptor(MapTab_class2.prototype,"onMapMouseOver"),MapTab_class2.prototype),MapTab_applyDecoratedDescriptor(MapTab_class2.prototype,"grapher",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTab_class2.prototype,"grapher"),MapTab_class2.prototype),MapTab_applyDecoratedDescriptor(MapTab_class2.prototype,"onMapMouseLeave",[MapTab_dec3],Object.getOwnPropertyDescriptor(MapTab_class2.prototype,"onMapMouseLeave"),MapTab_class2.prototype),MapTab_applyDecoratedDescriptor(MapTab_class2.prototype,"onClick",[MapTab_dec4],Object.getOwnPropertyDescriptor(MapTab_class2.prototype,"onClick"),MapTab_class2.prototype),MapTab_applyDecoratedDescriptor(MapTab_class2.prototype,"onLegendMouseOver",[MapTab_dec5],Object.getOwnPropertyDescriptor(MapTab_class2.prototype,"onLegendMouseOver"),MapTab_class2.prototype),MapTab_applyDecoratedDescriptor(MapTab_class2.prototype,"onLegendMouseLeave",[MapTab_dec6],Object.getOwnPropertyDescriptor(MapTab_class2.prototype,"onLegendMouseLeave"),MapTab_class2.prototype),MapTab_applyDecoratedDescriptor(MapTab_class2.prototype,"onProjectionChange",[MapTab_dec7],Object.getOwnPropertyDescriptor(MapTab_class2.prototype,"onProjectionChange"),MapTab_class2.prototype),MapTab_applyDecoratedDescriptor(MapTab_class2.prototype,"mapLegend",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTab_class2.prototype,"mapLegend"),MapTab_class2.prototype),MapTab_applyDecoratedDescriptor(MapTab_class2.prototype,"tooltipDatum",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTab_class2.prototype,"tooltipDatum"),MapTab_class2.prototype),MapTab_applyDecoratedDescriptor(MapTab_class2.prototype,"projectionChooserBounds",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTab_class2.prototype,"projectionChooserBounds"),MapTab_class2.prototype),MapTab_class=MapTab_class2))||MapTab_class),MapTab_MapTab=Object(index_module.a)((MapTab_applyDecoratedDescriptor((MapTab_class5=function(_React$Component2){MapTab_inherits(MapTab,_React$Component2);var _super2=MapTab_createSuper(MapTab);function MapTab(){return MapTab_classCallCheck(this,MapTab),_super2.apply(this,arguments)}return MapTab_createClass(MapTab,[{key:"render",value:function render(){var _map$dimension,map=this.map,layout=this.layout;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(ChartLayout.b,{layout:this.layout},this.props.grapher.isReady?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(MapTab_MapWithLegend,{grapher:this.props.grapher,grapherView:this.props.grapherView,bounds:layout.innerBounds,choroplethData:map.choroplethData,times:map.timelineTimes,inputTime:map.endTimelineTime,colorScale:map.colorScale,projection:map.projection,defaultFill:map.colorScale.noDataColor,mapToDataEntities:map.mapToDataEntities,column:null===(_map$dimension=map.dimension)||void 0===_map$dimension?void 0:_map$dimension.column}):delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(LoadingOverlay.a,{bounds:layout.innerBounds}))}},{key:"map",get:function get(){return this.props.grapher.mapTransform}},{key:"layout",get:function get(){var that=this;return new ChartLayout.a({get grapher(){return that.props.grapher},get grapherView(){return that.props.grapherView},get bounds(){return that.props.bounds}})}}]),MapTab}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component)).prototype,"map",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTab_class5.prototype,"map"),MapTab_class5.prototype),MapTab_applyDecoratedDescriptor(MapTab_class5.prototype,"layout",[mobx_module.f],Object.getOwnPropertyDescriptor(MapTab_class5.prototype,"layout"),MapTab_class5.prototype),_class4=MapTab_class5))||_class4;try{MapTab_MapTab.displayName="MapTab",MapTab_MapTab.__docgenInfo={description:"",displayName:"MapTab",props:{grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}},grapherView:{defaultValue:null,description:"",name:"grapherView",required:!0,type:{name:"GrapherView"}},bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"Bounds"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/mapCharts/MapTab.tsx#MapTab"]={docgenInfo:MapTab_MapTab.__docgenInfo,name:"MapTab",path:"grapher/mapCharts/MapTab.tsx#MapTab"})}catch(__react_docgen_typescript_loader_error){}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SlopeChart_SlopeChart}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(31),__webpack_require__(19),__webpack_require__(30),__webpack_require__(43),__webpack_require__(32),__webpack_require__(14),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(57),__webpack_require__(23),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(45),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var _class,_class2,_class3,_class4,_dec,_dec2,_dec3,_class6,_class7,delegated_reactfrom_dll_reference_storybook_docs_dll=__webpack_require__(1),Util=__webpack_require__(2),mobx_module=__webpack_require__(0),index_module=__webpack_require__(9),linear=(__webpack_require__(97),__webpack_require__(60),__webpack_require__(11),__webpack_require__(997)),log=__webpack_require__(999),extent=__webpack_require__(610),src_select=__webpack_require__(187),GrapherConstants=__webpack_require__(17),Bounds=__webpack_require__(24),Text=__webpack_require__(138),TextWrap=__webpack_require__(47),NoDataOverlay=__webpack_require__(55);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var LabelledSlopes_SlopeChartAxis=Object(index_module.a)((_applyDecoratedDescriptor((_class2=function(_React$Component){_inherits(SlopeChartAxis,_React$Component);var _super=_createSuper(SlopeChartAxis);function SlopeChartAxis(){return _classCallCheck(this,SlopeChartAxis),_super.apply(this,arguments)}return _createClass(SlopeChartAxis,[{key:"render",value:function render(){var _this$props=this.props,bounds=_this$props.bounds,scale=_this$props.scale,orient=_this$props.orient,tickFormat=_this$props.tickFormat,ticks=this.ticks;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",{className:"axis",fontSize:"0.8em"},ticks.map((function(tick,i){return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("text",{key:i,x:"left"===orient?bounds.left:bounds.right,y:scale(tick),fill:"#666",dominantBaseline:"middle",textAnchor:"left"===orient?"start":"end"},tickFormat(tick))})))}},{key:"ticks",get:function get(){return SlopeChartAxis.getTicks(this.props.scale,this.props.scaleType)}}],[{key:"calculateBounds",value:function calculateBounds(containerBounds,props){var scale=props.scale,longestTick=Object(Util.eb)(scale.ticks(6).map(props.tickFormat),(function(tick){return tick.length})),axisWidth=Bounds.a.forText(longestTick).width;return new Bounds.a(containerBounds.x,containerBounds.y,axisWidth,containerBounds.height)}},{key:"getTicks",value:function getTicks(scale,scaleType){if(scaleType===GrapherConstants.d.log){var minPower10=Math.ceil(Math.log(scale.domain()[0])/Math.log(10));isFinite(minPower10)||(minPower10=0);var maxPower10=Math.floor(Math.log(scale.domain()[1])/Math.log(10));maxPower10<=minPower10&&(maxPower10+=1);for(var tickValues=[],i=minPower10;i<=maxPower10;i++)tickValues.push(Math.pow(10,i));return tickValues}return scale.ticks(6)}}]),SlopeChartAxis}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component)).prototype,"ticks",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"ticks"),_class2.prototype),_class=_class2))||_class,LabelledSlopes_Slope=Object(index_module.a)((_applyDecoratedDescriptor((_class4=function(_React$Component2){_inherits(Slope,_React$Component2);var _super2=_createSuper(Slope);function Slope(){var _this;_classCallCheck(this,Slope);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super2.call.apply(_super2,[this].concat(args))).line=void 0,_this}return _createClass(Slope,[{key:"render",value:function render(){var _this2=this,_this$props2=this.props,x1=_this$props2.x1,y1=_this$props2.y1,x2=_this$props2.x2,y2=_this$props2.y2,color=_this$props2.color,size=_this$props2.size,hasLeftLabel=_this$props2.hasLeftLabel,hasRightLabel=_this$props2.hasRightLabel,leftValueStr=_this$props2.leftValueStr,rightValueStr=_this$props2.rightValueStr,leftLabel=_this$props2.leftLabel,rightLabel=_this$props2.rightLabel,labelFontSize=_this$props2.labelFontSize,leftLabelBounds=_this$props2.leftLabelBounds,rightLabelBounds=_this$props2.rightLabelBounds,isFocused=_this$props2.isFocused,isHovered=_this$props2.isHovered,isInBackground=this.isInBackground,lineColor=isInBackground?"#e2e2e2":color,labelColor=isInBackground?"#aaa":"#333",opacity=isHovered?1:isFocused?.7:.5,lineStrokeWidth=isHovered?2*size:isFocused?1.5*size:size,leftValueLabelBounds=Bounds.a.forText(leftValueStr,{fontSize:labelFontSize}),rightValueLabelBounds=Bounds.a.forText(rightValueStr,{fontSize:labelFontSize});return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",{className:"slope"},hasLeftLabel&&leftLabel.render(leftLabelBounds.x+leftLabelBounds.width,leftLabelBounds.y,{textAnchor:"end",fill:labelColor,fontWeight:isFocused||isHovered?"bold":void 0}),hasLeftLabel&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(Text.a,{x:x1-8,y:y1-leftValueLabelBounds.height/2,textAnchor:"end",fontSize:labelFontSize,fill:labelColor,fontWeight:isFocused||isHovered?"bold":void 0},leftValueStr),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("circle",{cx:x1,cy:y1,r:isFocused||isHovered?4:2,fill:lineColor,opacity:opacity}),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("line",{ref:function ref(el){return _this2.line=el},x1:x1,y1:y1,x2:x2,y2:y2,stroke:lineColor,strokeWidth:lineStrokeWidth,opacity:opacity}),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("circle",{cx:x2,cy:y2,r:isFocused||isHovered?4:2,fill:lineColor,opacity:opacity}),hasRightLabel&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(Text.a,{x:x2+8,y:y2-rightValueLabelBounds.height/2,fontSize:labelFontSize,fill:labelColor,fontWeight:isFocused||isHovered?"bold":void 0},rightValueStr),hasRightLabel&&rightLabel.render(rightLabelBounds.x,rightLabelBounds.y,{fill:labelColor,fontWeight:isFocused||isHovered?"bold":void 0}))}},{key:"isInBackground",get:function get(){var _this$props3=this.props,isLayerMode=_this$props3.isLayerMode,isHovered=_this$props3.isHovered,isFocused=_this$props3.isFocused;return!!isLayerMode&&!(isHovered||isFocused)}}]),Slope}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component)).prototype,"isInBackground",[mobx_module.f],Object.getOwnPropertyDescriptor(_class4.prototype,"isInBackground"),_class4.prototype),_class3=_class4))||_class3,LabelledSlopes_LabelledSlopes=(_dec=mobx_module.d.bound,_dec2=mobx_module.d.bound,_dec3=mobx_module.d.bound,Object(index_module.a)((_applyDecoratedDescriptor((_class7=function(_React$Component3){_inherits(LabelledSlopes,_React$Component3);var _super3=_createSuper(LabelledSlopes);function LabelledSlopes(){var _this3;_classCallCheck(this,LabelledSlopes);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return(_this3=_super3.call.apply(_super3,[this].concat(args))).base=delegated_reactfrom_dll_reference_storybook_docs_dll.createRef(),_this3.svg=void 0,_this3.mouseFrame=void 0,_this3}return _createClass(LabelledSlopes,[{key:"onMouseLeave",value:function onMouseLeave(){void 0!==this.mouseFrame&&cancelAnimationFrame(this.mouseFrame),this.props.onMouseLeave&&this.props.onMouseLeave()}},{key:"onMouseMove",value:function onMouseMove(ev){var _this4=this,mouse=Object(Util.E)(this.base.current,ev.nativeEvent);this.mouseFrame=requestAnimationFrame((function(){if(_this4.props.bounds.contains(mouse)){var _step,distToSlope=new Map,_iterator=function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(_this4.slopeData);try{for(_iterator.s();!(_step=_iterator.n()).done;){var s=_step.value,dist=Math.abs((s.y2-s.y1)*mouse.x-(s.x2-s.x1)*mouse.y+s.x2*s.y1-s.y2*s.x1)/Math.sqrt(Math.pow(s.y2-s.y1,2)+Math.pow(s.x2-s.x1,2));distToSlope.set(s,dist)}}catch(err){_iterator.e(err)}finally{_iterator.f()}var closestSlope=Object(Util.ib)(_this4.slopeData,(function(s){return distToSlope.get(s)}));closestSlope&&distToSlope.get(closestSlope)<20&&_this4.props.onMouseOver?_this4.props.onMouseOver(closestSlope):_this4.props.onMouseLeave()}}))}},{key:"onClick",value:function onClick(){this.props.onClick&&this.props.onClick()}},{key:"componentDidMount",value:function componentDidMount(){Object(src_select.a)(this.base.current).select(".slopes").attr("stroke-dasharray","100%").attr("stroke-dashoffset","100%").transition().attr("stroke-dashoffset","0%")}},{key:"renderBackgroundGroups",value:function renderBackgroundGroups(){var backgroundGroups=this.backgroundGroups,isLayerMode=this.isLayerMode;return backgroundGroups.map((function(slope){return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(LabelledSlopes_Slope,_extends({key:slope.entityDimensionKey},slope,{isLayerMode:isLayerMode}))}))}},{key:"renderForegroundGroups",value:function renderForegroundGroups(){var foregroundGroups=this.foregroundGroups,isLayerMode=this.isLayerMode;return foregroundGroups.map((function(slope){return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(LabelledSlopes_Slope,_extends({key:slope.entityDimensionKey},slope,{isLayerMode:isLayerMode}))}))}},{key:"render",value:function render(){var _this$props4=this.props,yTickFormat=_this$props4.yTickFormat,fontSize=_this$props4.fontSize,yScaleType=this.yScaleType,bounds=this.bounds,slopeData=this.slopeData,isPortrait=this.isPortrait,xDomain=this.xDomain,yScale=this.yScale,onMouseMove=this.onMouseMove;if(Object(Util.O)(slopeData))return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(NoDataOverlay.a,{options:this.props.grapher,bounds:bounds});var _slopeData$=slopeData[0],x1=_slopeData$.x1,x2=_slopeData$.x2,_yScale$range2=_slicedToArray(yScale.range(),2),y1=_yScale$range2[0],y2=_yScale$range2[1];return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",{className:"LabelledSlopes",ref:this.base,onMouseMove:onMouseMove,onTouchMove:onMouseMove,onTouchStart:onMouseMove,onMouseLeave:this.onMouseLeave,onClick:this.onClick},delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("rect",{x:bounds.x,y:bounds.y,width:bounds.width,height:bounds.height,fill:"rgba(255,255,255,0)",opacity:0}),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",{className:"gridlines"},LabelledSlopes_SlopeChartAxis.getTicks(yScale,yScaleType).map((function(tick,i){return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("line",{key:i,x1:x1,y1:yScale(tick),x2:x2,y2:yScale(tick),stroke:"#eee",strokeDasharray:"3,2"})}))),!isPortrait&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(LabelledSlopes_SlopeChartAxis,{orient:"left",tickFormat:yTickFormat,scale:yScale,scaleType:yScaleType,bounds:bounds}),!isPortrait&&delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(LabelledSlopes_SlopeChartAxis,{orient:"right",tickFormat:yTickFormat,scale:yScale,scaleType:yScaleType,bounds:bounds}),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("line",{x1:x1,y1:y1,x2:x1,y2:y2,stroke:"#333"}),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("line",{x1:x2,y1:y1,x2:x2,y2:y2,stroke:"#333"}),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(Text.a,{x:x1,y:y1+10,textAnchor:"middle",fill:"#666",fontSize:fontSize},xDomain[0].toString()),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(Text.a,{x:x2,y:y1+10,textAnchor:"middle",fill:"#666",fontSize:fontSize},xDomain[1].toString()),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",{className:"slopes"},this.renderBackgroundGroups(),this.renderForegroundGroups()))}},{key:"data",get:function get(){return this.props.data}},{key:"bounds",get:function get(){return this.props.bounds}},{key:"focusKeys",get:function get(){return Object(Util.L)(this.props.focusKeys||[],this.data.map((function(g){return g.entityDimensionKey})))}},{key:"hoverKeys",get:function get(){return Object(Util.L)(this.props.hoverKeys||[],this.data.map((function(g){return g.entityDimensionKey})))}},{key:"isLayerMode",get:function get(){return this.focusKeys.length>0||this.hoverKeys.length>0}},{key:"isPortrait",get:function get(){return this.bounds.width<400}},{key:"allValues",get:function get(){return Object(Util.z)(this.props.data.map((function(g){return g.values})))}},{key:"xDomainDefault",get:function get(){return Object(Util.p)(this.allValues.map((function(v){return v.x})),GrapherConstants.d.linear)}},{key:"yScaleType",get:function get(){return this.props.yAxisOptions.scaleType||GrapherConstants.d.linear}},{key:"yDomainDefault",get:function get(){return Object(Util.p)(this.allValues.map((function(v){return v.y})),this.yScaleType||GrapherConstants.d.linear)}},{key:"xDomain",get:function get(){return this.xDomainDefault}},{key:"yDomain",get:function get(){var domain=this.props.yAxisOptions.domain,domainDefault=this.yDomainDefault;return[Math.min(domain[0],domainDefault[0]),Math.max(domain[1],domainDefault[1])]}},{key:"sizeScale",get:function get(){return Object(linear.a)().domain(Object(extent.a)(this.props.data.map((function(d){return d.size})))).range([1,4])}},{key:"yScaleConstructor",get:function get(){return this.yScaleType===GrapherConstants.d.log?log.a:linear.a}},{key:"yScale",get:function get(){return this.yScaleConstructor().domain(this.yDomain).range(this.props.bounds.padBottom(50).yRange())}},{key:"xScale",get:function get(){var bounds=this.bounds,isPortrait=this.isPortrait,xDomain=this.xDomain,yScale=this.yScale,padding=isPortrait?0:LabelledSlopes_SlopeChartAxis.calculateBounds(bounds,{orient:"left",scale:yScale,tickFormat:this.props.yTickFormat}).width;return Object(linear.a)().domain(xDomain).range(bounds.padWidth(padding).xRange())}},{key:"maxLabelWidth",get:function get(){return this.bounds.width/5}},{key:"initialSlopeData",get:function get(){var _this5=this,data=this.data,isPortrait=this.isPortrait,xScale=this.xScale,yScale=this.yScale,sizeScale=this.sizeScale,maxLabelWidth=this.maxLabelWidth,yTickFormat=this.props.yTickFormat,slopeData=[],yDomain=yScale.domain();return data.forEach((function(series){if(series.values.every((function(d){return d.y>=yDomain[0]&&d.y<=yDomain[1]}))){var _series$values=_slicedToArray(series.values,2),v1=_series$values[0],v2=_series$values[1],_ref=[xScale(v1.x),xScale(v2.x)],x1=_ref[0],x2=_ref[1],_ref2=[yScale(v1.y),yScale(v2.y)],y1=_ref2[0],y2=_ref2[1],fontSize=(isPortrait?.6:.65)*_this5.props.fontSize,leftValueStr=yTickFormat(v1.y),rightValueStr=yTickFormat(v2.y),leftValueWidth=Bounds.a.forText(leftValueStr,{fontSize:fontSize}).width,rightValueWidth=Bounds.a.forText(rightValueStr,{fontSize:fontSize}).width,leftLabel=new TextWrap.a({maxWidth:maxLabelWidth,fontSize:fontSize,text:series.label}),rightLabel=new TextWrap.a({maxWidth:maxLabelWidth,fontSize:fontSize,text:series.label});slopeData.push({x1:x1,y1:y1,x2:x2,y2:y2,color:series.color,size:sizeScale(series.size)||1,leftValueStr:leftValueStr,rightValueStr:rightValueStr,leftValueWidth:leftValueWidth,rightValueWidth:rightValueWidth,leftLabel:leftLabel,rightLabel:rightLabel,labelFontSize:fontSize,entityDimensionKey:series.entityDimensionKey,isFocused:!1,isHovered:!1,hasLeftLabel:!0,hasRightLabel:!0})}})),slopeData}},{key:"maxValueWidth",get:function get(){return Object(Util.db)(this.initialSlopeData.map((function(s){return s.leftValueWidth})))}},{key:"labelAccountedSlopeData",get:function get(){var maxLabelWidth=this.maxLabelWidth,maxValueWidth=this.maxValueWidth;return this.initialSlopeData.map((function(slope){var x1=slope.x1+maxLabelWidth+maxValueWidth+8,x2=slope.x2-maxLabelWidth-maxValueWidth-8,leftLabelBounds=new Bounds.a(x1-slope.leftValueWidth-12-slope.leftLabel.width,slope.y1-slope.leftLabel.height/2,slope.leftLabel.width,slope.leftLabel.height),rightLabelBounds=new Bounds.a(x2+slope.rightValueWidth+12,slope.y2-slope.rightLabel.height/2,slope.rightLabel.width,slope.rightLabel.height);return Object.assign({},slope,{x1:x1,x2:x2,leftLabelBounds:leftLabelBounds,rightLabelBounds:rightLabelBounds})}))}},{key:"backgroundGroups",get:function get(){return this.slopeData.filter((function(group){return!(group.isHovered||group.isFocused)}))}},{key:"foregroundGroups",get:function get(){return this.slopeData.filter((function(group){return!(!group.isHovered&&!group.isFocused)}))}},{key:"slopeData",get:function get(){var focusKeys=this.focusKeys,hoverKeys=this.hoverKeys,slopeData=this.labelAccountedSlopeData;function chooseLabel(s1,s2){return s1.isHovered&&!s2.isHovered?s1:!s1.isHovered&&s2.isHovered?s2:s1.isFocused&&!s2.isFocused?s1:!s1.isFocused&&s2.isFocused?s2:s1.hasLeftLabel&&!s2.hasLeftLabel?s1:!s1.hasLeftLabel&&s2.hasLeftLabel?s2:s1.size>s2.size?s1:s2.size>s1.size?s2:s1}return(slopeData=slopeData.map((function(slope){return Object.assign({},slope,{isFocused:focusKeys.includes(slope.entityDimensionKey),isHovered:hoverKeys.includes(slope.entityDimensionKey)})}))).forEach((function(s1){slopeData.forEach((function(s2){s1!==s2&&s1.hasLeftLabel&&s2.hasLeftLabel&&s1.leftLabelBounds.intersects(s2.leftLabelBounds)&&(chooseLabel(s1,s2)===s1?s2.hasLeftLabel=!1:s1.hasLeftLabel=!1)}))})),slopeData.forEach((function(s1){slopeData.forEach((function(s2){s1!==s2&&s1.hasRightLabel&&s2.hasRightLabel&&s1.rightLabelBounds.intersects(s2.rightLabelBounds)&&(chooseLabel(s1,s2)===s1?s2.hasRightLabel=!1:s1.hasRightLabel=!1)}))})),slopeData=Object(Util.Fb)(slopeData,(function(slope){return slope.size})),slopeData=Object(Util.Fb)(slopeData,(function(slope){return slope.isFocused||slope.isHovered?1:0}))}}]),LabelledSlopes}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component)).prototype,"data",[mobx_module.f],Object.getOwnPropertyDescriptor(_class7.prototype,"data"),_class7.prototype),_applyDecoratedDescriptor(_class7.prototype,"bounds",[mobx_module.f],Object.getOwnPropertyDescriptor(_class7.prototype,"bounds"),_class7.prototype),_applyDecoratedDescriptor(_class7.prototype,"focusKeys",[mobx_module.f],Object.getOwnPropertyDescriptor(_class7.prototype,"focusKeys"),_class7.prototype),_applyDecoratedDescriptor(_class7.prototype,"hoverKeys",[mobx_module.f],Object.getOwnPropertyDescriptor(_class7.prototype,"hoverKeys"),_class7.prototype),_applyDecoratedDescriptor(_class7.prototype,"isLayerMode",[mobx_module.f],Object.getOwnPropertyDescriptor(_class7.prototype,"isLayerMode"),_class7.prototype),_applyDecoratedDescriptor(_class7.prototype,"isPortrait",[mobx_module.f],Object.getOwnPropertyDescriptor(_class7.prototype,"isPortrait"),_class7.prototype),_applyDecoratedDescriptor(_class7.prototype,"allValues",[mobx_module.f],Object.getOwnPropertyDescriptor(_class7.prototype,"allValues"),_class7.prototype),_applyDecoratedDescriptor(_class7.prototype,"xDomainDefault",[mobx_module.f],Object.getOwnPropertyDescriptor(_class7.prototype,"xDomainDefault"),_class7.prototype),_applyDecoratedDescriptor(_class7.prototype,"yScaleType",[mobx_module.f],Object.getOwnPropertyDescriptor(_class7.prototype,"yScaleType"),_class7.prototype),_applyDecoratedDescriptor(_class7.prototype,"yDomainDefault",[mobx_module.f],Object.getOwnPropertyDescriptor(_class7.prototype,"yDomainDefault"),_class7.prototype),_applyDecoratedDescriptor(_class7.prototype,"xDomain",[mobx_module.f],Object.getOwnPropertyDescriptor(_class7.prototype,"xDomain"),_class7.prototype),_applyDecoratedDescriptor(_class7.prototype,"yDomain",[mobx_module.f],Object.getOwnPropertyDescriptor(_class7.prototype,"yDomain"),_class7.prototype),_applyDecoratedDescriptor(_class7.prototype,"sizeScale",[mobx_module.f],Object.getOwnPropertyDescriptor(_class7.prototype,"sizeScale"),_class7.prototype),_applyDecoratedDescriptor(_class7.prototype,"yScaleConstructor",[mobx_module.f],Object.getOwnPropertyDescriptor(_class7.prototype,"yScaleConstructor"),_class7.prototype),_applyDecoratedDescriptor(_class7.prototype,"yScale",[mobx_module.f],Object.getOwnPropertyDescriptor(_class7.prototype,"yScale"),_class7.prototype),_applyDecoratedDescriptor(_class7.prototype,"xScale",[mobx_module.f],Object.getOwnPropertyDescriptor(_class7.prototype,"xScale"),_class7.prototype),_applyDecoratedDescriptor(_class7.prototype,"maxLabelWidth",[mobx_module.f],Object.getOwnPropertyDescriptor(_class7.prototype,"maxLabelWidth"),_class7.prototype),_applyDecoratedDescriptor(_class7.prototype,"initialSlopeData",[mobx_module.f],Object.getOwnPropertyDescriptor(_class7.prototype,"initialSlopeData"),_class7.prototype),_applyDecoratedDescriptor(_class7.prototype,"maxValueWidth",[mobx_module.f],Object.getOwnPropertyDescriptor(_class7.prototype,"maxValueWidth"),_class7.prototype),_applyDecoratedDescriptor(_class7.prototype,"labelAccountedSlopeData",[mobx_module.f],Object.getOwnPropertyDescriptor(_class7.prototype,"labelAccountedSlopeData"),_class7.prototype),_applyDecoratedDescriptor(_class7.prototype,"backgroundGroups",[mobx_module.f],Object.getOwnPropertyDescriptor(_class7.prototype,"backgroundGroups"),_class7.prototype),_applyDecoratedDescriptor(_class7.prototype,"foregroundGroups",[mobx_module.f],Object.getOwnPropertyDescriptor(_class7.prototype,"foregroundGroups"),_class7.prototype),_applyDecoratedDescriptor(_class7.prototype,"slopeData",[mobx_module.f],Object.getOwnPropertyDescriptor(_class7.prototype,"slopeData"),_class7.prototype),_applyDecoratedDescriptor(_class7.prototype,"onMouseLeave",[_dec],Object.getOwnPropertyDescriptor(_class7.prototype,"onMouseLeave"),_class7.prototype),_applyDecoratedDescriptor(_class7.prototype,"onMouseMove",[_dec2],Object.getOwnPropertyDescriptor(_class7.prototype,"onMouseMove"),_class7.prototype),_applyDecoratedDescriptor(_class7.prototype,"onClick",[_dec3],Object.getOwnPropertyDescriptor(_class7.prototype,"onClick"),_class7.prototype),_class6=_class7))||_class6);try{LabelledSlopes_LabelledSlopes.displayName="LabelledSlopes",LabelledSlopes_LabelledSlopes.__docgenInfo={description:"",displayName:"LabelledSlopes",props:{grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}},bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"Bounds"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"SlopeChartSeries[]"}},isInteractive:{defaultValue:null,description:"",name:"isInteractive",required:!0,type:{name:"boolean"}},yTickFormat:{defaultValue:null,description:"",name:"yTickFormat",required:!0,type:{name:"(value: number) => string"}},yAxisOptions:{defaultValue:null,description:"",name:"yAxisOptions",required:!0,type:{name:"AxisConfig"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!0,type:{name:"number"}},focusKeys:{defaultValue:null,description:"",name:"focusKeys",required:!0,type:{name:"string[]"}},hoverKeys:{defaultValue:null,description:"",name:"hoverKeys",required:!0,type:{name:"string[]"}},onMouseOver:{defaultValue:null,description:"",name:"onMouseOver",required:!0,type:{name:"(slopeProps: SlopeProps) => void"}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!0,type:{name:"() => void"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/slopeCharts/LabelledSlopes.tsx#LabelledSlopes"]={docgenInfo:LabelledSlopes_LabelledSlopes.__docgenInfo,name:"LabelledSlopes",path:"grapher/slopeCharts/LabelledSlopes.tsx#LabelledSlopes"})}catch(__react_docgen_typescript_loader_error){}var SlopeChart_dec,SlopeChart_dec2,SlopeChart_dec3,_dec4,_dec5,_dec6,_dec7,_dec8,_dec9,SlopeChart_class,SlopeChart_class2,_descriptor,_descriptor2,SlopeChart_temp,ScatterColorLegend=__webpack_require__(108);function SlopeChart_typeof(obj){return(SlopeChart_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return SlopeChart_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function SlopeChart_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return SlopeChart_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SlopeChart_arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SlopeChart_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function SlopeChart_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function SlopeChart_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function SlopeChart_setPrototypeOf(o,p){return(SlopeChart_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function SlopeChart_createSuper(Derived){var hasNativeReflectConstruct=function SlopeChart_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=SlopeChart_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=SlopeChart_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return SlopeChart_possibleConstructorReturn(this,result)}}function SlopeChart_possibleConstructorReturn(self,call){return!call||"object"!==SlopeChart_typeof(call)&&"function"!=typeof call?SlopeChart_assertThisInitialized(self):call}function SlopeChart_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function SlopeChart_getPrototypeOf(o){return(SlopeChart_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function SlopeChart_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var SlopeChart_SlopeChart=(SlopeChart_dec=mobx_module.f.struct,SlopeChart_dec2=mobx_module.d.bound,SlopeChart_dec3=mobx_module.d.bound,_dec4=mobx_module.d.bound,_dec5=mobx_module.d.bound,_dec6=mobx_module.d.bound,_dec7=mobx_module.d.bound,_dec8=mobx_module.f.struct,_dec9=mobx_module.f.struct,Object(index_module.a)((SlopeChart_temp=function(_React$Component){!function SlopeChart_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&SlopeChart_setPrototypeOf(subClass,superClass)}(SlopeChart,_React$Component);var _super=SlopeChart_createSuper(SlopeChart);function SlopeChart(){var _this;SlopeChart_classCallCheck(this,SlopeChart);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _initializerDefineProperty(_this=_super.call.apply(_super,[this].concat(args)),"hoverKey",_descriptor,SlopeChart_assertThisInitialized(_this)),_initializerDefineProperty(_this,"hoverColor",_descriptor2,SlopeChart_assertThisInitialized(_this)),_this}return function SlopeChart_createClass(Constructor,protoProps,staticProps){return protoProps&&SlopeChart_defineProperties(Constructor.prototype,protoProps),staticProps&&SlopeChart_defineProperties(Constructor,staticProps),Constructor}(SlopeChart,[{key:"onSlopeMouseOver",value:function onSlopeMouseOver(slopeProps){this.hoverKey=slopeProps.entityDimensionKey}},{key:"onSlopeMouseLeave",value:function onSlopeMouseLeave(){this.hoverKey=void 0}},{key:"onSlopeClick",value:function onSlopeClick(){var grapher=this.grapher,hoverKey=this.hoverKey;"disabled"!==grapher.addCountryMode&&void 0!==hoverKey&&this.grapher.toggleKey(hoverKey)}},{key:"onLegendMouseOver",value:function onLegendMouseOver(color){this.hoverColor=color}},{key:"onLegendMouseLeave",value:function onLegendMouseLeave(){this.hoverColor=void 0}},{key:"onLegendClick",value:function onLegendClick(){var grapher=this.grapher,hoverColor=this.hoverColor;if("disabled"!==grapher.addCountryMode&&void 0!==hoverColor){var keysToToggle=this.transform.data.filter((function(g){return g.color===hoverColor})).map((function(g){return g.entityDimensionKey})),allKeysActive=Object(Util.L)(keysToToggle,grapher.selectedKeys).length===keysToToggle.length;grapher.selectedKeys=allKeysActive?Util.ac.apply(void 0,[grapher.selectedKeys].concat(_toConsumableArray(keysToToggle))):Object(Util.Ub)(grapher.selectedKeys.concat(keysToToggle))}}},{key:"render",value:function render(){if(this.transform.failMessage)return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(NoDataOverlay.a,{options:this.grapher,bounds:this.props.bounds,message:this.transform.failMessage});var _this$props=this.props,bounds=_this$props.bounds,grapher=_this$props.grapher,yAxis=grapher.yAxis,data=this.transform.data,legend=this.legend,focusKeys=this.focusKeys,hoverKeys=this.hoverKeys,focusColors=this.focusColors,activeColors=this.activeColors,sidebarWidth=this.sidebarWidth,innerBounds=this.innerBounds,showLegend=this.showLegend;return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("g",null,delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(LabelledSlopes_LabelledSlopes,{grapher:grapher,bounds:innerBounds,isInteractive:grapher.isInteractive,yTickFormat:this.transform.yTickFormat,yAxisOptions:yAxis,data:data,fontSize:grapher.baseFontSize,focusKeys:focusKeys,hoverKeys:hoverKeys,onMouseOver:this.onSlopeMouseOver,onMouseLeave:this.onSlopeMouseLeave,onClick:this.onSlopeClick}),showLegend?delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(ScatterColorLegend.a,{legend:legend,x:bounds.right-sidebarWidth,y:bounds.top,onMouseOver:this.onLegendMouseOver,onMouseLeave:this.onLegendMouseLeave,onClick:this.onLegendClick,focusColors:focusColors,activeColors:activeColors}):delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",null))}},{key:"grapher",get:function get(){return this.props.grapher}},{key:"transform",get:function get(){return this.props.grapher.slopeChartTransform}},{key:"bounds",get:function get(){return this.props.bounds}},{key:"legend",get:function get(){var that=this;return new ScatterColorLegend.b({get maxWidth(){return that.sidebarMaxWidth},get fontSize(){return that.grapher.baseFontSize},get colorables(){return that.transform.colorScale.legendData.filter((function(bin){return that.colorsInUse.includes(bin.color)})).map((function(bin){var _bin$label,_bin$label2;return{key:null!==(_bin$label=bin.label)&&void 0!==_bin$label?_bin$label:"",label:null!==(_bin$label2=bin.label)&&void 0!==_bin$label2?_bin$label2:"",color:bin.color}}))}})}},{key:"focusColors",get:function get(){var colorsInUse=this.colorsInUse,transform=this.transform,grapher=this.grapher;return colorsInUse.filter((function(color){var matchingKeys=transform.data.filter((function(g){return g.color===color})).map((function(g){return g.entityDimensionKey}));return Object(Util.L)(matchingKeys,grapher.selectedKeys).length===matchingKeys.length}))}},{key:"focusKeys",get:function get(){return this.grapher.selectedKeys}},{key:"hoverKeys",get:function get(){var hoverColor=this.hoverColor,hoverKey=this.hoverKey,transform=this.transform,hoverKeys=void 0===hoverColor?[]:Object(Util.Ub)(transform.data.filter((function(g){return g.color===hoverColor})).map((function(g){return g.entityDimensionKey})));return void 0!==hoverKey&&hoverKeys.push(hoverKey),hoverKeys}},{key:"activeColors",get:function get(){var hoverKeys=this.hoverKeys,focusKeys=this.focusKeys,transform=this.transform,activeKeys=hoverKeys.concat(focusKeys);return 0===activeKeys.length?Object(Util.Ub)(transform.data.map((function(g){return g.color}))):Object(Util.Ub)(transform.data.filter((function(g){return-1!==activeKeys.indexOf(g.entityDimensionKey)})).map((function(g){return g.color})))}},{key:"colorsInUse",get:function get(){return Object(Util.Ub)(this.transform.data.map((function(g){return g.color})))}},{key:"sidebarMaxWidth",get:function get(){return.5*this.bounds.width}},{key:"sidebarMinWidth",get:function get(){return 100}},{key:"sidebarWidth",get:function get(){var sidebarMinWidth=this.sidebarMinWidth,sidebarMaxWidth=this.sidebarMaxWidth,legend=this.legend;return Math.max(Math.min(legend.width,sidebarMaxWidth),sidebarMinWidth)}},{key:"innerBounds",get:function get(){var sidebarWidth=this.sidebarWidth;return this.showLegend?this.props.bounds.padRight(sidebarWidth+20):this.props.bounds}},{key:"showLegend",get:function get(){var colorsInUse=this.colorsInUse;return this.transform.colorScale.legendData.some((function(bin){return colorsInUse.includes(bin.color)}))}}]),SlopeChart}(delegated_reactfrom_dll_reference_storybook_docs_dll.Component),_descriptor=SlopeChart_applyDecoratedDescriptor((SlopeChart_class2=SlopeChart_temp).prototype,"hoverKey",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor2=SlopeChart_applyDecoratedDescriptor(SlopeChart_class2.prototype,"hoverColor",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),SlopeChart_applyDecoratedDescriptor(SlopeChart_class2.prototype,"grapher",[mobx_module.f],Object.getOwnPropertyDescriptor(SlopeChart_class2.prototype,"grapher"),SlopeChart_class2.prototype),SlopeChart_applyDecoratedDescriptor(SlopeChart_class2.prototype,"transform",[mobx_module.f],Object.getOwnPropertyDescriptor(SlopeChart_class2.prototype,"transform"),SlopeChart_class2.prototype),SlopeChart_applyDecoratedDescriptor(SlopeChart_class2.prototype,"bounds",[SlopeChart_dec],Object.getOwnPropertyDescriptor(SlopeChart_class2.prototype,"bounds"),SlopeChart_class2.prototype),SlopeChart_applyDecoratedDescriptor(SlopeChart_class2.prototype,"legend",[mobx_module.f],Object.getOwnPropertyDescriptor(SlopeChart_class2.prototype,"legend"),SlopeChart_class2.prototype),SlopeChart_applyDecoratedDescriptor(SlopeChart_class2.prototype,"onSlopeMouseOver",[SlopeChart_dec2],Object.getOwnPropertyDescriptor(SlopeChart_class2.prototype,"onSlopeMouseOver"),SlopeChart_class2.prototype),SlopeChart_applyDecoratedDescriptor(SlopeChart_class2.prototype,"onSlopeMouseLeave",[SlopeChart_dec3],Object.getOwnPropertyDescriptor(SlopeChart_class2.prototype,"onSlopeMouseLeave"),SlopeChart_class2.prototype),SlopeChart_applyDecoratedDescriptor(SlopeChart_class2.prototype,"onSlopeClick",[_dec4],Object.getOwnPropertyDescriptor(SlopeChart_class2.prototype,"onSlopeClick"),SlopeChart_class2.prototype),SlopeChart_applyDecoratedDescriptor(SlopeChart_class2.prototype,"onLegendMouseOver",[_dec5],Object.getOwnPropertyDescriptor(SlopeChart_class2.prototype,"onLegendMouseOver"),SlopeChart_class2.prototype),SlopeChart_applyDecoratedDescriptor(SlopeChart_class2.prototype,"onLegendMouseLeave",[_dec6],Object.getOwnPropertyDescriptor(SlopeChart_class2.prototype,"onLegendMouseLeave"),SlopeChart_class2.prototype),SlopeChart_applyDecoratedDescriptor(SlopeChart_class2.prototype,"onLegendClick",[_dec7],Object.getOwnPropertyDescriptor(SlopeChart_class2.prototype,"onLegendClick"),SlopeChart_class2.prototype),SlopeChart_applyDecoratedDescriptor(SlopeChart_class2.prototype,"focusColors",[mobx_module.f],Object.getOwnPropertyDescriptor(SlopeChart_class2.prototype,"focusColors"),SlopeChart_class2.prototype),SlopeChart_applyDecoratedDescriptor(SlopeChart_class2.prototype,"focusKeys",[mobx_module.f],Object.getOwnPropertyDescriptor(SlopeChart_class2.prototype,"focusKeys"),SlopeChart_class2.prototype),SlopeChart_applyDecoratedDescriptor(SlopeChart_class2.prototype,"hoverKeys",[_dec8],Object.getOwnPropertyDescriptor(SlopeChart_class2.prototype,"hoverKeys"),SlopeChart_class2.prototype),SlopeChart_applyDecoratedDescriptor(SlopeChart_class2.prototype,"activeColors",[mobx_module.f],Object.getOwnPropertyDescriptor(SlopeChart_class2.prototype,"activeColors"),SlopeChart_class2.prototype),SlopeChart_applyDecoratedDescriptor(SlopeChart_class2.prototype,"colorsInUse",[mobx_module.f],Object.getOwnPropertyDescriptor(SlopeChart_class2.prototype,"colorsInUse"),SlopeChart_class2.prototype),SlopeChart_applyDecoratedDescriptor(SlopeChart_class2.prototype,"sidebarMaxWidth",[mobx_module.f],Object.getOwnPropertyDescriptor(SlopeChart_class2.prototype,"sidebarMaxWidth"),SlopeChart_class2.prototype),SlopeChart_applyDecoratedDescriptor(SlopeChart_class2.prototype,"sidebarMinWidth",[mobx_module.f],Object.getOwnPropertyDescriptor(SlopeChart_class2.prototype,"sidebarMinWidth"),SlopeChart_class2.prototype),SlopeChart_applyDecoratedDescriptor(SlopeChart_class2.prototype,"sidebarWidth",[_dec9],Object.getOwnPropertyDescriptor(SlopeChart_class2.prototype,"sidebarWidth"),SlopeChart_class2.prototype),SlopeChart_applyDecoratedDescriptor(SlopeChart_class2.prototype,"innerBounds",[mobx_module.f],Object.getOwnPropertyDescriptor(SlopeChart_class2.prototype,"innerBounds"),SlopeChart_class2.prototype),SlopeChart_applyDecoratedDescriptor(SlopeChart_class2.prototype,"showLegend",[mobx_module.f],Object.getOwnPropertyDescriptor(SlopeChart_class2.prototype,"showLegend"),SlopeChart_class2.prototype),SlopeChart_class=SlopeChart_class2))||SlopeChart_class);try{SlopeChart_SlopeChart.displayName="SlopeChart",SlopeChart_SlopeChart.__docgenInfo={description:"",displayName:"SlopeChart",props:{bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"Bounds"}},grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/slopeCharts/SlopeChart.tsx#SlopeChart"]={docgenInfo:SlopeChart_SlopeChart.__docgenInfo,name:"SlopeChart",path:"grapher/slopeCharts/SlopeChart.tsx#SlopeChart"})}catch(__react_docgen_typescript_loader_error){}},,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("+kY7")},,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("/Qos")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("Kkar")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("//nZ")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("pu3o")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("dSaG")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("j4Sf")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("LUwd")},,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("mlET")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("jLkM")},,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("N4z3")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("GFpt")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("LtXa")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("9y2L")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("TYRa")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("SU8Q")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("R5u7")},,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("WxKw")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("waID")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("q9+l")},,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("5878")},,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("sVFb")},,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("CUMQ")},,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("f9bD")},,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("ssvU")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("b2e3")},,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("maj8")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("F63i")},,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("wpQC")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("CbIe")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("BlJA")},,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("kn3Q")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("c2re")},,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("RNvQ")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("JBn+")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("OfKG")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("sCL+")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("S0iI")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("1xil")},,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("kkM+")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("nnRT")},,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("mbB6")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("a88S")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("pFSi")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("nnm9")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("xoyU")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("w2Tz")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("0Ocv")},,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("nvU9")},,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("QT01")},,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("psri")},,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("Bcqe")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("vfdX")},,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("TM4o")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("DjlN")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("ZdBB")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("zc29")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("8aeu")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("2gZs")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("fVMg")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("H17f")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("mPOS")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("zEpV")},,,,,,,,,,,function(module,exports,__webpack_require__){__webpack_require__(615),__webpack_require__(639),__webpack_require__(640),__webpack_require__(682),__webpack_require__(802),__webpack_require__(835),__webpack_require__(847),__webpack_require__(849),module.exports=__webpack_require__(855)},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("ARua")},,,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("gqY9")},,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("PjZX")},,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(302)},,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("JY+C")},,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("ZUdG")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("tQbP")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("wFLD")},,,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("hQin")},,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("LJ7e")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("I2fK")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("DY47")},,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("3kp9")},,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("/bc2")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("/JuR")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("+Bxv")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("muFx")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("Wci6")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("WoRU")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("o3fS")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("JmTi")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("xaiR")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("SlD/")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("Monn")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("fmNP")},,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("uFXj")},,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("V0IW")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("OCSl")},,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("kA4r")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("Blm6")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("lZm3")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("kvVz")},,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("2q8g")},,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";__webpack_require__(5),__webpack_require__(31),__webpack_require__(19),__webpack_require__(28),__webpack_require__(850),__webpack_require__(7),__webpack_require__(20);var _clientApi=__webpack_require__(82),_clientLogger=__webpack_require__(63),_configFilename=__webpack_require__(853);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_configFilename.args||_configFilename.argTypes)&&_clientLogger.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify({args:_configFilename.args,argTypes:_configFilename.argTypes})),_configFilename.decorators&&_configFilename.decorators.forEach((function(decorator){return(0,_clientApi.addDecorator)(decorator,!1)})),(_configFilename.parameters||_configFilename.globals||_configFilename.globalTypes)&&(0,_clientApi.addParameters)(_objectSpread(_objectSpread({},_configFilename.parameters),{},{globals:_configFilename.globals,globalTypes:_configFilename.globalTypes}),!1),_configFilename.argTypesEnhancers&&_configFilename.argTypesEnhancers.forEach((function(enhancer){return(0,_clientApi.addArgTypesEnhancer)(enhancer)}))},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("oD4t")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("2sZ7")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _storybook_client_api__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(82),_storybook_addon_viewport__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(572);Object(_storybook_client_api__WEBPACK_IMPORTED_MODULE_0__.addParameters)({viewport:{viewports:_storybook_addon_viewport__WEBPACK_IMPORTED_MODULE_1__.INITIAL_VIEWPORTS}})},,function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(302).configure)([__webpack_require__(856)],module,!1)}).call(this,__webpack_require__(167)(module))},function(module,exports,__webpack_require__){var map={"./explorer/client/SwitcherExplorer.stories.tsx":993,"./explorer/covidExplorer/CovidExplorer.stories.tsx":992,"./grapher/areaCharts/StackedAreaChart.stories.tsx":977,"./grapher/barCharts/DiscreteBarChart.stories.tsx":978,"./grapher/chart/NoDataOverlay.stories.tsx":979,"./grapher/controls/CollapsibleList/CollapsibleList.stories.tsx":995,"./grapher/controls/CommandPalette.stories.tsx":980,"./grapher/controls/CountryPicker.stories.tsx":981,"./grapher/controls/ScaleSelector.stories.tsx":982,"./grapher/core/GrapherView.stories.tsx":984,"./grapher/dataTable/DataTable.stories.tsx":985,"./grapher/facetChart/FacetChart.stories.tsx":994,"./grapher/lineCharts/LineChart.stories.tsx":986,"./grapher/mapCharts/MapTab.stories.tsx":987,"./grapher/scatterCharts/ScatterPlot.stories.tsx":988,"./grapher/timeline/TimelineComponent.stories.tsx":989,"./site/client/Feedback.stories.tsx":996};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=856},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("xt6W")},,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("c72w")},,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("Q4oW")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("zH+d")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("z+TE")},,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("4uJK")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("bvyN")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("3ajY")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("Qd2C")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("Dhk8")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("tLQN")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("zKkv")},,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("Ypsa")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("cH1A")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("zF5n")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("bFjY")},,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("IBsm")},,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("pPzx")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("Syyo")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("aURW")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("XlL0")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("f2p0")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("W0vE")},,function(module,exports,__webpack_require__){var map={"./af":418,"./af.js":418,"./ar":419,"./ar-dz":420,"./ar-dz.js":420,"./ar-kw":421,"./ar-kw.js":421,"./ar-ly":422,"./ar-ly.js":422,"./ar-ma":423,"./ar-ma.js":423,"./ar-sa":424,"./ar-sa.js":424,"./ar-tn":425,"./ar-tn.js":425,"./ar.js":419,"./az":426,"./az.js":426,"./be":427,"./be.js":427,"./bg":428,"./bg.js":428,"./bm":429,"./bm.js":429,"./bn":430,"./bn.js":430,"./bo":431,"./bo.js":431,"./br":432,"./br.js":432,"./bs":433,"./bs.js":433,"./ca":434,"./ca.js":434,"./cs":435,"./cs.js":435,"./cv":436,"./cv.js":436,"./cy":437,"./cy.js":437,"./da":438,"./da.js":438,"./de":439,"./de-at":440,"./de-at.js":440,"./de-ch":441,"./de-ch.js":441,"./de.js":439,"./dv":442,"./dv.js":442,"./el":443,"./el.js":443,"./en-au":444,"./en-au.js":444,"./en-ca":445,"./en-ca.js":445,"./en-gb":446,"./en-gb.js":446,"./en-ie":447,"./en-ie.js":447,"./en-il":448,"./en-il.js":448,"./en-in":449,"./en-in.js":449,"./en-nz":450,"./en-nz.js":450,"./en-sg":451,"./en-sg.js":451,"./eo":452,"./eo.js":452,"./es":453,"./es-do":454,"./es-do.js":454,"./es-us":455,"./es-us.js":455,"./es.js":453,"./et":456,"./et.js":456,"./eu":457,"./eu.js":457,"./fa":458,"./fa.js":458,"./fi":459,"./fi.js":459,"./fil":460,"./fil.js":460,"./fo":461,"./fo.js":461,"./fr":462,"./fr-ca":463,"./fr-ca.js":463,"./fr-ch":464,"./fr-ch.js":464,"./fr.js":462,"./fy":465,"./fy.js":465,"./ga":466,"./ga.js":466,"./gd":467,"./gd.js":467,"./gl":468,"./gl.js":468,"./gom-deva":469,"./gom-deva.js":469,"./gom-latn":470,"./gom-latn.js":470,"./gu":471,"./gu.js":471,"./he":472,"./he.js":472,"./hi":473,"./hi.js":473,"./hr":474,"./hr.js":474,"./hu":475,"./hu.js":475,"./hy-am":476,"./hy-am.js":476,"./id":477,"./id.js":477,"./is":478,"./is.js":478,"./it":479,"./it-ch":480,"./it-ch.js":480,"./it.js":479,"./ja":481,"./ja.js":481,"./jv":482,"./jv.js":482,"./ka":483,"./ka.js":483,"./kk":484,"./kk.js":484,"./km":485,"./km.js":485,"./kn":486,"./kn.js":486,"./ko":487,"./ko.js":487,"./ku":488,"./ku.js":488,"./ky":489,"./ky.js":489,"./lb":490,"./lb.js":490,"./lo":491,"./lo.js":491,"./lt":492,"./lt.js":492,"./lv":493,"./lv.js":493,"./me":494,"./me.js":494,"./mi":495,"./mi.js":495,"./mk":496,"./mk.js":496,"./ml":497,"./ml.js":497,"./mn":498,"./mn.js":498,"./mr":499,"./mr.js":499,"./ms":500,"./ms-my":501,"./ms-my.js":501,"./ms.js":500,"./mt":502,"./mt.js":502,"./my":503,"./my.js":503,"./nb":504,"./nb.js":504,"./ne":505,"./ne.js":505,"./nl":506,"./nl-be":507,"./nl-be.js":507,"./nl.js":506,"./nn":508,"./nn.js":508,"./oc-lnc":509,"./oc-lnc.js":509,"./pa-in":510,"./pa-in.js":510,"./pl":511,"./pl.js":511,"./pt":512,"./pt-br":513,"./pt-br.js":513,"./pt.js":512,"./ro":514,"./ro.js":514,"./ru":515,"./ru.js":515,"./sd":516,"./sd.js":516,"./se":517,"./se.js":517,"./si":518,"./si.js":518,"./sk":519,"./sk.js":519,"./sl":520,"./sl.js":520,"./sq":521,"./sq.js":521,"./sr":522,"./sr-cyrl":523,"./sr-cyrl.js":523,"./sr.js":522,"./ss":524,"./ss.js":524,"./sv":525,"./sv.js":525,"./sw":526,"./sw.js":526,"./ta":527,"./ta.js":527,"./te":528,"./te.js":528,"./tet":529,"./tet.js":529,"./tg":530,"./tg.js":530,"./th":531,"./th.js":531,"./tk":532,"./tk.js":532,"./tl-ph":533,"./tl-ph.js":533,"./tlh":534,"./tlh.js":534,"./tr":535,"./tr.js":535,"./tzl":536,"./tzl.js":536,"./tzm":537,"./tzm-latn":538,"./tzm-latn.js":538,"./tzm.js":537,"./ug-cn":539,"./ug-cn.js":539,"./uk":540,"./uk.js":540,"./ur":541,"./ur.js":541,"./uz":542,"./uz-latn":543,"./uz-latn.js":543,"./uz.js":542,"./vi":544,"./vi.js":544,"./x-pseudo":545,"./x-pseudo.js":545,"./yo":546,"./yo.js":546,"./zh-cn":547,"./zh-cn.js":547,"./zh-hk":548,"./zh-hk.js":548,"./zh-mo":549,"./zh-mo.js":549,"./zh-tw":550,"./zh-tw.js":550};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=906},,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("amH4")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("cww3")},,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("gIHd")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("sHxg")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("sgPY")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("FXyv")},,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("MhFt")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("uLp7")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("HYrn")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("lhjL")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("CD8Q")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("guiJ")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("BEbc")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("yWXl")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("IRf+")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("Ch6y")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("j6nH")},,,,,,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("f4p7")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)("znGZ")},,,,,,,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__(11);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_StackedAreaChart__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(84),__webpack_require__(85),__webpack_require__(135)),grapher_test_samples__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(61),grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(24);__webpack_exports__.default={title:"StackedAreaChart",component:_StackedAreaChart__WEBPACK_IMPORTED_MODULE_4__.a};var Default=function Default(){var grapher=Object(grapher_test_samples__WEBPACK_IMPORTED_MODULE_5__.a)(),bounds=new grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_6__.a(0,0,640,480);return react__WEBPACK_IMPORTED_MODULE_1__.createElement("svg",{width:640,height:480},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_StackedAreaChart__WEBPACK_IMPORTED_MODULE_4__.a,{grapher:grapher,bounds:bounds}))};Default.displayName="Default",Default.parameters=Object.assign({storySource:{source:"() => {\n    const grapher = basicGdpGrapher()\n    const bounds = new Bounds(0, 0, 640, 480)\n\n    return (\n        <svg width={640} height={480}>\n            <StackedAreaChart grapher={grapher} bounds={bounds} />\n        </svg>\n    )\n}"}},Default.parameters)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__(11);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_DiscreteBarChart__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(84),__webpack_require__(85),__webpack_require__(120)),grapher_test_samples__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(61),grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(24);__webpack_exports__.default={title:"DiscreteBarChart",component:_DiscreteBarChart__WEBPACK_IMPORTED_MODULE_4__.a};var Default=function Default(){var grapher=Object(grapher_test_samples__WEBPACK_IMPORTED_MODULE_5__.a)(),bounds=new grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_6__.a(0,0,640,480);return react__WEBPACK_IMPORTED_MODULE_1__.createElement("svg",{width:640,height:480},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_DiscreteBarChart__WEBPACK_IMPORTED_MODULE_4__.a,{grapher:grapher,bounds:bounds}))};Default.displayName="Default",Default.parameters=Object.assign({storySource:{source:"() => {\n    const grapher = basicGdpGrapher()\n    const bounds = new Bounds(0, 0, 640, 480)\n\n    return (\n        <svg width={640} height={480}>\n            <DiscreteBarChart grapher={grapher} bounds={bounds} />\n        </svg>\n    )\n}"}},Default.parameters)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__(11);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_NoDataOverlay__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(84),__webpack_require__(85),__webpack_require__(55)),grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(24);__webpack_exports__.default={title:"NoDataOverlay",component:_NoDataOverlay__WEBPACK_IMPORTED_MODULE_4__.a};var Default=function Default(){return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"chart",style:{width:640,height:480}},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_NoDataOverlay__WEBPACK_IMPORTED_MODULE_4__.a,{bounds:new grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_5__.a(0,0,640,480),message:"You have no data, but this is only a test",options:{canChangeEntity:!0,canAddData:!0,isSelectingData:!1,entityType:"Country",standalone:!0}}))};Default.displayName="Default",Default.parameters=Object.assign({storySource:{source:'() => {\n    return (\n        <div className="chart" style={{ width: 640, height: 480 }}>\n            <NoDataOverlay\n                bounds={new Bounds(0, 0, 640, 480)}\n                message="You have no data, but this is only a test"\n                options={{\n                    canChangeEntity: true,\n                    canAddData: true,\n                    isSelectingData: false,\n                    entityType: "Country",\n                    standalone: true,\n                }}\n            />\n        </div>\n    )\n}'}},Default.parameters)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__(11);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),grapher_controls_CommandPalette__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(84),__webpack_require__(85),__webpack_require__(136));__webpack_exports__.default={title:"CommandPalette",component:grapher_controls_CommandPalette__WEBPACK_IMPORTED_MODULE_4__.a};var Default=function Default(){return react__WEBPACK_IMPORTED_MODULE_1__.createElement(grapher_controls_CommandPalette__WEBPACK_IMPORTED_MODULE_4__.a,{commands:[{combo:"ctrl+o",fn:function fn(){},title:"Open",category:"File"},{combo:"ctrl+s",fn:function fn(){},title:"Save",category:"File"},{combo:"ctrl+c",fn:function fn(){},title:"Copy",category:"Edit"}],display:"block"})};Default.displayName="Default",Default.parameters=Object.assign({storySource:{source:'() => {\n    const demoCommands: Command[] = [\n        {\n            combo: "ctrl+o",\n            fn: () => {},\n            title: "Open",\n            category: "File",\n        },\n        {\n            combo: "ctrl+s",\n            fn: () => {},\n            title: "Save",\n            category: "File",\n        },\n        {\n            combo: "ctrl+c",\n            fn: () => {},\n            title: "Copy",\n            category: "Edit",\n        },\n    ]\n    return <CommandPalette commands={demoCommands} display="block" />\n}'}},Default.parameters)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Empty",(function(){return Empty})),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(31),__webpack_require__(19),__webpack_require__(43),__webpack_require__(14),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(11),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(45),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var _dec,_dec2,_class,_class2,_descriptor,_temp,react__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(1),grapher_controls_CountryPicker__WEBPACK_IMPORTED_MODULE_25__=(__webpack_require__(84),__webpack_require__(85),__webpack_require__(124)),owidTable_OwidTable__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(86),mobx__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(0),mobx_react__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(9);function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var CountryPickerHolder=function(_React$Component){_inherits(CountryPickerHolder,_React$Component);var _super=_createSuper(CountryPickerHolder);function CountryPickerHolder(){return _classCallCheck(this,CountryPickerHolder),_super.apply(this,arguments)}return _createClass(CountryPickerHolder,[{key:"render",value:function render(){return react__WEBPACK_IMPORTED_MODULE_22__.createElement("div",{style:{padding:"20px",height:"500px",width:"300px",display:"grid"}},this.props.children)}}]),CountryPickerHolder}(react__WEBPACK_IMPORTED_MODULE_22__.Component),CountryPickerIntegrated=(_dec=mobx__WEBPACK_IMPORTED_MODULE_27__.d.bound,_dec2=mobx__WEBPACK_IMPORTED_MODULE_27__.d.bound,Object(mobx_react__WEBPACK_IMPORTED_MODULE_28__.a)((_temp=function(_React$Component2){_inherits(CountryPickerIntegrated,_React$Component2);var _super2=_createSuper(CountryPickerIntegrated);function CountryPickerIntegrated(){var _this;_classCallCheck(this,CountryPickerIntegrated);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super2.call.apply(_super2,[this].concat(args))).table=owidTable_OwidTable__WEBPACK_IMPORTED_MODULE_26__.c.fromDelimited("entityName,entityId,entityCode,pop,gdp\nusa,1,usa,100,200\ncanada,2,can,200,300\nfrance,3,fra,,400"),_initializerDefineProperty(_this,"selected",_descriptor,_assertThisInitialized(_this)),_this}return _createClass(CountryPickerIntegrated,[{key:"clearSelection",value:function clearSelection(){this.selected=[]}},{key:"toggleSelection",value:function toggleSelection(name){this.selected.includes(name)?this.selected=this.selected.filter((function(i){return i!==name})):this.selected.push(name)}},{key:"render",value:function render(){return react__WEBPACK_IMPORTED_MODULE_22__.createElement(CountryPickerHolder,null,react__WEBPACK_IMPORTED_MODULE_22__.createElement(grapher_controls_CountryPicker__WEBPACK_IMPORTED_MODULE_25__.a,{table:this.table,availableEntities:this.table.availableEntities,selectedEntities:this.selected,countriesMustHaveColumns:["pop","gdp"],clearSelectionCommand:this.clearSelection,toggleCountryCommand:this.toggleSelection}))}}]),CountryPickerIntegrated}(react__WEBPACK_IMPORTED_MODULE_22__.Component),_descriptor=_applyDecoratedDescriptor((_class2=_temp).prototype,"selected",[mobx__WEBPACK_IMPORTED_MODULE_27__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return["canada"]}}),_applyDecoratedDescriptor(_class2.prototype,"clearSelection",[_dec],Object.getOwnPropertyDescriptor(_class2.prototype,"clearSelection"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"toggleSelection",[_dec2],Object.getOwnPropertyDescriptor(_class2.prototype,"toggleSelection"),_class2.prototype),_class=_class2))||_class);__webpack_exports__.default={title:"CountryPicker",component:grapher_controls_CountryPicker__WEBPACK_IMPORTED_MODULE_25__.a};var Empty=function Empty(){return react__WEBPACK_IMPORTED_MODULE_22__.createElement(CountryPickerHolder,null,react__WEBPACK_IMPORTED_MODULE_22__.createElement(grapher_controls_CountryPicker__WEBPACK_IMPORTED_MODULE_25__.a,null))};Empty.displayName="Empty";var Default=function Default(){return react__WEBPACK_IMPORTED_MODULE_22__.createElement(CountryPickerIntegrated,null)};Default.displayName="Default",Empty.parameters=Object.assign({storySource:{source:"() => (\n    <CountryPickerHolder>\n        <CountryPicker />\n    </CountryPickerHolder>\n)"}},Empty.parameters),Default.parameters=Object.assign({storySource:{source:"() => <CountryPickerIntegrated />"}},Default.parameters)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default})),__webpack_require__.d(__webpack_exports__,"StayInBounds",(function(){return StayInBounds}));__webpack_require__(19),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(11),__webpack_require__(28),__webpack_require__(7),__webpack_require__(20);var _dec,_class,_descriptor,_descriptor2,react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1),grapher_controls_ScaleSelector__WEBPACK_IMPORTED_MODULE_10__=(__webpack_require__(983),__webpack_require__(119)),grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(17),mobx__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(0);function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}__webpack_exports__.default={title:"ScaleSelector",component:grapher_controls_ScaleSelector__WEBPACK_IMPORTED_MODULE_10__.a};var ScaleConfig=(_dec=mobx__WEBPACK_IMPORTED_MODULE_12__.d.bound,_descriptor=_applyDecoratedDescriptor((_class=function(){function ScaleConfig(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ScaleConfig),_initializerDefineProperty(this,"scaleType",_descriptor,this),_initializerDefineProperty(this,"scaleTypeOptions",_descriptor2,this)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ScaleConfig,[{key:"updateChartScaleType",value:function updateChartScaleType(value){this.scaleType=value}}]),ScaleConfig}()).prototype,"scaleType",[mobx__WEBPACK_IMPORTED_MODULE_12__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_11__.d.log}}),_descriptor2=_applyDecoratedDescriptor(_class.prototype,"scaleTypeOptions",[mobx__WEBPACK_IMPORTED_MODULE_12__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_11__.d.log,grapher_core_GrapherConstants__WEBPACK_IMPORTED_MODULE_11__.d.linear]}}),_applyDecoratedDescriptor(_class.prototype,"updateChartScaleType",[_dec],Object.getOwnPropertyDescriptor(_class.prototype,"updateChartScaleType"),_class.prototype),_class),Default=function Default(){return react__WEBPACK_IMPORTED_MODULE_8__.createElement(grapher_controls_ScaleSelector__WEBPACK_IMPORTED_MODULE_10__.a,{x:0,y:0,scaleTypeConfig:new ScaleConfig})};Default.displayName="Default";var StayInBounds=function StayInBounds(){return react__WEBPACK_IMPORTED_MODULE_8__.createElement("div",{style:{width:200,height:200,background:"gray",position:"relative"}},react__WEBPACK_IMPORTED_MODULE_8__.createElement(grapher_controls_ScaleSelector__WEBPACK_IMPORTED_MODULE_10__.a,{x:190,maxX:200,y:0,scaleTypeConfig:new ScaleConfig}))};StayInBounds.displayName="StayInBounds",Default.parameters=Object.assign({storySource:{source:"() => {\n    return <ScaleSelector x={0} y={0} scaleTypeConfig={new ScaleConfig()} />\n}"}},Default.parameters),StayInBounds.parameters=Object.assign({storySource:{source:'() => {\n    return (\n        <div\n            style={{\n                width: 200,\n                height: 200,\n                background: "gray",\n                position: "relative",\n            }}\n        >\n            <ScaleSelector\n                x={190}\n                maxX={200}\n                y={0}\n                scaleTypeConfig={new ScaleConfig()}\n            />\n        </div>\n    )\n}'}},StayInBounds.parameters)},function(module,exports,__webpack_require__){},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(19),__webpack_require__(14),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(11),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var _dec,_dec2,_class,_class2,_descriptor,_temp,react__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(1),mobx__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(0),mobx_react__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(9),grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(24),grapher_core_GrapherView__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(92),grapher_test_samples__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(61);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var GrapherViewStory=(_dec=mobx__WEBPACK_IMPORTED_MODULE_20__.m.ref,_dec2=mobx__WEBPACK_IMPORTED_MODULE_20__.d.bound,Object(mobx_react__WEBPACK_IMPORTED_MODULE_21__.a)((_temp=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(GrapherViewStory,_React$Component);var _super=_createSuper(GrapherViewStory);function GrapherViewStory(){var _this;_classCallCheck(this,GrapherViewStory);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).base=react__WEBPACK_IMPORTED_MODULE_19__.createRef(),_initializerDefineProperty(_this,"bounds",_descriptor,_assertThisInitialized(_this)),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(GrapherViewStory,[{key:"calcBounds",value:function calcBounds(){this.bounds=grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_22__.a.fromRect(this.base.current.getBoundingClientRect())}},{key:"componentDidMount",value:function componentDidMount(){window.addEventListener("resize",this.calcBounds),this.calcBounds()}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("resize",this.calcBounds)}},{key:"render",value:function render(){var grapher=Object(grapher_test_samples__WEBPACK_IMPORTED_MODULE_24__.a)();return react__WEBPACK_IMPORTED_MODULE_19__.createElement("figure",{style:{height:"600px"},"data-grapher-src":!0,ref:this.base},this.bounds&&react__WEBPACK_IMPORTED_MODULE_19__.createElement(grapher_core_GrapherView__WEBPACK_IMPORTED_MODULE_23__.a,{grapher:grapher,bounds:this.bounds}))}}]),GrapherViewStory}(react__WEBPACK_IMPORTED_MODULE_19__.Component),_descriptor=_applyDecoratedDescriptor((_class2=_temp).prototype,"bounds",[_dec],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_applyDecoratedDescriptor(_class2.prototype,"calcBounds",[_dec2],Object.getOwnPropertyDescriptor(_class2.prototype,"calcBounds"),_class2.prototype),_class=_class2))||_class);__webpack_exports__.default={title:"GrapherView",component:grapher_core_GrapherView__WEBPACK_IMPORTED_MODULE_23__.a};var Default=function Default(){return react__WEBPACK_IMPORTED_MODULE_19__.createElement(GrapherViewStory,null)};Default.displayName="Default",Default.parameters=Object.assign({storySource:{source:"() => <GrapherViewStory />"}},Default.parameters)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default})),__webpack_require__.d(__webpack_exports__,"WithTimeTolerance",(function(){return WithTimeTolerance}));__webpack_require__(11);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),grapher_test_samples__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(84),__webpack_require__(85),__webpack_require__(61)),_DataTable__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(162);__webpack_exports__.default={title:"DataTable",component:_DataTable__WEBPACK_IMPORTED_MODULE_5__.a};var Default=function Default(){var grapher=Object(grapher_test_samples__WEBPACK_IMPORTED_MODULE_4__.a)();return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_DataTable__WEBPACK_IMPORTED_MODULE_5__.a,{grapher:grapher})};Default.displayName="Default";var WithTimeTolerance=function WithTimeTolerance(){var grapher=Object(grapher_test_samples__WEBPACK_IMPORTED_MODULE_4__.a)();return grapher.timeDomain=[2009,2017],react__WEBPACK_IMPORTED_MODULE_1__.createElement(_DataTable__WEBPACK_IMPORTED_MODULE_5__.a,{grapher:grapher})};WithTimeTolerance.displayName="WithTimeTolerance",Default.parameters=Object.assign({storySource:{source:"() => {\n    const grapher = basicGdpGrapher()\n    return <DataTable grapher={grapher} />\n}"}},Default.parameters),WithTimeTolerance.parameters=Object.assign({storySource:{source:"() => {\n    const grapher = basicGdpGrapher()\n    grapher.timeDomain = [2009, 2017]\n    // Todo: how can I get this to show a closest time popup?\n    return <DataTable grapher={grapher} />\n}"}},WithTimeTolerance.parameters)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__(11);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),grapher_lineCharts_LineChart__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(84),__webpack_require__(85),__webpack_require__(134)),grapher_test_samples__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(61);__webpack_exports__.default={title:"LineChart",component:grapher_lineCharts_LineChart__WEBPACK_IMPORTED_MODULE_4__.a};var Default=function Default(){var grapher=Object(grapher_test_samples__WEBPACK_IMPORTED_MODULE_5__.a)();return grapher.hideEntityControls=!0,react__WEBPACK_IMPORTED_MODULE_1__.createElement("svg",{width:640,height:480},react__WEBPACK_IMPORTED_MODULE_1__.createElement(grapher_lineCharts_LineChart__WEBPACK_IMPORTED_MODULE_4__.a,{grapher:grapher}))};Default.displayName="Default",Default.parameters=Object.assign({storySource:{source:"() => {\n    const grapher = basicGdpGrapher()\n    grapher.hideEntityControls = true\n\n    return (\n        <svg width={640} height={480}>\n            <LineChart grapher={grapher} />\n        </svg>\n    )\n}"}},Default.parameters)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__(11);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),grapher_test_samples__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(84),__webpack_require__(85),__webpack_require__(61)),grapher_core_GrapherView__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(92),_MapTab__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(234),grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(24);__webpack_exports__.default={title:"MapTab",component:_MapTab__WEBPACK_IMPORTED_MODULE_6__.a};var Default=function Default(){var grapher=Object(grapher_test_samples__WEBPACK_IMPORTED_MODULE_4__.a)();grapher.hasMapTab=!0,grapher.tab="map";var bounds=new grapher_utils_Bounds__WEBPACK_IMPORTED_MODULE_7__.a(0,0,600,600);return react__WEBPACK_IMPORTED_MODULE_1__.createElement(grapher_core_GrapherView__WEBPACK_IMPORTED_MODULE_5__.a,{grapher:grapher,bounds:bounds})};Default.displayName="Default",Default.parameters=Object.assign({storySource:{source:'() => {\n    const grapher = basicGdpGrapher()\n    grapher.hasMapTab = true\n    grapher.tab = "map"\n    const bounds = new Bounds(0, 0, 600, 600)\n\n    // Todo: should not need GrapherView?\n    return <GrapherView grapher={grapher} bounds={bounds} />\n}'}},Default.parameters)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__(11);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_ScatterPlot__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(84),__webpack_require__(85),__webpack_require__(137)),grapher_test_samples__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(61);__webpack_exports__.default={title:"ScatterPlot",component:_ScatterPlot__WEBPACK_IMPORTED_MODULE_4__.a};var Default=function Default(){return react__WEBPACK_IMPORTED_MODULE_1__.createElement("svg",{width:640,height:480},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_ScatterPlot__WEBPACK_IMPORTED_MODULE_4__.a,{grapher:Object(grapher_test_samples__WEBPACK_IMPORTED_MODULE_5__.b)()}))};Default.displayName="Default",Default.parameters=Object.assign({storySource:{source:"() => {\n    return (\n        <svg width={640} height={480}>\n            <ScatterPlot grapher={basicScatterGrapher()} />\n        </svg>\n    )\n}"}},Default.parameters)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default})),__webpack_require__.d(__webpack_exports__,"StartPartialRange",(function(){return StartPartialRange})),__webpack_require__.d(__webpack_exports__,"OneYearAtATime",(function(){return OneYearAtATime})),__webpack_require__.d(__webpack_exports__,"DisablePlayButton",(function(){return DisablePlayButton}));__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(19),__webpack_require__(14),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(11),__webpack_require__(28),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15);var _dec,_dec2,_class,_descriptor,_descriptor2,_descriptor3,_descriptor4,_dec3,_dec4,_class3,_descriptor5,react__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(1),_TimelineComponent__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(126),mobx__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(0),grapher_utils_Util__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(2);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var Subject=(_dec=mobx__WEBPACK_IMPORTED_MODULE_20__.d.bound,_dec2=mobx__WEBPACK_IMPORTED_MODULE_20__.d.bound,_descriptor=_applyDecoratedDescriptor((_class=function(){function Subject(){_classCallCheck(this,Subject),_initializerDefineProperty(this,"isPlaying",_descriptor,this),_initializerDefineProperty(this,"times",_descriptor2,this),_initializerDefineProperty(this,"_endTime",_descriptor3,this),_initializerDefineProperty(this,"_startTime",_descriptor4,this)}return _createClass(Subject,[{key:"updateEndTime",value:function updateEndTime(num){this._endTime=num}},{key:"updateStartTime",value:function updateStartTime(num){this._startTime=num}},{key:"endTime",set:function set(num){this.updateEndTime(num)},get:function get(){return this._endTime}},{key:"startTime",set:function set(num){this.updateStartTime(num)},get:function get(){return this._startTime}}]),Subject}()).prototype,"isPlaying",[mobx__WEBPACK_IMPORTED_MODULE_20__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor2=_applyDecoratedDescriptor(_class.prototype,"times",[mobx__WEBPACK_IMPORTED_MODULE_20__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(grapher_utils_Util__WEBPACK_IMPORTED_MODULE_21__.vb)(1900,2021)}}),_descriptor3=_applyDecoratedDescriptor(_class.prototype,"_endTime",[mobx__WEBPACK_IMPORTED_MODULE_20__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return 2020}}),_applyDecoratedDescriptor(_class.prototype,"endTime",[mobx__WEBPACK_IMPORTED_MODULE_20__.f],Object.getOwnPropertyDescriptor(_class.prototype,"endTime"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"updateEndTime",[_dec],Object.getOwnPropertyDescriptor(_class.prototype,"updateEndTime"),_class.prototype),_descriptor4=_applyDecoratedDescriptor(_class.prototype,"_startTime",[mobx__WEBPACK_IMPORTED_MODULE_20__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return 1950}}),_applyDecoratedDescriptor(_class.prototype,"startTime",[mobx__WEBPACK_IMPORTED_MODULE_20__.f],Object.getOwnPropertyDescriptor(_class.prototype,"startTime"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"updateStartTime",[_dec2],Object.getOwnPropertyDescriptor(_class.prototype,"updateStartTime"),_class.prototype),_class);__webpack_exports__.default={title:"TimelineControl",component:_TimelineComponent__WEBPACK_IMPORTED_MODULE_19__.a};var SingleYearSubject=(_dec3=mobx__WEBPACK_IMPORTED_MODULE_20__.d.bound,_dec4=mobx__WEBPACK_IMPORTED_MODULE_20__.d.bound,_applyDecoratedDescriptor((_class3=function(_Subject){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(SingleYearSubject,_Subject);var _super=_createSuper(SingleYearSubject);function SingleYearSubject(){var _this;_classCallCheck(this,SingleYearSubject);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _initializerDefineProperty(_this=_super.call.apply(_super,[this].concat(args)),"_endTime",_descriptor5,_assertThisInitialized(_this)),_this}return _createClass(SingleYearSubject,[{key:"updateEndTime",value:function updateEndTime(num){this._endTime=num,this._startTime=num}},{key:"updateStartTime",value:function updateStartTime(num){this._endTime=num,this._startTime=num}}]),SingleYearSubject}(Subject)).prototype,"updateEndTime",[_dec3],Object.getOwnPropertyDescriptor(_class3.prototype,"updateEndTime"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"updateStartTime",[_dec4],Object.getOwnPropertyDescriptor(_class3.prototype,"updateStartTime"),_class3.prototype),_descriptor5=_applyDecoratedDescriptor(_class3.prototype,"_endTime",[mobx__WEBPACK_IMPORTED_MODULE_20__.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return 1950}}),_class3),Default=function Default(){var subject=new Subject;return subject.startTime=1900,react__WEBPACK_IMPORTED_MODULE_18__.createElement(_TimelineComponent__WEBPACK_IMPORTED_MODULE_19__.a,{target:subject})};Default.displayName="Default";var StartPartialRange=function StartPartialRange(){return react__WEBPACK_IMPORTED_MODULE_18__.createElement(_TimelineComponent__WEBPACK_IMPORTED_MODULE_19__.a,{target:new Subject})};StartPartialRange.displayName="StartPartialRange";var OneYearAtATime=function OneYearAtATime(){var subject=new SingleYearSubject;return react__WEBPACK_IMPORTED_MODULE_18__.createElement(_TimelineComponent__WEBPACK_IMPORTED_MODULE_19__.a,{target:subject})};OneYearAtATime.displayName="OneYearAtATime";var DisablePlayButton=function DisablePlayButton(){var subject=new Subject;return react__WEBPACK_IMPORTED_MODULE_18__.createElement(_TimelineComponent__WEBPACK_IMPORTED_MODULE_19__.a,{target:subject,disablePlay:!0})};DisablePlayButton.displayName="DisablePlayButton",Default.parameters=Object.assign({storySource:{source:"() => {\n    const subject = new Subject()\n    subject.startTime = 1900\n    return <TimelineComponent target={subject} />\n}"}},Default.parameters),StartPartialRange.parameters=Object.assign({storySource:{source:"() => {\n    return <TimelineComponent target={new Subject()} />\n}"}},StartPartialRange.parameters),OneYearAtATime.parameters=Object.assign({storySource:{source:"() => {\n    const subject = new SingleYearSubject()\n    return <TimelineComponent target={subject} />\n}"}},OneYearAtATime.parameters),DisablePlayButton.parameters=Object.assign({storySource:{source:"() => {\n    const subject = new Subject()\n    return <TimelineComponent target={subject} disablePlay={true} />\n}"}},DisablePlayButton.parameters)},,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"SingleExplorerWithKeyboardShortcuts",(function(){return CovidExplorer_stories_SingleExplorerWithKeyboardShortcuts})),__webpack_require__.d(__webpack_exports__,"MultipleExplorers",(function(){return CovidExplorer_stories_MultipleExplorers})),__webpack_require__.d(__webpack_exports__,"MultiMetricExplorer",(function(){return CovidExplorer_stories_MultiMetricExplorer}));__webpack_require__(11);var delegated_reactfrom_dll_reference_storybook_docs_dll=__webpack_require__(1),delegated_reactfrom_dll_reference_storybook_docs_dll_default=__webpack_require__.n(delegated_reactfrom_dll_reference_storybook_docs_dll),classnames=(__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(97),__webpack_require__(31),__webpack_require__(19),__webpack_require__(30),__webpack_require__(14),__webpack_require__(46),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(23),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(75),__webpack_require__(96),__webpack_require__(27),__webpack_require__(16),__webpack_require__(72),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15),__webpack_require__(94),__webpack_require__(44)),classnames_default=__webpack_require__.n(classnames),delegated_react_domfrom_dll_reference_storybook_docs_dll=__webpack_require__(54),delegated_react_domfrom_dll_reference_storybook_docs_dll_default=__webpack_require__.n(delegated_react_domfrom_dll_reference_storybook_docs_dll),GrapherView=__webpack_require__(92),Bounds=__webpack_require__(24),Grapher=__webpack_require__(117),faChartLine=__webpack_require__(232),mobx_module=__webpack_require__(0),index_module=__webpack_require__(9),decko=__webpack_require__(77),Util=__webpack_require__(2),ExplorerControls=__webpack_require__(93),url=(__webpack_require__(57),__webpack_require__(34),__webpack_require__(53),__webpack_require__(50)),GrapherConstants=__webpack_require__(17),OwidTableConstants=(__webpack_require__(60),__webpack_require__(39)),coronaDefaultView="?zoomToSelection=true&time=2020-03-01..latest&country=MEX~IND~USA~ITA~BRA~GBR~FRA~ESP~PER&casesMetric=true&interval=smoothed&perCapita=true&smoothing=7&pickerMetric=total_deaths&pickerSort=desc",covidDataPath="https://covid.ourworldindata.org/data/owid-covid-data.csv",covidLastUpdatedPath="https://covid.ourworldindata.org/data/owid-covid-data-last-updated-timestamp.txt",covidChartAndVariableMetaPath="/".concat("covidChartAndVariableMeta.json"),testRateExcludeList=new Set(["Peru","Ecuador","Brazil","Costa Rica"]),intervalOptions=["daily","weekly","total","smoothed","biweekly","weeklyChange","biweeklyChange"],intervalSpecs={daily:{label:"New per day",smoothing:0},weekly:{label:"Weekly",smoothing:7},total:{label:"Cumulative",smoothing:0},smoothed:{label:"7-day rolling average",smoothing:7},biweekly:{label:"Biweekly",smoothing:14},weeklyChange:{label:"Weekly change",smoothing:7},biweeklyChange:{label:"Biweekly Change",smoothing:14}},sourceCharts={epi:4258,cases_total:4018,cases_daily:4019,cases_total_per_capita:4051,cases_daily_per_capita:4028,cases_weeklys:4195,cases_weeklys_change:4194,deaths_total:4020,deaths_daily:4021,deaths_total_per_capita:4029,deaths_daily_per_capita:4030,deaths_weeklys:4196,deaths_weeklys_change:4193,tests_total:4191,tests_daily:4307,tests_total_per_capita:4162,tests_daily_per_capita:4191,tests_per_case_total:4197,tests_per_case_daily:4197,positive_test_rate_total:4198,positive_test_rate_daily:4198,case_fatality_rate_total:4056},sourceVariables={positive_test_rate:142721,tests_per_case:142754,case_fatality_rate:142600,cases:142582,deaths:142583,tests:142601,days_since:142712,continents:123},trajectoryColumnSpecs={deaths:{total:{name:"Days since the 5th total confirmed death",threshold:5,owidVariableId:4561},daily:{name:"Days since 5 daily new deaths first reported",threshold:5,owidVariableId:4562},perCapita:{name:"Days since total confirmed deaths reached 0.1 per million",threshold:.1,owidVariableId:4563}},cases:{total:{name:"Days since the 100th confirmed case",threshold:100,owidVariableId:4564},daily:{name:"Days since confirmed cases first reached 30 per day",threshold:30,owidVariableId:4565},perCapita:{name:"Days since the total confirmed cases per million people reached 1",threshold:1,owidVariableId:4566}}},metricLabels={cases:"Confirmed cases",deaths:"Confirmed deaths",tests:"Tests",case_fatality_rate:"Case fatality rate",tests_per_case:"Tests per confirmed case",positive_test_rate:"Share of positive tests"},intervalsAvailableByMetric=new Map([["cases",new Set(intervalOptions)],["deaths",new Set(intervalOptions)],["tests",new Set(["total","smoothed","daily"])],["case_fatality_rate",new Set(["total"])],["tests_per_case",new Set(["total","smoothed"])],["positive_test_rate",new Set(["total","smoothed"])]]),metricPickerColumnSpecs={location:{slug:"location",name:"Country name"},population:{slug:"population",name:"Population",type:OwidTableConstants.a.Population},population_density:{slug:"population_density",name:"Population density (people per kmÂ²)",type:OwidTableConstants.a.PopulationDensity},median_age:{slug:"median_age",name:"Median age",type:OwidTableConstants.a.Age},aged_65_older:{slug:"aged_65_older",name:"Share aged 65+",type:OwidTableConstants.a.Percentage},aged_70_older:{slug:"aged_70_older",name:"Share aged 70+",type:OwidTableConstants.a.Percentage},gdp_per_capita:{slug:"gdp_per_capita",name:"GDP per capita (int.-$)",type:OwidTableConstants.a.Currency},extreme_poverty:{slug:"extreme_poverty",name:"Population in extreme poverty",type:OwidTableConstants.a.Percentage},human_development_index:{slug:"human_development_index",name:"Human Development Index",type:OwidTableConstants.a.Numeric},hospital_beds_per_thousand:{slug:"hospital_beds_per_thousand",name:"Hospital beds (per 1000)",type:OwidTableConstants.a.Ratio},stringency_index:{slug:"stringency_index",name:"Stringency Index",type:OwidTableConstants.a.Numeric},life_expectancy:{name:"Life expectancy",type:OwidTableConstants.a.Age},total_deaths:{name:"Total deaths",type:OwidTableConstants.a.Integer},new_cases:{name:"New cases",type:OwidTableConstants.a.Integer},new_deaths:{name:"New deaths",type:OwidTableConstants.a.Integer},total_cases:{name:"Total cases",type:OwidTableConstants.a.Integer},total_tests:{name:"Total tests",type:OwidTableConstants.a.Integer},total_tests_per_thousand:{name:"Total tests (per 1K)",type:OwidTableConstants.a.Ratio},positive_rate:{name:"Positive test rate",type:OwidTableConstants.a.DecimalPercentage},tests_per_case:{name:"Tests per case",type:OwidTableConstants.a.Ratio},total_deaths_per_million:{name:"Total deaths (per 1M)",type:OwidTableConstants.a.Ratio},total_cases_per_million:{name:"Total cases (per 1M)",type:OwidTableConstants.a.Ratio},new_deaths_per_million:{name:"New deaths (per 1M)",type:OwidTableConstants.a.Ratio},new_cases_per_million:{name:"New cases (per 1M)",type:OwidTableConstants.a.Ratio}},moment=(__webpack_require__(32),__webpack_require__(71),__webpack_require__(52),__webpack_require__(6)),moment_default=__webpack_require__.n(moment),dsv=__webpack_require__(1018),csv=__webpack_require__(1015),OwidTable=__webpack_require__(86);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var stringColumnSlugs=new Set("iso_code location date tests_units continent".split(" ")),buildColumnSlug=function buildColumnSlug(name,perCapita,interval,rollingAverage){return[name,1e3===perCapita?"perThousand":1e6===perCapita?"perMil":void 0,interval,rollingAverage?rollingAverage+"DayAvg":void 0].filter((function(i){return i})).join("-")},CovidExplorerTable_CovidExplorerTable=function(){function CovidExplorerTable(table,data){var owidVariableSpecs=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},isStandalonePage=arguments.length>3&&void 0!==arguments[3]&&arguments[3];_classCallCheck(this,CovidExplorerTable),this.table=void 0,this.columnSpecs={},this.groupFilterSlug="group_filter",this.negativeFilterSlug="",this.initColumnSpecTemplates(owidVariableSpecs),this.table=table,isStandalonePage?this.table.setRowsWithoutCloning(data):this.table.cloneAndSetRows(data);var firstRow=data[0]||{},specs=Object.keys(firstRow).map((function(slug){return CovidExplorerTable.makeSpec(slug)}));this.table.addSpecs(specs),this.table.addCategoricalColumnSpec(this.columnSpecs.continents),this.addAnnotationColumns()}var _fetchAndParseData;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(CovidExplorerTable,[{key:"initColumnSpecTemplates",value:function initColumnSpecTemplates(owidVariableSpecs){var _this=this;this.columnSpecs={positive_test_rate:Object.assign({},owidVariableSpecs[sourceVariables.positive_test_rate],{isDailyMeasurement:!0,description:"The number of confirmed cases divided by the number of tests, expressed as a percentage. Tests may refer to the number of tests performed or the number of people tested â depending on which is reported by the particular country."}),tests_per_case:Object.assign({},owidVariableSpecs[sourceVariables.tests_per_case],{isDailyMeasurement:!0,description:"The number of tests divided by the number of confirmed cases. Not all countries report testing data on a daily basis."}),case_fatality_rate:Object.assign({},owidVariableSpecs[sourceVariables.case_fatality_rate],{annotationsColumnSlug:"case_fatality_rate_annotations",isDailyMeasurement:!0,description:"The Case Fatality Rate (CFR) is the ratio between confirmed deaths and confirmed cases. During an outbreak of a pandemic the CFR is a poor measure of the mortality risk of the disease. We explain this in detail at OurWorldInData.org/Coronavirus"}),cases:Object.assign({},owidVariableSpecs[sourceVariables.cases],{isDailyMeasurement:!0,annotationsColumnSlug:"cases_annotations",name:"Confirmed cases of COVID-19",description:"The number of confirmed cases is lower than the number of actual cases; the main reason for that is limited testing."}),deaths:Object.assign({},owidVariableSpecs[sourceVariables.deaths],{isDailyMeasurement:!0,annotationsColumnSlug:"deaths_annotations",name:"Confirmed deaths due to COVID-19",description:"Limited testing and challenges in the attribution of the cause of death means that the number of confirmed deaths may not be an accurate count of the true number of deaths from COVID-19."}),tests:Object.assign({},owidVariableSpecs[sourceVariables.tests],{isDailyMeasurement:!0,description:"",name:"tests",annotationsColumnSlug:"tests_units"}),days_since:Object.assign({},owidVariableSpecs[sourceVariables.days_since],{isDailyMeasurement:!0,description:"",name:"days_since"}),continents:Object.assign({},owidVariableSpecs[sourceVariables.continents],{description:"",name:"continent",slug:"continent"})},Object.keys(this.columnSpecs).forEach((function(key){_this.columnSpecs[key].owidVariableId=sourceVariables[key]}));var ptrDisplay=this.columnSpecs.positive_test_rate.display;ptrDisplay&&(ptrDisplay.tableDisplay={hideRelativeChange:!0});var cfrDisplay=this.columnSpecs.case_fatality_rate.display;cfrDisplay&&(cfrDisplay.tableDisplay={hideRelativeChange:!0})}},{key:"addAnnotationColumns",value:function addAnnotationColumns(){var caseSlug="cases_annotations",deathSlug="deaths_annotations",cfrSlug="case_fatality_rate_annotations";this.table.addStringColumnSpec({slug:caseSlug}),this.table.addStringColumnSpec({slug:deathSlug}),this.table.addStringColumnSpec({slug:cfrSlug});var index=this.table.entityIndex;Object(csv.a)("location,date,cases_annotations,deaths_annotations\nSpain,2020-04-19,methodology change,\nSpain,2020-04-25,methodology change,methodology change\nEcuador,2020-05-08,methodology change,\nUnited Kingdom,2020-05-20,methodology change,\nFrance,2020-06-02,methodology change,\nIndia,2020-06-17,,earlier deaths added\nChile,2020-06-18,earlier cases added,\nItaly,2020-06-25,,methodology change\nUnited States,2020-06-26,,probable/earlier deaths added\nUnited States,2020-07-01,,probable/earlier deaths added\nUnited Kingdom,2020-07-03,methodology change,\nCzech Republic,2020-07-05,,methodology change\nKyrgyzstan,2020-07-18,methodology change,methodology change\nChile,2020-07-18,,methodology change\nPeru,2020-07-24,,earlier deaths added\nEuropean Union,,Some EU countries changed methodology. See country-by-country series.,Some EU countries changed methodology. See country-by-country series.\nUnited Kingdom,2020-08-14,,methodology change\nLuxembourg,2020-08-28,methodology change,\nBolivia,2020-09-07,,probable/earlier deaths added\nEcuador,2020-09-07,,probable/earlier deaths added").forEach((function(annoRow){var rows=index.get(annoRow.location);if(rows){var applyTo=annoRow.date?rows.filter((function(row){return row.date===annoRow.date})):rows,datePrefix=annoRow.date?moment_default()(annoRow.date).format("MMM D")+": ":"";applyTo.forEach((function(row){annoRow[caseSlug]&&(row[caseSlug]=datePrefix+annoRow[caseSlug]),annoRow[deathSlug]&&(row[deathSlug]=datePrefix+annoRow[deathSlug]),row[cfrSlug]="".concat(datePrefix).concat(annoRow[caseSlug]||"").concat(annoRow[deathSlug])}))}}))}},{key:"buildColumnSpec",value:function buildColumnSpec(params){var name=params.metricName,perCapita=params.perCapitaAdjustment,interval=params.interval,rollingAverage=params.smoothing,spec=Object(Util.e)(this.columnSpecs[name]);spec.slug=buildColumnSlug(name,perCapita,interval,rollingAverage),spec.owidVariableId=CovidExplorerTable.buildCovidVariableId(params);return spec.display||(spec.display={}),spec.display.name="".concat(params.intervalTitle," ").concat(spec.display.name).concat({1:"",1e3:" per thousand people",1e6:" per million people"}[perCapita]),spec.display.numDecimalPlaces=perCapita>1?2:"positive_test_rate"===name||"case_fatality_rate"===name||rollingAverage&&rollingAverage>1?1:0,spec}},{key:"initColumn",value:function initColumn(params,rowFn){var columnName=params.metricName,perCapita=params.perCapitaAdjustment,smoothing=params.smoothing,spec=this.buildColumnSpec(params),table=this.table;if(table.columnsBySlug.has(spec.slug))return spec;var perCapitaTransform=perCapita>1?function(fn){return function(row,index){var value=fn(row,index);if(void 0!==value){var pop=row.population;if(pop)return perCapita*(value/pop);console.log("Warning: Missing population for ".concat(row.location,". Excluding from perCapita"))}}}:void 0;return smoothing&&!(("tests"===columnName||"tests_per_case"===columnName||"positive_test_rate"===columnName)&&7===smoothing)?table.addRollingAverageColumn(spec,smoothing,rowFn,"day","entityName",params.rollingMultiplier,params.intervalChange,perCapitaTransform):table.addNumericComputedColumn(Object.assign({},spec,{fn:perCapitaTransform?perCapitaTransform(rowFn):rowFn})),spec}},{key:"initTestingColumn",value:function initTestingColumn(params){"daily"===params.interval?this.initColumn(params,(function(row){return row.new_tests})):"smoothed"===params.interval?this.initColumn(params,(function(row){return row.new_tests_smoothed})):"total"===params.interval&&this.initColumn(params,(function(row){return row.total_tests}))}},{key:"initTestsPerCaseColumn",value:function initTestsPerCaseColumn(params){if("smoothed"===params.interval){var casesSlug=this.addNewCasesSmoothedColumn(params.smoothing);this.initColumn(params,(function(row){if(void 0!==row.new_tests_smoothed&&row[casesSlug]&&!testRateExcludeList.has(row.entityName)){var tpc=row.new_tests_smoothed/row[casesSlug];return tpc>=1?tpc:void 0}}))}else"total"===params.interval&&this.initColumn(params,(function(row){if(void 0!==row.total_tests&&row.total_cases&&!testRateExcludeList.has(row.entityName)){var tpc=row.total_tests/row.total_cases;return tpc>=1?tpc:void 0}}))}},{key:"initCfrColumn",value:function initCfrColumn(params){"total"===params.interval&&this.initColumn(params,(function(row){return row.total_cases<100?void 0:row.total_deaths&&row.total_cases?100*row.total_deaths/row.total_cases:0}))}},{key:"initCasesColumn",value:function initCasesColumn(params){this.initColumn(params,"total"===params.interval?function(row){return row.total_cases}:function(row){return row.new_cases})}},{key:"initAndGetShortTermPositivityRateVarId",value:function initAndGetShortTermPositivityRateVarId(){var params=new CovidParams_CovidQueryParams("");return params.smoothing=7,params.perCapita=!1,params.interval="smoothed",params.positiveTestRate=!0,this.initTestRateColumn(params.toConstrainedParams()).owidVariableId}},{key:"initTestRateColumn",value:function initTestRateColumn(params){if(params.isDailyOrSmoothed){var casesSlug=this.addNewCasesSmoothedColumn(params.smoothing);return this.initColumn(params,(function(row){var testCount=7===params.smoothing?row.new_tests_smoothed:row.new_tests,cases=7===params.smoothing?row[casesSlug]:row.new_cases;if(!testRateExcludeList.has(row.entityName)&&testCount){var rate=cases/testCount;return rate>=0&&rate<=1?rate:void 0}}))}return this.initColumn(params,(function(row){if(void 0!==row.total_cases&&row.total_tests&&!testRateExcludeList.has(row.entityName)){var rate=row.total_cases/row.total_tests;return rate>=0&&rate<=1?rate:void 0}}))}},{key:"initDeathsColumn",value:function initDeathsColumn(params){this.initColumn(params,"total"===params.interval?function(row){return row.total_deaths}:function(row){return row.new_deaths})}},{key:"addGroupFilterColumn",value:function addGroupFilterColumn(){this.table.columnsBySlug.has(this.groupFilterSlug)||this.table.addFilterColumn(this.groupFilterSlug,(function(row,index,table){return!row.group_members||table.isSelected(row)}))}},{key:"removeGroupFilterColumn",value:function removeGroupFilterColumn(){this.table.deleteColumnBySlug(this.groupFilterSlug)}},{key:"addNegativeFilterColumn",value:function addNegativeFilterColumn(slugName){var filterSlug="filter_negatives_in_"+slugName;filterSlug!==this.negativeFilterSlug&&this.removeNegativeFilterColumn(),this.table.columnsBySlug.has(filterSlug)||this.table.addFilterColumn(filterSlug,(function(row){return!(row[slugName]<0)})),this.negativeFilterSlug=filterSlug}},{key:"removeNegativeFilterColumn",value:function removeNegativeFilterColumn(){this.negativeFilterSlug&&this.table.deleteColumnBySlug(this.negativeFilterSlug),this.negativeFilterSlug=""}},{key:"initRequestedColumns",value:function initRequestedColumns(params){params.casesMetric&&this.initCasesColumn(params),params.deathsMetric&&this.initDeathsColumn(params),params.testsMetric&&this.initTestingColumn(params),params.testsPerCaseMetric&&this.initTestsPerCaseColumn(params),params.cfrMetric&&this.initCfrColumn(params),params.positiveTestRate&&this.initTestRateColumn(params);var tpc=new CovidParams_CovidQueryParams("");if(tpc.interval="smoothed",tpc.testsPerCaseMetric=!0,this.initTestsPerCaseColumn(tpc.toConstrainedParams()),params.aligned){if(params.testsMetric){var newParams=new CovidConstrainedQueryParams(params.toString());newParams.testsMetric=!1,newParams.deathsMetric=!0,this.initDeathsColumn(newParams)}var option=params.trajectoryColumnOption;this.addDaysSinceColumn(option.slug,option.sourceSlug,option.owidVariableId,option.threshold,option.name)}}},{key:"addDaysSinceColumn",value:function addDaysSinceColumn(slug,sourceColumnSlug,id,threshold,title){var currentCountry,countryExceededThresholdOnDay,spec=Object.assign({},this.columnSpecs.days_since,{name:title,owidVariableId:id,slug:slug,fn:function fn(row){if(row.entityName!==currentCountry){var sourceValue=row[sourceColumnSlug];if(void 0===sourceValue||sourceValue<threshold)return;currentCountry=row.entityName,countryExceededThresholdOnDay=row.day}return row.day-countryExceededThresholdOnDay}});return this.table.addNumericComputedColumn(spec),slug}},{key:"addNewCasesSmoothedColumn",value:function addNewCasesSmoothedColumn(smoothing){var slug="new_cases_smoothed_".concat(smoothing,"day");return this.table.columnsBySlug.has(slug)||this.table.addRollingAverageColumn({slug:slug},smoothing,(function(row){return row.new_cases}),"day","entityName"),slug}}],[{key:"makeSpec",value:function makeSpec(slug){var spec={slug:slug,type:stringColumnSlugs.has(slug)?OwidTableConstants.a.String:"day"===slug?OwidTableConstants.a.Date:OwidTableConstants.a.Numeric},metricSpec=metricPickerColumnSpecs[spec.slug];return metricSpec&&(spec=Object.assign({},spec,metricSpec)),Object.assign({owidVariableId:CovidExplorerTable.colOwidVarIdGuid++,unit:"",description:"",coverage:"",display:{includeInTable:!1},datasetName:"",source:{id:1,name:"",dataPublishedBy:"",dataPublisherSource:"",link:"",retrievedDate:"",additionalInfo:""}},spec)}},{key:"fetchAndParseData",value:(_fetchAndParseData=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var rawData,filtered,continentRows,euRows;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(dsv.a)(covidDataPath);case 2:return rawData=_context.sent,filtered=rawData.map(CovidExplorerTable.parseCovidRow).filter((function(row){return"International"!==row.location})),continentRows=CovidExplorerTable.generateContinentRows(filtered),euRows=CovidExplorerTable.calculateRowsForGroup(filtered.filter((function(row){return CovidExplorerTable.euCountries.has(row.location)})),"European Union"),_context.abrupt("return",filtered.concat(continentRows,euRows));case 7:case"end":return _context.stop()}}),_callee)}))),function fetchAndParseData(){return _fetchAndParseData.apply(this,arguments)})},{key:"buildCovidVariableId",value:function buildCovidVariableId(params){var parts=[1145,{tests:0,cases:1,deaths:2,positive_test_rate:3,case_fatality_rate:4,tests_per_case:5}[params.metricName],intervalOptions.indexOf(params.interval),params.perCapitaAdjustment,params.smoothing];return parseInt(parts.join(""))}},{key:"generateContinentRows",value:function generateContinentRows(rows){var _this2=this,grouped=Object(Util.G)(rows,"continent");return Object(Util.z)(Object.keys(grouped).filter((function(cont){return cont})).map((function(continentName){return _this2.calculateRowsForGroup(grouped[continentName],continentName)})))}},{key:"parseCovidRow",value:function parseCovidRow(row){var newRow=row;return Object.keys(row).forEach((function(key){!stringColumnSlugs.has(key)&&(row[key]=Object(Util.pb)(row[key]))})),"International"===row.location&&(row.iso_code="OWID_INT"),newRow.entityName=row.location,newRow.entityCode=row.iso_code,newRow.day=CovidExplorerTable_dateToYear(row.date),newRow.entityId=Object(OwidTable.d)(row.location),"World"===newRow.location&&(newRow.group_members="All"),row}}]),CovidExplorerTable}();CovidExplorerTable_CovidExplorerTable.colOwidVarIdGuid=90210,CovidExplorerTable_CovidExplorerTable.calculateRowsForGroup=function(group,groupName){var rowsByDay=new Map,rows=Object(Util.Fb)(group,(function(row){return CovidExplorerTable_dateToYear(row.date)})),groupMembers=new Set;rows.forEach((function(row){var day=row.date;if(groupMembers.add(row.iso_code),!rowsByDay.has(day)){var _newRow={};Object.keys(row).forEach((function(key){return _newRow[key]=void 0})),rowsByDay.set(day,{location:groupName,continent:row.continent,iso_code:groupName.replace(" ",""),date:day,day:CovidExplorerTable_dateToYear(day),new_cases:0,entityName:groupName,entityCode:groupName.replace(" ",""),entityId:Object(OwidTable.d)(groupName),new_deaths:0,population:0})}var newRow=rowsByDay.get(day);newRow.population+=row.population,newRow.new_cases+=row.new_cases||0,newRow.new_deaths+=row.new_deaths||0}));var newRows=Array.from(rowsByDay.values()),total_cases=0,total_deaths=0,maxPopulation=0,group_members=Array.from(groupMembers).join("");return newRows.forEach((function(row){total_cases+=row.new_cases,total_deaths+=row.new_deaths,row.total_cases=total_cases,row.total_deaths=total_deaths,row.group_members=group_members,row.population>maxPopulation&&(maxPopulation=row.population),row.population=maxPopulation})),newRows},CovidExplorerTable_CovidExplorerTable.euCountries=new Set(["Austria","Belgium","Bulgaria","Croatia","Cyprus","Czech Republic","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Netherlands","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden"]);var CovidExplorerTable_fetchAndParseData=Object(Util.fb)(CovidExplorerTable_CovidExplorerTable.fetchAndParseData),dateToYearCache=new Map,CovidExplorerTable_dateToYear=function dateToYear(dateString){return dateToYearCache.has(dateString)||dateToYearCache.set(dateString,Object(Util.j)(moment_default.a.utc(dateString).toDate(),moment_default.a.utc("2020-01-21").toDate())),dateToYearCache.get(dateString)},fetchLastUpdatedTime=Object(Util.fb)((function(){return Object(Util.xb)((function(){return Object(Util.v)(covidLastUpdatedPath)}))})),fetchCovidChartAndVariableMeta=Object(Util.fb)((function(){return Object(Util.xb)((function(){return Object(Util.u)(covidChartAndVariableMetaPath)}))}));function perCapitaDivisorByMetric(metric){return"tests"===metric?1e3:1e6}var _dec,_class,_descriptor,_descriptor2,_descriptor3,_descriptor4,_descriptor5,_descriptor6,_descriptor7,_descriptor8,_descriptor9,_descriptor10,_descriptor11,_descriptor12,_descriptor13,_descriptor14,_descriptor15,_descriptor16,_descriptor17,_descriptor18,_descriptor19,_descriptor20,_descriptor21,EntityUrlBuilder=__webpack_require__(74);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function CovidParams_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function CovidParams_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function CovidParams_createClass(Constructor,protoProps,staticProps){return protoProps&&CovidParams_defineProperties(Constructor.prototype,protoProps),staticProps&&CovidParams_defineProperties(Constructor,staticProps),Constructor}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var CovidParams_CovidQueryParams=(_dec=mobx_module.d.bound,_descriptor=_applyDecoratedDescriptor((_class=function(){function CovidQueryParams(queryString){CovidParams_classCallCheck(this,CovidQueryParams),_initializerDefineProperty(this,"casesMetric",_descriptor,this),_initializerDefineProperty(this,"testsMetric",_descriptor2,this),_initializerDefineProperty(this,"testsPerCaseMetric",_descriptor3,this),_initializerDefineProperty(this,"positiveTestRate",_descriptor4,this),_initializerDefineProperty(this,"deathsMetric",_descriptor5,this),_initializerDefineProperty(this,"cfrMetric",_descriptor6,this),_initializerDefineProperty(this,"yColumn",_descriptor7,this),_initializerDefineProperty(this,"xColumn",_descriptor8,this),_initializerDefineProperty(this,"sizeColumn",_descriptor9,this),_initializerDefineProperty(this,"chartType",_descriptor10,this),_initializerDefineProperty(this,"perCapita",_descriptor11,this),_initializerDefineProperty(this,"aligned",_descriptor12,this),_initializerDefineProperty(this,"hideControls",_descriptor13,this),_initializerDefineProperty(this,"smoothing",_descriptor14,this),_initializerDefineProperty(this,"colorScale",_descriptor15,this),_initializerDefineProperty(this,"tableMetrics",_descriptor16,this),_initializerDefineProperty(this,"selectedCountryCodes",_descriptor17,this),_initializerDefineProperty(this,"countryPickerMetric",_descriptor18,this),_initializerDefineProperty(this,"countryPickerSort",_descriptor19,this),_initializerDefineProperty(this,"interval",_descriptor20,this),_initializerDefineProperty(this,"everythingAvailable",_descriptor21,this),this.setParamsFromQueryString(queryString)}return CovidParams_createClass(CovidQueryParams,[{key:"allAvailableCombos",value:function allAvailableCombos(){var perCapita=[!0,!1],aligned=[!0,!1],combos=(GrapherConstants.d.log,GrapherConstants.d.linear,[]);return["casesMetric","deathsMetric","cfrMetric","testsMetric","testsPerCaseMetric","positiveTestRate"].forEach((function(metric){intervalOptions.forEach((function(interval){perCapita.forEach((function(perCapita){aligned.forEach((function(aligned){var combo={};combo[metric]=!0,combo.interval=interval,"smoothed"===interval&&(combo.smoothing=7),combo.perCapita=perCapita,combo.aligned=aligned,combos.push(combo)}))}))}))})),Object(Util.Ub)(combos.map((function(combo){return new CovidQueryParams(Object(url.c)(combo)).toConstrainedParams().toString()})))}},{key:"setParamsFromQueryString",value:function setParamsFromQueryString(queryString){var _this=this,params=Object(url.e)(queryString);if(this.interval=params.interval||function legacyTimeToInterval(totalFreq,dailyFreq,smoothing){return totalFreq?"total":smoothing?"smoothed":dailyFreq?"daily":void 0}("true"===params.totalFreq,"true"===params.dailyFreq,"3"===params.smoothing||"7"===params.smoothing),this.casesMetric="true"===params.casesMetric,this.testsMetric="true"===params.testsMetric,this.testsPerCaseMetric="true"===params.testsPerCaseMetric,this.positiveTestRate="true"===params.positiveTestRate,this.deathsMetric="true"===params.deathsMetric,this.cfrMetric="true"===params.cfrMetric,this.perCapita="true"===params.perCapita,this.hideControls="true"===params.hideControls,this.aligned="true"===params.aligned,this.everythingAvailable="true"===params.everythingAvailable,this.tableMetrics=function getTableMetrics(queryParam){return queryParam?queryParam.split("~").map((function(metric){return metric})):void 0}(params.tableMetrics),this.smoothing=params.smoothing?parseInt(params.smoothing):0,params.country&&(this.selectedCountryCodes.clear(),EntityUrlBuilder.a.queryParamToEntities(params.country).forEach((function(code){return _this.selectedCountryCodes.add(code)}))),params.pickerMetric&&(this.countryPickerMetric=params.pickerMetric),params.pickerSort){var sort=Object(Util.mb)(params.pickerSort,Object.values(GrapherConstants.e),void 0);sort&&(this.countryPickerSort=sort)}this.yColumn=params.yColumn,this.xColumn=params.xColumn,this.sizeColumn=params.sizeColumn,this.colorScale=params.colorScale,this.chartType=params.chartType}}]),CovidParams_createClass(CovidQueryParams,[{key:"toConstrainedParams",value:function toConstrainedParams(){return new CovidConstrainedQueryParams(this.toString())}},{key:"setMetric",value:function setMetric(option){this.casesMetric="cases"===option,this.testsMetric="tests"===option,this.deathsMetric="deaths"===option,this.cfrMetric="case_fatality_rate"===option,this.testsPerCaseMetric="tests_per_case"===option,this.positiveTestRate="positive_test_rate"===option}},{key:"setTimeline",value:function setTimeline(option){this.interval=option,this.smoothing="smoothed"===option?7:0}},{key:"toString",value:function toString(){return Object(url.c)(this.toQueryParams)}},{key:"metricName",get:function get(){return this.testsMetric?"tests":this.casesMetric?"cases":this.deathsMetric?"deaths":this.cfrMetric?"case_fatality_rate":this.testsPerCaseMetric?"tests_per_case":"positive_test_rate"}},{key:"intervalTitle",get:function get(){return{total:"Cumulative",daily:"Daily new",smoothed:"Daily new",weekly:"Weekly",biweekly:"Biweekly",weeklyChange:"Week by week change of",biweeklyChange:"Biweekly change of"}[this.interval]}},{key:"toQueryParams",get:function get(){var _this$tableMetrics,params={};return params.xColumn=this.xColumn?this.xColumn:void 0,params.yColumn=this.yColumn?this.yColumn:void 0,params.sizeColumn=this.sizeColumn?this.sizeColumn:void 0,params.chartType=this.chartType?this.chartType:void 0,params.testsMetric=!!this.testsMetric||void 0,params.deathsMetric=!!this.deathsMetric||void 0,params.casesMetric=!!this.casesMetric||void 0,params.cfrMetric=!!this.cfrMetric||void 0,params.testsPerCaseMetric=!!this.testsPerCaseMetric||void 0,params.positiveTestRate=!!this.positiveTestRate||void 0,params.interval=this.interval,params.aligned=!!this.aligned||void 0,params.hideControls=!!this.hideControls||void 0,params.perCapita=!!this.perCapita||void 0,params.colorScale=this.colorScale||void 0,params.everythingAvailable=this.everythingAvailable||void 0,params.smoothing=this.smoothing,params.country=EntityUrlBuilder.a.entitiesToQueryParam(Array.from(this.selectedCountryCodes)),params.pickerMetric=this.countryPickerMetric,params.pickerSort=this.countryPickerSort,params.tableMetrics=null===(_this$tableMetrics=this.tableMetrics)||void 0===_this$tableMetrics?void 0:_this$tableMetrics.join("~"),params}},{key:"perCapitaAdjustment",get:function get(){return this.perCapita?perCapitaDivisorByMetric(this.metricName):1}},{key:"type",get:function get(){return this.chartType?this.chartType:this.aligned?"ScatterPlot":"LineChart"}},{key:"colorStrategy",get:function get(){return this.colorScale?this.colorScale:"ScatterPlot"!==this.type?"none":this.casesMetric||this.testsMetric?"ptr":"continents"}},{key:"yColumnSlug",get:function get(){return this.yColumn?this.yColumn:buildColumnSlug(this.metricName,this.perCapitaAdjustment,this.interval,this.smoothing)}},{key:"isDailyOrSmoothed",get:function get(){return"daily"===this.interval||"smoothed"===this.interval}},{key:"xColumnSlug",get:function get(){return this.xColumn?this.xColumn:"ScatterPlot"===this.type?this.trajectoryColumnOption.slug:void 0}},{key:"trajectoryColumnOption",get:function get(){var key=this.casesMetric?"cases":"deaths",config=trajectoryColumnSpecs[key][this.perCapita?"perCapita":this.isDailyOrSmoothed?"daily":"total"],sourceSlug=buildColumnSlug(key,this.perCapita?1e6:1,this.interval,this.smoothing);return Object.assign({},config,{slug:"daysSince".concat(sourceSlug,"Hit").concat(config.threshold),sourceSlug:sourceSlug})}},{key:"constrainedParams",get:function get(){return this.toConstrainedParams()}},{key:"isWeekly",get:function get(){return"weekly"===this.interval||"weeklyChange"===this.interval}},{key:"isBiweekly",get:function get(){return"biweekly"===this.interval||"biweeklyChange"===this.interval}},{key:"sourceChartKey",get:function get(){var interval=this.interval;return"smoothed"===interval&&(interval="daily"),(this.isWeekly||this.isBiweekly)&&(interval="weeklys"),[this.metricName,interval,this.perCapita?"per_capita":"",this.intervalChange?"change":""].filter((function(i){return i})).join("_")}},{key:"intervalChange",get:function get(){return"weeklyChange"===this.interval?7:"biweeklyChange"===this.interval?14:void 0}}],[{key:"hasAnyCovidParam",value:function hasAnyCovidParam(queryString){return Object(Util.L)(Object.keys(new CovidQueryParams("")),Object.keys(Object(url.e)(queryString))).length>0}}]),CovidQueryParams}()).prototype,"casesMetric",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor2=_applyDecoratedDescriptor(_class.prototype,"testsMetric",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor3=_applyDecoratedDescriptor(_class.prototype,"testsPerCaseMetric",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor4=_applyDecoratedDescriptor(_class.prototype,"positiveTestRate",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor5=_applyDecoratedDescriptor(_class.prototype,"deathsMetric",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor6=_applyDecoratedDescriptor(_class.prototype,"cfrMetric",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor7=_applyDecoratedDescriptor(_class.prototype,"yColumn",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor8=_applyDecoratedDescriptor(_class.prototype,"xColumn",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor9=_applyDecoratedDescriptor(_class.prototype,"sizeColumn",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor10=_applyDecoratedDescriptor(_class.prototype,"chartType",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_descriptor11=_applyDecoratedDescriptor(_class.prototype,"perCapita",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor12=_applyDecoratedDescriptor(_class.prototype,"aligned",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor13=_applyDecoratedDescriptor(_class.prototype,"hideControls",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor14=_applyDecoratedDescriptor(_class.prototype,"smoothing",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return 0}}),_descriptor15=_applyDecoratedDescriptor(_class.prototype,"colorScale",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor16=_applyDecoratedDescriptor(_class.prototype,"tableMetrics",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),_descriptor17=_applyDecoratedDescriptor(_class.prototype,"selectedCountryCodes",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return new Set}}),_descriptor18=_applyDecoratedDescriptor(_class.prototype,"countryPickerMetric",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return"location"}}),_descriptor19=_applyDecoratedDescriptor(_class.prototype,"countryPickerSort",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return GrapherConstants.e.asc}}),_descriptor20=_applyDecoratedDescriptor(_class.prototype,"interval",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return"daily"}}),_descriptor21=_applyDecoratedDescriptor(_class.prototype,"everythingAvailable",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_applyDecoratedDescriptor(_class.prototype,"setParamsFromQueryString",[_dec],Object.getOwnPropertyDescriptor(_class.prototype,"setParamsFromQueryString"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"metricName",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"metricName"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"intervalTitle",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"intervalTitle"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"toQueryParams",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"toQueryParams"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"perCapitaAdjustment",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"perCapitaAdjustment"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"type",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"type"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"colorStrategy",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"colorStrategy"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"yColumnSlug",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"yColumnSlug"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"isDailyOrSmoothed",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"isDailyOrSmoothed"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"xColumnSlug",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"xColumnSlug"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"trajectoryColumnOption",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"trajectoryColumnOption"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"constrainedParams",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"constrainedParams"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"sourceChartKey",[mobx_module.f],Object.getOwnPropertyDescriptor(_class.prototype,"sourceChartKey"),_class.prototype),_class),CovidConstrainedQueryParams=function(_CovidQueryParams){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(CovidConstrainedQueryParams,_CovidQueryParams);var _super=_createSuper(CovidConstrainedQueryParams);function CovidConstrainedQueryParams(queryString){var _this2;CovidParams_classCallCheck(this,CovidConstrainedQueryParams),[(_this2=_super.call(this,queryString)).cfrMetric,_this2.casesMetric,_this2.deathsMetric,_this2.testsMetric,_this2.testsPerCaseMetric,_this2.positiveTestRate].some((function(i){return i}))||(_this2.casesMetric=!0);var available=_this2.available;return _this2.perCapita&&!available.perCapita&&(_this2.perCapita=!1),_this2.aligned&&!available.aligned&&(_this2.aligned=!1),!_this2.isWeekly&&!_this2.isBiweekly||available.weekly||(_this2.interval="total"),_this2.smoothing&&!available.smoothed&&(_this2.smoothing=0,"smoothed"===_this2.interval&&(_this2.interval="total")),"daily"!==_this2.interval||available.daily||(available.smoothed?(_this2.interval="smoothed",_this2.smoothing=7):_this2.interval="total"),_this2.interval||(_this2.interval=_this2.smoothing&&available.smoothed?"smoothed":"total"),_this2.isWeekly&&(_this2.smoothing=7),_this2.isBiweekly&&(_this2.smoothing=14),_this2}return CovidParams_createClass(CovidConstrainedQueryParams,[{key:"rollingMultiplier",get:function get(){return this.isWeekly?7:this.isBiweekly?14:1}},{key:"isWeeklyOrBiweeklyChange",get:function get(){return"biweeklyChange"===this.interval||"weeklyChange"===this.interval}},{key:"available",get:function get(){var weekly=this.casesMetric||this.deathsMetric,isWeekly=(this.isWeekly||this.isBiweekly)&&weekly,constraints={perCapita:!this.isRate&&!isWeekly,aligned:!this.isRate&&!isWeekly,daily:!this.isRate,smoothed:!this.cfrMetric,weekly:weekly};return this.everythingAvailable&&Object.keys(constraints).forEach((function(key){constraints[key]=!0})),constraints}},{key:"isRate",get:function get(){return this.cfrMetric||this.testsPerCaseMetric||this.positiveTestRate}}]),CovidConstrainedQueryParams}(CovidParams_CovidQueryParams);var CovidExplorer_dec,_dec2,_dec3,_dec4,_dec5,_dec6,_dec7,_dec8,_dec9,_dec10,_dec11,_dec12,_dec13,_dec14,_dec15,_dec16,_dec17,_dec18,_dec19,_dec20,_dec21,_dec22,_dec23,CovidExplorer_class,_class2,CovidExplorer_descriptor,CovidExplorer_descriptor2,CovidExplorer_descriptor3,CovidExplorer_descriptor4,CovidExplorer_descriptor5,CovidExplorer_temp,CountryPicker=__webpack_require__(124),settings=__webpack_require__(101),index_es=__webpack_require__(36),ColorSchemes=__webpack_require__(70),GlobalEntitySelection=__webpack_require__(230),mousetrap=__webpack_require__(606),CommandPalette=__webpack_require__(136),TimeBounds=__webpack_require__(42),ChartDimension=__webpack_require__(157),BinningStrategies=__webpack_require__(118),UrlBinder=__webpack_require__(116),GrapherUrl=__webpack_require__(133);function CovidExplorer_typeof(obj){return(CovidExplorer_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function CovidExplorer_slicedToArray(arr,i){return function CovidExplorer_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function CovidExplorer_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function CovidExplorer_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return CovidExplorer_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CovidExplorer_arrayLikeToArray(o,minLen)}(arr,i)||function CovidExplorer_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CovidExplorer_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function CovidExplorer_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function CovidExplorer_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){CovidExplorer_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){CovidExplorer_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function CovidExplorer_initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function CovidExplorer_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function CovidExplorer_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function CovidExplorer_setPrototypeOf(o,p){return(CovidExplorer_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function CovidExplorer_createSuper(Derived){var hasNativeReflectConstruct=function CovidExplorer_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=CovidExplorer_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=CovidExplorer_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return CovidExplorer_possibleConstructorReturn(this,result)}}function CovidExplorer_possibleConstructorReturn(self,call){return!call||"object"!==CovidExplorer_typeof(call)&&"function"!=typeof call?CovidExplorer_assertThisInitialized(self):call}function CovidExplorer_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function CovidExplorer_getPrototypeOf(o){return(CovidExplorer_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function CovidExplorer_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var CovidExplorer_CovidExplorer=(CovidExplorer_dec=mobx_module.d.bound,_dec2=mobx_module.d.bound,_dec3=mobx_module.d.bound,_dec4=mobx_module.d.bound,_dec5=mobx_module.d.bound,_dec6=mobx_module.d.bound,_dec7=mobx_module.m.ref,_dec8=mobx_module.d.bound,_dec9=mobx_module.d.bound,_dec10=mobx_module.d.bound,_dec11=mobx_module.d.bound,_dec12=mobx_module.d.bound,_dec13=mobx_module.d.bound,_dec14=mobx_module.d.bound,_dec15=mobx_module.d.bound,_dec16=mobx_module.d.bound,_dec17=mobx_module.d.bound,_dec18=mobx_module.d.bound,_dec19=mobx_module.d.bound,_dec20=mobx_module.d.bound,_dec21=mobx_module.d.bound,_dec22=mobx_module.d.bound,_dec23=mobx_module.m.ref,Object(index_module.a)((CovidExplorer_temp=function(_React$Component){!function CovidExplorer_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&CovidExplorer_setPrototypeOf(subClass,superClass)}(CovidExplorer,_React$Component);var _replaceStateAndBootstrap,_bootstrap,_super=CovidExplorer_createSuper(CovidExplorer);function CovidExplorer(){var _this;CovidExplorer_classCallCheck(this,CovidExplorer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).uniqId=Math.random().toString(36).substr(2,8),CovidExplorer_initializerDefineProperty(_this,"chartContainerRef",CovidExplorer_descriptor,CovidExplorer_assertThisInitialized(_this)),CovidExplorer_initializerDefineProperty(_this,"isMobile",CovidExplorer_descriptor2,CovidExplorer_assertThisInitialized(_this)),CovidExplorer_initializerDefineProperty(_this,"chartBounds",CovidExplorer_descriptor3,CovidExplorer_assertThisInitialized(_this)),CovidExplorer_initializerDefineProperty(_this,"showMobileControlsPopup",CovidExplorer_descriptor4,CovidExplorer_assertThisInitialized(_this)),_this._countryNameToColorMapCache={},_this.selectionChangeFromBuilder=!1,_this._covidExplorerTable=void 0,_this.switchBackToLog=!1,_this.currentIndex=-1,_this.onResizeThrottled=void 0,_this.disposers=[],_this._buildDataTableOnlyDimensionSpec=function(metric,interval){var colSlug=buildColumnSlug(metric,_this.constrainedParams.perCapita&&isCountMetric(metric)?perCapitaDivisorByMetric(metric):1,interval,intervalSpecs[interval].smoothing),column=_this.grapher.table.columnsBySlug.get(colSlug);if(!column)throw Error("".concat(colSlug," does not exist!"));return{property:"table",variableId:null==column?void 0:column.spec.owidVariableId,display:{tolerance:2,name:metricLabels[metric]+(isCountMetric(metric)?_this.perCapitaTitle(metric):""),unit:intervalSpecs[interval].label,shortUnit:("weeklyChange"===interval||"biweeklyChange"===interval)&&"%",tableDisplay:null==column?void 0:column.display.tableDisplay}}},_this.shortTermPositivityRateVarId=0,CovidExplorer_initializerDefineProperty(_this,"grapher",CovidExplorer_descriptor5,CovidExplorer_assertThisInitialized(_this)),_this}return function CovidExplorer_createClass(Constructor,protoProps,staticProps){return protoProps&&CovidExplorer_defineProperties(Constructor.prototype,protoProps),staticProps&&CovidExplorer_defineProperties(Constructor,staticProps),Constructor}(CovidExplorer,[{key:"getScopedName",value:function getScopedName(name){return"".concat(name,"_").concat(this.uniqId)}},{key:"clearSelectionCommand",value:function clearSelectionCommand(){this.props.params.selectedCountryCodes.clear(),this.selectionChangeFromBuilder=!0,this.renderControlsThenUpdateChart()}},{key:"selectAllCommand",value:function selectAllCommand(){var _this2=this,codeMap=this.grapher.table.entityNameToCodeMap;this.grapher.table.availableEntities.forEach((function(option){return _this2.props.params.selectedCountryCodes.add(codeMap.get(option))})),this.selectionChangeFromBuilder=!0,this.renderControlsThenUpdateChart()}},{key:"changeMetric",value:function changeMetric(value){this.props.params.setMetric(value),this.renderControlsThenUpdateChart()}},{key:"toggleSelectedCountry",value:function toggleSelectedCountry(code,value){value?this.props.params.selectedCountryCodes.add(code):!1===value||this.props.params.selectedCountryCodes.has(code)?this.props.params.selectedCountryCodes.delete(code):this.props.params.selectedCountryCodes.add(code)}},{key:"toggleSelectedCountryCommand",value:function toggleSelectedCountryCommand(countryName,value){var codeMap=this.grapher.table.entityNameToCodeMap;this.toggleSelectedCountry(codeMap.get(countryName),value),this.selectionChangeFromBuilder=!0,this.renderControlsThenUpdateChart()}},{key:"onResize",value:function onResize(){this.isMobile=this._isMobile(),this.chartBounds=this.getChartBounds()}},{key:"_isMobile",value:function _isMobile(){return window.screen.width<450||document.documentElement.clientWidth<=800}},{key:"getChartBounds",value:function getChartBounds(){var chartContainer=this.chartContainerRef.current;if(chartContainer)return new Bounds.a(0,0,chartContainer.clientWidth,chartContainer.clientHeight)}},{key:"changePickerMetric",value:function changePickerMetric(metric){this.props.params.countryPickerMetric=metric}},{key:"closeControls",value:function closeControls(){this.showMobileControlsPopup=!1}},{key:"toggleMobileControls",value:function toggleMobileControls(){this.showMobileControlsPopup=!this.showMobileControlsPopup}},{key:"render",value:function render(){return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.Fragment,null,delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(CommandPalette.a,{commands:this.keyboardShortcuts,display:"none"}),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:classnames_default()({CovidExplorer:!0,"mobile-explorer":this.isMobile,HideControls:!this.showExplorerControls,"is-embed":this.props.isEmbed})},this.showExplorerControls&&this.header,this.showExplorerControls&&this.controlBar,this.showExplorerControls&&this.countryPicker,this.showExplorerControls&&this.customizeChartMobileButton,delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"CovidExplorerFigure",ref:this.chartContainerRef},this.chartBounds&&delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(GrapherView.a,{bounds:this.chartBounds,grapher:this.grapher,isEmbed:!0}))))}},{key:"toggleControls",value:function toggleControls(){var _this3=this;this.props.params.hideControls=!this.props.params.hideControls,this.grapher.embedExplorerCheckbox=this.controlsToggleElement,this._updateChart(),requestAnimationFrame((function(){return _this3.onResize()}))}},{key:"perCapitaTitle",value:function perCapitaTitle(metric){return this.constrainedParams.perCapita?" "+this.perCapitaOptions[perCapitaDivisorByMetric(metric)]:""}},{key:"renderControlsThenUpdateChart",value:function renderControlsThenUpdateChart(){var _this4=this;setTimeout((function(){_this4.selectionChangeFromBuilder=!0,_this4._updateChart()}),1)}},{key:"componentWillMount",value:function componentWillMount(){this.covidExplorerTable}},{key:"_updateChart",value:function _updateChart(){var params=this.constrainedParams,covidExplorerTable=this.covidExplorerTable;covidExplorerTable.initRequestedColumns(params),"ptr"===params.colorStrategy&&(this.shortTermPositivityRateVarId=this.covidExplorerTable.initAndGetShortTermPositivityRateVarId());var grapher=this.grapher;grapher.title=this.chartTitle,grapher.subtitle=this.subtitle,grapher.note=this.note,"LineChart"===grapher.type&&"ScatterPlot"===params.type&&(grapher.zoomToSelection=!0),grapher.type=params.type,grapher.yAxis.label=this.yAxisLabel,this.canDoLogScale?(grapher.yAxis.canChangeScaleType=!0,this.switchBackToLog&&(grapher.yAxis.scaleType=GrapherConstants.d.log,this.switchBackToLog=!1)):(this.switchBackToLog=grapher.yAxis.scaleType===GrapherConstants.d.log,grapher.yAxis.scaleType=GrapherConstants.d.linear,grapher.yAxis.canChangeScaleType=void 0),grapher.yAxis.min=params.intervalChange?void 0:0,grapher.setDimensionsFromConfigs(this.dimensionSpecs),this.constrainedParams.tableMetrics&&(this._generateDataTableColumnsInTable(),this._addDataTableOnlyDimensionsToChart()),covidExplorerTable.table.setSelectedEntities(this.selectedEntityNames),!params.casesMetric&&!params.deathsMetric||"total"===params.interval||params.intervalChange?covidExplorerTable.removeNegativeFilterColumn():covidExplorerTable.addNegativeFilterColumn(params.yColumnSlug),"ScatterPlot"===params.type&&"chart"===this.grapher.currentTab?covidExplorerTable.addGroupFilterColumn():covidExplorerTable.removeGroupFilterColumn(),this._updateMap(),this._updateColorScale(),grapher.id=this.sourceChartId,grapher.selectedData=this.selectedData,this.grapher.url.externallyProvidedParams=this.props.params.toQueryParams}},{key:"_updateColorScale",value:function _updateColorScale(){this.grapher.colorScale.updateFromObject(this.colorScales[this.constrainedParams.colorStrategy])}},{key:"_updateMap",value:function _updateMap(){var _this$sourceChart,_this$yColumn$spec$ow,map=this.grapher.map,region=map.projection;Object.assign(map,(null===(_this$sourceChart=this.sourceChart)||void 0===_this$sourceChart?void 0:_this$sourceChart.map)||this.defaultMapConfig),map.time=void 0,map.columnSlug=null===(_this$yColumn$spec$ow=this.yColumn.spec.owidVariableId)||void 0===_this$yColumn$spec$ow?void 0:_this$yColumn$spec$ow.toString(),region&&(map.projection=region)}},{key:"componentDidMount",value:function componentDidMount(){var _this5=this;this.props.bindToWindow&&this.bindToWindow(),this.grapher.hideEntityControls=this.showExplorerControls,this.grapher.externalCsvLink=covidDataPath,this.grapher.url.externalBaseUrl="".concat(settings.b,"/").concat("coronavirus-data-explorer"),this._updateChart(),this.observeChartEntitySelection(),this.observeGlobalEntitySelection(),this.onResizeThrottled=Object(Util.Pb)(this.onResize,100),window.addEventListener("resize",this.onResizeThrottled),this.onResize(),this.grapher.embedExplorerCheckbox=this.controlsToggleElement,window.covidDataExplorer=this,this.props.enableKeyboardShortcuts&&this.keyboardShortcuts.forEach((function(shortcut){mousetrap.bind(shortcut.combo,(function(){shortcut.fn(),_this5.grapher.analytics.logKeyboardShortcut(shortcut.title,shortcut.combo)}))}))}},{key:"playDefaultViewCommand",value:function playDefaultViewCommand(){this.grapher.tab="chart",this.grapher.xAxis.scaleType=GrapherConstants.d.linear,this.grapher.yAxis.scaleType=GrapherConstants.d.log,this.grapher.timeDomain=[TimeBounds.a.unboundedLeft,TimeBounds.a.unboundedRight],this.props.params.setParamsFromQueryString(coronaDefaultView),this.renderControlsThenUpdateChart()}},{key:"toggleTabCommand",value:function toggleTabCommand(){this.grapher.tab=Object(Util.jb)(["chart","map","table"],this.grapher.tab)}},{key:"toggleKeyboardHelpCommand",value:function toggleKeyboardHelpCommand(){var element=document.getElementsByClassName("CommandPalette")[0];element.style.display="none"===element.style.display?"block":"none"}},{key:"toggleYScaleTypeCommand",value:function toggleYScaleTypeCommand(){this.grapher.yAxis.scaleType=Object(Util.jb)([GrapherConstants.d.linear,GrapherConstants.d.log],this.grapher.yAxis.scaleType)}},{key:"toggleTimelineCommand",value:function toggleTimelineCommand(){this.grapher.setTimeFromTimeQueryParam(Object(Util.jb)(["latest","earliest",".."],this.grapher.url.timeParam)),this.renderControlsThenUpdateChart()}},{key:"toggleColorStrategyCommand",value:function toggleColorStrategyCommand(){this.props.params.colorScale=Object(Util.jb)(["continents","ptr","none"],this.props.params.colorScale),this.renderControlsThenUpdateChart()}},{key:"toggleFilterAllCommand",value:function toggleFilterAllCommand(){this.grapher.minPopulationFilter=2e9===this.grapher.minPopulationFilter?void 0:2e9,this.renderControlsThenUpdateChart()}},{key:"togglePlayingCommand",value:function togglePlayingCommand(){this.grapher.isPlaying=!this.grapher.isPlaying}},{key:"toggleDimensionColumnCommand",value:function toggleDimensionColumnCommand(axis){var backwards=arguments.length>1&&void 0!==arguments[1]&&arguments[1],key="".concat(axis,"Column"),params=this.props.params,fn=backwards?Util.ub:Util.jb;params[key]=fn(this.covidExplorerTable.table.numericColumnSlugs,params[key]),this.renderControlsThenUpdateChart()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.onResizeThrottled&&window.removeEventListener("resize",this.onResizeThrottled)}},{key:"playIndexCommand",value:function playIndexCommand(index){var combos=this.constrainedParams.allAvailableCombos(),combo=combos[index=(index=index>=combos.length?index-combos.length:index)<0?combos.length+index:index];this.props.params.setParamsFromQueryString(combo),this.renderControlsThenUpdateChart()}},{key:"observeChartEntitySelection",value:function observeChartEntitySelection(){var _this6=this;this.disposers.push(Object(mobx_module.n)(this.grapher,"selectedEntityCodes",(function(change){var _change$oldValue;if(_this6.selectionChangeFromBuilder)_this6.selectionChangeFromBuilder=!1;else{var newCodes=change.newValue,oldCodes=null!==(_change$oldValue=change.oldValue)&&void 0!==_change$oldValue?_change$oldValue:[];if(newCodes.join(" ")!==oldCodes.join(" ")){var added=Object(Util.o)(newCodes,oldCodes),removed=Object(Util.o)(oldCodes,newCodes);added.forEach((function(code){return _this6.toggleSelectedCountry(code,!0)})),removed.forEach((function(code){return _this6.toggleSelectedCountry(code,!1)})),_this6._updateChart()}}})))}},{key:"observeGlobalEntitySelection",value:function observeGlobalEntitySelection(){var _this7=this,globalEntitySelection=this.props.globalEntitySelection;globalEntitySelection&&this.disposers.push(Object(mobx_module.o)((function(){return[globalEntitySelection.mode,globalEntitySelection.selectedEntities]}),(function(){var mode=globalEntitySelection.mode,selectedEntities=globalEntitySelection.selectedEntities;mode===GlobalEntitySelection.a.override&&(_this7.props.params.selectedCountryCodes=new Set(selectedEntities.map((function(entity){return entity.code}))),_this7.renderControlsThenUpdateChart())}),{fireImmediately:!0}))}},{key:"bindToWindow",value:function bindToWindow(){(new UrlBinder.a).bindToWindow(new GrapherUrl.a(this.grapher.url,[this.props.params]))}},{key:"dispose",value:function dispose(){this.disposers.forEach((function(dispose){return dispose()}))}},{key:"_generateDataTableColumnsInTable",value:function _generateDataTableColumnsInTable(){var _params$tableMetrics,params=this.constrainedParams,covidExplorerTable=this.covidExplorerTable,dataTableParams=new CovidConstrainedQueryParams("");null===(_params$tableMetrics=params.tableMetrics)||void 0===_params$tableMetrics||_params$tableMetrics.forEach((function(metric){var _intervalsAvailableBy;(dataTableParams.setMetric(metric),dataTableParams.interval="total",dataTableParams.smoothing=0,dataTableParams.perCapita=!1,isCountMetric(metric))&&(dataTableParams.perCapita=params.perCapita,covidExplorerTable.initRequestedColumns(dataTableParams),"total"!==params.interval&&(null===(_intervalsAvailableBy=intervalsAvailableByMetric.get(metric))||void 0===_intervalsAvailableBy?void 0:_intervalsAvailableBy.has(params.interval))&&(dataTableParams.interval=params.interval,dataTableParams.smoothing=intervalSpecs[params.interval].smoothing));covidExplorerTable.initRequestedColumns(dataTableParams)}))}},{key:"_addDataTableOnlyDimensionsToChart",value:function _addDataTableOnlyDimensionsToChart(){var _this8=this;this.grapher.dataTableOnlyDimensions=this.dataTableOnlyDimensions.map((function(dimSpec){return new ChartDimension.a(dimSpec,_this8.grapher.table)}))}},{key:"defaultMapConfig",value:function defaultMapConfig(){return{variableId:123,timeTolerance:7,projection:"World",colorScale:{colorSchemeValues:[],colorSchemeLabels:[],customNumericColors:[],customCategoryColors:{},customCategoryLabels:{},customHiddenCategories:{}}}}},{key:"metricPicker",get:function get(){var options=[{available:!0,label:metricLabels.cases,checked:this.constrainedParams.casesMetric,value:"cases"},{available:!0,label:metricLabels.deaths,checked:this.constrainedParams.deathsMetric,value:"deaths"},{available:!0,label:metricLabels.case_fatality_rate,checked:this.constrainedParams.cfrMetric,value:"case_fatality_rate"}],optionsColumn2=[{available:!0,label:metricLabels.tests,checked:this.constrainedParams.testsMetric,value:"tests"},{available:!0,label:metricLabels.tests_per_case,checked:this.constrainedParams.testsPerCaseMetric,value:"tests_per_case"},{available:!0,label:metricLabels.positive_test_rate,checked:this.constrainedParams.positiveTestRate,value:"positive_test_rate"}];return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.Fragment,null,delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(ExplorerControls.b,{title:"Metric",explorerSlug:"covid",name:this.getScopedName("metric"),options:options,onChange:this.changeMetric,isCheckbox:!1}),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(ExplorerControls.b,{title:"Metric",explorerSlug:"covid",hideTitle:!0,name:this.getScopedName("metric"),onChange:this.changeMetric,options:optionsColumn2,isCheckbox:!1}))}},{key:"frequencyPicker",get:function get(){var _this9=this,writeableParams=this.props.params,available=this.constrainedParams.available,options=[{available:!0,label:intervalSpecs.total.label,value:"total"},{available:available.smoothed,label:intervalSpecs.smoothed.label,value:"smoothed"},{available:available.daily,label:intervalSpecs.daily.label,value:"daily"},{available:available.weekly,label:intervalSpecs.weekly.label,value:"weekly"},{available:available.weekly,label:intervalSpecs.weeklyChange.label,value:"weeklyChange"},{available:available.weekly,label:intervalSpecs.biweekly.label,value:"biweekly"},{available:available.weekly,label:intervalSpecs.biweeklyChange.label,value:"biweeklyChange"}];return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(ExplorerControls.b,{title:"Interval",name:this.getScopedName("interval"),dropdownOptions:options,value:this.constrainedParams.interval,options:[],onChange:function onChange(value){writeableParams.setTimeline(value),_this9.renderControlsThenUpdateChart()},explorerSlug:"covid"})}},{key:"constrainedParams",get:function get(){return this.props.params.constrainedParams}},{key:"perCapitaPicker",get:function get(){var _this10=this,options=[{available:this.constrainedParams.available.perCapita,label:Object(Util.c)(this.perCapitaOptions[this.perCapitaDivisor]),checked:this.constrainedParams.perCapita,value:"true"}];return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(ExplorerControls.b,{title:"Count",name:this.getScopedName("count"),isCheckbox:!0,options:options,explorerSlug:"covid",onChange:function onChange(value){_this10.props.params.perCapita="true"===value,_this10.renderControlsThenUpdateChart()}})}},{key:"alignedPicker",get:function get(){var _this11=this,options=[{available:this.constrainedParams.available.aligned,label:"Align outbreaks",checked:this.constrainedParams.aligned,value:"true"}];return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(ExplorerControls.b,{title:"Timeline",name:this.getScopedName("timeline"),isCheckbox:!0,options:options,onChange:function onChange(value){_this11.props.params.aligned="true"===value,_this11.renderControlsThenUpdateChart()},comment:this.constrainedParams.trajectoryColumnOption.name,explorerSlug:"covid"})}},{key:"howLongAgo",get:function get(){return moment_default.a.utc(this.props.updated).fromNow()}},{key:"header",get:function get(){return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"ExplorerHeaderBox"},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",null,"Coronavirus Pandemic"),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"ExplorerTitle"},"Data Explorer"),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"ExplorerSubtitle",title:this.howLongAgo},"Download the complete ",delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("em",null,"Our World in Data")," ",delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("a",{href:"https://github.com/owid/covid-19-data/tree/master/public/data",target:"_blank",rel:"noopener noreferrer"},"COVID-19 dataset.")))}},{key:"countryPicker",get:function get(){return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(CountryPicker.a,{explorerSlug:"Covid",table:this.grapher.table,pickerColumnSlugs:new Set(Object.keys(metricPickerColumnSpecs)),isDropdownMenu:this.isMobile,optionColorMap:this.countryNameToColorMap,selectedEntities:this.selectedEntityNames,availableEntities:this.covidExplorerTable.table.availableEntities,userState:this.props.params,countriesMustHaveColumns:this.activeColumnSlugs,clearSelectionCommand:this.clearSelectionCommand,toggleCountryCommand:this.toggleSelectedCountryCommand})}},{key:"activeColumnSlugs",get:function get(){var _this$xColumn,_this$yColumn;return[null===(_this$xColumn=this.xColumn)||void 0===_this$xColumn?void 0:_this$xColumn.slug,null===(_this$yColumn=this.yColumn)||void 0===_this$yColumn?void 0:_this$yColumn.slug].filter((function(i){return i}))}},{key:"controlBar",get:function get(){return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(ExplorerControls.a,{isMobile:this.isMobile,showControls:this.showMobileControlsPopup,closeControls:this.closeControls},this.metricPicker,this.frequencyPicker,this.perCapitaPicker,this.alignedPicker)}},{key:"customizeChartMobileButton",get:function get(){return this.isMobile?delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("a",{className:"btn btn-primary mobile-button",onClick:this.toggleMobileControls,"data-track-note":"covid-customize-chart"},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(index_es.a,{icon:faChartLine.faChartLine})," Customize chart"):void 0}},{key:"controlsToggleElement",get:function get(){return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("label",null,delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("input",{type:"checkbox",checked:this.props.params.hideControls,onChange:this.toggleControls})," ","Hide controls")}},{key:"showExplorerControls",get:function get(){return!this.props.params.hideControls||!this.props.isEmbed}},{key:"selectedCountryOptions",get:function get(){var _this12=this,codeMap=this.grapher.table.entityNameToCodeMap;return this.grapher.table.availableEntities.filter((function(option){return _this12.props.params.selectedCountryCodes.has(codeMap.get(option))}))}},{key:"perCapitaDivisor",get:function get(){return perCapitaDivisorByMetric(this.constrainedParams.metricName)}},{key:"perCapitaOptions",get:function get(){return{1:"",1e3:"per 1,000 people",1e6:"per million people"}}},{key:"chartTitle",get:function get(){var _this$xColumn2,title="",params=this.constrainedParams,interval=params.interval;if(params.yColumn||params.xColumn)return Object(Util.Kb)("".concat(this.yColumn.name," by ").concat(null===(_this$xColumn2=this.xColumn)||void 0===_this$xColumn2?void 0:_this$xColumn2.name));var isCumulative="total"===interval,freq=params.intervalTitle;return params.cfrMetric?title="Case fatality rate of the ongoing COVID-19 pandemic":params.positiveTestRate?title="The share of ".concat(isCumulative?"":"daily ","COVID-19 tests that are positive"):params.testsPerCaseMetric?title="".concat(isCumulative?"Cumulative tests":"Tests"," conducted per confirmed case of COVID-19"):params.testsMetric?title="".concat(freq," COVID-19 tests"):params.deathsMetric?title="".concat(freq," confirmed COVID-19 deaths"):params.casesMetric&&(title="".concat(freq," confirmed COVID-19 cases")),title+this.perCapitaTitle(params.metricName)}},{key:"weekSubtitle",get:function get(){var params=this.constrainedParams,metric=params.deathsMetric?"deaths":"cases";return"weekly"===params.interval?"Weekly confirmed ".concat(metric," refer to the cumulative number of confirmed ").concat(metric," over the previous week."):"biweekly"===params.interval?"Biweekly confirmed ".concat(metric," refer to the cumulative number of confirmed ").concat(metric," over the previous two weeks."):"weeklyChange"===params.interval?"The weekly growth rate on any given date measures the percentage change in number of confirmed ".concat(metric," over the last seven days relative to the number in the previous seven days."):"biweeklyChange"===params.interval?"The biweekly growth rate on any given date measures the percentage change in the number of new confirmed ".concat(metric," over the last 14 days relative to the number in the previous 14 days."):(console.log("Error generating subtitle"),"")}},{key:"subtitle",get:function get(){var _this$yColumn2,params=this.constrainedParams;if(params.yColumn||params.xColumn)return"";if(params.isWeekly||params.isBiweekly)return this.weekSubtitle;var smoothing=params.smoothing?"Shown is the rolling ".concat(params.smoothing,"-day average. "):"";return"".concat(smoothing).concat((null===(_this$yColumn2=this.yColumn)||void 0===_this$yColumn2?void 0:_this$yColumn2.description)||"")}},{key:"note",get:function get(){var params=this.constrainedParams;return params.yColumn||params.xColumn?"":params.testsMetric?"For testing figures, there are substantial differences across countries in terms of the units, whether or not all labs are included, the extent to which negative and pending tests are included and other aspects. Details for each country can be found on ourworldindata.org/covid-testing.":""}},{key:"selectedData",get:function get(){var _this13=this,countryCodeMap=this.grapher.table.entityCodeToNameMap,entityIdMap=this.grapher.table.entityNameToIdMap;return Array.from(this.props.params.selectedCountryCodes).map((function(code){return countryCodeMap.get(code)})).filter((function(i){return i})).map((function(countryOption){return{index:0,entityId:countryOption?entityIdMap.get(countryOption):0,color:_this13.countryNameToColorMap[countryOption]}}))}},{key:"countryNameToColorMap",get:function get(){var _this14=this,names=this.selectedCountryOptions.map((function(country){return country}));if(!names.every((function(name){return name in _this14._countryNameToColorMapCache}))){var newColorMap=Object(Util.sb)(this._countryNameToColorMapCache,names);names.filter((function(name){return!(name in newColorMap)})).forEach((function(name){var scheme=ColorSchemes.a["owid-distinct"],availableColors=Object(Util.W)(scheme.colorSets),usedColors=Object.values(newColorMap).filter((function(color){return void 0!==color}));newColorMap[name]=function getLeastUsedColor(availableColors,usedColors){var unusedColors=Object(Util.o)(availableColors,usedColors);if(unusedColors.length>0)return unusedColors[0];var colorCounts=Object.entries(Object(Util.G)(usedColors)).map((function(_ref){var _ref2=_slicedToArray(_ref,2);return[_ref2[0],_ref2[1].length]}));return Object(Util.ib)(colorCounts,(function(_ref3){return _slicedToArray(_ref3,2)[1]}))[0]}(availableColors,usedColors)})),this._countryNameToColorMapCache=newColorMap}return this._countryNameToColorMapCache}},{key:"covidExplorerTable",get:function get(){return this._covidExplorerTable||(this._covidExplorerTable=new CovidExplorerTable_CovidExplorerTable(this.grapher.table,this.props.data,this.props.covidChartAndVariableMeta.variables,this.props.isExplorerPage)),this._covidExplorerTable}},{key:"selectedEntityNames",get:function get(){var entityCodeMap=this.grapher.table.entityCodeToNameMap;return Array.from(this.props.params.selectedCountryCodes.values()).map((function(code){return entityCodeMap.get(code)})).filter((function(i){return i}))}},{key:"canDoLogScale",get:function get(){return!(this.constrainedParams.positiveTestRate||this.constrainedParams.cfrMetric||this.constrainedParams.intervalChange&&this.constrainedParams.intervalChange>1)}},{key:"sourceChartId",get:function get(){return sourceCharts[this.constrainedParams.sourceChartKey]}},{key:"sourceChart",get:function get(){return this.props.covidChartAndVariableMeta.charts[this.sourceChartId]}},{key:"keyboardShortcuts",get:function get(){var _this15=this;return[{combo:"h",fn:function fn(){return _this15.playDefaultViewCommand()},title:"Default view",category:"Browse"},{combo:"right",fn:function fn(){return _this15.playIndexCommand(++_this15.currentIndex)},title:"Next view",category:"Browse"},{combo:"left",fn:function fn(){return _this15.playIndexCommand(--_this15.currentIndex)},title:"Previous view",category:"Browse"},{combo:"t",fn:function fn(){return _this15.toggleTabCommand()},title:"Toggle tab",category:"Navigation"},{combo:"?",fn:function fn(){return _this15.toggleKeyboardHelpCommand()},title:"Toggle Help",category:"Navigation"},{combo:"a",fn:function fn(){return _this15.selectedData.length?_this15.clearSelectionCommand():_this15.selectAllCommand()},title:"Select/Deselect all",category:"Selection"},{combo:"f",fn:function fn(){return _this15.toggleFilterAllCommand()},title:"Hide unselected",category:"Selection"},{combo:"c",fn:function fn(){return _this15.toggleColorStrategyCommand()},title:"Change line colors",category:"Chart"},{combo:"l",fn:function fn(){return _this15.toggleYScaleTypeCommand()},title:"Toggle Y log/linear",category:"Chart"},{combo:"z",fn:function fn(){return _this15.toggleTimelineCommand()},title:"Latest/Earliest/All period",category:"Timeline"},{combo:"p",fn:function fn(){return _this15.togglePlayingCommand()},title:"Play/Pause",category:"Timeline"}]}},{key:"yColumn",get:function get(){return this.grapher.table.columnsBySlug.get(this.constrainedParams.yColumnSlug)}},{key:"xColumn",get:function get(){return this.constrainedParams.xColumnSlug?this.grapher.table.columnsBySlug.get(this.constrainedParams.xColumnSlug):void 0}},{key:"sizeColumn",get:function get(){return this.constrainedParams.sizeColumn?this.grapher.table.columnsBySlug.get(this.constrainedParams.sizeColumn):void 0}},{key:"dataTableOnlyDimensions",get:function get(){var _params$tableMetrics2,_this16=this,params=this.constrainedParams;return Object(Util.z)(null===(_params$tableMetrics2=params.tableMetrics)||void 0===_params$tableMetrics2?void 0:_params$tableMetrics2.map((function(metric){var _intervalsAvailableBy2,specs=[_this16._buildDataTableOnlyDimensionSpec(metric,"total")];return isCountMetric(metric)&&"total"!==params.interval&&(null===(_intervalsAvailableBy2=intervalsAvailableByMetric.get(metric))||void 0===_intervalsAvailableBy2?void 0:_intervalsAvailableBy2.has(params.interval))&&specs.push(_this16._buildDataTableOnlyDimensionSpec(metric,params.interval)),specs})))}},{key:"yDimension",get:function get(){var yColumn=this.yColumn,unit=this.constrainedParams.isWeeklyOrBiweeklyChange?"%":void 0;return{property:"y",variableId:yColumn.spec.owidVariableId,display:{tolerance:1,unit:unit,name:this.chartTitle,tableDisplay:yColumn.display.tableDisplay}}}},{key:"xDimension",get:function get(){var xColumn=this.xColumn;return{property:"x",variableId:xColumn.spec.owidVariableId,display:{name:xColumn.spec.name,tableDisplay:xColumn.display.tableDisplay}}}},{key:"dimensionSpecs",get:function get(){if("ScatterPlot"!==this.constrainedParams.type)return[this.yDimension];var dimensions=[this.yDimension,this.xDimension];return"none"!==this.constrainedParams.colorStrategy&&dimensions.push(this.colorDimension),this.sizeColumn&&dimensions.push(this.sizeDimension),dimensions}},{key:"sizeDimension",get:function get(){return{property:"size",variableId:this.sizeColumn.spec.owidVariableId}}},{key:"colorDimension",get:function get(){return{property:"color",variableId:"continents"===this.constrainedParams.colorStrategy?123:this.shortTermPositivityRateVarId,display:{tolerance:10}}}},{key:"colorScales",get:function get(){var _this$props$covidChar;return{ptr:null===(_this$props$covidChar=this.props.covidChartAndVariableMeta.charts[sourceCharts.epi])||void 0===_this$props$covidChar?void 0:_this$props$covidChar.colorScale,continents:{binningStrategy:BinningStrategies.a.manual,legendDescription:"Continent",baseColorScheme:void 0,customNumericValues:[],customNumericLabels:[],customNumericColors:[],customCategoryColors:ColorSchemes.b,customCategoryLabels:{"No data":"Other"},customHiddenCategories:{}},none:{binningStrategy:BinningStrategies.a.manual,legendDescription:"",baseColorScheme:void 0,customNumericValues:[],customNumericLabels:[],customNumericColors:[],customCategoryColors:ColorSchemes.b,customCategoryLabels:{"No data":""},customHiddenCategories:{}}}}},{key:"yAxisLabel",get:function get(){return this.constrainedParams.yColumn?this.constrainedParams.yColumnSlug:""}}],[{key:"bootstrap",value:(_bootstrap=CovidExplorer_asyncToGenerator(regeneratorRuntime.mark((function _callee(props){var _yield$Promise$all,_yield$Promise$all2,typedData,updated,covidMeta,queryStr,startingParams;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Promise.all([CovidExplorerTable_fetchAndParseData(),fetchLastUpdatedTime(),fetchCovidChartAndVariableMeta()]);case 2:return _yield$Promise$all=_context.sent,_yield$Promise$all2=CovidExplorer_slicedToArray(_yield$Promise$all,3),typedData=_yield$Promise$all2[0],updated=_yield$Promise$all2[1],covidMeta=_yield$Promise$all2[2],queryStr=props.queryStr&&CovidParams_CovidQueryParams.hasAnyCovidParam(props.queryStr)?props.queryStr:coronaDefaultView,startingParams=new CovidParams_CovidQueryParams(queryStr),_context.abrupt("return",delegated_react_domfrom_dll_reference_storybook_docs_dll_default.a.render(delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(CovidExplorer,{data:typedData,updated:updated,params:startingParams,covidChartAndVariableMeta:covidMeta,queryStr:queryStr,isEmbed:props.isEmbed,isExplorerPage:props.isExplorerPage,globalEntitySelection:props.globalEntitySelection,enableKeyboardShortcuts:!0,bindToWindow:props.bindToWindow}),props.containerNode));case 10:case"end":return _context.stop()}}),_callee)}))),function bootstrap(_x){return _bootstrap.apply(this,arguments)})},{key:"replaceStateAndBootstrap",value:(_replaceStateAndBootstrap=CovidExplorer_asyncToGenerator(regeneratorRuntime.mark((function _callee2(explorerQueryStr,props){var queryStr;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return queryStr=Object(Util.gb)(explorerQueryStr,props.queryStr),window.history.replaceState(null,document.title,"".concat(settings.b,"/").concat("coronavirus-data-explorer").concat(queryStr)),_context2.abrupt("return",CovidExplorer.bootstrap(Object.assign({},props,{queryStr:queryStr})));case 3:case"end":return _context2.stop()}}),_callee2)}))),function replaceStateAndBootstrap(_x2,_x3){return _replaceStateAndBootstrap.apply(this,arguments)})}]),CovidExplorer}(delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.Component),CovidExplorer_descriptor=CovidExplorer_applyDecoratedDescriptor((_class2=CovidExplorer_temp).prototype,"chartContainerRef",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createRef()}}),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"clearSelectionCommand",[CovidExplorer_dec],Object.getOwnPropertyDescriptor(_class2.prototype,"clearSelectionCommand"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"selectAllCommand",[_dec2],Object.getOwnPropertyDescriptor(_class2.prototype,"selectAllCommand"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"changeMetric",[_dec3],Object.getOwnPropertyDescriptor(_class2.prototype,"changeMetric"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"constrainedParams",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"constrainedParams"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"perCapitaPicker",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"perCapitaPicker"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"alignedPicker",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"alignedPicker"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"toggleSelectedCountry",[_dec4],Object.getOwnPropertyDescriptor(_class2.prototype,"toggleSelectedCountry"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"toggleSelectedCountryCommand",[_dec5],Object.getOwnPropertyDescriptor(_class2.prototype,"toggleSelectedCountryCommand"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"howLongAgo",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"howLongAgo"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"onResize",[_dec6],Object.getOwnPropertyDescriptor(_class2.prototype,"onResize"),_class2.prototype),CovidExplorer_descriptor2=CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"isMobile",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return this._isMobile()}}),CovidExplorer_descriptor3=CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"chartBounds",[_dec7],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"activeColumnSlugs",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"activeColumnSlugs"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"changePickerMetric",[_dec8],Object.getOwnPropertyDescriptor(_class2.prototype,"changePickerMetric"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"closeControls",[_dec9],Object.getOwnPropertyDescriptor(_class2.prototype,"closeControls"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"toggleMobileControls",[_dec10],Object.getOwnPropertyDescriptor(_class2.prototype,"toggleMobileControls"),_class2.prototype),CovidExplorer_descriptor4=CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"showMobileControlsPopup",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"toggleControls",[_dec11],Object.getOwnPropertyDescriptor(_class2.prototype,"toggleControls"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"showExplorerControls",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"showExplorerControls"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"selectedCountryOptions",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"selectedCountryOptions"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"perCapitaDivisor",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"perCapitaDivisor"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"perCapitaOptions",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"perCapitaOptions"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"chartTitle",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"chartTitle"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"weekSubtitle",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"weekSubtitle"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"subtitle",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"subtitle"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"note",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"note"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"selectedData",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"selectedData"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"countryNameToColorMap",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"countryNameToColorMap"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"selectedEntityNames",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"selectedEntityNames"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"canDoLogScale",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"canDoLogScale"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"_updateChart",[_dec12],Object.getOwnPropertyDescriptor(_class2.prototype,"_updateChart"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"sourceChartId",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"sourceChartId"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"sourceChart",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"sourceChart"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"playDefaultViewCommand",[_dec13],Object.getOwnPropertyDescriptor(_class2.prototype,"playDefaultViewCommand"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"toggleTabCommand",[_dec14],Object.getOwnPropertyDescriptor(_class2.prototype,"toggleTabCommand"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"toggleKeyboardHelpCommand",[_dec15],Object.getOwnPropertyDescriptor(_class2.prototype,"toggleKeyboardHelpCommand"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"toggleYScaleTypeCommand",[_dec16],Object.getOwnPropertyDescriptor(_class2.prototype,"toggleYScaleTypeCommand"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"toggleTimelineCommand",[_dec17],Object.getOwnPropertyDescriptor(_class2.prototype,"toggleTimelineCommand"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"toggleColorStrategyCommand",[_dec18],Object.getOwnPropertyDescriptor(_class2.prototype,"toggleColorStrategyCommand"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"toggleFilterAllCommand",[_dec19],Object.getOwnPropertyDescriptor(_class2.prototype,"toggleFilterAllCommand"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"togglePlayingCommand",[_dec20],Object.getOwnPropertyDescriptor(_class2.prototype,"togglePlayingCommand"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"toggleDimensionColumnCommand",[_dec21],Object.getOwnPropertyDescriptor(_class2.prototype,"toggleDimensionColumnCommand"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"playIndexCommand",[_dec22],Object.getOwnPropertyDescriptor(_class2.prototype,"playIndexCommand"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"dispose",[decko.bind],Object.getOwnPropertyDescriptor(_class2.prototype,"dispose"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"yColumn",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"yColumn"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"xColumn",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"xColumn"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"sizeColumn",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"sizeColumn"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"dataTableOnlyDimensions",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"dataTableOnlyDimensions"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"_generateDataTableColumnsInTable",[mobx_module.d],Object.getOwnPropertyDescriptor(_class2.prototype,"_generateDataTableColumnsInTable"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"_addDataTableOnlyDimensionsToChart",[mobx_module.d],Object.getOwnPropertyDescriptor(_class2.prototype,"_addDataTableOnlyDimensionsToChart"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"yDimension",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"yDimension"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"xDimension",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"xDimension"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"dimensionSpecs",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"dimensionSpecs"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"sizeDimension",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"sizeDimension"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"colorDimension",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"colorDimension"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"colorScales",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"colorScales"),_class2.prototype),CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"yAxisLabel",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"yAxisLabel"),_class2.prototype),CovidExplorer_descriptor5=CovidExplorer_applyDecoratedDescriptor(_class2.prototype,"grapher",[_dec23],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return new Grapher.a({slug:"coronavirus-data-explorer",type:this.constrainedParams.type,isExplorable:!1,id:4128,version:9,title:"",subtitle:"",note:this.note,hideTitleAnnotation:!0,xAxis:{scaleType:GrapherConstants.d.linear},yAxis:{min:0,removePointsOutsideDomain:!0,scaleType:GrapherConstants.d.linear,canChangeScaleType:!0,label:this.yAxisLabel},selectedData:[],dimensions:[],scatterPointLabelStrategy:"y",addCountryMode:"add-country",stackMode:"absolute",manuallyProvideData:!0,colorScale:this.colorScales.continents,hideRelativeToggle:!0,hasChartTab:!0,hasMapTab:!0,tab:"chart",isPublished:!0,map:this.defaultMapConfig},{queryStr:this.props.queryStr})}}),CovidExplorer_class=_class2))||CovidExplorer_class);function isCountMetric(metric){return"deaths"===metric||"cases"===metric||"tests"===metric}try{CovidExplorer_CovidExplorer.displayName="CovidExplorer",CovidExplorer_CovidExplorer.__docgenInfo={description:"",displayName:"CovidExplorer",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"CovidGrapherRow[]"}},params:{defaultValue:null,description:"",name:"params",required:!0,type:{name:"CovidQueryParams"}},covidChartAndVariableMeta:{defaultValue:null,description:"",name:"covidChartAndVariableMeta",required:!0,type:{name:"{ charts: any; variables: any; }"}},updated:{defaultValue:null,description:"",name:"updated",required:!0,type:{name:"string"}},queryStr:{defaultValue:null,description:"",name:"queryStr",required:!1,type:{name:"string"}},isEmbed:{defaultValue:null,description:"",name:"isEmbed",required:!1,type:{name:"boolean"}},isExplorerPage:{defaultValue:null,description:"",name:"isExplorerPage",required:!1,type:{name:"boolean"}},globalEntitySelection:{defaultValue:null,description:"",name:"globalEntitySelection",required:!1,type:{name:"GlobalEntitySelection"}},enableKeyboardShortcuts:{defaultValue:null,description:"",name:"enableKeyboardShortcuts",required:!1,type:{name:"boolean"}},bindToWindow:{defaultValue:null,description:"",name:"bindToWindow",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["explorer/covidExplorer/CovidExplorer.tsx#CovidExplorer"]={docgenInfo:CovidExplorer_CovidExplorer.__docgenInfo,name:"CovidExplorer",path:"explorer/covidExplorer/CovidExplorer.tsx#CovidExplorer"})}catch(__react_docgen_typescript_loader_error){}var covidSampleRows=Object(csv.a)("population,iso_code,location,continent,date,total_cases,new_cases,total_deaths,new_deaths,total_cases_per_million,new_cases_per_million,total_deaths_per_million,new_deaths_per_million,total_tests,new_tests,total_tests_per_thousand,new_tests_per_thousand,tests_units\n1000,ABW,Aruba,North America,2020-03-13,2,2,0,0,18.733,18.733,0.0,0.0,,,,,\n1000,ABW,Aruba,North America,2020-03-20,4,2,0,0,37.465,18.733,0.0,0.0,,,,,\n1000,ABW,Aruba,North America,2020-03-24,12,8,0,0,112.395,74.93,0.0,0.0,,,,,\n1000,ABW,Aruba,North America,2020-03-25,17,5,0,0,159.227,46.831,0.0,0.0,,,,,\n2000,USA,United States,North America,2020-05-05,1180634,22593,68934,1252,3566.842,68.256,208.258,3.782,7544328.0,258954.0,22.792,0.782,inconsistent units (COVID Tracking Project)\n2000,USA,United States,North America,2020-05-06,1204475,23841,71078,2144,3638.868,72.027,214.735,6.477,,,,,\n3000,,World,,2020-05-01,3215927,84440,232869,5534,412.573,10.833,29.875,0.71,,,,,\n3000,,World,,2020-05-02,3308891,92964,238707,5838,424.5,11.926,30.624,0.749,,,,,\n3000,,World,,2020-05-03,3389459,80568,243476,4769,434.836,10.336,31.236,0.612,,,,,\n3000,,World,,2020-05-04,3467502,78043,246999,3523,444.848,10.012,31.688,0.452,,,,,\n3000,,World,,2020-05-05,3544168,76666,250977,3978,454.684,9.836,32.198,0.51,,,,,\n3000,,World,,2020-05-06,3623803,79635,256880,5903,464.9,10.216,32.955,0.757,,,,,").map(CovidExplorerTable_CovidExplorerTable.parseCovidRow),EMPTY_DUMMY_META=(__webpack_exports__.default={title:"CovidExplorer",component:CovidExplorer_CovidExplorer},{charts:{},variables:{}}),CovidExplorer_stories_SingleExplorerWithKeyboardShortcuts=function SingleExplorerWithKeyboardShortcuts(){return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(CovidExplorer_CovidExplorer,{data:covidSampleRows,params:new CovidParams_CovidQueryParams(""),covidChartAndVariableMeta:EMPTY_DUMMY_META,updated:"2020-05-09T18:59:31",enableKeyboardShortcuts:!0})};CovidExplorer_stories_SingleExplorerWithKeyboardShortcuts.displayName="SingleExplorerWithKeyboardShortcuts";var CovidExplorer_stories_MultipleExplorers=function MultipleExplorers(){return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(delegated_reactfrom_dll_reference_storybook_docs_dll.Fragment,null,delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(CovidExplorer_CovidExplorer,{data:covidSampleRows,params:new CovidParams_CovidQueryParams(""),covidChartAndVariableMeta:EMPTY_DUMMY_META,updated:"2020-05-09T18:59:31"}),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(CovidExplorer_CovidExplorer,{data:covidSampleRows,params:new CovidParams_CovidQueryParams(""),covidChartAndVariableMeta:EMPTY_DUMMY_META,updated:"2020-05-09T18:59:31"}))},CovidExplorer_stories_MultiMetricExplorer=function MultiMetricExplorer(){var startingParams=new CovidParams_CovidQueryParams("?tab=table&tableMetrics=cases~deaths~tests~tests_per_case~case_fatality_rate~positive_test_rate");return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(CovidExplorer_CovidExplorer,{data:covidSampleRows,params:startingParams,queryStr:"?tab=table&time=2020-05-06",covidChartAndVariableMeta:EMPTY_DUMMY_META,updated:"2020-05-09T18:59:31"})};CovidExplorer_stories_MultiMetricExplorer.displayName="MultiMetricExplorer",CovidExplorer_stories_SingleExplorerWithKeyboardShortcuts.parameters=Object.assign({storySource:{source:'() => {\n    return (\n        <CovidExplorer\n            data={covidSampleRows}\n            params={new CovidQueryParams("")}\n            covidChartAndVariableMeta={EMPTY_DUMMY_META}\n            updated="2020-05-09T18:59:31"\n            enableKeyboardShortcuts={true}\n        />\n    )\n}'}},CovidExplorer_stories_SingleExplorerWithKeyboardShortcuts.parameters),CovidExplorer_stories_MultipleExplorers.parameters=Object.assign({storySource:{source:'() => {\n    return (\n        <>\n            <CovidExplorer\n                data={covidSampleRows}\n                params={new CovidQueryParams("")}\n                covidChartAndVariableMeta={EMPTY_DUMMY_META}\n                updated="2020-05-09T18:59:31"\n            />\n            <CovidExplorer\n                data={covidSampleRows}\n                params={new CovidQueryParams("")}\n                covidChartAndVariableMeta={EMPTY_DUMMY_META}\n                updated="2020-05-09T18:59:31"\n            />\n        </>\n    )\n}'}},CovidExplorer_stories_MultipleExplorers.parameters),CovidExplorer_stories_MultiMetricExplorer.parameters=Object.assign({storySource:{source:'() => {\n    const startingParams = new CovidQueryParams(\n        "?tab=table&tableMetrics=cases~deaths~tests~tests_per_case~case_fatality_rate~positive_test_rate"\n    )\n    return (\n        <CovidExplorer\n            data={covidSampleRows}\n            params={startingParams}\n            queryStr="?tab=table&time=2020-05-06"\n            covidChartAndVariableMeta={EMPTY_DUMMY_META}\n            updated="2020-05-09T18:59:31"\n        />\n    )\n}'}},CovidExplorer_stories_MultiMetricExplorer.parameters)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"SwitcherTest",(function(){return SwitcherExplorer_stories_SwitcherTest}));__webpack_require__(14),__webpack_require__(60),__webpack_require__(11),__webpack_require__(8),__webpack_require__(13),__webpack_require__(15);var _dec,_dec2,_dec3,_dec4,_dec5,_dec6,_class,_class2,_descriptor,_descriptor2,_descriptor3,_descriptor4,delegated_reactfrom_dll_reference_storybook_docs_dll=__webpack_require__(1),delegated_reactfrom_dll_reference_storybook_docs_dll_default=__webpack_require__.n(delegated_reactfrom_dll_reference_storybook_docs_dll),index_module=(__webpack_require__(84),__webpack_require__(85),__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(31),__webpack_require__(19),__webpack_require__(30),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(23),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(27),__webpack_require__(34),__webpack_require__(16),__webpack_require__(111),__webpack_require__(20),__webpack_require__(9)),mobx_module=__webpack_require__(0),Grapher=__webpack_require__(117),Util=__webpack_require__(2),ExplorerControls=__webpack_require__(93),GrapherUrl=__webpack_require__(133),delegated_react_domfrom_dll_reference_storybook_docs_dll=__webpack_require__(54),delegated_react_domfrom_dll_reference_storybook_docs_dll_default=__webpack_require__.n(delegated_react_domfrom_dll_reference_storybook_docs_dll),UrlBinder=__webpack_require__(116),CommandPalette=__webpack_require__(136),Bounds=__webpack_require__(24),index_es=__webpack_require__(36),faChartLine=__webpack_require__(232),CountryPicker=__webpack_require__(124),classnames=__webpack_require__(44),classnames_default=__webpack_require__.n(classnames),GrapherView=__webpack_require__(92);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var ExplorerShell_ExplorerShell=(_dec=mobx_module.d.bound,_dec2=mobx_module.d.bound,_dec3=mobx_module.m.ref,_dec4=mobx_module.d.bound,_dec5=mobx_module.d.bound,_dec6=mobx_module.d.bound,Object(index_module.a)((_applyDecoratedDescriptor((_class2=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ExplorerShell,_React$Component);var _super=_createSuper(ExplorerShell);function ExplorerShell(){var _this;_classCallCheck(this,ExplorerShell);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _initializerDefineProperty(_this=_super.call.apply(_super,[this].concat(args)),"chartContainerRef",_descriptor,_assertThisInitialized(_this)),_initializerDefineProperty(_this,"chartBounds",_descriptor2,_assertThisInitialized(_this)),_initializerDefineProperty(_this,"isMobile",_descriptor3,_assertThisInitialized(_this)),_initializerDefineProperty(_this,"showMobileControlsPopup",_descriptor4,_assertThisInitialized(_this)),_this.onResizeThrottled=void 0,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ExplorerShell,[{key:"toggleMobileControls",value:function toggleMobileControls(){this.showMobileControlsPopup=!this.showMobileControlsPopup}},{key:"onResize",value:function onResize(){this.isMobile=this._isMobile(),this.chartBounds=this.getChartBounds()}},{key:"_isMobile",value:function _isMobile(){return window.screen.width<450||document.documentElement.clientWidth<=800}},{key:"getChartBounds",value:function getChartBounds(){var chartContainer=this.chartContainerRef.current;if(chartContainer)return new Bounds.a(0,0,chartContainer.clientWidth,chartContainer.clientHeight)}},{key:"toggleSelectedEntityCommand",value:function toggleSelectedEntityCommand(entityName,value){var selectedEntities=this.props.params.selectedEntityNames;value?selectedEntities.add(entityName):!1===value||selectedEntities.has(entityName)?selectedEntities.delete(entityName):selectedEntities.add(entityName)}},{key:"clearSelectionCommand",value:function clearSelectionCommand(){this.props.params.selectedEntityNames.clear()}},{key:"closeControls",value:function closeControls(){this.showMobileControlsPopup=!1}},{key:"componentDidMount",value:function componentDidMount(){this.onResizeThrottled=Object(Util.Pb)(this.onResize,100),window.addEventListener("resize",this.onResizeThrottled),this.onResize()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.onResizeThrottled&&window.removeEventListener("resize",this.onResizeThrottled)}},{key:"render",value:function render(){return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.Fragment,null,delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(CommandPalette.a,{commands:this.keyboardShortcuts,display:"none"}),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:classnames_default()({CovidExplorer:!0,"mobile-explorer":this.isMobile,HideControls:!this.showExplorerControls,"is-embed":this.props.isEmbed})},this.showExplorerControls&&delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"ExplorerHeaderBox"},this.props.headerElement),this.showExplorerControls&&this.controlBar,this.showExplorerControls&&this.countryPicker,this.showExplorerControls&&this.customizeChartMobileButton,delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"CovidExplorerFigure",ref:this.chartContainerRef},this.chartBounds&&delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(GrapherView.a,{bounds:this.chartBounds,grapher:this.props.grapher,isEmbed:!0}))))}},{key:"keyboardShortcuts",get:function get(){return[]}},{key:"showExplorerControls",get:function get(){return!this.props.params.hideControls||!this.props.isEmbed}},{key:"customizeChartMobileButton",get:function get(){return this.isMobile?delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("a",{className:"btn btn-primary mobile-button",onClick:this.toggleMobileControls,"data-track-note":"covid-customize-chart"},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(index_es.a,{icon:faChartLine.faChartLine})," Customize chart"):void 0}},{key:"countryPicker",get:function get(){return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(CountryPicker.a,{explorerSlug:this.props.explorerSlug,table:this.props.grapher.table,isDropdownMenu:this.isMobile,availableEntities:this.props.availableEntities,selectedEntities:this.selectedEntityNames,clearSelectionCommand:this.clearSelectionCommand,toggleCountryCommand:this.toggleSelectedEntityCommand})}},{key:"selectedEntityNames",get:function get(){return Array.from(this.props.params.selectedEntityNames.values())}},{key:"controlBar",get:function get(){return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(ExplorerControls.a,{isMobile:this.isMobile,showControls:this.showMobileControlsPopup,closeControls:this.closeControls},this.props.controlPanels)}}]),ExplorerShell}(delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.Component)).prototype,"showExplorerControls",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"showExplorerControls"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"toggleMobileControls",[_dec],Object.getOwnPropertyDescriptor(_class2.prototype,"toggleMobileControls"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"onResize",[_dec2],Object.getOwnPropertyDescriptor(_class2.prototype,"onResize"),_class2.prototype),_descriptor=_applyDecoratedDescriptor(_class2.prototype,"chartContainerRef",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createRef()}}),_descriptor2=_applyDecoratedDescriptor(_class2.prototype,"chartBounds",[_dec3],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),_descriptor3=_applyDecoratedDescriptor(_class2.prototype,"isMobile",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return this._isMobile()}}),_descriptor4=_applyDecoratedDescriptor(_class2.prototype,"showMobileControlsPopup",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_applyDecoratedDescriptor(_class2.prototype,"toggleSelectedEntityCommand",[_dec4],Object.getOwnPropertyDescriptor(_class2.prototype,"toggleSelectedEntityCommand"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"clearSelectionCommand",[_dec5],Object.getOwnPropertyDescriptor(_class2.prototype,"clearSelectionCommand"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"selectedEntityNames",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"selectedEntityNames"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"closeControls",[_dec6],Object.getOwnPropertyDescriptor(_class2.prototype,"closeControls"),_class2.prototype),_class=_class2))||_class);try{ExplorerShell_ExplorerShell.displayName="ExplorerShell",ExplorerShell_ExplorerShell.__docgenInfo={description:"",displayName:"ExplorerShell",props:{explorerSlug:{defaultValue:null,description:"",name:"explorerSlug",required:!0,type:{name:"string"}},controlPanels:{defaultValue:null,description:"",name:"controlPanels",required:!0,type:{name:"Element[]"}},grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}},availableEntities:{defaultValue:null,description:"",name:"availableEntities",required:!0,type:{name:"string[]"}},headerElement:{defaultValue:null,description:"",name:"headerElement",required:!0,type:{name:"Element"}},params:{defaultValue:null,description:"",name:"params",required:!0,type:{name:"ExplorerQueryParams"}},isEmbed:{defaultValue:null,description:"",name:"isEmbed",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["explorer/client/ExplorerShell.tsx#ExplorerShell"]={docgenInfo:ExplorerShell_ExplorerShell.__docgenInfo,name:"ExplorerShell",path:"explorer/client/ExplorerShell.tsx#ExplorerShell"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(97),__webpack_require__(49),__webpack_require__(557),__webpack_require__(32),__webpack_require__(46),__webpack_require__(142),__webpack_require__(75),__webpack_require__(198),__webpack_require__(72),__webpack_require__(52),__webpack_require__(53),__webpack_require__(141);var ExplorerProgram_dec,ExplorerProgram_class,ExplorerProgram_descriptor,_class3,ExplorerProgram_descriptor2,ExplorerProgram_descriptor3,client_url=__webpack_require__(50),EntityUrlBuilder=__webpack_require__(74);function ExplorerProgram_initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function ExplorerProgram_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ExplorerProgram_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function ExplorerProgram_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function ExplorerProgram_createClass(Constructor,protoProps,staticProps){return protoProps&&ExplorerProgram_defineProperties(Constructor.prototype,protoProps),staticProps&&ExplorerProgram_defineProperties(Constructor,staticProps),Constructor}var ProgramKeyword;!function(ProgramKeyword){ProgramKeyword.switcher="switcher",ProgramKeyword.isPublished="isPublished",ProgramKeyword.title="title",ProgramKeyword.subNavId="subNavId",ProgramKeyword.subNavCurrentId="subNavCurrentId",ProgramKeyword.thumbnail="thumbnail",ProgramKeyword.subtitle="subtitle",ProgramKeyword.defaultView="defaultView",ProgramKeyword.wpBlockId="wpBlockId"}(ProgramKeyword||(ProgramKeyword={}));var ControlType,ExplorerProgram_ExplorerProgram=function(){function ExplorerProgram(slug,tsv){var queryString=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";ExplorerProgram_classCallCheck(this,ExplorerProgram),this.slug=void 0,this.queryString=void 0,this.switcherRuntime=void 0,this.explorerRuntime=void 0,this.nodeDelimiter="\n",this.cellDelimiter="\t",this.edgeDelimiter="\t",this.lines=void 0,this.lines=tsv.replace(/\r/g,"").split(this.nodeDelimiter),this.slug=slug,queryString=queryString||(this.defaultView||""),this.switcherRuntime=new ExplorerProgram_SwitcherRuntime(this.switcherCode||"",queryString),this.explorerRuntime=new ExplorerProgram_ExplorerQueryParams(queryString),this.queryString=queryString}return ExplorerProgram_createClass(ExplorerProgram,[{key:"getLineValue",value:function getLineValue(keyword){var _this=this,line=this.lines.find((function(line){return line.startsWith(keyword+_this.cellDelimiter)}));return line?line.split(this.cellDelimiter)[1]:void 0}},{key:"getLineIndex",value:function getLineIndex(key){var _this2=this;return this.lines.findIndex((function(line){return line.startsWith(key+_this2.cellDelimiter)||line===key}))}},{key:"setLineValue",value:function setLineValue(key,value){var index=this.getLineIndex(key),newLine=key+this.cellDelimiter+value;-1===index&&void 0!==value?this.lines.push(newLine):void 0===value?this.lines=this.lines.splice(index,1):this.lines[index]=newLine}},{key:"getBlock",value:function getBlock(key){var ends=this.getBlockEnds(key);if(ends)return this.lines.slice(ends.start,ends.end).map((function(line){return line.substr(1)})).join(this.nodeDelimiter)}},{key:"toArrays",value:function toArrays(){var _this3=this;return this.lines.map((function(line){return line.split(_this3.cellDelimiter)}))}},{key:"toString",value:function toString(){return this.prettify()}},{key:"prettify",value:function prettify(){var _this4=this;return Object(Util.Rb)(this.toArrays()).map((function(line){return line.join(_this4.cellDelimiter)})).join(this.nodeDelimiter)}},{key:"getBlockEnds",value:function getBlockEnds(key){var _this5=this,keyLine=this.getLineIndex(key);if(-1!==keyLine){var blockStart=keyLine+1,length=this.lines.slice(blockStart).findIndex((function(line){return!line.startsWith(_this5.edgeDelimiter)}));return-1===length&&(length=this.lines.slice(blockStart).length),{start:blockStart,end:blockStart+length,length:length}}}},{key:"setBlock",value:function setBlock(key,value){var _this$lines,_this6=this;if(!value)return this.deleteBlock(key);var ends=this.getBlockEnds(key);if(!ends)return this.appendBlock(key,value);this.lines=(_this$lines=this.lines).splice.apply(_this$lines,[ends.start,ends.length,key].concat(_toConsumableArray(value.split(this.nodeDelimiter).map((function(line){return _this6.edgeDelimiter+line})))))}},{key:"appendBlock",value:function appendBlock(key,value){var _this7=this;this.lines.push(key),value.split(this.nodeDelimiter).forEach((function(line){return _this7.lines.push(_this7.edgeDelimiter+line)}))}},{key:"deleteBlock",value:function deleteBlock(key){var ends=this.getBlockEnds(key);ends&&(this.lines=this.lines.splice(ends.start,ends.length))}},{key:"filename",get:function get(){return this.slug+".explorer.tsv"}},{key:"fullPath",get:function get(){return ExplorerProgram.fullPath(this.slug)}},{key:"requiredChartIds",get:function get(){return ExplorerProgram_SwitcherRuntime.getRequiredChartIds(this.switcherCode||"")}},{key:"title",get:function get(){return this.getLineValue(ProgramKeyword.title)}},{key:"subNavId",get:function get(){return this.getLineValue(ProgramKeyword.subNavId)}},{key:"subNavCurrentId",get:function get(){return this.getLineValue(ProgramKeyword.subNavCurrentId)}},{key:"thumbnail",get:function get(){return this.getLineValue(ProgramKeyword.thumbnail)}},{key:"subtitle",get:function get(){return this.getLineValue(ProgramKeyword.subtitle)}},{key:"defaultView",get:function get(){return this.getLineValue(ProgramKeyword.defaultView)}},{key:"isPublished",get:function get(){return"true"===this.getLineValue(ProgramKeyword.isPublished)},set:function set(value){this.setLineValue(ProgramKeyword.isPublished,value?"true":"false")}},{key:"wpBlockId",get:function get(){var blockIdString=this.getLineValue(ProgramKeyword.wpBlockId);return blockIdString?parseInt(blockIdString,10):void 0}},{key:"switcherCode",get:function get(){return this.getBlock(ProgramKeyword.switcher)}}],[{key:"fullPath",value:function fullPath(slug){return"explorers/".concat(slug).concat(".explorer.tsv")}},{key:"fromArrays",value:function fromArrays(slug,table){return new ExplorerProgram(slug,table.map((function(row){return row.join("\t")})).join("\n"))}}]),ExplorerProgram}();ExplorerProgram_ExplorerProgram.defaultExplorerProgram="".concat(ProgramKeyword.title,"\tData Explorer\n").concat(ProgramKeyword.isPublished,"\tfalse\n").concat(ProgramKeyword.switcher,"\n\tchartId\tDevice\n\t35\tInternet\n\t46\tMobile"),function(ControlType){ControlType.Radio="Radio",ControlType.Checkbox="Checkbox",ControlType.Dropdown="Dropdown"}(ControlType||(ControlType={}));var SwitcherExplorer_dec,SwitcherExplorer_dec2,SwitcherExplorer_class,SwitcherExplorer_class2,SwitcherExplorer_descriptor,SwitcherExplorer_descriptor2,SwitcherExplorer_temp,ExplorerProgram_extractColumnTypes=function extractColumnTypes(str){var header=str.split("\n")[0];return header.split(Object(Util.m)(header)).slice(1).map((function(name){return ControlType[name.split(" ").pop()]||"Radio"}))},ExplorerProgram_removeColumnTypeInfo=function removeColumnTypeInfo(str){var lines=str.split("\n"),header=lines[0],delimiter=Object(Util.m)(header),types=Object.values(ControlType).join("|"),reg=new RegExp("("+types+")$");return lines[0]=header.split(delimiter).map((function(cell){return cell.replace(reg,"")})).join(delimiter),lines.join("\n")},ExplorerProgram_SwitcherRuntime=(ExplorerProgram_dec=mobx_module.d.bound,ExplorerProgram_descriptor=ExplorerProgram_applyDecoratedDescriptor((ExplorerProgram_class=function(){function SwitcherRuntime(delimited){var _this8=this,queryString=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";ExplorerProgram_classCallCheck(this,SwitcherRuntime),this.parsed=void 0,ExplorerProgram_initializerDefineProperty(this,"_settings",ExplorerProgram_descriptor,this),this.columnTypes=void 0,this.columnTypes=ExplorerProgram_extractColumnTypes(delimited),delimited=ExplorerProgram_removeColumnTypeInfo(delimited),this.parsed=Object(Util.ob)(delimited),this.parsed.forEach((function(row){row.chartId=parseInt(row.chartId)}));var queryParams=Object(client_url.e)(decodeURIComponent(queryString));this.columnNames.forEach((function(name){void 0===queryParams[name]?_this8.setValue(name,_this8.firstAvailableOptionForGroup(name)):_this8.setValue(name,queryParams[name])}))}return ExplorerProgram_createClass(SwitcherRuntime,[{key:"toObject",value:function toObject(){return Object.assign({},this._settings)}},{key:"toConstrainedOptions",value:function toConstrainedOptions(){var _this9=this,settings=this.toObject();return this.columnNames.forEach((function(group){_this9.isOptionAvailable(group,settings[group])||(settings[group]=_this9.firstAvailableOptionForGroup(group))})),settings}},{key:"setValue",value:function setValue(group,value){this._settings[group]=value}},{key:"firstAvailableOptionForGroup",value:function firstAvailableOptionForGroup(group){var _this10=this;return this.groupOptions[group].find((function(option){return _this10.isOptionAvailable(group,option)}))}},{key:"isOptionAvailable",value:function isOptionAvailable(groupName,optionName){var _this11=this,query={},columnNames=this.columnNames;return columnNames.slice(0,columnNames.indexOf(groupName)).forEach((function(col){query[col]=_this11._settings[col]})),query[groupName]=optionName,this.rowsWith(query,groupName).length>0}},{key:"rowIndexesWith",value:function rowIndexesWith(query,groupName){return this.parsed.map((function(row,rowIndex){return Object.keys(query).filter((function(key){return void 0!==query[key]})).every((function(key){return row[key]===query[key]||!(!groupName||groupName===key)&&Object(Util.N)(row[key])}))?rowIndex:null})).filter((function(index){return null!==index}))}},{key:"rowsWith",value:function rowsWith(query,groupName){var _this12=this;return this.rowIndexesWith(query,groupName).map((function(index){return _this12.parsed[index]}))}},{key:"toControlOption",value:function toControlOption(groupName,optionName,value){return{label:optionName,checked:value===optionName,value:optionName,available:this.isOptionAvailable(groupName,optionName)}}},{key:"toString",value:function toString(){return Object(client_url.c)(this._settings)}},{key:"toQueryParams",get:function get(){return this.toObject()}},{key:"columnNames",get:function get(){return this.parsed[0]?Object.keys(this.parsed[0]).filter((function(name){return"chartId"!==name})):[]}},{key:"groupOptions",get:function get(){var _this13=this,optionMap={};return this.columnNames.forEach((function(title,index){optionMap[title]=Object(Util.Ub)(_this13.parsed.map((function(row){return row[title]}))).filter((function(cell){return!Object(Util.N)(cell)}))})),optionMap}},{key:"chartId",get:function get(){var row=this.rowsWith(this.toConstrainedOptions())[0];return null==row?void 0:row.chartId}},{key:"selectedRowIndex",get:function get(){return this.rowIndexesWith(this.toConstrainedOptions())[0]}},{key:"groups",get:function get(){var _this14=this,constrainedOptions=this.toConstrainedOptions();return this.columnNames.map((function(title,index){var options=_this14.groupOptions[title].map((function(optionName){return _this14.toControlOption(title,optionName,constrainedOptions[title])})),dropdownOptions=void 0,type=_this14.columnTypes[index],isCheckbox=type===ControlType.Checkbox;return isCheckbox&&(options=options.filter((function(opt){return"FALSE"!==opt.label}))),"Dropdown"===type&&(dropdownOptions=options),{title:title,value:constrainedOptions[title],options:options,dropdownOptions:dropdownOptions,isCheckbox:isCheckbox}}))}}],[{key:"getRequiredChartIds",value:function getRequiredChartIds(code){return Object(Util.ob)(code).map((function(row){return parseInt(row.chartId)})).filter((function(id){return!isNaN(id)}))}}]),SwitcherRuntime}()).prototype,"_settings",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),ExplorerProgram_applyDecoratedDescriptor(ExplorerProgram_class.prototype,"toQueryParams",[mobx_module.f],Object.getOwnPropertyDescriptor(ExplorerProgram_class.prototype,"toQueryParams"),ExplorerProgram_class.prototype),ExplorerProgram_applyDecoratedDescriptor(ExplorerProgram_class.prototype,"setValue",[ExplorerProgram_dec],Object.getOwnPropertyDescriptor(ExplorerProgram_class.prototype,"setValue"),ExplorerProgram_class.prototype),ExplorerProgram_applyDecoratedDescriptor(ExplorerProgram_class.prototype,"columnNames",[mobx_module.f],Object.getOwnPropertyDescriptor(ExplorerProgram_class.prototype,"columnNames"),ExplorerProgram_class.prototype),ExplorerProgram_applyDecoratedDescriptor(ExplorerProgram_class.prototype,"groupOptions",[mobx_module.f],Object.getOwnPropertyDescriptor(ExplorerProgram_class.prototype,"groupOptions"),ExplorerProgram_class.prototype),ExplorerProgram_applyDecoratedDescriptor(ExplorerProgram_class.prototype,"chartId",[mobx_module.f],Object.getOwnPropertyDescriptor(ExplorerProgram_class.prototype,"chartId"),ExplorerProgram_class.prototype),ExplorerProgram_applyDecoratedDescriptor(ExplorerProgram_class.prototype,"selectedRowIndex",[mobx_module.f],Object.getOwnPropertyDescriptor(ExplorerProgram_class.prototype,"selectedRowIndex"),ExplorerProgram_class.prototype),ExplorerProgram_applyDecoratedDescriptor(ExplorerProgram_class.prototype,"groups",[mobx_module.f],Object.getOwnPropertyDescriptor(ExplorerProgram_class.prototype,"groups"),ExplorerProgram_class.prototype),ExplorerProgram_class),ExplorerProgram_ExplorerQueryParams=(ExplorerProgram_descriptor2=ExplorerProgram_applyDecoratedDescriptor((_class3=function(){function ExplorerQueryParams(queryString){var _this15=this;ExplorerProgram_classCallCheck(this,ExplorerQueryParams),ExplorerProgram_initializerDefineProperty(this,"hideControls",ExplorerProgram_descriptor2,this),ExplorerProgram_initializerDefineProperty(this,"selectedEntityNames",ExplorerProgram_descriptor3,this);var obj=Object(client_url.e)(queryString);this.hideControls="true"===obj.hideControls,obj.country&&EntityUrlBuilder.a.queryParamToEntities(obj.country).forEach((function(code){return _this15.selectedEntityNames.add(code)}))}return ExplorerProgram_createClass(ExplorerQueryParams,[{key:"toQueryParams",get:function get(){var params={};return params.hideControls=!!this.hideControls||void 0,this.selectedEntityNames.size,params.country=EntityUrlBuilder.a.entitiesToQueryParam(Array.from(this.selectedEntityNames)),params}}]),ExplorerQueryParams}()).prototype,"hideControls",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),ExplorerProgram_descriptor3=ExplorerProgram_applyDecoratedDescriptor(_class3.prototype,"selectedEntityNames",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return new Set}}),ExplorerProgram_applyDecoratedDescriptor(_class3.prototype,"toQueryParams",[mobx_module.f],Object.getOwnPropertyDescriptor(_class3.prototype,"toQueryParams"),_class3.prototype),_class3);function SwitcherExplorer_typeof(obj){return(SwitcherExplorer_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function SwitcherExplorer_toConsumableArray(arr){return function SwitcherExplorer_arrayWithoutHoles(arr){if(Array.isArray(arr))return SwitcherExplorer_arrayLikeToArray(arr)}(arr)||function SwitcherExplorer_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function SwitcherExplorer_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return SwitcherExplorer_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SwitcherExplorer_arrayLikeToArray(o,minLen)}(arr)||function SwitcherExplorer_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SwitcherExplorer_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function SwitcherExplorer_initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function SwitcherExplorer_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function SwitcherExplorer_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function SwitcherExplorer_setPrototypeOf(o,p){return(SwitcherExplorer_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function SwitcherExplorer_createSuper(Derived){var hasNativeReflectConstruct=function SwitcherExplorer_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=SwitcherExplorer_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=SwitcherExplorer_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return SwitcherExplorer_possibleConstructorReturn(this,result)}}function SwitcherExplorer_possibleConstructorReturn(self,call){return!call||"object"!==SwitcherExplorer_typeof(call)&&"function"!=typeof call?SwitcherExplorer_assertThisInitialized(self):call}function SwitcherExplorer_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function SwitcherExplorer_getPrototypeOf(o){return(SwitcherExplorer_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function SwitcherExplorer_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var SwitcherExplorer_SwitcherExplorer=(SwitcherExplorer_dec=mobx_module.d.bound,SwitcherExplorer_dec2=mobx_module.d.bound,Object(index_module.a)((SwitcherExplorer_temp=function(_React$Component){!function SwitcherExplorer_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&SwitcherExplorer_setPrototypeOf(subClass,superClass)}(SwitcherExplorer,_React$Component);var _super=SwitcherExplorer_createSuper(SwitcherExplorer);function SwitcherExplorer(){var _this;SwitcherExplorer_classCallCheck(this,SwitcherExplorer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).urlBinding=void 0,_this.lastId=0,SwitcherExplorer_initializerDefineProperty(_this,"_grapher",SwitcherExplorer_descriptor,SwitcherExplorer_assertThisInitialized(_this)),SwitcherExplorer_initializerDefineProperty(_this,"availableEntities",SwitcherExplorer_descriptor2,SwitcherExplorer_assertThisInitialized(_this)),_this}return function SwitcherExplorer_createClass(Constructor,protoProps,staticProps){return protoProps&&SwitcherExplorer_defineProperties(Constructor.prototype,protoProps),staticProps&&SwitcherExplorer_defineProperties(Constructor,staticProps),Constructor}(SwitcherExplorer,[{key:"bindToWindow",value:function bindToWindow(){var url=new GrapherUrl.a(this._grapher.url,[this.switcherRuntime,this.explorerRuntime]);this.urlBinding?this.urlBinding.unbindFromWindow():this.urlBinding=new UrlBinder.a,this.urlBinding.bindToWindow(url),window.switcherExplorer=this}},{key:"componentWillMount",value:function componentWillMount(){var _this2=this;Object(mobx_module.o)((function(){return _this2.switcherRuntime.chartId}),this.switchGrapher,{fireImmediately:!0})}},{key:"componentDidMount",value:function componentDidMount(){var _this3=this;Object(mobx_module.e)((function(){_this3.explorerRuntime.selectedEntityNames.size,_this3.updateGrapherSelection()}))}},{key:"switchGrapher",value:function switchGrapher(){var _this4=this,newId=this.switcherRuntime.chartId;if(newId!==this.lastId){var currentParams=this._grapher?this._grapher.url.params:Object(client_url.e)(this.props.program.queryString);this._grapher=new Grapher.a(this.props.chartConfigs.get(newId)),this._grapher.url.dropUnchangedParams=!1,this._grapher.hideEntityControls=!this.explorerRuntime.hideControls&&!this.isEmbed,this.props.bindToWindow&&this.bindToWindow(),this._grapher.populateFromQueryParams(currentParams),Object(mobx_module.t)((function(){return _this4._grapher.isReady}),(function(){_this4.availableEntities=Object(Util.Ub)([].concat(SwitcherExplorer_toConsumableArray(_this4.availableEntities),SwitcherExplorer_toConsumableArray(_this4._grapher.table.availableEntities))).sort(),_this4.updateGrapherSelection()})),this.lastId=newId}}},{key:"updateGrapherSelection",value:function updateGrapherSelection(){var entityIdMap=this._grapher.table.entityNameToIdMap,selectedData=Array.from(this.explorerRuntime.selectedEntityNames).filter((function(i){return i})).map((function(countryOption){return{index:0,entityId:countryOption?entityIdMap.get(countryOption):0}}));this._grapher.selectedData=selectedData}},{key:"render",value:function render(){return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(ExplorerShell_ExplorerShell,{headerElement:this.header,controlPanels:this.panels,explorerSlug:this.props.program.slug,availableEntities:this.availableEntities,grapher:this._grapher,params:this.explorerRuntime,isEmbed:this.isEmbed})}},{key:"explorerRuntime",get:function get(){return this.props.program.explorerRuntime}},{key:"switcherRuntime",get:function get(){return this.props.program.switcherRuntime}},{key:"panels",get:function get(){var _this5=this;return this.switcherRuntime.groups.map((function(group){return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(ExplorerControls.b,{key:group.title,value:group.value,title:group.title,explorerSlug:_this5.props.program.slug,name:group.title,dropdownOptions:group.dropdownOptions,options:group.options,isCheckbox:group.isCheckbox,onChange:function onChange(value){_this5.switcherRuntime.setValue(group.title,value)}})}))}},{key:"header",get:function get(){return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.Fragment,null,delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",null),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"ExplorerTitle"},this.props.program.title),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"ExplorerSubtitle",dangerouslySetInnerHTML:{__html:this.props.program.subtitle||""}}))}},{key:"isEmbed",get:function get(){return!1}}],[{key:"bootstrap",value:function bootstrap(props){var chartConfigs=props.chartConfigs,explorerProgramCode=props.explorerProgramCode,bindToWindow=props.bindToWindow,slug=props.slug,containerNode=document.getElementById("explorerContainer"),program=new ExplorerProgram_ExplorerProgram(slug,explorerProgramCode,window.location.search),chartConfigsMap=new Map;return chartConfigs.forEach((function(config){return chartConfigsMap.set(config.id,config)})),delegated_react_domfrom_dll_reference_storybook_docs_dll_default.a.render(delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(SwitcherExplorer,{program:program,chartConfigs:chartConfigsMap,bindToWindow:bindToWindow}),containerNode)}}]),SwitcherExplorer}(delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.Component),SwitcherExplorer_descriptor=SwitcherExplorer_applyDecoratedDescriptor((SwitcherExplorer_class2=SwitcherExplorer_temp).prototype,"_grapher",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){}}),SwitcherExplorer_descriptor2=SwitcherExplorer_applyDecoratedDescriptor(SwitcherExplorer_class2.prototype,"availableEntities",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),SwitcherExplorer_applyDecoratedDescriptor(SwitcherExplorer_class2.prototype,"switchGrapher",[SwitcherExplorer_dec],Object.getOwnPropertyDescriptor(SwitcherExplorer_class2.prototype,"switchGrapher"),SwitcherExplorer_class2.prototype),SwitcherExplorer_applyDecoratedDescriptor(SwitcherExplorer_class2.prototype,"updateGrapherSelection",[SwitcherExplorer_dec2],Object.getOwnPropertyDescriptor(SwitcherExplorer_class2.prototype,"updateGrapherSelection"),SwitcherExplorer_class2.prototype),SwitcherExplorer_class=SwitcherExplorer_class2))||SwitcherExplorer_class);try{SwitcherExplorer_SwitcherExplorer.displayName="SwitcherExplorer",SwitcherExplorer_SwitcherExplorer.__docgenInfo={description:"",displayName:"SwitcherExplorer",props:{chartConfigs:{defaultValue:null,description:"",name:"chartConfigs",required:!0,type:{name:"Map<number, GrapherInterface>"}},program:{defaultValue:null,description:"",name:"program",required:!0,type:{name:"ExplorerProgram"}},bindToWindow:{defaultValue:null,description:"",name:"bindToWindow",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["explorer/client/SwitcherExplorer.tsx#SwitcherExplorer"]={docgenInfo:SwitcherExplorer_SwitcherExplorer.__docgenInfo,name:"SwitcherExplorer",path:"explorer/client/SwitcherExplorer.tsx#SwitcherExplorer"})}catch(__react_docgen_typescript_loader_error){}__webpack_exports__.default={title:"SwitcherExplorer",component:SwitcherExplorer_SwitcherExplorer};var SwitcherExplorer_stories_SwitcherTest=function SwitcherTest(){var configs=new Map,program=new ExplorerProgram_ExplorerProgram("some-slug",'title\tCOâ Data Explorer\nisPublished\tfalse\nsubtitle\tDownload the complete <i>Our World in Data</i> <a href="https://github.com/owid/co2-data">COâ and GHG Emissions Dataset</a>.\ndefaultView\t?tab=chart&time=earliest..latest&country=China~United%20States~India~United%20Kingdom~World&Gas%20=COâ&Accounting%20=Production-based&Fuel%20=Total&Count%20=Per%20capita&Relative%20to%20world%20total%20=\nsubNavId\tco2\nsubNavCurrentId\tco2-data-explorer\nswitcher\n\tchartId\tGas Radio\tAccounting Radio\tFuel Dropdown\tCount Dropdown\tRelative to world total Checkbox\n\t488\tCOâ\tProduction-based\tTotal\tPer country\tFALSE\n\t3219\tCOâ\tProduction-based\tTotal\tPer country\tShare of global emissions\n\t486\tCOâ\tProduction-based\tTotal\tPer capita\n\t485\tCOâ\tProduction-based\tTotal\tCumulative\tFALSE\n\t3218\tCOâ\tProduction-based\tTotal\tCumulative\tShare of global emissions\n\t4267\tCOâ\tProduction-based\tTotal\tPer MWh of energy\n\t530\tCOâ\tProduction-based\tTotal\tPer $ of GDP\n\t3621\tCOâ\tConsumption-based\t\tPer country\n\t3488\tCOâ\tConsumption-based\t\tPer capita\n\t4331\tCOâ\tConsumption-based\t\tPer $ of GDP\n\t696\tCOâ\tConsumption-based\t\tShare of emissions embedded in trade\n\t4250\tCOâ\tProduction-based\tCoal\tPer country\n\t4251\tCOâ\tProduction-based\tOil\tPer country\n\t4253\tCOâ\tProduction-based\tGas\tPer country\n\t4255\tCOâ\tProduction-based\tCement\tPer country\n\t4332\tCOâ\tProduction-based\tFlaring\tPer country\n\t4249\tCOâ\tProduction-based\tCoal\tPer capita\n\t4252\tCOâ\tProduction-based\tOil\tPer capita\n\t4254\tCOâ\tProduction-based\tGas\tPer capita\n\t4256\tCOâ\tProduction-based\tCement\tPer capita\n\t4333\tCOâ\tProduction-based\tFlaring\tPer capita\n\t4147\tAll GHGs (COâeq)\tProduction-based\t\tPer country\n\t4239\tAll GHGs (COâeq)\tProduction-based\t\tPer capita\n\t4222\tMethane\tProduction-based\t\tPer country\n\t4243\tMethane\tProduction-based\t\tPer capita\n\t4224\tNitrous oxide\tProduction-based\t\tPer country\n\t4244\tNitrous oxide\tProduction-based\t\tPer capita');return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(SwitcherExplorer_SwitcherExplorer,{bindToWindow:!1,chartConfigs:configs,program:program})};SwitcherExplorer_stories_SwitcherTest.displayName="SwitcherTest",SwitcherExplorer_stories_SwitcherTest.parameters=Object.assign({storySource:{source:'() => {\n    const code = `title\tCOâ Data Explorer\nisPublished\tfalse\nsubtitle\tDownload the complete <i>Our World in Data</i> <a href="https://github.com/owid/co2-data">COâ and GHG Emissions Dataset</a>.\ndefaultView\t?tab=chart&time=earliest..latest&country=China~United%20States~India~United%20Kingdom~World&Gas%20=COâ&Accounting%20=Production-based&Fuel%20=Total&Count%20=Per%20capita&Relative%20to%20world%20total%20=\nsubNavId\tco2\nsubNavCurrentId\tco2-data-explorer\nswitcher\n\tchartId\tGas Radio\tAccounting Radio\tFuel Dropdown\tCount Dropdown\tRelative to world total Checkbox\n\t488\tCOâ\tProduction-based\tTotal\tPer country\tFALSE\n\t3219\tCOâ\tProduction-based\tTotal\tPer country\tShare of global emissions\n\t486\tCOâ\tProduction-based\tTotal\tPer capita\n\t485\tCOâ\tProduction-based\tTotal\tCumulative\tFALSE\n\t3218\tCOâ\tProduction-based\tTotal\tCumulative\tShare of global emissions\n\t4267\tCOâ\tProduction-based\tTotal\tPer MWh of energy\n\t530\tCOâ\tProduction-based\tTotal\tPer $ of GDP\n\t3621\tCOâ\tConsumption-based\t\tPer country\n\t3488\tCOâ\tConsumption-based\t\tPer capita\n\t4331\tCOâ\tConsumption-based\t\tPer $ of GDP\n\t696\tCOâ\tConsumption-based\t\tShare of emissions embedded in trade\n\t4250\tCOâ\tProduction-based\tCoal\tPer country\n\t4251\tCOâ\tProduction-based\tOil\tPer country\n\t4253\tCOâ\tProduction-based\tGas\tPer country\n\t4255\tCOâ\tProduction-based\tCement\tPer country\n\t4332\tCOâ\tProduction-based\tFlaring\tPer country\n\t4249\tCOâ\tProduction-based\tCoal\tPer capita\n\t4252\tCOâ\tProduction-based\tOil\tPer capita\n\t4254\tCOâ\tProduction-based\tGas\tPer capita\n\t4256\tCOâ\tProduction-based\tCement\tPer capita\n\t4333\tCOâ\tProduction-based\tFlaring\tPer capita\n\t4147\tAll GHGs (COâeq)\tProduction-based\t\tPer country\n\t4239\tAll GHGs (COâeq)\tProduction-based\t\tPer capita\n\t4222\tMethane\tProduction-based\t\tPer country\n\t4243\tMethane\tProduction-based\t\tPer capita\n\t4224\tNitrous oxide\tProduction-based\t\tPer country\n\t4244\tNitrous oxide\tProduction-based\t\tPer capita`\n    const configs = new Map()\n    const program = new ExplorerProgram("some-slug", code)\n    return (\n        <SwitcherExplorer\n            bindToWindow={false}\n            chartConfigs={configs}\n            program={program}\n        />\n    )\n}'}},SwitcherExplorer_stories_SwitcherTest.parameters)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return FacetChart_stories_Default}));__webpack_require__(43),__webpack_require__(11),__webpack_require__(45);var _class,_class2,delegated_reactfrom_dll_reference_storybook_docs_dll=__webpack_require__(1),delegated_reactfrom_dll_reference_storybook_docs_dll_default=__webpack_require__.n(delegated_reactfrom_dll_reference_storybook_docs_dll),index_module=(__webpack_require__(84),__webpack_require__(85),__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(19),__webpack_require__(14),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(34),__webpack_require__(16),__webpack_require__(13),__webpack_require__(53),__webpack_require__(20),__webpack_require__(15),__webpack_require__(9)),Bounds=__webpack_require__(24),mobx_module=__webpack_require__(0),ScatterPlot=__webpack_require__(137),SlopeChart=__webpack_require__(235),TimeScatter=__webpack_require__(225),LineChart=__webpack_require__(134),StackedAreaChart=__webpack_require__(135),DiscreteBarChart=__webpack_require__(120),StackedBarChart=__webpack_require__(224),ChartTypeMap={SlopeChart:SlopeChart.a,LineChart:LineChart.a,StackedAreaChart:StackedAreaChart.a,StackedBarChart:StackedBarChart.a,DiscreteBarChart:DiscreteBarChart.a,ScatterPlot:ScatterPlot.a,TimeScatter:TimeScatter.a};function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var FacetChart_FacetChart=Object(index_module.a)((_applyDecoratedDescriptor((_class2=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(FacetChart,_React$Component);var _super=_createSuper(FacetChart);function FacetChart(){return _classCallCheck(this,FacetChart),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(FacetChart,[{key:"render",value:function render(){var _this$props=this.props,width=_this$props.width,height=_this$props.height;return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("svg",{width:width,height:height},this.smallCharts)}},{key:"smallCharts",get:function get(){var _this$props2=this.props,grapher=_this$props2.grapher,chartTypeName=_this$props2.chartTypeName,charts=this.bounds.split(this.props.number||1,this.props.padding),ChartType=ChartTypeMap[chartTypeName];return charts.map((function(bounds,index){return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(ChartType,{key:index,bounds:bounds,grapher:grapher})}))}},{key:"bounds",get:function get(){var _this$props3=this.props,width=_this$props3.width,height=_this$props3.height;return new Bounds.a(0,0,width,height)}}]),FacetChart}(delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.Component)).prototype,"smallCharts",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"smallCharts"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"bounds",[mobx_module.f],Object.getOwnPropertyDescriptor(_class2.prototype,"bounds"),_class2.prototype),_class=_class2))||_class;try{FacetChart_FacetChart.displayName="FacetChart",FacetChart_FacetChart.__docgenInfo={description:"",displayName:"FacetChart",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},number:{defaultValue:null,description:"",name:"number",required:!0,type:{name:"number"}},padding:{defaultValue:null,description:"",name:"padding",required:!0,type:{name:"number"}},chartTypeName:{defaultValue:null,description:"",name:"chartTypeName",required:!0,type:{name:"enum",value:[{value:'"ScatterPlot"'},{value:'"LineChart"'},{value:'"DiscreteBarChart"'},{value:'"StackedAreaChart"'},{value:'"SlopeChart"'},{value:'"StackedBarChart"'},{value:'"TimeScatter"'}]}},grapher:{defaultValue:null,description:"",name:"grapher",required:!0,type:{name:"Grapher"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/facetChart/FacetChart.tsx#FacetChart"]={docgenInfo:FacetChart_FacetChart.__docgenInfo,name:"FacetChart",path:"grapher/facetChart/FacetChart.tsx#FacetChart"})}catch(__react_docgen_typescript_loader_error){}var samples=__webpack_require__(61),FacetChart_stories_Default=(__webpack_exports__.default={title:"FacetChart",component:FacetChart_FacetChart,argTypes:{chartTypeName:{control:"select",defaultValue:"LineChart"},number:{control:"range",defaultValue:4},padding:{control:"range",defaultValue:1},width:{control:{type:"range",min:50,max:2e3},defaultValue:640},height:{control:{type:"range",min:50,max:2e3},defaultValue:480},chart:{control:null}}},function Default(args){var chartType=args.chartTypeName,grapher=chartType.includes("Scatter")?Object(samples.b)():Object(samples.a)();return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(FacetChart_FacetChart,{number:args.number,chartTypeName:chartType,grapher:grapher,width:args.width,height:args.height,padding:args.padding})});FacetChart_stories_Default.displayName="Default",FacetChart_stories_Default.parameters=Object.assign({storySource:{source:'(args: any) => {\n    const chartType: ChartTypeName = args.chartTypeName\n    const grapher = chartType.includes("Scatter")\n        ? basicScatterGrapher()\n        : basicGdpGrapher()\n\n    return (\n        <FacetChart\n            number={args.number}\n            chartTypeName={chartType}\n            grapher={grapher}\n            width={args.width}\n            height={args.height}\n            padding={args.padding}\n        />\n    )\n}'}},FacetChart_stories_Default.parameters);try{FacetChart_stories_Default.displayName="Default",FacetChart_stories_Default.__docgenInfo={description:"",displayName:"Default",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["grapher/facetChart/FacetChart.stories.tsx#Default"]={docgenInfo:FacetChart_stories_Default.__docgenInfo,name:"Default",path:"grapher/facetChart/FacetChart.stories.tsx#Default"})}catch(__react_docgen_typescript_loader_error){}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"CollapsibleListComponent",(function(){return CollapsibleList_stories_CollapsibleListComponent})),__webpack_require__.d(__webpack_exports__,"MoreButtonComponent",(function(){return CollapsibleList_stories_MoreButtonComponent}));__webpack_require__(11);var _dec,_class,_class2,_descriptor,_temp,delegated_reactfrom_dll_reference_storybook_docs_dll=__webpack_require__(1),delegated_reactfrom_dll_reference_storybook_docs_dll_default=__webpack_require__.n(delegated_reactfrom_dll_reference_storybook_docs_dll),CollapsibleList=__webpack_require__(161),index_module=(__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(19),__webpack_require__(14),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(28),__webpack_require__(29),__webpack_require__(7),__webpack_require__(8),__webpack_require__(27),__webpack_require__(16),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15),__webpack_require__(9)),mobx_module=__webpack_require__(0),Util=__webpack_require__(2);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var CollapsibleList_sampleInput_SampleCheckBox=(_dec=mobx_module.d.bound,Object(index_module.a)((_temp=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(SampleCheckBox,_React$Component);var _super=_createSuper(SampleCheckBox);function SampleCheckBox(){var _this;_classCallCheck(this,SampleCheckBox);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _initializerDefineProperty(_this=_super.call.apply(_super,[this].concat(args)),"checked",_descriptor,_assertThisInitialized(_this)),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(SampleCheckBox,[{key:"onToggle",value:function onToggle(){this.checked=!this.checked}},{key:"render",value:function render(){return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("label",{className:"clickable"},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("input",{type:"checkbox",checked:this.checked,onChange:this.onToggle})," checkbox ".concat(this.props.id))}}]),SampleCheckBox}(delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.Component),_descriptor=_applyDecoratedDescriptor((_class2=_temp).prototype,"checked",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_applyDecoratedDescriptor(_class2.prototype,"onToggle",[_dec],Object.getOwnPropertyDescriptor(_class2.prototype,"onToggle"),_class2.prototype),_class=_class2))||_class),collapsibleListSampleItems=Object(Util.vb)(0,12).map((function(i){return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(CollapsibleList_sampleInput_SampleCheckBox,{key:i,id:i})})),CollapsibleList_stories_CollapsibleListComponent=(__webpack_exports__.default={title:"CollapsibleList",component:CollapsibleList.a},function CollapsibleListComponent(){return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(CollapsibleList.a,null,collapsibleListSampleItems)});CollapsibleList_stories_CollapsibleListComponent.displayName="CollapsibleListComponent";var CollapsibleList_stories_MoreButtonComponent=function MoreButtonComponent(){var options=[delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{key:"option1"},"option1"),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{key:"option2"},"option2"),delegated_reactfrom_dll_reference_storybook_docs_dll.createElement("div",{key:"option3"},"option3")];return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(CollapsibleList.b,{options:options})};CollapsibleList_stories_MoreButtonComponent.displayName="MoreButtonComponent",CollapsibleList_stories_CollapsibleListComponent.parameters=Object.assign({storySource:{source:"() => {\n    return <CollapsibleList>{collapsibleListSampleItems}</CollapsibleList>\n}"}},CollapsibleList_stories_CollapsibleListComponent.parameters),CollapsibleList_stories_MoreButtonComponent.parameters=Object.assign({storySource:{source:'() => {\n    const options = [\n        <div key="option1">option1</div>,\n        <div key="option2">option2</div>,\n        <div key="option3">option3</div>,\n    ]\n\n    return <MoreButton options={options} />\n}'}},CollapsibleList_stories_MoreButtonComponent.parameters)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Feedback_stories_Default}));__webpack_require__(11);var _dec,_class,_descriptor,_descriptor2,_descriptor3,_dec2,_dec3,_dec4,_dec5,_dec6,_class3,_class4,_descriptor4,_descriptor5,_descriptor6,_temp2,_dec7,_dec8,_dec9,_class6,_class7,_descriptor7,_temp3,delegated_reactfrom_dll_reference_storybook_docs_dll=__webpack_require__(1),delegated_reactfrom_dll_reference_storybook_docs_dll_default=__webpack_require__.n(delegated_reactfrom_dll_reference_storybook_docs_dll),index_module=(__webpack_require__(84),__webpack_require__(85),__webpack_require__(5),__webpack_require__(10),__webpack_require__(18),__webpack_require__(22),__webpack_require__(19),__webpack_require__(14),__webpack_require__(25),__webpack_require__(26),__webpack_require__(12),__webpack_require__(23),__webpack_require__(28),__webpack_require__(7),__webpack_require__(8),__webpack_require__(96),__webpack_require__(27),__webpack_require__(16),__webpack_require__(13),__webpack_require__(20),__webpack_require__(15),__webpack_require__(94),__webpack_require__(54),__webpack_require__(9)),index_es=__webpack_require__(36),faCommentAlt=__webpack_require__(608),faTimes=__webpack_require__(122),mobx_module=__webpack_require__(0),classnames=__webpack_require__(44),classnames_default=__webpack_require__.n(classnames),faPaperPlane=__webpack_require__(607);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function sendFeedback(feedback){return new Promise((function(resolve,reject){var json=Object(mobx_module.r)(feedback),req=new XMLHttpRequest;json.message=feedback.message+"\n\n-----\nCurrent URL: ".concat(window.location.href,"\nUser Agent: ").concat(navigator.userAgent,"\nViewport: ").concat(window.innerWidth,"x").concat(window.innerHeight),req.addEventListener("readystatechange",(function(){4===req.readyState&&(200!==req.status?reject("".concat(req.status," ").concat(req.statusText)):resolve())})),req.open("POST","https://owid-feedback.netlify.app/.netlify/functions/hello"),req.setRequestHeader("Content-Type","application/json;charset=UTF-8"),req.send(JSON.stringify(json))}))}var Feedback=(_dec=mobx_module.d.bound,_descriptor=_applyDecoratedDescriptor((_class=function(){function Feedback(){_classCallCheck(this,Feedback),_initializerDefineProperty(this,"name",_descriptor,this),_initializerDefineProperty(this,"email",_descriptor2,this),_initializerDefineProperty(this,"message",_descriptor3,this)}return _createClass(Feedback,[{key:"clear",value:function clear(){this.name="",this.email="",this.message=""}}]),Feedback}()).prototype,"name",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return""}}),_descriptor2=_applyDecoratedDescriptor(_class.prototype,"email",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return""}}),_descriptor3=_applyDecoratedDescriptor(_class.prototype,"message",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return""}}),_applyDecoratedDescriptor(_class.prototype,"clear",[_dec],Object.getOwnPropertyDescriptor(_class.prototype,"clear"),_class.prototype),_class),Feedback_FeedbackForm=(_dec2=mobx_module.d.bound,_dec3=mobx_module.d.bound,_dec4=mobx_module.d.bound,_dec5=mobx_module.d.bound,_dec6=mobx_module.d.bound,Object(index_module.a)((_temp2=function(_React$Component){_inherits(FeedbackForm,_React$Component);var _submit,_super=_createSuper(FeedbackForm);function FeedbackForm(){var _this;_classCallCheck(this,FeedbackForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).feedback=new Feedback,_initializerDefineProperty(_this,"loading",_descriptor4,_assertThisInitialized(_this)),_initializerDefineProperty(_this,"done",_descriptor5,_assertThisInitialized(_this)),_initializerDefineProperty(_this,"error",_descriptor6,_assertThisInitialized(_this)),_this}return _createClass(FeedbackForm,[{key:"submit",value:(_submit=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,sendFeedback(this.feedback);case 3:this.feedback.clear(),this.done=!0,_context.next=10;break;case 7:_context.prev=7,_context.t0=_context.catch(0),this.error=_context.t0;case 10:return _context.prev=10,this.loading=!1,_context.finish(10);case 13:case"end":return _context.stop()}}),_callee,this,[[0,7,10,13]])}))),function submit(){return _submit.apply(this,arguments)})},{key:"onSubmit",value:function onSubmit(e){e.preventDefault(),this.done=!1,this.error=void 0,this.loading=!0,this.submit()}},{key:"onName",value:function onName(e){this.feedback.name=e.currentTarget.value}},{key:"onEmail",value:function onEmail(e){this.feedback.email=e.currentTarget.value}},{key:"onMessage",value:function onMessage(e){this.feedback.message=e.currentTarget.value}},{key:"onClose",value:function onClose(){this.props.onClose&&this.props.onClose(),this.done=!1}},{key:"renderBody",value:function renderBody(){var loading=this.loading;return this.done?delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"doneMessage"},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"icon"},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(index_es.a,{icon:faPaperPlane.faPaperPlane})),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"message"},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("h3",null,"Thank you for your feedback"),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("p",null,"We read all feedback, but due to a high volume of messages we are not able to reply to all.")),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"actions"},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("button",{onClick:this.onClose},"Close"))):delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.Fragment,null,delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"header"},"Leave us feedback"),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"notice"},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("p",null,"We read and consider all feedback, but due to a high volume of messages we are not able to reply to all.")),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"formBody"},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"formSection"},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("label",{htmlFor:"feedback.name"},"Your name"),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("input",{id:"feedback.name",onChange:this.onName,autoFocus:!0,disabled:loading})),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"formSection"},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("label",{htmlFor:"feedback.email"},"Email address"),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("input",{id:"feedback.email",onChange:this.onEmail,type:"email",required:!0,disabled:loading})),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"formSection formSectionExpand"},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("label",{htmlFor:"feedback.message"},"Message"),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("textarea",{id:"feedback.message",onChange:this.onMessage,rows:5,required:!0,disabled:loading})),this.error?delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{style:{color:"red"}},this.error):void 0,this.done?delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{style:{color:"green"}},"Thanks for your feedback!"):void 0),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"footer"},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("button",{type:"submit",disabled:loading},"Send message")))}},{key:"render",value:function render(){return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("form",{className:classnames_default()("FeedbackForm",{loading:this.loading}),onSubmit:this.onSubmit},this.renderBody())}}]),FeedbackForm}(delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.Component),_descriptor4=_applyDecoratedDescriptor((_class4=_temp2).prototype,"loading",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor5=_applyDecoratedDescriptor(_class4.prototype,"done",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor6=_applyDecoratedDescriptor(_class4.prototype,"error",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_applyDecoratedDescriptor(_class4.prototype,"onSubmit",[_dec2],Object.getOwnPropertyDescriptor(_class4.prototype,"onSubmit"),_class4.prototype),_applyDecoratedDescriptor(_class4.prototype,"onName",[_dec3],Object.getOwnPropertyDescriptor(_class4.prototype,"onName"),_class4.prototype),_applyDecoratedDescriptor(_class4.prototype,"onEmail",[_dec4],Object.getOwnPropertyDescriptor(_class4.prototype,"onEmail"),_class4.prototype),_applyDecoratedDescriptor(_class4.prototype,"onMessage",[_dec5],Object.getOwnPropertyDescriptor(_class4.prototype,"onMessage"),_class4.prototype),_applyDecoratedDescriptor(_class4.prototype,"onClose",[_dec6],Object.getOwnPropertyDescriptor(_class4.prototype,"onClose"),_class4.prototype),_class3=_class4))||_class3),Feedback_FeedbackPrompt=(_dec7=mobx_module.d.bound,_dec8=mobx_module.d.bound,_dec9=mobx_module.d.bound,Object(index_module.a)((_temp3=function(_React$Component2){_inherits(FeedbackPrompt,_React$Component2);var _super2=_createSuper(FeedbackPrompt);function FeedbackPrompt(){var _this2;_classCallCheck(this,FeedbackPrompt);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return _initializerDefineProperty(_this2=_super2.call.apply(_super2,[this].concat(args)),"isOpen",_descriptor7,_assertThisInitialized(_this2)),_this2}return _createClass(FeedbackPrompt,[{key:"toggleOpen",value:function toggleOpen(){this.isOpen=!this.isOpen}},{key:"onClose",value:function onClose(){this.isOpen=!1}},{key:"onClickOutside",value:function onClickOutside(){this.onClose()}},{key:"render",value:function render(){return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"feedbackPromptContainer".concat(this.isOpen?" active":"")},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{style:{display:this.isOpen?"block":"none"}},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"overlay",onClick:this.onClickOutside}),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"box"},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(Feedback_FeedbackForm,{onClose:this.onClose}))),this.isOpen?delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("button",{className:"prompt",onClick:this.toggleOpen},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(index_es.a,{icon:faTimes.faTimes})," Close"):delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("button",{className:"prompt","data-track-note":"page-open-feedback",onClick:this.toggleOpen},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(index_es.a,{icon:faCommentAlt.faCommentAlt})," Feedback"))}}]),FeedbackPrompt}(delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.Component),_descriptor7=_applyDecoratedDescriptor((_class7=_temp3).prototype,"isOpen",[mobx_module.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_applyDecoratedDescriptor(_class7.prototype,"toggleOpen",[_dec7],Object.getOwnPropertyDescriptor(_class7.prototype,"toggleOpen"),_class7.prototype),_applyDecoratedDescriptor(_class7.prototype,"onClose",[_dec8],Object.getOwnPropertyDescriptor(_class7.prototype,"onClose"),_class7.prototype),_applyDecoratedDescriptor(_class7.prototype,"onClickOutside",[_dec9],Object.getOwnPropertyDescriptor(_class7.prototype,"onClickOutside"),_class7.prototype),_class6=_class7))||_class6);try{Feedback_FeedbackForm.displayName="FeedbackForm",Feedback_FeedbackForm.__docgenInfo={description:"",displayName:"FeedbackForm",props:{onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["site/client/Feedback.tsx#FeedbackForm"]={docgenInfo:Feedback_FeedbackForm.__docgenInfo,name:"FeedbackForm",path:"site/client/Feedback.tsx#FeedbackForm"})}catch(__react_docgen_typescript_loader_error){}try{Feedback_FeedbackPrompt.displayName="FeedbackPrompt",Feedback_FeedbackPrompt.__docgenInfo={description:"",displayName:"FeedbackPrompt",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["site/client/Feedback.tsx#FeedbackPrompt"]={docgenInfo:Feedback_FeedbackPrompt.__docgenInfo,name:"FeedbackPrompt",path:"site/client/Feedback.tsx#FeedbackPrompt"})}catch(__react_docgen_typescript_loader_error){}__webpack_exports__.default={title:"FeedbackForm",component:Feedback_FeedbackForm};var Feedback_stories_Default=function Default(){return delegated_reactfrom_dll_reference_storybook_docs_dll.createElement(Feedback_FeedbackForm,null)};Feedback_stories_Default.displayName="Default",Feedback_stories_Default.parameters=Object.assign({storySource:{source:"() => <FeedbackForm />"}},Feedback_stories_Default.parameters)}],[[614,1,2]]]);
//# sourceMappingURL=main.df3507c7c5727734b2fe.bundle.js.map